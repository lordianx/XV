! function(f, C) {
    function F(e, t) {
        return t.toUpperCase()
    }

    function O() {
        g.addEventListener ? (g.removeEventListener("DOMContentLoaded", t, !1), f.removeEventListener("load", t, !1)) : (g.detachEvent("onreadystatechange", t), f.detachEvent("onload", t))
    }
    var q, m = typeof C,
        g = f.document,
        N = f.location,
        R = f.jQuery,
        B = f.$,
        U = {},
        u = [],
        e = "1.9.1",
        V = u.concat,
        H = u.push,
        c = u.slice,
        z = u.indexOf,
        W = U.toString,
        Y = U.hasOwnProperty,
        G = e.trim,
        k = function(e, t) {
            return new k.fn.init(e, t, oe)
        },
        X = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
        x = /\S+/g,
        J = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
        K = /^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,
        Q = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
        Z = /^[\],:{}\s]*$/,
        ee = /(?:^|:|,)(?:\s*\[)+/g,
        te = /\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,
        ie = /"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,
        se = /^-ms-/,
        ne = /-([\da-z])/gi,
        t = function(e) {
            !g.addEventListener && "load" !== e.type && "complete" !== g.readyState || (O(), k.ready())
        };

    function ae(e) {
        var t = e.length,
            i = k.type(e);
        return !k.isWindow(e) && (!(1 !== e.nodeType || !t) || "array" === i || "function" !== i && (0 === t || "number" == typeof t && 0 < t && t - 1 in e))
    }
    k.fn = k.prototype = {
        jquery: e,
        constructor: k,
        init: function(e, t, i) {
            var s, n;
            if (e) {
                if ("string" != typeof e) return e.nodeType ? (this.context = this[0] = e, this.length = 1, this) : k.isFunction(e) ? i.ready(e) : (e.selector !== C && (this.selector = e.selector, this.context = e.context), k.makeArray(e, this));
                if (!(s = "<" === e.charAt(0) && ">" === e.charAt(e.length - 1) && 3 <= e.length ? [null, e, null] : K.exec(e)) || !s[1] && t) return (!t || t.jquery ? t || i : this.constructor(t)).find(e);
                if (s[1]) {
                    if (t = t instanceof k ? t[0] : t, k.merge(this, k.parseHTML(s[1], t && t.nodeType ? t.ownerDocument || t : g, !0)), Q.test(s[1]) && k.isPlainObject(t))
                        for (s in t) k.isFunction(this[s]) ? this[s](t[s]) : this.attr(s, t[s])
                } else {
                    if ((n = g.getElementById(s[2])) && n.parentNode) {
                        if (n.id !== s[2]) return i.find(e);
                        this.length = 1, this[0] = n
                    }
                    this.context = g, this.selector = e
                }
            }
            return this
        },
        selector: "",
        length: 0,
        size: function() {
            return this.length
        },
        toArray: function() {
            return c.call(this)
        },
        get: function(e) {
            return null == e ? this.toArray() : e < 0 ? this[this.length + e] : this[e]
        },
        pushStack: function(e) {
            e = k.merge(this.constructor(), e);
            return e.prevObject = this, e.context = this.context, e
        },
        each: function(e, t) {
            return k.each(this, e, t)
        },
        ready: function(e) {
            return k.ready.promise().done(e), this
        },
        slice: function() {
            return this.pushStack(c.apply(this, arguments))
        },
        first: function() {
            return this.eq(0)
        },
        last: function() {
            return this.eq(-1)
        },
        eq: function(e) {
            var t = this.length,
                e = +e + (e < 0 ? t : 0);
            return this.pushStack(0 <= e && e < t ? [this[e]] : [])
        },
        map: function(i) {
            return this.pushStack(k.map(this, function(e, t) {
                return i.call(e, t, e)
            }))
        },
        end: function() {
            return this.prevObject || this.constructor(null)
        },
        push: H,
        sort: [].sort,
        splice: [].splice
    }, k.fn.init.prototype = k.fn, k.extend = k.fn.extend = function() {
        var e, t, i, s, n, a = arguments[0] || {},
            o = 1,
            r = arguments.length,
            l = !1;
        for ("boolean" == typeof a && (l = a, a = arguments[1] || {}, o = 2), "object" == typeof a || k.isFunction(a) || (a = {}), r === o && (a = this, --o); o < r; o++)
            if (null != (s = arguments[o]))
                for (i in s) n = a[i], t = s[i], a !== t && (l && t && (k.isPlainObject(t) || (e = k.isArray(t))) ? (n = e ? (e = !1, n && k.isArray(n) ? n : []) : n && k.isPlainObject(n) ? n : {}, a[i] = k.extend(l, n, t)) : t !== C && (a[i] = t));
        return a
    }, k.extend({
        noConflict: function(e) {
            return f.$ === k && (f.$ = B), e && f.jQuery === k && (f.jQuery = R), k
        },
        isReady: !1,
        readyWait: 1,
        holdReady: function(e) {
            e ? k.readyWait++ : k.ready(!0)
        },
        ready: function(e) {
            if (!0 === e ? !--k.readyWait : !k.isReady) {
                if (!g.body) return setTimeout(k.ready);
                (k.isReady = !0) !== e && 0 < --k.readyWait || (q.resolveWith(g, [k]), k.fn.trigger && k(g).trigger("ready").off("ready"))
            }
        },
        isFunction: function(e) {
            return "function" === k.type(e)
        },
        isArray: Array.isArray || function(e) {
            return "array" === k.type(e)
        },
        isWindow: function(e) {
            return null != e && e == e.window
        },
        isNumeric: function(e) {
            return !isNaN(parseFloat(e)) && isFinite(e)
        },
        type: function(e) {
            return null == e ? e + "" : "object" == typeof e || "function" == typeof e ? U[W.call(e)] || "object" : typeof e
        },
        isPlainObject: function(e) {
            if (!e || "object" !== k.type(e) || e.nodeType || k.isWindow(e)) return !1;
            try {
                if (e.constructor && !Y.call(e, "constructor") && !Y.call(e.constructor.prototype, "isPrototypeOf")) return !1
            } catch (e) {
                return !1
            }
            for (var t in e);
            return t === C || Y.call(e, t)
        },
        isEmptyObject: function(e) {
            for (var t in e) return !1;
            return !0
        },
        error: function(e) {
            throw Error(e)
        },
        parseHTML: function(e, t, i) {
            if (!e || "string" != typeof e) return null;
            "boolean" == typeof t && (i = t, t = !1), t = t || g;
            var s = Q.exec(e),
                i = !i && [];
            return s ? [t.createElement(s[1])] : (s = k.buildFragment([e], t, i), i && k(i).remove(), k.merge([], s.childNodes))
        },
        parseJSON: function(e) {
            return f.JSON && f.JSON.parse ? f.JSON.parse(e) : null === e ? e : "string" == typeof e && (e = k.trim(e)) && Z.test(e.replace(te, "@").replace(ie, "]").replace(ee, "")) ? Function("return " + e)() : (k.error("Invalid JSON: " + e), C)
        },
        parseXML: function(e) {
            var t;
            if (!e || "string" != typeof e) return null;
            try {
                f.DOMParser ? t = (new DOMParser).parseFromString(e, "text/xml") : ((t = new ActiveXObject("Microsoft.XMLDOM")).async = "false", t.loadXML(e))
            } catch (e) {
                t = C
            }
            return t && t.documentElement && !t.getElementsByTagName("parsererror").length || k.error("Invalid XML: " + e), t
        },
        noop: function() {},
        globalEval: function(e) {
            e && k.trim(e) && (f.execScript || function(e) {
                f.eval.call(f, e)
            })(e)
        },
        camelCase: function(e) {
            return e.replace(se, "ms-").replace(ne, F)
        },
        nodeName: function(e, t) {
            return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase()
        },
        each: function(e, t, i) {
            var s, n = 0,
                a = e.length,
                o = ae(e);
            if (i) {
                if (o)
                    for (; n < a && !1 !== (s = t.apply(e[n], i)); n++);
                else
                    for (n in e)
                        if (s = t.apply(e[n], i), !1 === s) break
            } else if (o)
                for (; n < a && !1 !== (s = t.call(e[n], n, e[n])); n++);
            else
                for (n in e)
                    if (s = t.call(e[n], n, e[n]), !1 === s) break;
            return e
        },
        trim: G && !G.call("\ufeffÃ‚ ") ? function(e) {
            return null == e ? "" : G.call(e)
        } : function(e) {
            return null == e ? "" : (e + "").replace(J, "")
        },
        makeArray: function(e, t) {
            t = t || [];
            return null != e && (ae(Object(e)) ? k.merge(t, "string" == typeof e ? [e] : e) : H.call(t, e)), t
        },
        inArray: function(e, t, i) {
            var s;
            if (t) {
                if (z) return z.call(t, e, i);
                for (s = t.length, i = i ? i < 0 ? Math.max(0, s + i) : i : 0; i < s; i++)
                    if (i in t && t[i] === e) return i
            }
            return -1
        },
        merge: function(e, t) {
            var i = t.length,
                s = e.length,
                n = 0;
            if ("number" == typeof i)
                for (; n < i; n++) e[s++] = t[n];
            else
                for (; t[n] !== C;) e[s++] = t[n++];
            return e.length = s, e
        },
        grep: function(e, t, i) {
            var s = [],
                n = 0,
                a = e.length;
            for (i = !!i; n < a; n++) i !== !!t(e[n], n) && s.push(e[n]);
            return s
        },
        map: function(e, t, i) {
            var s, n = 0,
                a = e.length,
                o = [];
            if (ae(e))
                for (; n < a; n++) null != (s = t(e[n], n, i)) && (o[o.length] = s);
            else
                for (n in e) s = t(e[n], n, i), null != s && (o[o.length] = s);
            return V.apply([], o)
        },
        guid: 1,
        proxy: function(e, t) {
            var i, s;
            return "string" == typeof t && (s = e[t], t = e, e = s), k.isFunction(e) ? (i = c.call(arguments, 2), (s = function() {
                return e.apply(t || this, i.concat(c.call(arguments)))
            }).guid = e.guid = e.guid || k.guid++, s) : C
        },
        access: function(e, t, i, s, n, a, o) {
            var r = 0,
                l = e.length,
                d = null == i;
            if ("object" === k.type(i))
                for (r in n = !0, i) k.access(e, t, r, i[r], !0, a, o);
            else if (s !== C && (n = !0, k.isFunction(s) || (o = !0), t = d ? o ? (t.call(e, s), null) : (d = t, function(e, t, i) {
                    return d.call(k(e), i)
                }) : t))
                for (; r < l; r++) t(e[r], i, o ? s : s.call(e[r], r, t(e[r], i)));
            return n ? e : d ? t.call(e) : l ? t(e[0], i) : a
        },
        now: function() {
            return (new Date).getTime()
        }
    }), k.ready.promise = function(e) {
        if (!q)
            if (q = k.Deferred(), "complete" === g.readyState) setTimeout(k.ready);
            else if (g.addEventListener) g.addEventListener("DOMContentLoaded", t, !1), f.addEventListener("load", t, !1);
        else {
            g.attachEvent("onreadystatechange", t), f.attachEvent("onload", t);
            var i = !1;
            try {
                i = null == f.frameElement && g.documentElement
            } catch (e) {}
            i && i.doScroll && function t() {
                if (!k.isReady) {
                    try {
                        i.doScroll("left")
                    } catch (e) {
                        return setTimeout(t, 50)
                    }
                    O(), k.ready()
                }
            }()
        }
        return q.promise(e)
    }, k.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(e, t) {
        U["[object " + t + "]"] = t.toLowerCase()
    });
    var oe = k(g),
        re = {};
    k.Callbacks = function(n) {
        var e, i;
        n = "string" == typeof n ? re[n] || (i = re[e = n] = {}, k.each(e.match(x) || [], function(e, t) {
            i[t] = !0
        }), i) : k.extend({}, n);

        function s(e) {
            for (t = n.memory && e, o = !0, l = d || 0, d = 0, r = c.length, a = !0; c && l < r; l++)
                if (!1 === c[l].apply(e[0], e[1]) && n.stopOnFalse) {
                    t = !1;
                    break
                } a = !1, c && (u ? u.length && s(u.shift()) : t ? c = [] : h.disable())
        }
        var a, t, o, r, l, d, c = [],
            u = !n.once && [],
            h = {
                add: function() {
                    var e;
                    return c && (e = c.length, function s(e) {
                        k.each(e, function(e, t) {
                            var i = k.type(t);
                            "function" === i ? n.unique && h.has(t) || c.push(t) : t && t.length && "string" !== i && s(t)
                        })
                    }(arguments), a ? r = c.length : t && (d = e, s(t))), this
                },
                remove: function() {
                    return c && k.each(arguments, function(e, t) {
                        for (var i; - 1 < (i = k.inArray(t, c, i));) c.splice(i, 1), a && (i <= r && r--, i <= l) && l--
                    }), this
                },
                has: function(e) {
                    return e ? -1 < k.inArray(e, c) : !(!c || !c.length)
                },
                empty: function() {
                    return c = [], this
                },
                disable: function() {
                    return c = u = t = C, this
                },
                disabled: function() {
                    return !c
                },
                lock: function() {
                    return u = C, t || h.disable(), this
                },
                locked: function() {
                    return !u
                },
                fireWith: function(e, t) {
                    return t = [e, (t = t || []).slice ? t.slice() : t], !c || o && !u || (a ? u.push(t) : s(t)), this
                },
                fire: function() {
                    return h.fireWith(this, arguments), this
                },
                fired: function() {
                    return !!o
                }
            };
        return h
    }, k.extend({
        Deferred: function(e) {
            var o = [
                    ["resolve", "done", k.Callbacks("once memory"), "resolved"],
                    ["reject", "fail", k.Callbacks("once memory"), "rejected"],
                    ["notify", "progress", k.Callbacks("memory")]
                ],
                n = "pending",
                r = {
                    state: function() {
                        return n
                    },
                    always: function() {
                        return l.done(arguments).fail(arguments), this
                    },
                    then: function() {
                        var a = arguments;
                        return k.Deferred(function(n) {
                            k.each(o, function(e, t) {
                                var i = t[0],
                                    s = k.isFunction(a[e]) && a[e];
                                l[t[1]](function() {
                                    var e = s && s.apply(this, arguments);
                                    e && k.isFunction(e.promise) ? e.promise().done(n.resolve).fail(n.reject).progress(n.notify) : n[i + "With"](this === r ? n.promise() : this, s ? [e] : arguments)
                                })
                            }), a = null
                        }).promise()
                    },
                    promise: function(e) {
                        return null != e ? k.extend(e, r) : r
                    }
                },
                l = {};
            return r.pipe = r.then, k.each(o, function(e, t) {
                var i = t[2],
                    s = t[3];
                r[t[1]] = i.add, s && i.add(function() {
                    n = s
                }, o[1 ^ e][2].disable, o[2][2].lock), l[t[0]] = function() {
                    return l[t[0] + "With"](this === l ? r : this, arguments), this
                }, l[t[0] + "With"] = i.fireWith
            }), r.promise(l), e && e.call(l, l), l
        },
        when: function(e) {
            function t(t, i, s) {
                return function(e) {
                    i[t] = this, s[t] = 1 < arguments.length ? c.call(arguments) : e, s === n ? d.notifyWith(i, s) : --l || d.resolveWith(i, s)
                }
            }
            var n, i, s, a = 0,
                o = c.call(arguments),
                r = o.length,
                l = 1 !== r || e && k.isFunction(e.promise) ? r : 0,
                d = 1 === l ? e : k.Deferred();
            if (1 < r)
                for (n = Array(r), i = Array(r), s = Array(r); a < r; a++) o[a] && k.isFunction(o[a].promise) ? o[a].promise().done(t(a, s, o)).fail(d.reject).progress(t(a, i, n)) : --l;
            return l || d.resolveWith(s, o), d.promise()
        }
    }), k.support = function() {
        var n, e, t, i, s, a, o, r, l = g.createElement("div");
        if (l.setAttribute("className", "t"), l.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>", i = l.getElementsByTagName("*"), e = l.getElementsByTagName("a")[0], !i || !e || !i.length) return {};
        s = (i = g.createElement("select")).appendChild(g.createElement("option")), t = l.getElementsByTagName("input")[0], e.style.cssText = "top:1px;float:left;opacity:.5", n = {
            getSetAttribute: "t" !== l.className,
            leadingWhitespace: 3 === l.firstChild.nodeType,
            tbody: !l.getElementsByTagName("tbody").length,
            htmlSerialize: !!l.getElementsByTagName("link").length,
            style: /top/.test(e.getAttribute("style")),
            hrefNormalized: "/a" === e.getAttribute("href"),
            opacity: /^0.5/.test(e.style.opacity),
            cssFloat: !!e.style.cssFloat,
            checkOn: !!t.value,
            optSelected: s.selected,
            enctype: !!g.createElement("form").enctype,
            html5Clone: "<:nav></:nav>" !== g.createElement("nav").cloneNode(!0).outerHTML,
            boxModel: "CSS1Compat" === g.compatMode,
            deleteExpando: !0,
            noCloneEvent: !0,
            inlineBlockNeedsLayout: !1,
            shrinkWrapBlocks: !1,
            reliableMarginRight: !0,
            boxSizingReliable: !0,
            pixelPosition: !1
        }, t.checked = !0, n.noCloneChecked = t.cloneNode(!0).checked, i.disabled = !0, n.optDisabled = !s.disabled;
        try {
            delete l.test
        } catch (e) {
            n.deleteExpando = !1
        }
        for (r in (t = g.createElement("input")).setAttribute("value", ""), n.input = "" === t.getAttribute("value"), t.value = "t", t.setAttribute("type", "radio"), n.radioValue = "t" === t.value, t.setAttribute("checked", "t"), t.setAttribute("name", "t"), (s = g.createDocumentFragment()).appendChild(t), n.appendChecked = t.checked, n.checkClone = s.cloneNode(!0).cloneNode(!0).lastChild.checked, l.attachEvent && (l.attachEvent("onclick", function() {
                n.noCloneEvent = !1
            }), l.cloneNode(!0).click()), {
                submit: !0,
                change: !0,
                focusin: !0
            }) l.setAttribute(a = "on" + r, "t"), n[r + "Bubbles"] = a in f || !1 === l.attributes[a].expando;
        return l.style.backgroundClip = "content-box", l.cloneNode(!0).style.backgroundClip = "", n.clearCloneStyle = "content-box" === l.style.backgroundClip, k(function() {
            var e, t, i = "padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",
                s = g.getElementsByTagName("body")[0];
            s && ((e = g.createElement("div")).style.cssText = "border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px", s.appendChild(e).appendChild(l), l.innerHTML = "<table><tr><td></td><td>t</td></tr></table>", (t = l.getElementsByTagName("td"))[0].style.cssText = "padding:0;margin:0;border:0;display:none", o = 0 === t[0].offsetHeight, t[0].style.display = "", t[1].style.display = "none", n.reliableHiddenOffsets = o && 0 === t[0].offsetHeight, l.innerHTML = "", l.style.cssText = "box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;", n.boxSizing = 4 === l.offsetWidth, n.doesNotIncludeMarginInBodyOffset = 1 !== s.offsetTop, f.getComputedStyle && (n.pixelPosition = "1%" !== (f.getComputedStyle(l, null) || {}).top, n.boxSizingReliable = "4px" === (f.getComputedStyle(l, null) || {
                width: "4px"
            }).width, (t = l.appendChild(g.createElement("div"))).style.cssText = l.style.cssText = i, t.style.marginRight = t.style.width = "0", l.style.width = "1px", n.reliableMarginRight = !parseFloat((f.getComputedStyle(t, null) || {}).marginRight)), typeof l.style.zoom != m && (l.innerHTML = "", l.style.cssText = i + "width:1px;padding:1px;display:inline;zoom:1", n.inlineBlockNeedsLayout = 3 === l.offsetWidth, l.style.display = "block", l.innerHTML = "<div></div>", l.firstChild.style.width = "5px", n.shrinkWrapBlocks = 3 !== l.offsetWidth, n.inlineBlockNeedsLayout) && (s.style.zoom = 1), s.removeChild(e), l = null)
        }), i = s = e = t = null, n
    }();
    var le = /(?:\{[\s\S]*\}|\[[\s\S]*\])$/,
        de = /([A-Z])/g;

    function ce(e, t, i, s) {
        if (k.acceptData(e)) {
            var n, a = k.expando,
                o = "string" == typeof t,
                r = e.nodeType,
                l = r ? k.cache : e,
                d = r ? e[a] : e[a] && a;
            if (d && l[d] && (s || l[d].data) || !o || i !== C) return d || (r ? e[a] = d = u.pop() || k.guid++ : d = a), l[d] || (l[d] = {}, r) || (l[d].toJSON = k.noop), "object" != typeof t && "function" != typeof t || (s ? l[d] = k.extend(l[d], t) : l[d].data = k.extend(l[d].data, t)), e = l[d], s || (e.data || (e.data = {}), e = e.data), i !== C && (e[k.camelCase(t)] = i), o ? null == (n = e[t]) && (n = e[k.camelCase(t)]) : n = e, n
        }
    }

    function ue(e, t, i) {
        if (k.acceptData(e)) {
            var s, n, a, o = e.nodeType,
                r = o ? k.cache : e,
                l = o ? e[k.expando] : k.expando;
            if (r[l]) {
                if (t && (a = i ? r[l] : r[l].data)) {
                    for ((s = 0, n = (t = k.isArray(t) ? t.concat(k.map(t, k.camelCase)) : t in a || (t = k.camelCase(t)) in a ? [t] : t.split(" ")).length); s < n; s++) delete a[t[s]];
                    if (!(i ? pe : k.isEmptyObject)(a)) return
                }(i || (delete r[l].data, pe(r[l]))) && (o ? k.cleanData([e], !0) : k.support.deleteExpando || r != r.window ? delete r[l] : r[l] = null)
            }
        }
    }

    function he(e, t, i) {
        if (i === C && 1 === e.nodeType) {
            var s = "data-" + t.replace(de, "-$1").toLowerCase();
            if ("string" == typeof(i = e.getAttribute(s))) {
                try {
                    i = "true" === i || "false" !== i && ("null" === i ? null : +i + "" === i ? +i : le.test(i) ? k.parseJSON(i) : i)
                } catch (e) {}
                k.data(e, t, i)
            } else i = C
        }
        return i
    }

    function pe(e) {
        for (var t in e)
            if (("data" !== t || !k.isEmptyObject(e[t])) && "toJSON" !== t) return;
        return 1
    }
    k.extend({
        cache: {},
        expando: "jQuery" + (e + Math.random()).replace(/\D/g, ""),
        noData: {
            embed: !0,
            object: "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",
            applet: !0
        },
        hasData: function(e) {
            return !!(e = e.nodeType ? k.cache[e[k.expando]] : e[k.expando]) && !pe(e)
        },
        data: function(e, t, i) {
            return ce(e, t, i)
        },
        removeData: function(e, t) {
            return ue(e, t)
        },
        _data: function(e, t, i) {
            return ce(e, t, i, !0)
        },
        _removeData: function(e, t) {
            return ue(e, t, !0)
        },
        acceptData: function(e) {
            var t;
            return !(e.nodeType && 1 !== e.nodeType && 9 !== e.nodeType || (t = e.nodeName && k.noData[e.nodeName.toLowerCase()]) && (!0 === t || e.getAttribute("classid") !== t))
        }
    }), k.fn.extend({
        data: function(t, e) {
            var i, s, n = this[0],
                a = 0,
                o = null;
            if (t !== C) return "object" == typeof t ? this.each(function() {
                k.data(this, t)
            }) : k.access(this, function(e) {
                return e === C ? n ? he(n, t, k.data(n, t)) : null : (this.each(function() {
                    k.data(this, t, e)
                }), C)
            }, null, e, 1 < arguments.length, null, !0);
            if (this.length && (o = k.data(n), 1 === n.nodeType) && !k._data(n, "parsedAttrs")) {
                for (i = n.attributes; i.length > a; a++)(s = i[a].name).indexOf("data-") || (s = k.camelCase(s.slice(5)), he(n, s, o[s]));
                k._data(n, "parsedAttrs", !0)
            }
            return o
        },
        removeData: function(e) {
            return this.each(function() {
                k.removeData(this, e)
            })
        }
    }), k.extend({
        queue: function(e, t, i) {
            var s;
            return e ? (s = k._data(e, t = (t || "fx") + "queue"), i && (!s || k.isArray(i) ? s = k._data(e, t, k.makeArray(i)) : s.push(i)), s || []) : C
        },
        dequeue: function(e, t) {
            t = t || "fx";
            var i = k.queue(e, t),
                s = i.length,
                n = i.shift(),
                a = k._queueHooks(e, t);
            "inprogress" === n && (n = i.shift(), s--), (a.cur = n) && ("fx" === t && i.unshift("inprogress"), delete a.stop, n.call(e, function() {
                k.dequeue(e, t)
            }, a)), !s && a && a.empty.fire()
        },
        _queueHooks: function(e, t) {
            var i = t + "queueHooks";
            return k._data(e, i) || k._data(e, i, {
                empty: k.Callbacks("once memory").add(function() {
                    k._removeData(e, t + "queue"), k._removeData(e, i)
                })
            })
        }
    }), k.fn.extend({
        queue: function(t, i) {
            var e = 2;
            return "string" != typeof t && (i = t, t = "fx", e--), arguments.length < e ? k.queue(this[0], t) : i === C ? this : this.each(function() {
                var e = k.queue(this, t, i);
                k._queueHooks(this, t), "fx" === t && "inprogress" !== e[0] && k.dequeue(this, t)
            })
        },
        dequeue: function(e) {
            return this.each(function() {
                k.dequeue(this, e)
            })
        },
        delay: function(s, e) {
            return s = k.fx && k.fx.speeds[s] || s, this.queue(e = e || "fx", function(e, t) {
                var i = setTimeout(e, s);
                t.stop = function() {
                    clearTimeout(i)
                }
            })
        },
        clearQueue: function(e) {
            return this.queue(e || "fx", [])
        },
        promise: function(e, t) {
            function i() {
                --n || a.resolveWith(o, [o])
            }
            var s, n = 1,
                a = k.Deferred(),
                o = this,
                r = this.length;
            for ("string" != typeof e && (t = e, e = C), e = e || "fx"; r--;)(s = k._data(o[r], e + "queueHooks")) && s.empty && (n++, s.empty.add(i));
            return i(), a.promise(t)
        }
    });
    var fe, me, ge = /[\t\r\n]/g,
        ve = /\r/g,
        ye = /^(?:input|select|textarea|button|object)$/i,
        be = /^(?:a|area)$/i,
        we = /^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,
        _e = /^(?:checked|selected)$/i,
        o = k.support.getSetAttribute,
        Ce = k.support.input,
        ke = (k.fn.extend({
            attr: function(e, t) {
                return k.access(this, k.attr, e, t, 1 < arguments.length)
            },
            removeAttr: function(e) {
                return this.each(function() {
                    k.removeAttr(this, e)
                })
            },
            prop: function(e, t) {
                return k.access(this, k.prop, e, t, 1 < arguments.length)
            },
            removeProp: function(e) {
                return e = k.propFix[e] || e, this.each(function() {
                    try {
                        this[e] = C, delete this[e]
                    } catch (e) {}
                })
            },
            addClass: function(t) {
                var e, i, s, n, a, o = 0,
                    r = this.length,
                    l = "string" == typeof t && t;
                if (k.isFunction(t)) return this.each(function(e) {
                    k(this).addClass(t.call(this, e, this.className))
                });
                if (l)
                    for (e = (t || "").match(x) || []; o < r; o++)
                        if (s = 1 === (i = this[o]).nodeType && (i.className ? (" " + i.className + " ").replace(ge, " ") : " ")) {
                            for (a = 0; n = e[a++];) s.indexOf(" " + n + " ") < 0 && (s += n + " ");
                            i.className = k.trim(s)
                        } return this
            },
            removeClass: function(t) {
                var e, i, s, n, a, o = 0,
                    r = this.length,
                    l = 0 === arguments.length || "string" == typeof t && t;
                if (k.isFunction(t)) return this.each(function(e) {
                    k(this).removeClass(t.call(this, e, this.className))
                });
                if (l)
                    for (e = (t || "").match(x) || []; o < r; o++)
                        if (s = 1 === (i = this[o]).nodeType && (i.className ? (" " + i.className + " ").replace(ge, " ") : "")) {
                            for (a = 0; n = e[a++];)
                                for (; 0 <= s.indexOf(" " + n + " ");) s = s.replace(" " + n + " ", " ");
                            i.className = t ? k.trim(s) : ""
                        } return this
            },
            toggleClass: function(a, o) {
                var r = typeof a,
                    l = "boolean" == typeof o;
                return k.isFunction(a) ? this.each(function(e) {
                    k(this).toggleClass(a.call(this, e, this.className, o), o)
                }) : this.each(function() {
                    if ("string" == r)
                        for (var e, t = 0, i = k(this), s = o, n = a.match(x) || []; e = n[t++];) s = l ? s : !i.hasClass(e), i[s ? "addClass" : "removeClass"](e);
                    else r != m && "boolean" != r || (this.className && k._data(this, "__className__", this.className), this.className = !this.className && !1 !== a && k._data(this, "__className__") || "")
                })
            },
            hasClass: function(e) {
                for (var t = " " + e + " ", i = 0, s = this.length; i < s; i++)
                    if (1 === this[i].nodeType && 0 <= (" " + this[i].className + " ").replace(ge, " ").indexOf(t)) return !0;
                return !1
            },
            val: function(i) {
                var e, s, n, t = this[0];
                return arguments.length ? (n = k.isFunction(i), this.each(function(e) {
                    var t = k(this);
                    1 === this.nodeType && (null == (e = n ? i.call(this, e, t.val()) : i) ? e = "" : "number" == typeof e ? e += "" : k.isArray(e) && (e = k.map(e, function(e) {
                        return null == e ? "" : e + ""
                    })), (s = k.valHooks[this.type] || k.valHooks[this.nodeName.toLowerCase()]) && "set" in s && s.set(this, e, "value") !== C || (this.value = e))
                })) : t ? (s = k.valHooks[t.type] || k.valHooks[t.nodeName.toLowerCase()]) && "get" in s && (e = s.get(t, "value")) !== C ? e : "string" == typeof(e = t.value) ? e.replace(ve, "") : null == e ? "" : e : void 0
            }
        }), k.extend({
            valHooks: {
                option: {
                    get: function(e) {
                        var t = e.attributes.value;
                        return !t || t.specified ? e.value : e.text
                    }
                },
                select: {
                    get: function(e) {
                        for (var t, i = e.options, s = e.selectedIndex, n = "select-one" === e.type || s < 0, a = n ? null : [], o = n ? s + 1 : i.length, r = s < 0 ? o : n ? s : 0; r < o; r++)
                            if (!(!(t = i[r]).selected && r !== s || (k.support.optDisabled ? t.disabled : null !== t.getAttribute("disabled")) || t.parentNode.disabled && k.nodeName(t.parentNode, "optgroup"))) {
                                if (t = k(t).val(), n) return t;
                                a.push(t)
                            } return a
                    },
                    set: function(e, t) {
                        var i = k.makeArray(t);
                        return k(e).find("option").each(function() {
                            this.selected = 0 <= k.inArray(k(this).val(), i)
                        }), i.length || (e.selectedIndex = -1), i
                    }
                }
            },
            attr: function(e, t, i) {
                var s, n, a = e.nodeType;
                if (e && 3 !== a && 8 !== a && 2 !== a) return typeof e.getAttribute == m ? k.prop(e, t, i) : ((a = 1 !== a || !k.isXMLDoc(e)) && (t = t.toLowerCase(), s = k.attrHooks[t] || (we.test(t) ? me : fe)), i === C ? !(s && a && "get" in s && null !== (n = s.get(e, t))) && null == (n = typeof e.getAttribute != m ? e.getAttribute(t) : n) ? C : n : null !== i ? s && a && "set" in s && (n = s.set(e, i, t)) !== C ? n : (e.setAttribute(t, i + ""), i) : (k.removeAttr(e, t), C))
            },
            removeAttr: function(e, t) {
                var i, s, n = 0,
                    a = t && t.match(x);
                if (a && 1 === e.nodeType)
                    for (; i = a[n++];) s = k.propFix[i] || i, we.test(i) ? !o && _e.test(i) ? e[k.camelCase("default-" + i)] = e[s] = !1 : e[s] = !1 : k.attr(e, i, ""), e.removeAttribute(o ? i : s)
            },
            attrHooks: {
                type: {
                    set: function(e, t) {
                        var i;
                        if (!k.support.radioValue && "radio" === t && k.nodeName(e, "input")) return i = e.value, e.setAttribute("type", t), i && (e.value = i), t
                    }
                }
            },
            propFix: {
                tabindex: "tabIndex",
                readonly: "readOnly",
                for: "htmlFor",
                class: "className",
                maxlength: "maxLength",
                cellspacing: "cellSpacing",
                cellpadding: "cellPadding",
                rowspan: "rowSpan",
                colspan: "colSpan",
                usemap: "useMap",
                frameborder: "frameBorder",
                contenteditable: "contentEditable"
            },
            prop: function(e, t, i) {
                var s, n, a = e.nodeType;
                if (e && 3 !== a && 8 !== a && 2 !== a) return (1 !== a || !k.isXMLDoc(e)) && (t = k.propFix[t] || t, n = k.propHooks[t]), i !== C ? n && "set" in n && (s = n.set(e, i, t)) !== C ? s : e[t] = i : n && "get" in n && null !== (s = n.get(e, t)) ? s : e[t]
            },
            propHooks: {
                tabIndex: {
                    get: function(e) {
                        var t = e.getAttributeNode("tabindex");
                        return t && t.specified ? parseInt(t.value, 10) : ye.test(e.nodeName) || be.test(e.nodeName) && e.href ? 0 : C
                    }
                }
            }
        }), me = {
            get: function(e, t) {
                var i = k.prop(e, t),
                    s = "boolean" == typeof i && e.getAttribute(t),
                    i = "boolean" == typeof i ? Ce && o ? null != s : _e.test(t) ? e[k.camelCase("default-" + t)] : !!s : e.getAttributeNode(t);
                return i && !1 !== i.value ? t.toLowerCase() : C
            },
            set: function(e, t, i) {
                return !1 === t ? k.removeAttr(e, i) : Ce && o || !_e.test(i) ? e.setAttribute(!o && k.propFix[i] || i, i) : e[k.camelCase("default-" + i)] = e[i] = !0, i
            }
        }, Ce && o || (k.attrHooks.value = {
            get: function(e, t) {
                t = e.getAttributeNode(t);
                return k.nodeName(e, "input") ? e.defaultValue : t && t.specified ? t.value : C
            },
            set: function(e, t, i) {
                return k.nodeName(e, "input") ? (e.defaultValue = t, C) : fe && fe.set(e, t, i)
            }
        }), o || (fe = k.valHooks.button = {
            get: function(e, t) {
                e = e.getAttributeNode(t);
                return e && ("id" === t || "name" === t || "coords" === t ? "" !== e.value : e.specified) ? e.value : C
            },
            set: function(e, t, i) {
                var s = e.getAttributeNode(i);
                return s || e.setAttributeNode(s = e.ownerDocument.createAttribute(i)), s.value = t += "", "value" === i || t === e.getAttribute(i) ? t : C
            }
        }, k.attrHooks.contenteditable = {
            get: fe.get,
            set: function(e, t, i) {
                fe.set(e, "" !== t && t, i)
            }
        }, k.each(["width", "height"], function(e, i) {
            k.attrHooks[i] = k.extend(k.attrHooks[i], {
                set: function(e, t) {
                    return "" === t ? (e.setAttribute(i, "auto"), t) : C
                }
            })
        })), k.support.hrefNormalized || (k.each(["href", "src", "width", "height"], function(e, t) {
            k.attrHooks[t] = k.extend(k.attrHooks[t], {
                get: function(e) {
                    e = e.getAttribute(t, 2);
                    return null == e ? C : e
                }
            })
        }), k.each(["href", "src"], function(e, t) {
            k.propHooks[t] = {
                get: function(e) {
                    return e.getAttribute(t, 4)
                }
            }
        })), k.support.style || (k.attrHooks.style = {
            get: function(e) {
                return e.style.cssText || C
            },
            set: function(e, t) {
                return e.style.cssText = t + ""
            }
        }), k.support.optSelected || (k.propHooks.selected = k.extend(k.propHooks.selected, {
            get: function(e) {
                e = e.parentNode;
                return e && (e.selectedIndex, e.parentNode) && e.parentNode.selectedIndex, null
            }
        })), k.support.enctype || (k.propFix.enctype = "encoding"), k.support.checkOn || k.each(["radio", "checkbox"], function() {
            k.valHooks[this] = {
                get: function(e) {
                    return null === e.getAttribute("value") ? "on" : e.value
                }
            }
        }), k.each(["radio", "checkbox"], function() {
            k.valHooks[this] = k.extend(k.valHooks[this], {
                set: function(e, t) {
                    return k.isArray(t) ? e.checked = 0 <= k.inArray(k(e).val(), t) : C
                }
            })
        }), /^(?:input|select|textarea)$/i),
        xe = /^key/,
        Se = /^(?:mouse|contextmenu)|click/,
        Te = /^(?:focusinfocus|focusoutblur)$/,
        Ee = /^([^.]*)(?:\.(.+)|)$/;

    function Ae() {
        return !0
    }

    function Pe() {
        return !1
    }
    k.event = {
        global: {},
        add: function(e, t, i, s, n) {
            var a, o, r, l, d, c, u, h, p, f = k._data(e);
            if (f)
                for (i.handler && (i = (r = i).handler, n = r.selector), i.guid || (i.guid = k.guid++), a = (a = f.events) || (f.events = {}), (d = f.handle) || ((d = f.handle = function(e) {
                        return typeof k == m || e && k.event.triggered === e.type ? C : k.event.dispatch.apply(d.elem, arguments)
                    }).elem = e), o = (t = (t || "").match(x) || [""]).length; o--;) u = p = (h = Ee.exec(t[o]) || [])[1], h = (h[2] || "").split(".").sort(), l = k.event.special[u] || {}, u = (n ? l.delegateType : l.bindType) || u, l = k.event.special[u] || {}, p = k.extend({
                    type: u,
                    origType: p,
                    data: s,
                    handler: i,
                    guid: i.guid,
                    selector: n,
                    needsContext: n && k.expr.match.needsContext.test(n),
                    namespace: h.join(".")
                }, r), (c = a[u]) || ((c = a[u] = []).delegateCount = 0, l.setup && !1 !== l.setup.call(e, s, h, d)) || (e.addEventListener ? e.addEventListener(u, d, !1) : e.attachEvent && e.attachEvent("on" + u, d)), l.add && (l.add.call(e, p), p.handler.guid || (p.handler.guid = i.guid)), n ? c.splice(c.delegateCount++, 0, p) : c.push(p), k.event.global[u] = !0
        },
        remove: function(e, t, i, s, n) {
            var a, o, r, l, d, c, u, h, p, f, m, g = k.hasData(e) && k._data(e);
            if (g && (c = g.events)) {
                for (d = (t = (t || "").match(x) || [""]).length; d--;)
                    if (p = m = (r = Ee.exec(t[d]) || [])[1], f = (r[2] || "").split(".").sort(), p) {
                        for (u = k.event.special[p] || {}, h = c[p = (s ? u.delegateType : u.bindType) || p] || [], r = r[2] && RegExp("(^|\\.)" + f.join("\\.(?:.*\\.|)") + "(\\.|$)"), l = a = h.length; a--;) o = h[a], !n && m !== o.origType || i && i.guid !== o.guid || r && !r.test(o.namespace) || s && s !== o.selector && ("**" !== s || !o.selector) || (h.splice(a, 1), o.selector && h.delegateCount--, u.remove && u.remove.call(e, o));
                        l && !h.length && (u.teardown && !1 !== u.teardown.call(e, f, g.handle) || k.removeEvent(e, p, g.handle), delete c[p])
                    } else
                        for (p in c) k.event.remove(e, p + t[d], i, s, !0);
                k.isEmptyObject(c) && (delete g.handle, k._removeData(e, "events"))
            }
        },
        trigger: function(e, t, i, s) {
            var n, a, o, r, l, d, c = [i || g],
                u = Y.call(e, "type") ? e.type : e,
                h = Y.call(e, "namespace") ? e.namespace.split(".") : [],
                p = l = i = i || g;
            if (3 !== i.nodeType && 8 !== i.nodeType && !Te.test(u + k.event.triggered) && (0 <= u.indexOf(".") && (u = (h = u.split(".")).shift(), h.sort()), a = u.indexOf(":") < 0 && "on" + u, (e = e[k.expando] ? e : new k.Event(u, "object" == typeof e && e)).isTrigger = !0, e.namespace = h.join("."), e.namespace_re = e.namespace ? RegExp("(^|\\.)" + h.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, e.result = C, e.target || (e.target = i), t = null == t ? [e] : k.makeArray(t, [e]), r = k.event.special[u] || {}, s || !r.trigger || !1 !== r.trigger.apply(i, t))) {
                if (!s && !r.noBubble && !k.isWindow(i)) {
                    for (o = r.delegateType || u, Te.test(o + u) || (p = p.parentNode); p; p = p.parentNode) c.push(p), l = p;
                    l === (i.ownerDocument || g) && c.push(l.defaultView || l.parentWindow || f)
                }
                for (d = 0;
                    (p = c[d++]) && !e.isPropagationStopped();) e.type = 1 < d ? o : r.bindType || u, (n = (k._data(p, "events") || {})[e.type] && k._data(p, "handle")) && n.apply(p, t), (n = a && p[a]) && k.acceptData(p) && n.apply && !1 === n.apply(p, t) && e.preventDefault();
                if (e.type = u, !(s || e.isDefaultPrevented() || r._default && !1 !== r._default.apply(i.ownerDocument, t) || "click" === u && k.nodeName(i, "a")) && k.acceptData(i) && a && i[u] && !k.isWindow(i)) {
                    (l = i[a]) && (i[a] = null), k.event.triggered = u;
                    try {
                        i[u]()
                    } catch (e) {}
                    k.event.triggered = C, l && (i[a] = l)
                }
                return e.result
            }
        },
        dispatch: function(e) {
            e = k.event.fix(e);
            var t, i, s, n, a, o = c.call(arguments),
                r = (k._data(this, "events") || {})[e.type] || [],
                l = k.event.special[e.type] || {};
            if ((o[0] = e).delegateTarget = this, !l.preDispatch || !1 !== l.preDispatch.call(this, e)) {
                for (a = k.event.handlers.call(this, e, r), t = 0;
                    (s = a[t++]) && !e.isPropagationStopped();)
                    for (e.currentTarget = s.elem, n = 0;
                        (i = s.handlers[n++]) && !e.isImmediatePropagationStopped();) e.namespace_re && !e.namespace_re.test(i.namespace) || (e.handleObj = i, e.data = i.data, (i = ((k.event.special[i.origType] || {}).handle || i.handler).apply(s.elem, o)) === C) || !1 !== (e.result = i) || (e.preventDefault(), e.stopPropagation());
                return l.postDispatch && l.postDispatch.call(this, e), e.result
            }
        },
        handlers: function(e, t) {
            var i, s, n, a, o = [],
                r = t.delegateCount,
                l = e.target;
            if (r && l.nodeType && (!e.button || "click" !== e.type))
                for (; l != this; l = l.parentNode || this)
                    if (1 === l.nodeType && (!0 !== l.disabled || "click" !== e.type)) {
                        for (n = [], a = 0; a < r; a++) n[i = (s = t[a]).selector + " "] === C && (n[i] = s.needsContext ? 0 <= k(i, this).index(l) : k.find(i, this, null, [l]).length), n[i] && n.push(s);
                        n.length && o.push({
                            elem: l,
                            handlers: n
                        })
                    } return t.length > r && o.push({
                elem: this,
                handlers: t.slice(r)
            }), o
        },
        fix: function(e) {
            if (e[k.expando]) return e;
            var t, i, s, n = e.type,
                a = e,
                o = this.fixHooks[n];
            for (o || (this.fixHooks[n] = o = Se.test(n) ? this.mouseHooks : xe.test(n) ? this.keyHooks : {}), s = o.props ? this.props.concat(o.props) : this.props, e = new k.Event(a), t = s.length; t--;) e[i = s[t]] = a[i];
            return e.target || (e.target = a.srcElement || g), 3 === e.target.nodeType && (e.target = e.target.parentNode), e.metaKey = !!e.metaKey, o.filter ? o.filter(e, a) : e
        },
        props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
        fixHooks: {},
        keyHooks: {
            props: "char charCode key keyCode".split(" "),
            filter: function(e, t) {
                return null == e.which && (e.which = null != t.charCode ? t.charCode : t.keyCode), e
            }
        },
        mouseHooks: {
            props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
            filter: function(e, t) {
                var i, s, n = t.button,
                    a = t.fromElement;
                return null == e.pageX && null != t.clientX && (s = (i = e.target.ownerDocument || g).documentElement, i = i.body, e.pageX = t.clientX + (s && s.scrollLeft || i && i.scrollLeft || 0) - (s && s.clientLeft || i && i.clientLeft || 0), e.pageY = t.clientY + (s && s.scrollTop || i && i.scrollTop || 0) - (s && s.clientTop || i && i.clientTop || 0)), !e.relatedTarget && a && (e.relatedTarget = a === e.target ? t.toElement : a), e.which || n === C || (e.which = 1 & n ? 1 : 2 & n ? 3 : 4 & n ? 2 : 0), e
            }
        },
        special: {
            load: {
                noBubble: !0
            },
            click: {
                trigger: function() {
                    return k.nodeName(this, "input") && "checkbox" === this.type && this.click ? (this.click(), !1) : C
                }
            },
            focus: {
                trigger: function() {
                    if (this !== g.activeElement && this.focus) try {
                        return this.focus(), !1
                    } catch (e) {}
                },
                delegateType: "focusin"
            },
            blur: {
                trigger: function() {
                    return this === g.activeElement && this.blur ? (this.blur(), !1) : C
                },
                delegateType: "focusout"
            },
            beforeunload: {
                postDispatch: function(e) {
                    e.result !== C && (e.originalEvent.returnValue = e.result)
                }
            }
        },
        simulate: function(e, t, i, s) {
            e = k.extend(new k.Event, i, {
                type: e,
                isSimulated: !0,
                originalEvent: {}
            });
            s ? k.event.trigger(e, null, t) : k.event.dispatch.call(t, e), e.isDefaultPrevented() && i.preventDefault()
        }
    }, k.removeEvent = g.removeEventListener ? function(e, t, i) {
        e.removeEventListener && e.removeEventListener(t, i, !1)
    } : function(e, t, i) {
        t = "on" + t;
        e.detachEvent && (typeof e[t] == m && (e[t] = null), e.detachEvent(t, i))
    }, k.Event = function(e, t) {
        return this instanceof k.Event ? (e && e.type ? (this.originalEvent = e, this.type = e.type, this.isDefaultPrevented = e.defaultPrevented || !1 === e.returnValue || e.getPreventDefault && e.getPreventDefault() ? Ae : Pe) : this.type = e, t && k.extend(this, t), this.timeStamp = e && e.timeStamp || k.now(), this[k.expando] = !0, C) : new k.Event(e, t)
    }, k.Event.prototype = {
        isDefaultPrevented: Pe,
        isPropagationStopped: Pe,
        isImmediatePropagationStopped: Pe,
        preventDefault: function() {
            var e = this.originalEvent;
            this.isDefaultPrevented = Ae, e && (e.preventDefault ? e.preventDefault() : e.returnValue = !1)
        },
        stopPropagation: function() {
            var e = this.originalEvent;
            this.isPropagationStopped = Ae, e && (e.stopPropagation && e.stopPropagation(), e.cancelBubble = !0)
        },
        stopImmediatePropagation: function() {
            this.isImmediatePropagationStopped = Ae, this.stopPropagation()
        }
    }, k.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout"
    }, function(e, n) {
        k.event.special[e] = {
            delegateType: n,
            bindType: n,
            handle: function(e) {
                var t, i = e.relatedTarget,
                    s = e.handleObj;
                return i && (i === this || k.contains(this, i)) || (e.type = s.origType, t = s.handler.apply(this, arguments), e.type = n), t
            }
        }
    }), k.support.submitBubbles || (k.event.special.submit = {
        setup: function() {
            return !k.nodeName(this, "form") && (k.event.add(this, "click._submit keypress._submit", function(e) {
                e = e.target, e = k.nodeName(e, "input") || k.nodeName(e, "button") ? e.form : C;
                e && !k._data(e, "submitBubbles") && (k.event.add(e, "submit._submit", function(e) {
                    e._submit_bubble = !0
                }), k._data(e, "submitBubbles", !0))
            }), C)
        },
        postDispatch: function(e) {
            e._submit_bubble && (delete e._submit_bubble, this.parentNode) && !e.isTrigger && k.event.simulate("submit", this.parentNode, e, !0)
        },
        teardown: function() {
            return !k.nodeName(this, "form") && (k.event.remove(this, "._submit"), C)
        }
    }), k.support.changeBubbles || (k.event.special.change = {
        setup: function() {
            return ke.test(this.nodeName) ? ("checkbox" !== this.type && "radio" !== this.type || (k.event.add(this, "propertychange._change", function(e) {
                "checked" === e.originalEvent.propertyName && (this._just_changed = !0)
            }), k.event.add(this, "click._change", function(e) {
                this._just_changed && !e.isTrigger && (this._just_changed = !1), k.event.simulate("change", this, e, !0)
            })), !1) : (k.event.add(this, "beforeactivate._change", function(e) {
                e = e.target;
                ke.test(e.nodeName) && !k._data(e, "changeBubbles") && (k.event.add(e, "change._change", function(e) {
                    !this.parentNode || e.isSimulated || e.isTrigger || k.event.simulate("change", this.parentNode, e, !0)
                }), k._data(e, "changeBubbles", !0))
            }), C)
        },
        handle: function(e) {
            var t = e.target;
            return this !== t || e.isSimulated || e.isTrigger || "radio" !== t.type && "checkbox" !== t.type ? e.handleObj.handler.apply(this, arguments) : C
        },
        teardown: function() {
            return k.event.remove(this, "._change"), !ke.test(this.nodeName)
        }
    }), k.support.focusinBubbles || k.each({
        focus: "focusin",
        blur: "focusout"
    }, function(e, t) {
        function i(e) {
            k.event.simulate(t, e.target, k.event.fix(e), !0)
        }
        var s = 0;
        k.event.special[t] = {
            setup: function() {
                0 == s++ && g.addEventListener(e, i, !0)
            },
            teardown: function() {
                0 == --s && g.removeEventListener(e, i, !0)
            }
        }
    }), k.fn.extend({
        on: function(e, t, i, s, n) {
            var a, o;
            if ("object" == typeof e) {
                for (a in "string" != typeof t && (i = i || t, t = C), e) this.on(a, t, i, e[a], n);
                return this
            }
            if (null == i && null == s ? (s = t, i = t = C) : null == s && ("string" == typeof t ? (s = i, i = C) : (s = i, i = t, t = C)), !1 === s) s = Pe;
            else if (!s) return this;
            return 1 === n && (o = s, (s = function(e) {
                return k().off(e), o.apply(this, arguments)
            }).guid = o.guid || (o.guid = k.guid++)), this.each(function() {
                k.event.add(this, e, s, i, t)
            })
        },
        one: function(e, t, i, s) {
            return this.on(e, t, i, s, 1)
        },
        off: function(e, t, i) {
            var s, n;
            if (e && e.preventDefault && e.handleObj) s = e.handleObj, k(e.delegateTarget).off(s.namespace ? s.origType + "." + s.namespace : s.origType, s.selector, s.handler);
            else {
                if ("object" != typeof e) return !1 !== t && "function" != typeof t || (i = t, t = C), !1 === i && (i = Pe), this.each(function() {
                    k.event.remove(this, e, i, t)
                });
                for (n in e) this.off(n, t, e[n])
            }
            return this
        },
        bind: function(e, t, i) {
            return this.on(e, null, t, i)
        },
        unbind: function(e, t) {
            return this.off(e, null, t)
        },
        delegate: function(e, t, i, s) {
            return this.on(t, e, i, s)
        },
        undelegate: function(e, t, i) {
            return 1 === arguments.length ? this.off(e, "**") : this.off(t, e || "**", i)
        },
        trigger: function(e, t) {
            return this.each(function() {
                k.event.trigger(e, t, this)
            })
        },
        triggerHandler: function(e, t) {
            var i = this[0];
            return i ? k.event.trigger(e, t, i, !0) : C
        }
    });
    var $e, Me, _, De, Ie, Le, je, Fe, Oe, S, i, w, T, qe, Ne, Re, Be, Ue = f,
        Ve = void 0,
        E = "sizzle" + -new Date,
        A = Ue.document,
        P = {},
        $ = 0,
        He = 0,
        ze = mt(),
        We = mt(),
        Ye = mt(),
        s = typeof Ve,
        e = [],
        Ge = e.pop,
        Xe = e.push,
        Je = e.slice,
        Ke = e.indexOf || function(e) {
            for (var t = 0, i = this.length; t < i; t++)
                if (this[t] === e) return t;
            return -1
        },
        n = "[\\x20\\t\\r\\n\\f]",
        Qe = (e = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+").replace("w", "w#"),
        Ze = "\\[" + n + "*(" + e + ")" + n + "*(?:([*^$|!~]?=)" + n + "*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" + Qe + ")|)|)" + n + "*\\]",
        et = ":(" + e + ")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|" + Ze.replace(3, 8) + ")*)|.*)\\)|)",
        tt = RegExp("^" + n + "+|((?:^|[^\\\\])(?:\\\\.)*)" + n + "+$", "g"),
        it = RegExp("^" + n + "*," + n + "*"),
        st = RegExp("^" + n + "*([\\x20\\t\\r\\n\\f>+~])" + n + "*"),
        nt = RegExp(et),
        at = RegExp("^" + Qe + "$"),
        ot = {
            ID: RegExp("^#(" + e + ")"),
            CLASS: RegExp("^\\.(" + e + ")"),
            NAME: RegExp("^\\[name=['\"]?(" + e + ")['\"]?\\]"),
            TAG: RegExp("^(" + e.replace("w", "w*") + ")"),
            ATTR: RegExp("^" + Ze),
            PSEUDO: RegExp("^" + et),
            CHILD: RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + n + "*(even|odd|(([+-]|)(\\d*)n|)" + n + "*(?:([+-]|)" + n + "*(\\d+)|))" + n + "*\\)|)", "i"),
            needsContext: RegExp("^" + n + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + n + "*((?:-\\d)?\\d*)" + n + "*\\)|)(?=[^-]|$)", "i")
        },
        rt = /[\x20\t\r\n\f]*[+~]/,
        lt = /^[^{]+\{\s*\[native code/,
        dt = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
        ct = /^(?:input|select|textarea|button)$/i,
        ut = /^h\d$/i,
        ht = /'|\\/g,
        pt = /\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,
        M = /\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,
        D = function(e, t) {
            var i = "0x" + t - 65536;
            return i != i ? t : i < 0 ? String.fromCharCode(65536 + i) : String.fromCharCode(55296 | i >> 10, 56320 | 1023 & i)
        };
    try {
        Je.call(A.documentElement.childNodes, 0)[0].nodeType
    } catch (e) {
        Je = function(e) {
            for (var t, i = []; t = this[e++];) i.push(t);
            return i
        }
    }

    function ft(e) {
        return lt.test(e + "")
    }

    function mt() {
        var i, s = [];
        return i = function(e, t) {
            return s.push(e += " ") > _.cacheLength && delete i[s.shift()], i[e] = t
        }
    }

    function l(e) {
        return e[E] = !0, e
    }

    function a(e) {
        var t = S.createElement("div");
        try {
            return e(t)
        } catch (e) {
            return !1
        }
    }

    function I(e, t, i, s) {
        var n, a, o, r, l, d;
        if ((t ? t.ownerDocument || t : A) !== S && Oe(t), i = i || [], !e || "string" != typeof e) return i;
        if (1 !== (b = (t = t || S).nodeType) && 9 !== b) return [];
        if (!w && !s) {
            if (l = dt.exec(e))
                if (d = l[1]) {
                    if (9 === b) {
                        if (!(o = t.getElementById(d)) || !o.parentNode) return i;
                        if (o.id === d) return i.push(o), i
                    } else if (t.ownerDocument && (o = t.ownerDocument.getElementById(d)) && Re(t, o) && o.id === d) return i.push(o), i
                } else {
                    if (l[2]) return Xe.apply(i, Je.call(t.getElementsByTagName(e), 0)), i;
                    if ((d = l[3]) && P.getByClassName && t.getElementsByClassName) return Xe.apply(i, Je.call(t.getElementsByClassName(d), 0)), i
                } if (P.qsa && !T.test(e)) {
                if (o = !0, r = E, l = t, d = 9 === b && e, 1 === b && "object" !== t.nodeName.toLowerCase()) {
                    for (a = vt(e), (o = t.getAttribute("id")) ? r = o.replace(ht, "\\$&") : t.setAttribute("id", r), r = "[id='" + r + "'] ", n = a.length; n--;) a[n] = r + yt(a[n]);
                    l = rt.test(e) && t.parentNode || t, d = a.join(",")
                }
                if (d) try {
                    return Xe.apply(i, Je.call(l.querySelectorAll(d), 0)), i
                } catch (e) {} finally {
                    o || t.removeAttribute("id")
                }
            }
        }
        var c, u, h, p, f, m = e.replace(tt, "$1"),
            g = t,
            v = i,
            y = s,
            b = vt(m);
        if (!y && 1 === b.length) {
            if (2 < (u = b[0] = b[0].slice(0)).length && "ID" === (h = u[0]).type && 9 === g.nodeType && !w && _.relative[u[1].type]) {
                if (!(g = _.find.ID(h.matches[0].replace(M, D), g)[0])) return v;
                m = m.slice(u.shift().value.length)
            }
            for (c = ot.needsContext.test(m) ? 0 : u.length; c-- && (h = u[c], !_.relative[p = h.type]);)
                if ((f = _.find[p]) && (y = f(h.matches[0].replace(M, D), rt.test(u[0].type) && g.parentNode || g))) {
                    if (u.splice(c, 1), m = y.length && yt(u)) break;
                    return Xe.apply(v, Je.call(y, 0)), v
                }
        }
        return Le(m, b)(y, g, w, v, rt.test(m)), v
    }

    function gt(e, t) {
        var i = t && e,
            s = i && (~t.sourceIndex || 1 << 31) - (~e.sourceIndex || 1 << 31);
        if (s) return s;
        if (i)
            for (; i = i.nextSibling;)
                if (i === t) return -1;
        return e ? 1 : -1
    }

    function r(o) {
        return l(function(a) {
            return a = +a, l(function(e, t) {
                for (var i, s = o([], e.length, a), n = s.length; n--;) e[i = s[n]] && (e[i] = !(t[i] = e[i]))
            })
        })
    }
    for ($e in Ie = I.isXML = function(e) {
            e = e && (e.ownerDocument || e).documentElement;
            return !!e && "HTML" !== e.nodeName
        }, Oe = I.setDocument = function(e) {
            var l = e ? e.ownerDocument || e : A;
            return l !== S && 9 === l.nodeType && l.documentElement && (i = (S = l).documentElement, w = Ie(l), P.tagNameNoComments = a(function(e) {
                return e.appendChild(l.createComment("")), !e.getElementsByTagName("*").length
            }), P.attributes = a(function(e) {
                e.innerHTML = "<select></select>";
                e = typeof e.lastChild.getAttribute("multiple");
                return "boolean" != e && "string" != e
            }), P.getByClassName = a(function(e) {
                return e.innerHTML = "<div class='hidden e'></div><div class='hidden'></div>", !(!e.getElementsByClassName || !e.getElementsByClassName("e").length) && (e.lastChild.className = "e", 2 === e.getElementsByClassName("e").length)
            }), P.getByName = a(function(e) {
                e.id = E + 0, e.innerHTML = "<a name='" + E + "'></a><div name='" + E + "'></div>", i.insertBefore(e, i.firstChild);
                var t = l.getElementsByName && l.getElementsByName(E).length === 2 + l.getElementsByName(E + 0).length;
                return P.getIdNotName = !l.getElementById(E), i.removeChild(e), t
            }), _.attrHandle = a(function(e) {
                return e.innerHTML = "<a href='#'></a>", e.firstChild && typeof e.firstChild.getAttribute != s && "#" === e.firstChild.getAttribute("href")
            }) ? {} : {
                href: function(e) {
                    return e.getAttribute("href", 2)
                },
                type: function(e) {
                    return e.getAttribute("type")
                }
            }, P.getIdNotName ? (_.find.ID = function(e, t) {
                if (typeof t.getElementById != s && !w) return (t = t.getElementById(e)) && t.parentNode ? [t] : []
            }, _.filter.ID = function(e) {
                var t = e.replace(M, D);
                return function(e) {
                    return e.getAttribute("id") === t
                }
            }) : (_.find.ID = function(e, t) {
                if (typeof t.getElementById != s && !w) return (t = t.getElementById(e)) ? t.id === e || typeof t.getAttributeNode != s && t.getAttributeNode("id").value === e ? [t] : Ve : []
            }, _.filter.ID = function(e) {
                var t = e.replace(M, D);
                return function(e) {
                    e = typeof e.getAttributeNode != s && e.getAttributeNode("id");
                    return e && e.value === t
                }
            }), _.find.TAG = P.tagNameNoComments ? function(e, t) {
                return typeof t.getElementsByTagName != s ? t.getElementsByTagName(e) : Ve
            } : function(e, t) {
                var i, s = [],
                    n = 0,
                    a = t.getElementsByTagName(e);
                if ("*" !== e) return a;
                for (; i = a[n++];) 1 === i.nodeType && s.push(i);
                return s
            }, _.find.NAME = P.getByName && function(e, t) {
                return typeof t.getElementsByName != s ? t.getElementsByName(name) : Ve
            }, _.find.CLASS = P.getByClassName && function(e, t) {
                return typeof t.getElementsByClassName == s || w ? Ve : t.getElementsByClassName(e)
            }, qe = [], T = [":focus"], (P.qsa = ft(l.querySelectorAll)) && (a(function(e) {
                e.innerHTML = "<select><option selected=''></option></select>", e.querySelectorAll("[selected]").length || T.push("\\[" + n + "*(?:checked|disabled|ismap|multiple|readonly|selected|value)"), e.querySelectorAll(":checked").length || T.push(":checked")
            }), a(function(e) {
                e.innerHTML = "<input type='hidden' i=''/>", e.querySelectorAll("[i^='']").length && T.push("[*^$]=" + n + "*(?:\"\"|'')"), e.querySelectorAll(":enabled").length || T.push(":enabled", ":disabled"), e.querySelectorAll("*,:x"), T.push(",.*:")
            })), (P.matchesSelector = ft(Ne = i.matchesSelector || i.mozMatchesSelector || i.webkitMatchesSelector || i.oMatchesSelector || i.msMatchesSelector)) && a(function(e) {
                P.disconnectedMatch = Ne.call(e, "div"), Ne.call(e, "[s!='']:x"), qe.push("!=", et)
            }), T = RegExp(T.join("|")), qe = RegExp(qe.join("|")), Re = ft(i.contains) || i.compareDocumentPosition ? function(e, t) {
                var i = 9 === e.nodeType ? e.documentElement : e,
                    t = t && t.parentNode;
                return e === t || !(!t || 1 !== t.nodeType || !(i.contains ? i.contains(t) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(t)))
            } : function(e, t) {
                if (t)
                    for (; t = t.parentNode;)
                        if (t === e) return !0;
                return !1
            }, Be = i.compareDocumentPosition ? function(e, t) {
                var i;
                return e === t ? (je = !0, 0) : (i = t.compareDocumentPosition && e.compareDocumentPosition && e.compareDocumentPosition(t)) ? 1 & i || e.parentNode && 11 === e.parentNode.nodeType ? e === l || Re(A, e) ? -1 : t === l || Re(A, t) ? 1 : 0 : 4 & i ? -1 : 1 : e.compareDocumentPosition ? -1 : 1
            } : function(e, t) {
                var i, s = 0,
                    n = e.parentNode,
                    a = t.parentNode,
                    o = [e],
                    r = [t];
                if (e === t) return je = !0, 0;
                if (!n || !a) return e === l ? -1 : t === l ? 1 : n ? -1 : a ? 1 : 0;
                if (n === a) return gt(e, t);
                for (i = e; i = i.parentNode;) o.unshift(i);
                for (i = t; i = i.parentNode;) r.unshift(i);
                for (; o[s] === r[s];) s++;
                return s ? gt(o[s], r[s]) : o[s] === A ? -1 : r[s] === A ? 1 : 0
            }, je = !1, [0, 0].sort(Be), P.detectDuplicates = je), S
        }, I.matches = function(e, t) {
            return I(e, null, null, t)
        }, I.matchesSelector = function(e, t) {
            if ((e.ownerDocument || e) !== S && Oe(e), t = t.replace(pt, "='$1']"), !(!P.matchesSelector || w || qe && qe.test(t) || T.test(t))) try {
                var i = Ne.call(e, t);
                if (i || P.disconnectedMatch || e.document && 11 !== e.document.nodeType) return i
            } catch (e) {}
            return 0 < I(t, S, null, [e]).length
        }, I.contains = function(e, t) {
            return (e.ownerDocument || e) !== S && Oe(e), Re(e, t)
        }, I.attr = function(e, t) {
            var i;
            return (e.ownerDocument || e) !== S && Oe(e), w || (t = t.toLowerCase()), (i = _.attrHandle[t]) ? i(e) : w || P.attributes ? e.getAttribute(t) : ((i = e.getAttributeNode(t)) || e.getAttribute(t)) && !0 === e[t] ? t : i && i.specified ? i.value : null
        }, I.error = function(e) {
            throw Error("Syntax error, unrecognized expression: " + e)
        }, I.uniqueSort = function(e) {
            var t, i = [],
                s = 1,
                n = 0;
            if (je = !P.detectDuplicates, e.sort(Be), je) {
                for (; t = e[s]; s++) t === e[s - 1] && (n = i.push(s));
                for (; n--;) e.splice(i[n], 1)
            }
            return e
        }, De = I.getText = function(e) {
            var t, i = "",
                s = 0,
                n = e.nodeType;
            if (n) {
                if (1 === n || 9 === n || 11 === n) {
                    if ("string" == typeof e.textContent) return e.textContent;
                    for (e = e.firstChild; e; e = e.nextSibling) i += De(e)
                } else if (3 === n || 4 === n) return e.nodeValue
            } else
                for (; t = e[s]; s++) i += De(t);
            return i
        }, _ = I.selectors = {
            cacheLength: 50,
            createPseudo: l,
            match: ot,
            find: {},
            relative: {
                ">": {
                    dir: "parentNode",
                    first: !0
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: !0
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(e) {
                    return e[1] = e[1].replace(M, D), e[3] = (e[4] || e[5] || "").replace(M, D), "~=" === e[2] && (e[3] = " " + e[3] + " "), e.slice(0, 4)
                },
                CHILD: function(e) {
                    return e[1] = e[1].toLowerCase(), "nth" === e[1].slice(0, 3) ? (e[3] || I.error(e[0]), e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])), e[5] = +(e[7] + e[8] || "odd" === e[3])) : e[3] && I.error(e[0]), e
                },
                PSEUDO: function(e) {
                    var t, i = !e[5] && e[2];
                    return ot.CHILD.test(e[0]) ? null : (e[4] ? e[2] = e[4] : i && nt.test(i) && (t = (t = vt(i, !0)) && i.indexOf(")", i.length - t) - i.length) && (e[0] = e[0].slice(0, t), e[2] = i.slice(0, t)), e.slice(0, 3))
                }
            },
            filter: {
                TAG: function(t) {
                    return "*" === t ? function() {
                        return !0
                    } : (t = t.replace(M, D).toLowerCase(), function(e) {
                        return e.nodeName && e.nodeName.toLowerCase() === t
                    })
                },
                CLASS: function(e) {
                    var t = ze[e + " "];
                    return t || (t = RegExp("(^|" + n + ")" + e + "(" + n + "|$)")) && ze(e, function(e) {
                        return t.test(e.className || typeof e.getAttribute != s && e.getAttribute("class") || "")
                    })
                },
                ATTR: function(t, i, s) {
                    return function(e) {
                        e = I.attr(e, t);
                        return null == e ? "!=" === i : !i || (e += "", "=" === i ? e === s : "!=" === i ? e !== s : "^=" === i ? s && 0 === e.indexOf(s) : "*=" === i ? s && -1 < e.indexOf(s) : "$=" === i ? s && e.slice(-s.length) === s : "~=" === i ? -1 < (" " + e + " ").indexOf(s) : "|=" === i && (e === s || e.slice(0, s.length + 1) === s + "-"))
                    }
                },
                CHILD: function(p, e, t, f, m) {
                    var g = "nth" !== p.slice(0, 3),
                        v = "last" !== p.slice(-4),
                        y = "of-type" === e;
                    return 1 === f && 0 === m ? function(e) {
                        return !!e.parentNode
                    } : function(e, t, i) {
                        var s, n, a, o, r, l, d = g != v ? "nextSibling" : "previousSibling",
                            c = e.parentNode,
                            u = y && e.nodeName.toLowerCase(),
                            h = !i && !y;
                        if (c) {
                            if (g) {
                                for (; d;) {
                                    for (a = e; a = a[d];)
                                        if (y ? a.nodeName.toLowerCase() === u : 1 === a.nodeType) return !1;
                                    l = d = "only" === p && !l && "nextSibling"
                                }
                                return !0
                            }
                            if (l = [v ? c.firstChild : c.lastChild], v && h) {
                                for (r = (s = (n = c[E] || (c[E] = {}))[p] || [])[0] === $ && s[1], o = s[0] === $ && s[2], a = r && c.childNodes[r]; a = ++r && a && a[d] || (o = r = 0, l.pop());)
                                    if (1 === a.nodeType && ++o && a === e) {
                                        n[p] = [$, r, o];
                                        break
                                    }
                            } else if (h && (s = (e[E] || (e[E] = {}))[p]) && s[0] === $) o = s[1];
                            else
                                for (;
                                    (a = ++r && a && a[d] || (o = r = 0, l.pop())) && ((y ? a.nodeName.toLowerCase() !== u : 1 !== a.nodeType) || !++o || (h && ((a[E] || (a[E] = {}))[p] = [$, o]), a !== e)););
                            return (o -= m) === f || 0 == o % f && 0 <= o / f
                        }
                    }
                },
                PSEUDO: function(e, a) {
                    var t, o = _.pseudos[e] || _.setFilters[e.toLowerCase()] || I.error("unsupported pseudo: " + e);
                    return o[E] ? o(a) : 1 < o.length ? (t = [e, e, "", a], _.setFilters.hasOwnProperty(e.toLowerCase()) ? l(function(e, t) {
                        for (var i, s = o(e, a), n = s.length; n--;) e[i = Ke.call(e, s[n])] = !(t[i] = s[n])
                    }) : function(e) {
                        return o(e, 0, t)
                    }) : o
                }
            },
            pseudos: {
                not: l(function(e) {
                    var s = [],
                        n = [],
                        r = Le(e.replace(tt, "$1"));
                    return r[E] ? l(function(e, t, i, s) {
                        for (var n, a = r(e, null, s, []), o = e.length; o--;)(n = a[o]) && (e[o] = !(t[o] = n))
                    }) : function(e, t, i) {
                        return s[0] = e, r(s, null, i, n), !n.pop()
                    }
                }),
                has: l(function(t) {
                    return function(e) {
                        return 0 < I(t, e).length
                    }
                }),
                contains: l(function(t) {
                    return function(e) {
                        return -1 < (e.textContent || e.innerText || De(e)).indexOf(t)
                    }
                }),
                lang: l(function(i) {
                    return at.test(i || "") || I.error("unsupported lang: " + i), i = i.replace(M, D).toLowerCase(),
                        function(e) {
                            var t;
                            do {
                                if (t = w ? e.getAttribute("xml:lang") || e.getAttribute("lang") : e.lang) return (t = t.toLowerCase()) === i || 0 === t.indexOf(i + "-")
                            } while ((e = e.parentNode) && 1 === e.nodeType);
                            return !1
                        }
                }),
                target: function(e) {
                    var t = Ue.location && Ue.location.hash;
                    return t && t.slice(1) === e.id
                },
                root: function(e) {
                    return e === i
                },
                focus: function(e) {
                    return e === S.activeElement && (!S.hasFocus || S.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
                },
                enabled: function(e) {
                    return !1 === e.disabled
                },
                disabled: function(e) {
                    return !0 === e.disabled
                },
                checked: function(e) {
                    var t = e.nodeName.toLowerCase();
                    return "input" === t && !!e.checked || "option" === t && !!e.selected
                },
                selected: function(e) {
                    return e.parentNode && e.parentNode.selectedIndex, !0 === e.selected
                },
                empty: function(e) {
                    for (e = e.firstChild; e; e = e.nextSibling)
                        if ("@" < e.nodeName || 3 === e.nodeType || 4 === e.nodeType) return !1;
                    return !0
                },
                parent: function(e) {
                    return !_.pseudos.empty(e)
                },
                header: function(e) {
                    return ut.test(e.nodeName)
                },
                input: function(e) {
                    return ct.test(e.nodeName)
                },
                button: function(e) {
                    var t = e.nodeName.toLowerCase();
                    return "input" === t && "button" === e.type || "button" === t
                },
                text: function(e) {
                    var t;
                    return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || t.toLowerCase() === e.type)
                },
                first: r(function() {
                    return [0]
                }),
                last: r(function(e, t) {
                    return [t - 1]
                }),
                eq: r(function(e, t, i) {
                    return [i < 0 ? i + t : i]
                }),
                even: r(function(e, t) {
                    for (var i = 0; i < t; i += 2) e.push(i);
                    return e
                }),
                odd: r(function(e, t) {
                    for (var i = 1; i < t; i += 2) e.push(i);
                    return e
                }),
                lt: r(function(e, t, i) {
                    for (var s = i < 0 ? i + t : i; 0 <= --s;) e.push(s);
                    return e
                }),
                gt: r(function(e, t, i) {
                    for (var s = i < 0 ? i + t : i; t > ++s;) e.push(s);
                    return e
                })
            }
        }, {
            radio: !0,
            checkbox: !0,
            file: !0,
            password: !0,
            image: !0
        }) _.pseudos[$e] = function(t) {
        return function(e) {
            return "input" === e.nodeName.toLowerCase() && e.type === t
        }
    }($e);
    for ($e in {
            submit: !0,
            reset: !0
        }) _.pseudos[$e] = function(i) {
        return function(e) {
            var t = e.nodeName.toLowerCase();
            return ("input" === t || "button" === t) && e.type === i
        }
    }($e);

    function vt(e, t) {
        var i, s, n, a, o, r, l, d = We[e + " "];
        if (d) return t ? 0 : d.slice(0);
        for (o = e, r = [], l = _.preFilter; o;) {
            for (a in i && !(s = it.exec(o)) || (s && (o = o.slice(s[0].length) || o), r.push(n = [])), i = !1, (s = st.exec(o)) && (i = s.shift(), n.push({
                    value: i,
                    type: s[0].replace(tt, " ")
                }), o = o.slice(i.length)), _.filter) !(s = ot[a].exec(o)) || l[a] && !(s = l[a](s)) || (i = s.shift(), n.push({
                value: i,
                type: a,
                matches: s
            }), o = o.slice(i.length));
            if (!i) break
        }
        return t ? o.length : o ? I.error(e) : We(e, r).slice(0)
    }

    function yt(e) {
        for (var t = 0, i = e.length, s = ""; t < i; t++) s += e[t].value;
        return s
    }

    function bt(r, e, t) {
        var l = e.dir,
            d = t && "parentNode" === l,
            c = He++;
        return e.first ? function(e, t, i) {
            for (; e = e[l];)
                if (1 === e.nodeType || d) return r(e, t, i)
        } : function(e, t, i) {
            var s, n, a, o = $ + " " + c;
            if (i) {
                for (; e = e[l];)
                    if ((1 === e.nodeType || d) && r(e, t, i)) return !0
            } else
                for (; e = e[l];)
                    if (1 === e.nodeType || d)
                        if ((n = (a = e[E] || (e[E] = {}))[l]) && n[0] === o) {
                            if (!0 === (s = n[1]) || s === Me) return !0 === s
                        } else if ((n = a[l] = [o])[1] = r(e, t, i) || Me, !0 === n[1]) return !0
        }
    }

    function wt(n) {
        return 1 < n.length ? function(e, t, i) {
            for (var s = n.length; s--;)
                if (!n[s](e, t, i)) return !1;
            return !0
        } : n[0]
    }

    function _t(e, t, i, s, n) {
        for (var a, o = [], r = 0, l = e.length, d = null != t; r < l; r++)(a = e[r]) && (!i || i(a, s, n)) && (o.push(a), d) && t.push(r);
        return o
    }

    function Ct(p, f, m, g, v, e) {
        return g && !g[E] && (g = Ct(g)), v && !v[E] && (v = Ct(v, e)), l(function(e, t, i, s) {
            var n, a, o, r = [],
                l = [],
                d = t.length,
                c = e || function(e, t, i) {
                    for (var s = 0, n = t.length; s < n; s++) I(e, t[s], i);
                    return i
                }(f || "*", i.nodeType ? [i] : i, []),
                u = !p || !e && f ? c : _t(c, r, p, i, s),
                h = m ? v || (e ? p : d || g) ? [] : t : u;
            if (m && m(u, h, i, s), g)
                for (n = _t(h, l), g(n, [], i, s), a = n.length; a--;)(o = n[a]) && (h[l[a]] = !(u[l[a]] = o));
            if (e) {
                if (v || p) {
                    if (v) {
                        for (n = [], a = h.length; a--;)(o = h[a]) && n.push(u[a] = o);
                        v(null, h = [], n, s)
                    }
                    for (a = h.length; a--;)(o = h[a]) && -1 < (n = v ? Ke.call(e, o) : r[a]) && (e[n] = !(t[n] = o))
                }
            } else h = _t(h === t ? h.splice(d, h.length) : h), v ? v(null, t, h, s) : Xe.apply(t, h)
        })
    }

    function kt(g, v) {
        function e(e, t, i, s, n) {
            var a, o, r, l = [],
                d = 0,
                c = "0",
                u = e && [],
                h = null != n,
                p = Fe,
                f = e || w && _.find.TAG("*", n && t.parentNode || t),
                m = $ += null == p ? 1 : Math.random() || .1;
            for (h && (Fe = t !== S && t, Me = y); null != (a = f[c]); c++) {
                if (w && a) {
                    for (o = 0; r = g[o++];)
                        if (r(a, t, i)) {
                            s.push(a);
                            break
                        } h && ($ = m, Me = ++y)
                }
                b && ((a = !r && a) && d--, e) && u.push(a)
            }
            if (d += c, b && c !== d) {
                for (o = 0; r = v[o++];) r(u, l, t, i);
                if (e) {
                    if (0 < d)
                        for (; c--;) u[c] || l[c] || (l[c] = Ge.call(s));
                    l = _t(l)
                }
                Xe.apply(s, l), h && !e && 0 < l.length && 1 < d + v.length && I.uniqueSort(s)
            }
            return h && ($ = m, Fe = p), u
        }
        var y = 0,
            b = 0 < v.length,
            w = 0 < g.length;
        return b ? l(e) : e
    }

    function xt() {}
    Le = I.compile = function(e, t) {
        var i, s = [],
            n = [],
            a = Ye[e + " "];
        if (!a) {
            for (i = (t = t || vt(e)).length; i--;)((a = function e(t) {
                for (var s, i, n, a = t.length, o = _.relative[t[0].type], r = o || _.relative[" "], l = o ? 1 : 0, d = bt(function(e) {
                        return e === s
                    }, r, !0), c = bt(function(e) {
                        return -1 < Ke.call(s, e)
                    }, r, !0), u = [function(e, t, i) {
                        return !o && (i || t !== Fe) || ((s = t).nodeType ? d : c)(e, t, i)
                    }]; l < a; l++)
                    if (i = _.relative[t[l].type]) u = [bt(wt(u), i)];
                    else {
                        if ((i = _.filter[t[l].type].apply(null, t[l].matches))[E]) {
                            for (n = ++l; n < a && !_.relative[t[n].type]; n++);
                            return Ct(1 < l && wt(u), 1 < l && yt(t.slice(0, l - 1)).replace(tt, "$1"), i, l < n && e(t.slice(l, n)), n < a && e(t = t.slice(n)), n < a && yt(t))
                        }
                        u.push(i)
                    } return wt(u)
            }(t[i]))[E] ? s : n).push(a);
            a = Ye(e, kt(n, s))
        }
        return a
    }, _.pseudos.nth = _.pseudos.eq, _.filters = xt.prototype = _.pseudos, _.setFilters = new xt, Oe(), I.attr = k.attr, k.find = I, k.expr = I.selectors, k.expr[":"] = k.expr.pseudos, k.unique = I.uniqueSort, k.text = I.getText, k.isXMLDoc = I.isXML, k.contains = I.contains;
    var St = /Until$/,
        Tt = /^(?:parents|prev(?:Until|All))/,
        Et = /^.[^:#\[\.,]*$/,
        At = k.expr.match.needsContext,
        Pt = {
            children: !0,
            contents: !0,
            next: !0,
            prev: !0
        };

    function $t(e, t) {
        for (;
            (e = e[t]) && 1 !== e.nodeType;);
        return e
    }

    function Mt(e, i, s) {
        if (i = i || 0, k.isFunction(i)) return k.grep(e, function(e, t) {
            return !!i.call(e, t, e) === s
        });
        if (i.nodeType) return k.grep(e, function(e) {
            return e === i === s
        });
        if ("string" == typeof i) {
            var t = k.grep(e, function(e) {
                return 1 === e.nodeType
            });
            if (Et.test(i)) return k.filter(i, t, !s);
            i = k.filter(i, t)
        }
        return k.grep(e, function(e) {
            return 0 <= k.inArray(e, i) === s
        })
    }

    function Dt(e) {
        var t = It.split("|"),
            i = e.createDocumentFragment();
        if (i.createElement)
            for (; t.length;) i.createElement(t.pop());
        return i
    }
    k.fn.extend({
        find: function(e) {
            var t, i, s, n = this.length;
            if ("string" != typeof e) return (s = this).pushStack(k(e).filter(function() {
                for (t = 0; t < n; t++)
                    if (k.contains(s[t], this)) return !0
            }));
            for (i = [], t = 0; t < n; t++) k.find(e, this[t], i);
            return (i = this.pushStack(1 < n ? k.unique(i) : i)).selector = (this.selector ? this.selector + " " : "") + e, i
        },
        has: function(e) {
            var t, i = k(e, this),
                s = i.length;
            return this.filter(function() {
                for (t = 0; t < s; t++)
                    if (k.contains(this, i[t])) return !0
            })
        },
        not: function(e) {
            return this.pushStack(Mt(this, e, !1))
        },
        filter: function(e) {
            return this.pushStack(Mt(this, e, !0))
        },
        is: function(e) {
            return !!e && ("string" == typeof e ? At.test(e) ? 0 <= k(e, this.context).index(this[0]) : 0 < k.filter(e, this).length : 0 < this.filter(e).length)
        },
        closest: function(e, t) {
            for (var i, s = 0, n = this.length, a = [], o = At.test(e) || "string" != typeof e ? k(e, t || this.context) : 0; s < n; s++)
                for (i = this[s]; i && i.ownerDocument && i !== t && 11 !== i.nodeType;) {
                    if (o ? -1 < o.index(i) : k.find.matchesSelector(i, e)) {
                        a.push(i);
                        break
                    }
                    i = i.parentNode
                }
            return this.pushStack(1 < a.length ? k.unique(a) : a)
        },
        index: function(e) {
            return e ? "string" == typeof e ? k.inArray(this[0], k(e)) : k.inArray(e.jquery ? e[0] : e, this) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
        },
        add: function(e, t) {
            t = "string" == typeof e ? k(e, t) : k.makeArray(e && e.nodeType ? [e] : e), e = k.merge(this.get(), t);
            return this.pushStack(k.unique(e))
        },
        addBack: function(e) {
            return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
        }
    }), k.fn.andSelf = k.fn.addBack, k.each({
        parent: function(e) {
            e = e.parentNode;
            return e && 11 !== e.nodeType ? e : null
        },
        parents: function(e) {
            return k.dir(e, "parentNode")
        },
        parentsUntil: function(e, t, i) {
            return k.dir(e, "parentNode", i)
        },
        next: function(e) {
            return $t(e, "nextSibling")
        },
        prev: function(e) {
            return $t(e, "previousSibling")
        },
        nextAll: function(e) {
            return k.dir(e, "nextSibling")
        },
        prevAll: function(e) {
            return k.dir(e, "previousSibling")
        },
        nextUntil: function(e, t, i) {
            return k.dir(e, "nextSibling", i)
        },
        prevUntil: function(e, t, i) {
            return k.dir(e, "previousSibling", i)
        },
        siblings: function(e) {
            return k.sibling((e.parentNode || {}).firstChild, e)
        },
        children: function(e) {
            return k.sibling(e.firstChild)
        },
        contents: function(e) {
            return k.nodeName(e, "iframe") ? e.contentDocument || e.contentWindow.document : k.merge([], e.childNodes)
        }
    }, function(s, n) {
        k.fn[s] = function(e, t) {
            var i = k.map(this, n, e);
            return (t = St.test(s) ? t : e) && "string" == typeof t && (i = k.filter(t, i)), i = 1 < this.length && !Pt[s] ? k.unique(i) : i, 1 < this.length && Tt.test(s) && (i = i.reverse()), this.pushStack(i)
        }
    }), k.extend({
        filter: function(e, t, i) {
            return i && (e = ":not(" + e + ")"), 1 === t.length ? k.find.matchesSelector(t[0], e) ? [t[0]] : [] : k.find.matches(e, t)
        },
        dir: function(e, t, i) {
            for (var s = [], n = e[t]; n && 9 !== n.nodeType && (i === C || 1 !== n.nodeType || !k(n).is(i));) 1 === n.nodeType && s.push(n), n = n[t];
            return s
        },
        sibling: function(e, t) {
            for (var i = []; e; e = e.nextSibling) 1 === e.nodeType && e !== t && i.push(e);
            return i
        }
    });
    var It = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
        Lt = / jQuery\d+="(?:null|\d+)"/g,
        jt = RegExp("<(?:" + It + ")[\\s/>]", "i"),
        Ft = /^\s+/,
        Ot = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
        qt = /<([\w:]+)/,
        Nt = /<tbody/i,
        Rt = /<|&#?\w+;/,
        Bt = /<(?:script|style|link)/i,
        Ut = /^(?:checkbox|radio)$/i,
        Vt = /checked\s*(?:[^=]|=\s*.checked.)/i,
        Ht = /^$|\/(?:java|ecma)script/i,
        zt = /^true\/(.*)/,
        Wt = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
        v = {
            option: [1, "<select multiple='multiple'>", "</select>"],
            legend: [1, "<fieldset>", "</fieldset>"],
            area: [1, "<map>", "</map>"],
            param: [1, "<object>", "</object>"],
            thead: [1, "<table>", "</table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
            td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            _default: k.support.htmlSerialize ? [0, "", ""] : [1, "X<div>", "</div>"]
        },
        Yt = Dt(g).appendChild(g.createElement("div"));

    function Gt(e) {
        var t = e.getAttributeNode("type");
        return e.type = (t && t.specified) + "/" + e.type, e
    }

    function Xt(e) {
        var t = zt.exec(e.type);
        return t ? e.type = t[1] : e.removeAttribute("type"), e
    }

    function Jt(e, t) {
        for (var i, s = 0; null != (i = e[s]); s++) k._data(i, "globalEval", !t || k._data(t[s], "globalEval"))
    }

    function Kt(e, t) {
        if (1 === t.nodeType && k.hasData(e)) {
            var i, s, n, e = k._data(e),
                a = k._data(t, e),
                o = e.events;
            if (o)
                for (i in delete a.handle, a.events = {}, o)
                    for (s = 0, n = o[i].length; s < n; s++) k.event.add(t, i, o[i][s]);
            a.data && (a.data = k.extend({}, a.data))
        }
    }

    function y(e, t) {
        var i, s, n = 0,
            a = typeof e.getElementsByTagName != m ? e.getElementsByTagName(t || "*") : typeof e.querySelectorAll != m ? e.querySelectorAll(t || "*") : C;
        if (!a)
            for (a = [], i = e.childNodes || e; null != (s = i[n]); n++) !t || k.nodeName(s, t) ? a.push(s) : k.merge(a, y(s, t));
        return t === C || t && k.nodeName(e, t) ? k.merge([e], a) : a
    }

    function Qt(e) {
        Ut.test(e.type) && (e.defaultChecked = e.checked)
    }
    v.optgroup = v.option, v.tbody = v.tfoot = v.colgroup = v.caption = v.thead, v.th = v.td, k.fn.extend({
        text: function(e) {
            return k.access(this, function(e) {
                return e === C ? k.text(this) : this.empty().append((this[0] && this[0].ownerDocument || g).createTextNode(e))
            }, null, e, arguments.length)
        },
        wrapAll: function(t) {
            var e;
            return k.isFunction(t) ? this.each(function(e) {
                k(this).wrapAll(t.call(this, e))
            }) : (this[0] && (e = k(t, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && e.insertBefore(this[0]), e.map(function() {
                for (var e = this; e.firstChild && 1 === e.firstChild.nodeType;) e = e.firstChild;
                return e
            }).append(this)), this)
        },
        wrapInner: function(i) {
            return k.isFunction(i) ? this.each(function(e) {
                k(this).wrapInner(i.call(this, e))
            }) : this.each(function() {
                var e = k(this),
                    t = e.contents();
                t.length ? t.wrapAll(i) : e.append(i)
            })
        },
        wrap: function(t) {
            var i = k.isFunction(t);
            return this.each(function(e) {
                k(this).wrapAll(i ? t.call(this, e) : t)
            })
        },
        unwrap: function() {
            return this.parent().each(function() {
                k.nodeName(this, "body") || k(this).replaceWith(this.childNodes)
            }).end()
        },
        append: function() {
            return this.domManip(arguments, !0, function(e) {
                1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || this.appendChild(e)
            })
        },
        prepend: function() {
            return this.domManip(arguments, !0, function(e) {
                1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || this.insertBefore(e, this.firstChild)
            })
        },
        before: function() {
            return this.domManip(arguments, !1, function(e) {
                this.parentNode && this.parentNode.insertBefore(e, this)
            })
        },
        after: function() {
            return this.domManip(arguments, !1, function(e) {
                this.parentNode && this.parentNode.insertBefore(e, this.nextSibling)
            })
        },
        remove: function(e, t) {
            for (var i, s = 0; null != (i = this[s]); s++)(!e || 0 < k.filter(e, [i]).length) && (t || 1 !== i.nodeType || k.cleanData(y(i)), i.parentNode) && (t && k.contains(i.ownerDocument, i) && Jt(y(i, "script")), i.parentNode.removeChild(i));
            return this
        },
        empty: function() {
            for (var e, t = 0; null != (e = this[t]); t++) {
                for (1 === e.nodeType && k.cleanData(y(e, !1)); e.firstChild;) e.removeChild(e.firstChild);
                e.options && k.nodeName(e, "select") && (e.options.length = 0)
            }
            return this
        },
        clone: function(e, t) {
            return e = null != e && e, t = null == t ? e : t, this.map(function() {
                return k.clone(this, e, t)
            })
        },
        html: function(e) {
            return k.access(this, function(e) {
                var t = this[0] || {},
                    i = 0,
                    s = this.length;
                if (e === C) return 1 === t.nodeType ? t.innerHTML.replace(Lt, "") : C;
                if (!("string" != typeof e || Bt.test(e) || !k.support.htmlSerialize && jt.test(e) || !k.support.leadingWhitespace && Ft.test(e) || v[(qt.exec(e) || ["", ""])[1].toLowerCase()])) {
                    e = e.replace(Ot, "<$1></$2>");
                    try {
                        for (; i < s; i++) 1 === (t = this[i] || {}).nodeType && (k.cleanData(y(t, !1)), t.innerHTML = e);
                        t = 0
                    } catch (e) {}
                }
                t && this.empty().append(e)
            }, null, e, arguments.length)
        },
        replaceWith: function(e) {
            return k.isFunction(e) || "string" == typeof e || (e = k(e).not(this).detach()), this.domManip([e], !0, function(e) {
                var t = this.nextSibling,
                    i = this.parentNode;
                i && (k(this).remove(), i.insertBefore(e, t))
            })
        },
        detach: function(e) {
            return this.remove(e, !0)
        },
        domManip: function(i, s, n) {
            i = V.apply([], i);
            var e, t, a, o, r, l, d, c, u = 0,
                h = this.length,
                p = this,
                f = h - 1,
                m = i[0],
                g = k.isFunction(m);
            if (g || !(h <= 1 || "string" != typeof m || k.support.checkClone) && Vt.test(m)) return this.each(function(e) {
                var t = p.eq(e);
                g && (i[0] = m.call(this, e, s ? t.html() : C)), t.domManip(i, s, n)
            });
            if (h && (e = (l = k.buildFragment(i, this[0].ownerDocument, !1, this)).firstChild, 1 === l.childNodes.length && (l = e), e)) {
                for (s = s && k.nodeName(e, "tr"), a = (o = k.map(y(l, "script"), Gt)).length; u < h; u++) t = l, u !== f && (t = k.clone(t, !0, !0), a) && k.merge(o, y(t, "script")), n.call(s && k.nodeName(this[u], "table") ? (d = this[u], c = "tbody", d.getElementsByTagName(c)[0] || d.appendChild(d.ownerDocument.createElement(c))) : this[u], t, u);
                if (a)
                    for (r = o[o.length - 1].ownerDocument, k.map(o, Xt), u = 0; u < a; u++) t = o[u], Ht.test(t.type || "") && !k._data(t, "globalEval") && k.contains(r, t) && (t.src ? k.ajax({
                        url: t.src,
                        type: "GET",
                        dataType: "script",
                        async: !1,
                        global: !1,
                        throws: !0
                    }) : k.globalEval((t.text || t.textContent || t.innerHTML || "").replace(Wt, "")));
                l = e = null
            }
            return this
        }
    }), k.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function(e, o) {
        k.fn[e] = function(e) {
            for (var t, i = 0, s = [], n = k(e), a = n.length - 1; i <= a; i++) t = i === a ? this : this.clone(!0), k(n[i])[o](t), H.apply(s, t.get());
            return this.pushStack(s)
        }
    }), k.extend({
        clone: function(e, t, i) {
            var s, n, a, o, r, l, d, c, u = k.contains(e.ownerDocument, e);
            if (k.support.html5Clone || k.isXMLDoc(e) || !jt.test("<" + e.nodeName + ">") ? a = e.cloneNode(!0) : (Yt.innerHTML = e.outerHTML, Yt.removeChild(a = Yt.firstChild)), !(k.support.noCloneEvent && k.support.noCloneChecked || 1 !== e.nodeType && 11 !== e.nodeType || k.isXMLDoc(e)))
                for (s = y(a), r = y(e), o = 0; null != (n = r[o]); ++o)
                    if (s[o]) {
                        h = void 0;
                        p = void 0;
                        l = void 0;
                        d = void 0;
                        c = void 0;
                        var h = n;
                        var p = s[o];
                        if (1 === p.nodeType) {
                            if (l = p.nodeName.toLowerCase(), !k.support.noCloneEvent && p[k.expando]) {
                                for (d in (c = k._data(p)).events) k.removeEvent(p, d, c.handle);
                                p.removeAttribute(k.expando)
                            }
                            "script" === l && p.text !== h.text ? (Gt(p).text = h.text, Xt(p)) : "object" === l ? (p.parentNode && (p.outerHTML = h.outerHTML), k.support.html5Clone && h.innerHTML && !k.trim(p.innerHTML) && (p.innerHTML = h.innerHTML)) : "input" === l && Ut.test(h.type) ? (p.defaultChecked = p.checked = h.checked, p.value !== h.value && (p.value = h.value)) : "option" === l ? p.defaultSelected = p.selected = h.defaultSelected : "input" !== l && "textarea" !== l || (p.defaultValue = h.defaultValue)
                        }
                    } if (t)
                if (i)
                    for (r = r || y(e), s = s || y(a), o = 0; null != (n = r[o]); o++) Kt(n, s[o]);
                else Kt(e, a);
            return 0 < (s = y(a, "script")).length && Jt(s, !u && y(e, "script")), s = r = n = null, a
        },
        buildFragment: function(e, t, i, s) {
            for (var n, a, o, r, l, d, c, u = e.length, h = Dt(t), p = [], f = 0; f < u; f++)
                if ((a = e[f]) || 0 === a)
                    if ("object" === k.type(a)) k.merge(p, a.nodeType ? [a] : a);
                    else if (Rt.test(a)) {
                for (r = r || h.appendChild(t.createElement("div")), l = (qt.exec(a) || ["", ""])[1].toLowerCase(), r.innerHTML = (c = v[l] || v._default)[1] + a.replace(Ot, "<$1></$2>") + c[2], n = c[0]; n--;) r = r.lastChild;
                if (!k.support.leadingWhitespace && Ft.test(a) && p.push(t.createTextNode(Ft.exec(a)[0])), !k.support.tbody)
                    for (n = (a = "table" !== l || Nt.test(a) ? "<table>" !== c[1] || Nt.test(a) ? 0 : r : r.firstChild) && a.childNodes.length; n--;) k.nodeName(d = a.childNodes[n], "tbody") && !d.childNodes.length && a.removeChild(d);
                for (k.merge(p, r.childNodes), r.textContent = ""; r.firstChild;) r.removeChild(r.firstChild);
                r = h.lastChild
            } else p.push(t.createTextNode(a));
            for (r && h.removeChild(r), k.support.appendChecked || k.grep(y(p, "input"), Qt), f = 0; a = p[f++];)
                if ((!s || -1 === k.inArray(a, s)) && (o = k.contains(a.ownerDocument, a), r = y(h.appendChild(a), "script"), o && Jt(r), i))
                    for (n = 0; a = r[n++];) Ht.test(a.type || "") && i.push(a);
            return r = null, h
        },
        cleanData: function(e, t) {
            for (var i, s, n, a, o = 0, r = k.expando, l = k.cache, d = k.support.deleteExpando, c = k.event.special; null != (i = e[o]); o++)
                if ((t || k.acceptData(i)) && (a = (n = i[r]) && l[n])) {
                    if (a.events)
                        for (s in a.events) c[s] ? k.event.remove(i, s) : k.removeEvent(i, s, a.handle);
                    l[n] && (delete l[n], d ? delete i[r] : typeof i.removeAttribute != m ? i.removeAttribute(r) : i[r] = null, u.push(n))
                }
        }
    });
    var Zt, d, h, ei = /alpha\([^)]*\)/i,
        ti = /opacity\s*=\s*([^)]*)/,
        ii = /^(top|right|bottom|left)$/,
        si = /^(none|table(?!-c[ea]).+)/,
        ni = /^margin/,
        ai = RegExp("^(" + X + ")(.*)$", "i"),
        oi = RegExp("^(" + X + ")(?!px)[a-z%]+$", "i"),
        ri = RegExp("^([+-])=(" + X + ")", "i"),
        li = {
            BODY: "block"
        },
        di = {
            position: "absolute",
            visibility: "hidden",
            display: "block"
        },
        ci = {
            letterSpacing: 0,
            fontWeight: 400
        },
        p = ["Top", "Right", "Bottom", "Left"],
        ui = ["Webkit", "O", "Moz", "ms"];

    function hi(e, t) {
        if (t in e) return t;
        for (var i = t.charAt(0).toUpperCase() + t.slice(1), s = t, n = ui.length; n--;)
            if ((t = ui[n] + i) in e) return t;
        return s
    }

    function pi(e, t) {
        return "none" === k.css(e = t || e, "display") || !k.contains(e.ownerDocument, e)
    }

    function fi(e, t) {
        for (var i, s, n, a = [], o = 0, r = e.length; o < r; o++)(s = e[o]).style && (a[o] = k._data(s, "olddisplay"), i = s.style.display, t ? (a[o] || "none" !== i || (s.style.display = ""), "" === s.style.display && pi(s) && (a[o] = k._data(s, "olddisplay", yi(s.nodeName)))) : !a[o] && (n = pi(s), i && "none" !== i || !n) && k._data(s, "olddisplay", n ? i : k.css(s, "display")));
        for (o = 0; o < r; o++) !(s = e[o]).style || t && "none" !== s.style.display && "" !== s.style.display || (s.style.display = t ? a[o] || "" : "none");
        return e
    }

    function mi(e, t, i) {
        var s = ai.exec(t);
        return s ? Math.max(0, s[1] - (i || 0)) + (s[2] || "px") : t
    }

    function gi(e, t, i, s, n) {
        for (var a = i === (s ? "border" : "content") ? 4 : "width" === t ? 1 : 0, o = 0; a < 4; a += 2) "margin" === i && (o += k.css(e, i + p[a], !0, n)), s ? ("content" === i && (o -= k.css(e, "padding" + p[a], !0, n)), "margin" !== i && (o -= k.css(e, "border" + p[a] + "Width", !0, n))) : (o += k.css(e, "padding" + p[a], !0, n), "padding" !== i && (o += k.css(e, "border" + p[a] + "Width", !0, n)));
        return o
    }

    function vi(e, t, i) {
        var s = !0,
            n = "width" === t ? e.offsetWidth : e.offsetHeight,
            a = d(e),
            o = k.support.boxSizing && "border-box" === k.css(e, "boxSizing", !1, a);
        if (n <= 0 || null == n) {
            if (((n = h(e, t, a)) < 0 || null == n) && (n = e.style[t]), oi.test(n)) return n;
            s = o && (k.support.boxSizingReliable || n === e.style[t]), n = parseFloat(n) || 0
        }
        return n + gi(e, t, i || (o ? "border" : "content"), s, a) + "px"
    }

    function yi(e) {
        var t = g,
            i = li[e];
        return i || ("none" !== (i = bi(e, t)) && i || ((t = ((Zt = (Zt || k("<iframe frameborder='0' width='0' height='0'/>").css("cssText", "display:block !important")).appendTo(t.documentElement))[0].contentWindow || Zt[0].contentDocument).document).write("<!doctype html><html><body>"), t.close(), i = bi(e, t), Zt.detach()), li[e] = i), i
    }

    function bi(e, t) {
        e = k(t.createElement(e)).appendTo(t.body), t = k.css(e[0], "display");
        return e.remove(), t
    }
    k.fn.extend({
        css: function(e, t) {
            return k.access(this, function(e, t, i) {
                var s, n, a = {},
                    o = 0;
                if (k.isArray(t)) {
                    for (n = d(e), s = t.length; o < s; o++) a[t[o]] = k.css(e, t[o], !1, n);
                    return a
                }
                return i !== C ? k.style(e, t, i) : k.css(e, t)
            }, e, t, 1 < arguments.length)
        },
        show: function() {
            return fi(this, !0)
        },
        hide: function() {
            return fi(this)
        },
        toggle: function(e) {
            var t = "boolean" == typeof e;
            return this.each(function() {
                (t ? e : pi(this)) ? k(this).show(): k(this).hide()
            })
        }
    }), k.extend({
        cssHooks: {
            opacity: {
                get: function(e, t) {
                    if (t) return "" === (t = h(e, "opacity")) ? "1" : t
                }
            }
        },
        cssNumber: {
            columnCount: !0,
            fillOpacity: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            float: k.support.cssFloat ? "cssFloat" : "styleFloat"
        },
        style: function(e, t, i, s) {
            if (e && 3 !== e.nodeType && 8 !== e.nodeType && e.style) {
                var n, a, o, r = k.camelCase(t),
                    l = e.style;
                if (t = k.cssProps[r] || (k.cssProps[r] = hi(l, r)), o = k.cssHooks[t] || k.cssHooks[r], i === C) return o && "get" in o && (n = o.get(e, !1, s)) !== C ? n : l[t];
                if ("string" === (a = typeof i) && (n = ri.exec(i)) && (i = (n[1] + 1) * n[2] + parseFloat(k.css(e, t)), a = "number"), !(null == i || "number" === a && isNaN(i) || ("number" !== a || k.cssNumber[r] || (i += "px"), k.support.clearCloneStyle || "" !== i || 0 !== t.indexOf("background") || (l[t] = "inherit"), o && "set" in o && (i = o.set(e, i, s)) === C))) try {
                    l[t] = i
                } catch (e) {}
            }
        },
        css: function(e, t, i, s) {
            var n, a = k.camelCase(t);
            return t = k.cssProps[a] || (k.cssProps[a] = hi(e.style, a)), "normal" === (n = (n = (a = k.cssHooks[t] || k.cssHooks[a]) && "get" in a ? a.get(e, !0, i) : n) === C ? h(e, t, s) : n) && t in ci && (n = ci[t]), ("" === i || i) && (a = parseFloat(n), !0 === i || k.isNumeric(a)) ? a || 0 : n
        },
        swap: function(e, t, i, s) {
            var n, a = {};
            for (n in t) a[n] = e.style[n], e.style[n] = t[n];
            for (n in i = i.apply(e, s || []), t) e.style[n] = a[n];
            return i
        }
    }), f.getComputedStyle ? (d = function(e) {
        return f.getComputedStyle(e, null)
    }, h = function(e, t, i) {
        var s, i = i || d(e),
            n = i ? i.getPropertyValue(t) || i[t] : C,
            a = e.style;
        return i && ("" !== n || k.contains(e.ownerDocument, e) || (n = k.style(e, t)), oi.test(n)) && ni.test(t) && (e = a.width, t = a.minWidth, s = a.maxWidth, a.minWidth = a.maxWidth = a.width = n, n = i.width, a.width = e, a.minWidth = t, a.maxWidth = s), n
    }) : g.documentElement.currentStyle && (d = function(e) {
        return e.currentStyle
    }, h = function(e, t, i) {
        var s, n, a, i = i || d(e),
            i = i ? i[t] : C,
            o = e.style;
        return null == i && o && o[t] && (i = o[t]), oi.test(i) && !ii.test(t) && (s = o.left, (a = (n = e.runtimeStyle) && n.left) && (n.left = e.currentStyle.left), o.left = "fontSize" === t ? "1em" : i, i = o.pixelLeft + "px", o.left = s, a) && (n.left = a), "" === i ? "auto" : i
    }), k.each(["height", "width"], function(e, n) {
        k.cssHooks[n] = {
            get: function(e, t, i) {
                return t ? 0 === e.offsetWidth && si.test(k.css(e, "display")) ? k.swap(e, di, function() {
                    return vi(e, n, i)
                }) : vi(e, n, i) : C
            },
            set: function(e, t, i) {
                var s = i && d(e);
                return mi(0, t, i ? gi(e, n, i, k.support.boxSizing && "border-box" === k.css(e, "boxSizing", !1, s), s) : 0)
            }
        }
    }), k.support.opacity || (k.cssHooks.opacity = {
        get: function(e, t) {
            return ti.test((t && e.currentStyle ? e.currentStyle : e.style).filter || "") ? .01 * parseFloat(RegExp.$1) + "" : t ? "1" : ""
        },
        set: function(e, t) {
            var i = e.style,
                e = e.currentStyle,
                s = k.isNumeric(t) ? "alpha(opacity=" + 100 * t + ")" : "",
                n = e && e.filter || i.filter || "";
            ((i.zoom = 1) <= t || "" === t) && "" === k.trim(n.replace(ei, "")) && i.removeAttribute && (i.removeAttribute("filter"), "" === t || e && !e.filter) || (i.filter = ei.test(n) ? n.replace(ei, s) : n + " " + s)
        }
    }), k(function() {
        k.support.reliableMarginRight || (k.cssHooks.marginRight = {
            get: function(e, t) {
                return t ? k.swap(e, {
                    display: "inline-block"
                }, h, [e, "marginRight"]) : C
            }
        }), !k.support.pixelPosition && k.fn.position && k.each(["top", "left"], function(e, i) {
            k.cssHooks[i] = {
                get: function(e, t) {
                    return t ? (t = h(e, i), oi.test(t) ? k(e).position()[i] + "px" : t) : C
                }
            }
        })
    }), k.expr && k.expr.filters && (k.expr.filters.hidden = function(e) {
        return e.offsetWidth <= 0 && e.offsetHeight <= 0 || !k.support.reliableHiddenOffsets && "none" === (e.style && e.style.display || k.css(e, "display"))
    }, k.expr.filters.visible = function(e) {
        return !k.expr.filters.hidden(e)
    }), k.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function(n, a) {
        k.cssHooks[n + a] = {
            expand: function(e) {
                for (var t = 0, i = {}, s = "string" == typeof e ? e.split(" ") : [e]; t < 4; t++) i[n + p[t] + a] = s[t] || s[t - 2] || s[0];
                return i
            }
        }, ni.test(n) || (k.cssHooks[n + a].set = mi)
    });
    var wi = /%20/g,
        _i = /\[\]$/,
        Ci = /\r?\n/g,
        ki = /^(?:submit|button|image|reset|file)$/i,
        xi = /^(?:input|select|textarea|keygen)/i;
    k.fn.extend({
        serialize: function() {
            return k.param(this.serializeArray())
        },
        serializeArray: function() {
            return this.map(function() {
                var e = k.prop(this, "elements");
                return e ? k.makeArray(e) : this
            }).filter(function() {
                var e = this.type;
                return this.name && !k(this).is(":disabled") && xi.test(this.nodeName) && !ki.test(e) && (this.checked || !Ut.test(e))
            }).map(function(e, t) {
                var i = k(this).val();
                return null == i ? null : k.isArray(i) ? k.map(i, function(e) {
                    return {
                        name: t.name,
                        value: e.replace(Ci, "\r\n")
                    }
                }) : {
                    name: t.name,
                    value: i.replace(Ci, "\r\n")
                }
            }).get()
        }
    }), k.param = function(e, t) {
        function i(e, t) {
            t = k.isFunction(t) ? t() : null == t ? "" : t, n[n.length] = encodeURIComponent(e) + "=" + encodeURIComponent(t)
        }
        var s, n = [];
        if (t === C && (t = k.ajaxSettings && k.ajaxSettings.traditional), k.isArray(e) || e.jquery && !k.isPlainObject(e)) k.each(e, function() {
            i(this.name, this.value)
        });
        else
            for (s in e) ! function i(s, e, n, a) {
                if (k.isArray(e)) k.each(e, function(e, t) {
                    n || _i.test(s) ? a(s, t) : i(s + "[" + ("object" == typeof t ? e : "") + "]", t, n, a)
                });
                else if (n || "object" !== k.type(e)) a(s, e);
                else
                    for (var t in e) i(s + "[" + t + "]", e[t], n, a)
            }(s, e[s], t, i);
        return n.join("&").replace(wi, "+")
    }, k.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function(e, i) {
        k.fn[i] = function(e, t) {
            return 0 < arguments.length ? this.on(i, null, e, t) : this.trigger(i)
        }
    }), k.fn.hover = function(e, t) {
        return this.mouseenter(e).mouseleave(t || e)
    };
    var L, j, Si = k.now(),
        Ti = /\?/,
        Ei = /#.*$/,
        Ai = /([?&])_=[^&]*/,
        Pi = /^(.*?):[ \t]*([^\r\n]*)\r?$/gm,
        $i = /^(?:GET|HEAD)$/,
        Mi = /^\/\//,
        Di = /^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,
        Ii = k.fn.load,
        Li = {},
        ji = {},
        Fi = "*/".concat("*");
    try {
        j = N.href
    } catch (e) {
        (j = g.createElement("a")).href = "", j = j.href
    }

    function Oi(a) {
        return function(e, t) {
            "string" != typeof e && (t = e, e = "*");
            var i, s = 0,
                n = e.toLowerCase().match(x) || [];
            if (k.isFunction(t))
                for (; i = n[s++];) "+" === i[0] ? (i = i.slice(1) || "*", (a[i] = a[i] || []).unshift(t)) : (a[i] = a[i] || []).push(t)
        }
    }

    function qi(t, s, n, a) {
        var o = {},
            r = t === ji;

        function l(e) {
            var i;
            return o[e] = !0, k.each(t[e] || [], function(e, t) {
                t = t(s, n, a);
                return "string" != typeof t || r || o[t] ? r ? !(i = t) : C : (s.dataTypes.unshift(t), l(t), !1)
            }), i
        }
        return l(s.dataTypes[0]) || !o["*"] && l("*")
    }

    function Ni(e, t) {
        var i, s, n = k.ajaxSettings.flatOptions || {};
        for (s in t) t[s] !== C && ((n[s] ? e : i = i || {})[s] = t[s]);
        return i && k.extend(!0, e, i), e
    }
    L = Di.exec(j.toLowerCase()) || [], k.fn.load = function(e, t, i) {
        var s, n, a, o, r;
        return "string" != typeof e && Ii ? Ii.apply(this, arguments) : (o = this, 0 <= (r = e.indexOf(" ")) && (s = e.slice(r, e.length), e = e.slice(0, r)), k.isFunction(t) ? (i = t, t = C) : t && "object" == typeof t && (a = "POST"), 0 < o.length && k.ajax({
            url: e,
            type: a,
            dataType: "html",
            data: t
        }).done(function(e) {
            n = arguments, o.html(s ? k("<div>").append(k.parseHTML(e)).find(s) : e)
        }).complete(i && function(e, t) {
            o.each(i, n || [e.responseText, t, e])
        }), this)
    }, k.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(e, t) {
        k.fn[t] = function(e) {
            return this.on(t, e)
        }
    }), k.each(["get", "post"], function(e, n) {
        k[n] = function(e, t, i, s) {
            return k.isFunction(t) && (s = s || i, i = t, t = C), k.ajax({
                url: e,
                type: n,
                dataType: s,
                data: t,
                success: i
            })
        }
    }), k.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: j,
            type: "GET",
            isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(L[1]),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": Fi,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /xml/,
                html: /html/,
                json: /json/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText"
            },
            converters: {
                "* text": f.String,
                "text html": !0,
                "text json": k.parseJSON,
                "text xml": k.parseXML
            },
            flatOptions: {
                url: !0,
                context: !0
            }
        },
        ajaxSetup: function(e, t) {
            return t ? Ni(Ni(e, k.ajaxSettings), t) : Ni(k.ajaxSettings, e)
        },
        ajaxPrefilter: Oi(Li),
        ajaxTransport: Oi(ji),
        ajax: function(e, t) {
            "object" == typeof e && (t = e, e = C);
            var i, d, c, u, h, p, s, f = k.ajaxSetup({}, t = t || {}),
                m = f.context || f,
                g = f.context && (m.nodeType || m.jquery) ? k(m) : k.event,
                v = k.Deferred(),
                y = k.Callbacks("once memory"),
                b = f.statusCode || {},
                n = {},
                a = {},
                w = 0,
                o = "canceled",
                _ = {
                    readyState: 0,
                    getResponseHeader: function(e) {
                        var t;
                        if (2 === w) {
                            if (!s)
                                for (s = {}; t = Pi.exec(c);) s[t[1].toLowerCase()] = t[2];
                            t = s[e.toLowerCase()]
                        }
                        return null == t ? null : t
                    },
                    getAllResponseHeaders: function() {
                        return 2 === w ? c : null
                    },
                    setRequestHeader: function(e, t) {
                        var i = e.toLowerCase();
                        return w || (e = a[i] = a[i] || e, n[e] = t), this
                    },
                    overrideMimeType: function(e) {
                        return w || (f.mimeType = e), this
                    },
                    statusCode: function(e) {
                        if (e)
                            if (w < 2)
                                for (var t in e) b[t] = [b[t], e[t]];
                            else _.always(e[_.status]);
                        return this
                    },
                    abort: function(e) {
                        e = e || o;
                        return p && p.abort(e), r(0, e), this
                    }
                };
            if (v.promise(_).complete = y.add, _.success = _.done, _.error = _.fail, f.url = ((e || f.url || j) + "").replace(Ei, "").replace(Mi, L[1] + "//"), f.type = t.method || t.type || f.method || f.type, f.dataTypes = k.trim(f.dataType || "*").toLowerCase().match(x) || [""], null == f.crossDomain && (e = Di.exec(f.url.toLowerCase()), f.crossDomain = !(!e || e[1] === L[1] && e[2] === L[2] && (e[3] || ("http:" === e[1] ? 80 : 443)) == (L[3] || ("http:" === L[1] ? 80 : 443)))), f.data && f.processData && "string" != typeof f.data && (f.data = k.param(f.data, f.traditional)), qi(Li, f, t, _), 2 !== w) {
                for (i in (h = f.global) && 0 == k.active++ && k.event.trigger("ajaxStart"), f.type = f.type.toUpperCase(), f.hasContent = !$i.test(f.type), d = f.url, f.hasContent || (f.data && (d = f.url += (Ti.test(d) ? "&" : "?") + f.data, delete f.data), !1 === f.cache && (f.url = Ai.test(d) ? d.replace(Ai, "$1_=" + Si++) : d + (Ti.test(d) ? "&" : "?") + "_=" + Si++)), f.ifModified && (k.lastModified[d] && _.setRequestHeader("If-Modified-Since", k.lastModified[d]), k.etag[d]) && _.setRequestHeader("If-None-Match", k.etag[d]), (f.data && f.hasContent && !1 !== f.contentType || t.contentType) && _.setRequestHeader("Content-Type", f.contentType), _.setRequestHeader("Accept", f.dataTypes[0] && f.accepts[f.dataTypes[0]] ? f.accepts[f.dataTypes[0]] + ("*" !== f.dataTypes[0] ? ", " + Fi + "; q=0.01" : "") : f.accepts["*"]), f.headers) _.setRequestHeader(i, f.headers[i]);
                if (f.beforeSend && (!1 === f.beforeSend.call(m, _, f) || 2 === w)) return _.abort();
                for (i in o = "abort", {
                        success: 1,
                        error: 1,
                        complete: 1
                    }) _[i](f[i]);
                if (p = qi(ji, f, t, _)) {
                    _.readyState = 1, h && g.trigger("ajaxSend", [_, f]), f.async && 0 < f.timeout && (u = setTimeout(function() {
                        _.abort("timeout")
                    }, f.timeout));
                    try {
                        w = 1, p.send(n, r)
                    } catch (e) {
                        if (!(w < 2)) throw e;
                        r(-1, e)
                    }
                } else r(-1, "No Transport")
            }
            return _;

            function r(e, t, i, s) {
                var n, a, o, r, l = t;
                2 !== w && (w = 2, u && clearTimeout(u), p = C, c = s || "", _.readyState = 0 < e ? 4 : 0, i && (r = function(e, t, i) {
                    var s, n, a, o, r = e.contents,
                        l = e.dataTypes,
                        d = e.responseFields;
                    for (o in d) o in i && (t[d[o]] = i[o]);
                    for (;
                        "*" === l[0];) l.shift(), n === C && (n = e.mimeType || t.getResponseHeader("Content-Type"));
                    if (n)
                        for (o in r)
                            if (r[o] && r[o].test(n)) {
                                l.unshift(o);
                                break
                            } if (l[0] in i) a = l[0];
                    else {
                        for (o in i) {
                            if (!l[0] || e.converters[o + " " + l[0]]) {
                                a = o;
                                break
                            }
                            s = s || o
                        }
                        a = a || s
                    }
                    return a ? (a !== l[0] && l.unshift(a), i[a]) : C
                }(f, _, i)), 200 <= e && e < 300 || 304 === e ? (f.ifModified && ((s = _.getResponseHeader("Last-Modified")) && (k.lastModified[d] = s), s = _.getResponseHeader("etag")) && (k.etag[d] = s), 204 === e ? (n = !0, l = "nocontent") : 304 === e ? (n = !0, l = "notmodified") : (l = (n = function(e, t) {
                    var i, s, n, a, o = {},
                        r = 0,
                        l = e.dataTypes.slice(),
                        d = l[0];
                    if (e.dataFilter && (t = e.dataFilter(t, e.dataType)), l[1])
                        for (n in e.converters) o[n.toLowerCase()] = e.converters[n];
                    for (; s = l[++r];)
                        if ("*" !== s) {
                            if ("*" !== d && d !== s) {
                                if (!(n = o[d + " " + s] || o["* " + s]))
                                    for (i in o)
                                        if (a = i.split(" "), a[1] === s && (n = o[d + " " + a[0]] || o["* " + a[0]])) {
                                            !0 === n ? n = o[i] : !0 !== o[i] && (s = a[0], l.splice(r--, 0, s));
                                            break
                                        } if (!0 !== n)
                                    if (n && e.throws) t = n(t);
                                    else try {
                                        t = n(t)
                                    } catch (e) {
                                        return {
                                            state: "parsererror",
                                            error: n ? e : "No conversion from " + d + " to " + s
                                        }
                                    }
                            }
                            d = s
                        } return {
                        state: "success",
                        data: t
                    }
                }(f, r)).state, a = n.data, n = !(o = n.error))) : (o = l, (e || !l) && (l = "error", e < 0) && (e = 0)), _.status = e, _.statusText = (t || l) + "", n ? v.resolveWith(m, [a, l, _]) : v.rejectWith(m, [_, l, o]), _.statusCode(b), b = C, h && g.trigger(n ? "ajaxSuccess" : "ajaxError", [_, f, n ? a : o]), y.fireWith(m, [_, l]), h) && (g.trigger("ajaxComplete", [_, f]), --k.active || k.event.trigger("ajaxStop"))
            }
        },
        getScript: function(e, t) {
            return k.get(e, C, t, "script")
        },
        getJSON: function(e, t, i) {
            return k.get(e, t, i, "json")
        }
    }), k.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /(?:java|ecma)script/
        },
        converters: {
            "text script": function(e) {
                return k.globalEval(e), e
            }
        }
    }), k.ajaxPrefilter("script", function(e) {
        e.cache === C && (e.cache = !1), e.crossDomain && (e.type = "GET", e.global = !1)
    }), k.ajaxTransport("script", function(t) {
        var s, n;
        if (t.crossDomain) return n = g.head || k("head")[0] || g.documentElement, {
            send: function(e, i) {
                (s = g.createElement("script")).async = !0, t.scriptCharset && (s.charset = t.scriptCharset), s.src = t.url, s.onload = s.onreadystatechange = function(e, t) {
                    !t && s.readyState && !/loaded|complete/.test(s.readyState) || (s.onload = s.onreadystatechange = null, s.parentNode && s.parentNode.removeChild(s), s = null, t) || i(200, "success")
                }, n.insertBefore(s, n.firstChild)
            },
            abort: function() {
                s && s.onload(C, !0)
            }
        }
    });
    var Ri = [],
        Bi = /(=)\?(?=&|$)|\?\?/;
    k.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            var e = Ri.pop() || k.expando + "_" + Si++;
            return this[e] = !0, e
        }
    }), k.ajaxPrefilter("json jsonp", function(e, t, i) {
        var s, n, a, o = !1 !== e.jsonp && (Bi.test(e.url) ? "url" : "string" == typeof e.data && !(e.contentType || "").indexOf("application/x-www-form-urlencoded") && Bi.test(e.data) && "data");
        return o || "jsonp" === e.dataTypes[0] ? (s = e.jsonpCallback = k.isFunction(e.jsonpCallback) ? e.jsonpCallback() : e.jsonpCallback, o ? e[o] = e[o].replace(Bi, "$1" + s) : !1 !== e.jsonp && (e.url += (Ti.test(e.url) ? "&" : "?") + e.jsonp + "=" + s), e.converters["script json"] = function() {
            return a || k.error(s + " was not called"), a[0]
        }, e.dataTypes[0] = "json", n = f[s], f[s] = function() {
            a = arguments
        }, i.always(function() {
            f[s] = n, e[s] && (e.jsonpCallback = t.jsonpCallback, Ri.push(s)), a && k.isFunction(n) && n(a[0]), a = n = C
        }), "script") : C
    });
    var Ui, Vi = 0,
        Hi = f.ActiveXObject && function() {
            for (var e in Ui) Ui[e](C, !0)
        };

    function zi() {
        try {
            return new f.XMLHttpRequest
        } catch (e) {}
    }
    k.ajaxSettings.xhr = f.ActiveXObject ? function() {
        return !this.isLocal && zi() || function() {
            try {
                return new f.ActiveXObject("Microsoft.XMLHTTP")
            } catch (e) {}
        }()
    } : zi, Qe = k.ajaxSettings.xhr(), k.support.cors = !!Qe && "withCredentials" in Qe, (k.support.ajax = !!Qe) && k.ajaxTransport(function(d) {
        var c;
        if (!d.crossDomain || k.support.cors) return {
            send: function(e, o) {
                var r, t, l = d.xhr();
                if (d.username ? l.open(d.type, d.url, d.async, d.username, d.password) : l.open(d.type, d.url, d.async), d.xhrFields)
                    for (t in d.xhrFields) l[t] = d.xhrFields[t];
                d.mimeType && l.overrideMimeType && l.overrideMimeType(d.mimeType), d.crossDomain || e["X-Requested-With"] || (e["X-Requested-With"] = "XMLHttpRequest");
                try {
                    for (t in e) l.setRequestHeader(t, e[t])
                } catch (e) {}
                l.send(d.hasContent && d.data || null), c = function(e, t) {
                    var i, s, n, a;
                    try {
                        if (c && (t || 4 === l.readyState))
                            if (c = C, r && (l.onreadystatechange = k.noop, Hi) && delete Ui[r], t) 4 !== l.readyState && l.abort();
                            else {
                                a = {}, i = l.status, s = l.getAllResponseHeaders(), "string" == typeof l.responseText && (a.text = l.responseText);
                                try {
                                    n = l.statusText
                                } catch (e) {
                                    n = ""
                                }
                                i || !d.isLocal || d.crossDomain ? 1223 === i && (i = 204) : i = a.text ? 200 : 404
                            }
                    } catch (e) {
                        t || o(-1, e)
                    }
                    a && o(i, n, a, s)
                }, d.async ? 4 === l.readyState ? setTimeout(c) : (r = ++Vi, Hi && (Ui || (Ui = {}, k(f).unload(Hi)), Ui[r] = c), l.onreadystatechange = c) : c()
            },
            abort: function() {
                c && c(C, !0)
            }
        }
    });
    var Wi, Yi, Gi = /^(?:toggle|show|hide)$/,
        Xi = RegExp("^(?:([+-])=|)(" + X + ")([a-z%]*)$", "i"),
        Ji = /queueHooks$/,
        Ki = [function(t, e, i) {
            var s, n, a, o, r, l, d, c, u, h = this,
                p = t.style,
                f = {},
                m = [],
                g = t.nodeType && pi(t);
            for (n in i.queue || (null == (c = k._queueHooks(t, "fx")).unqueued && (c.unqueued = 0, u = c.empty.fire, c.empty.fire = function() {
                    c.unqueued || u()
                }), c.unqueued++, h.always(function() {
                    h.always(function() {
                        c.unqueued--, k.queue(t, "fx").length || c.empty.fire()
                    })
                })), 1 === t.nodeType && ("height" in e || "width" in e) && (i.overflow = [p.overflow, p.overflowX, p.overflowY], "inline" === k.css(t, "display")) && "none" === k.css(t, "float") && (k.support.inlineBlockNeedsLayout && "inline" !== yi(t.nodeName) ? p.zoom = 1 : p.display = "inline-block"), i.overflow && (p.overflow = "hidden", k.support.shrinkWrapBlocks || h.always(function() {
                    p.overflow = i.overflow[0], p.overflowX = i.overflow[1], p.overflowY = i.overflow[2]
                })), e)
                if (o = e[n], Gi.exec(o)) {
                    if (delete e[n], l = l || "toggle" === o, o === (g ? "hide" : "show")) continue;
                    m.push(n)
                } if (a = m.length) {
                "hidden" in (r = k._data(t, "fxshow") || k._data(t, "fxshow", {})) && (g = r.hidden), l && (r.hidden = !g), g ? k(t).show() : h.done(function() {
                    k(t).hide()
                }), h.done(function() {
                    for (var e in k._removeData(t, "fxshow"), f) k.style(t, e, f[e])
                });
                for (n = 0; n < a; n++) s = m[n], d = h.createTween(s, g ? r[s] : 0), f[s] = r[s] || k.style(t, s), s in r || (r[s] = d.start, g && (d.end = d.start, d.start = "width" === s || "height" === s ? 1 : 0))
            }
        }],
        Qi = {
            "*": [function(e, t) {
                var i, s, n = this.createTween(e, t),
                    t = Xi.exec(t),
                    a = n.cur(),
                    o = +a || 0,
                    r = 1,
                    l = 20;
                if (t) {
                    if (i = +t[2], "px" !== (s = t[3] || (k.cssNumber[e] ? "" : "px")) && o)
                        for (o = k.css(n.elem, e, !0) || i || 1; k.style(n.elem, e, (o /= r = r || ".5") + s), r !== (r = n.cur() / a) && 1 !== r && --l;);
                    n.unit = s, n.start = o, n.end = t[1] ? o + (t[1] + 1) * i : i
                }
                return n
            }]
        };

    function Zi() {
        return setTimeout(function() {
            Wi = C
        }), Wi = k.now()
    }

    function es(n, e, t) {
        var i, a, s, o, r, l, d, c, u = 0,
            h = Ki.length,
            p = k.Deferred().always(function() {
                delete f.elem
            }),
            f = function() {
                if (a) return !1;
                for (var e = Wi || Zi(), e = Math.max(0, m.startTime + m.duration - e), t = 1 - (e / m.duration || 0), i = 0, s = m.tweens.length; i < s; i++) m.tweens[i].run(t);
                return p.notifyWith(n, [m, t, e]), t < 1 && s ? e : (p.resolveWith(n, [m]), !1)
            },
            m = p.promise({
                elem: n,
                props: k.extend({}, e),
                opts: k.extend(!0, {
                    specialEasing: {}
                }, t),
                originalProperties: e,
                originalOptions: t,
                startTime: Wi || Zi(),
                duration: t.duration,
                tweens: [],
                createTween: function(e, t) {
                    t = k.Tween(n, m.opts, e, t, m.opts.specialEasing[e] || m.opts.easing);
                    return m.tweens.push(t), t
                },
                stop: function(e) {
                    var t = 0,
                        i = e ? m.tweens.length : 0;
                    if (!a) {
                        for (a = !0; t < i; t++) m.tweens[t].run(1);
                        e ? p.resolveWith(n, [m, e]) : p.rejectWith(n, [m, e])
                    }
                    return this
                }
            }),
            g = m.props,
            v = g,
            y = m.opts.specialEasing;
        for (r in v)
            if (o = k.camelCase(r), l = y[o], s = v[r], k.isArray(s) && (l = s[1], s = v[r] = s[0]), r !== o && (v[o] = s, delete v[r]), d = k.cssHooks[o], d && "expand" in d)
                for (r in s = d.expand(s), delete v[o], s) r in v || (v[r] = s[r], y[r] = l);
            else y[o] = l;
        for (; u < h; u++)
            if (i = Ki[u].call(m, n, g, m.opts)) return i;
        return c = m, k.each(g, function(e, t) {
            for (var i = (Qi[e] || []).concat(Qi["*"]), s = 0, n = i.length; s < n; s++)
                if (i[s].call(c, e, t)) return
        }), k.isFunction(m.opts.start) && m.opts.start.call(n, m), k.fx.timer(k.extend(f, {
            elem: n,
            anim: m,
            queue: m.opts.queue
        })), m.progress(m.opts.progress).done(m.opts.done, m.opts.complete).fail(m.opts.fail).always(m.opts.always)
    }

    function b(e, t, i, s, n) {
        return new b.prototype.init(e, t, i, s, n)
    }

    function ts(e, t) {
        var i, s = {
                height: e
            },
            n = 0;
        for (t = t ? 1 : 0; n < 4; n += 2 - t) s["margin" + (i = p[n])] = s["padding" + i] = e;
        return t && (s.opacity = s.width = e), s
    }

    function is(e) {
        return k.isWindow(e) ? e : 9 === e.nodeType && (e.defaultView || e.parentWindow)
    }
    k.Animation = k.extend(es, {
        tweener: function(e, t) {
            for (var i, s = 0, n = (e = k.isFunction(e) ? (t = e, ["*"]) : e.split(" ")).length; s < n; s++) i = e[s], Qi[i] = Qi[i] || [], Qi[i].unshift(t)
        },
        prefilter: function(e, t) {
            t ? Ki.unshift(e) : Ki.push(e)
        }
    }), ((k.Tween = b).prototype = {
        constructor: b,
        init: function(e, t, i, s, n, a) {
            this.elem = e, this.prop = i, this.easing = n || "swing", this.options = t, this.start = this.now = this.cur(), this.end = s, this.unit = a || (k.cssNumber[i] ? "" : "px")
        },
        cur: function() {
            var e = b.propHooks[this.prop];
            return (e && e.get ? e : b.propHooks._default).get(this)
        },
        run: function(e) {
            var t = b.propHooks[this.prop];
            return this.pos = e = this.options.duration ? k.easing[this.easing](e, this.options.duration * e, 0, 1, this.options.duration) : e, this.now = (this.end - this.start) * e + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), (t && t.set ? t : b.propHooks._default).set(this), this
        }
    }).init.prototype = b.prototype, (b.propHooks = {
        _default: {
            get: function(e) {
                var t;
                return null == e.elem[e.prop] || e.elem.style && null != e.elem.style[e.prop] ? (t = k.css(e.elem, e.prop, "")) && "auto" !== t ? t : 0 : e.elem[e.prop]
            },
            set: function(e) {
                k.fx.step[e.prop] ? k.fx.step[e.prop](e) : e.elem.style && (null != e.elem.style[k.cssProps[e.prop]] || k.cssHooks[e.prop]) ? k.style(e.elem, e.prop, e.now + e.unit) : e.elem[e.prop] = e.now
            }
        }
    }).scrollTop = b.propHooks.scrollLeft = {
        set: function(e) {
            e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now)
        }
    }, k.each(["toggle", "show", "hide"], function(e, s) {
        var n = k.fn[s];
        k.fn[s] = function(e, t, i) {
            return null == e || "boolean" == typeof e ? n.apply(this, arguments) : this.animate(ts(s, !0), e, t, i)
        }
    }), k.fn.extend({
        fadeTo: function(e, t, i, s) {
            return this.filter(pi).css("opacity", 0).show().end().animate({
                opacity: t
            }, e, i, s)
        },
        animate: function(t, e, i, s) {
            var n = k.isEmptyObject(t),
                a = k.speed(e, i, s),
                o = function() {
                    var e = es(this, k.extend({}, t), a);
                    o.finish = function() {
                        e.stop(!0)
                    }, (n || k._data(this, "finish")) && e.stop(!0)
                };
            return o.finish = o, n || !1 === a.queue ? this.each(o) : this.queue(a.queue, o)
        },
        stop: function(n, e, a) {
            function o(e) {
                var t = e.stop;
                delete e.stop, t(a)
            }
            return "string" != typeof n && (a = e, e = n, n = C), e && !1 !== n && this.queue(n || "fx", []), this.each(function() {
                var e = !0,
                    t = null != n && n + "queueHooks",
                    i = k.timers,
                    s = k._data(this);
                if (t) s[t] && s[t].stop && o(s[t]);
                else
                    for (t in s) s[t] && s[t].stop && Ji.test(t) && o(s[t]);
                for (t = i.length; t--;) i[t].elem !== this || null != n && i[t].queue !== n || (i[t].anim.stop(a), e = !1, i.splice(t, 1));
                !e && a || k.dequeue(this, n)
            })
        },
        finish: function(o) {
            return !1 !== o && (o = o || "fx"), this.each(function() {
                var e, t = k._data(this),
                    i = t[o + "queue"],
                    s = t[o + "queueHooks"],
                    n = k.timers,
                    a = i ? i.length : 0;
                for (t.finish = !0, k.queue(this, o, []), s && s.cur && s.cur.finish && s.cur.finish.call(this), e = n.length; e--;) n[e].elem === this && n[e].queue === o && (n[e].anim.stop(!0), n.splice(e, 1));
                for (e = 0; e < a; e++) i[e] && i[e].finish && i[e].finish.call(this);
                delete t.finish
            })
        }
    }), k.each({
        slideDown: ts("show"),
        slideUp: ts("hide"),
        slideToggle: ts("toggle"),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    }, function(e, s) {
        k.fn[e] = function(e, t, i) {
            return this.animate(s, e, t, i)
        }
    }), k.speed = function(e, t, i) {
        var s = e && "object" == typeof e ? k.extend({}, e) : {
            complete: i || !i && t || k.isFunction(e) && e,
            duration: e,
            easing: i && t || t && !k.isFunction(t) && t
        };
        return s.duration = k.fx.off ? 0 : "number" == typeof s.duration ? s.duration : s.duration in k.fx.speeds ? k.fx.speeds[s.duration] : k.fx.speeds._default, null != s.queue && !0 !== s.queue || (s.queue = "fx"), s.old = s.complete, s.complete = function() {
            k.isFunction(s.old) && s.old.call(this), s.queue && k.dequeue(this, s.queue)
        }, s
    }, k.easing = {
        linear: function(e) {
            return e
        },
        swing: function(e) {
            return .5 - Math.cos(e * Math.PI) / 2
        }
    }, k.timers = [], k.fx = b.prototype.init, k.fx.tick = function() {
        var e, t = k.timers,
            i = 0;
        for (Wi = k.now(); t.length > i; i++)(e = t[i])() || t[i] !== e || t.splice(i--, 1);
        t.length || k.fx.stop(), Wi = C
    }, k.fx.timer = function(e) {
        e() && k.timers.push(e) && k.fx.start()
    }, k.fx.interval = 13, k.fx.start = function() {
        Yi = Yi || setInterval(k.fx.tick, k.fx.interval)
    }, k.fx.stop = function() {
        clearInterval(Yi), Yi = null
    }, k.fx.speeds = {
        slow: 600,
        fast: 200,
        _default: 400
    }, k.fx.step = {}, k.expr && k.expr.filters && (k.expr.filters.animated = function(t) {
        return k.grep(k.timers, function(e) {
            return t === e.elem
        }).length
    }), k.fn.offset = function(t) {
        var e, i, s, n;
        return arguments.length ? t === C ? this : this.each(function(e) {
            k.offset.setOffset(this, t, e)
        }) : (i = {
            top: 0,
            left: 0
        }, (n = (s = this[0]) && s.ownerDocument) ? (e = n.documentElement, k.contains(e, s) ? (typeof s.getBoundingClientRect != m && (i = s.getBoundingClientRect()), s = is(n), {
            top: i.top + (s.pageYOffset || e.scrollTop) - (e.clientTop || 0),
            left: i.left + (s.pageXOffset || e.scrollLeft) - (e.clientLeft || 0)
        }) : i) : void 0)
    }, k.offset = {
        setOffset: function(e, t, i) {
            var s, n = k.css(e, "position"),
                a = ("static" === n && (e.style.position = "relative"), k(e)),
                o = a.offset(),
                r = k.css(e, "top"),
                l = k.css(e, "left"),
                d = {},
                n = ("absolute" === n || "fixed" === n) && -1 < k.inArray("auto", [r, l]) ? (s = (n = a.position()).top, n.left) : (s = parseFloat(r) || 0, parseFloat(l) || 0);
            null != (t = k.isFunction(t) ? t.call(e, i, o) : t).top && (d.top = t.top - o.top + s), null != t.left && (d.left = t.left - o.left + n), "using" in t ? t.using.call(e, d) : a.css(d)
        }
    }, k.fn.extend({
        position: function() {
            var e, t, i, s;
            if (this[0]) return i = {
                top: 0,
                left: 0
            }, s = this[0], "fixed" === k.css(s, "position") ? t = s.getBoundingClientRect() : (e = this.offsetParent(), t = this.offset(), (i = k.nodeName(e[0], "html") ? i : e.offset()).top += k.css(e[0], "borderTopWidth", !0), i.left += k.css(e[0], "borderLeftWidth", !0)), {
                top: t.top - i.top - k.css(s, "marginTop", !0),
                left: t.left - i.left - k.css(s, "marginLeft", !0)
            }
        },
        offsetParent: function() {
            return this.map(function() {
                for (var e = this.offsetParent || g.documentElement; e && !k.nodeName(e, "html") && "static" === k.css(e, "position");) e = e.offsetParent;
                return e || g.documentElement
            })
        }
    }), k.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, function(t, n) {
        var a = /Y/.test(n);
        k.fn[t] = function(e) {
            return k.access(this, function(e, t, i) {
                var s = is(e);
                return i === C ? s ? n in s ? s[n] : s.document.documentElement[t] : e[t] : (s ? s.scrollTo(a ? k(s).scrollLeft() : i, a ? i : k(s).scrollTop()) : e[t] = i, C)
            }, t, e, arguments.length, null)
        }
    }), k.each({
        Height: "height",
        Width: "width"
    }, function(a, o) {
        k.each({
            padding: "inner" + a,
            content: o,
            "": "outer" + a
        }, function(s, e) {
            k.fn[e] = function(e, t) {
                var i = arguments.length && (s || "boolean" != typeof e),
                    n = s || (!0 === e || !0 === t ? "margin" : "border");
                return k.access(this, function(e, t, i) {
                    var s;
                    return k.isWindow(e) ? e.document.documentElement["client" + a] : 9 === e.nodeType ? (s = e.documentElement, Math.max(e.body["scroll" + a], s["scroll" + a], e.body["offset" + a], s["offset" + a], s["client" + a])) : i === C ? k.css(e, t, n) : k.style(e, t, i, n)
                }, o, i ? e : C, i, null)
            }
        })
    }), f.jQuery = f.$ = k, "function" == typeof define && define.amd && define.amd.jQuery && define("jquery", [], function() {
        return k
    })
}(window), ! function(e) {
    "function" == typeof define && define.amd ? define(["jquery"], e) : e(jQuery)
}(function(u) {
    var i = /\+/g;

    function h(e) {
        return f.raw ? e : encodeURIComponent(e)
    }

    function p(e, t) {
        e = f.raw ? e : function(e) {
            0 === e.indexOf('"') && (e = e.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, "\\"));
            try {
                return e = decodeURIComponent(e.replace(i, " ")), f.json ? JSON.parse(e) : e
            } catch (e) {}
        }(e);
        return u.isFunction(t) ? t(e) : e
    }
    var f = u.cookie = function(e, t, i) {
        var s, n;
        if (void 0 !== t && !u.isFunction(t)) return "number" == typeof(i = u.extend({}, f.defaults, i)).expires && (s = i.expires, (n = i.expires = new Date).setDate(n.getDate() + s)), document.cookie = [h(e), "=", (n = t, h(f.json ? JSON.stringify(n) : String(n))), i.expires ? "; expires=" + i.expires.toUTCString() : "", i.path ? "; path=" + i.path : "", i.domain ? "; domain=" + i.domain : "", i.secure ? "; secure" : ""].join("");
        for (var a = e ? void 0 : {}, o = document.cookie ? document.cookie.split("; ") : [], r = 0, l = o.length; r < l; r++) {
            var d = o[r].split("="),
                c = (c = d.shift(), f.raw ? c : decodeURIComponent(c)),
                d = d.join("=");
            if (e && e === c) {
                a = p(d, t);
                break
            }
            e || void 0 === (d = p(d)) || (a[c] = d)
        }
        return a
    };
    f.defaults = {}, u.removeCookie = function(e, t) {
        return void 0 !== u.cookie(e) && (u.cookie(e, "", u.extend({}, t, {
            expires: -1
        })), !u.cookie(e))
    }
}), ! function(e) {
    "function" == typeof define && define.amd ? define(["jquery"], e) : "object" == typeof exports ? module.exports = e(require("jquery")) : e(jQuery)
}(function(e) {
    var u, t, i;

    function a(e, t) {
        this.$form = e, this.$input = t, this.reset(), t.on("change paste", this.reset.bind(this))
    }

    function s() {
        return !1
    }
    t = e, i = {
            numHalted: 0,
            haltValidation: function(e) {
                this.numHalted++, t.formUtils.haltValidation = !0, e.unbind("submit", s).bind("submit", s).find('*[type="submit"]').addClass("disabled").attr("disabled", "disabled")
            },
            unHaltValidation: function(e) {
                this.numHalted--, 0 === this.numHalted && (t.formUtils.haltValidation = !1, e.unbind("submit", s).find('*[type="submit"]').removeClass("disabled").removeAttr("disabled", "disabled"))
            }
        }, a.prototype.reset = function() {
            this.haltedFormValidation = !1, this.hasRun = !1, this.isRunning = !1, this.result = void 0
        }, a.prototype.run = function(e, t) {
            return "keyup" === e ? null : this.isRunning ? (this.haltedFormValidation || "submit" !== e || (i.haltValidation(), this.haltedFormValidation = !0), null) : this.hasRun ? this.result : ("submit" === e && (i.haltValidation(this.$form), this.haltedFormValidation = !0), this.isRunning = !0, this.$input.attr("disabled", "disabled").addClass("async-validation"), this.$form.addClass("async-validation"), t(function(e) {
                this.done(e)
            }.bind(this)), null)
        }, a.prototype.done = function(e) {
            this.result = e, this.hasRun = !0, this.isRunning = !1, this.$input.removeAttr("disabled").removeClass("async-validation"), this.$form.removeClass("async-validation"), this.haltedFormValidation ? (i.unHaltValidation(this.$form), this.$form.trigger("submit")) : this.$input.trigger("validation.revalidate")
        }, t.formUtils = t.extend(t.formUtils || {}, {
            asyncValidation: function(e, t, i) {
                var s, n = t.get(0);
                return n.asyncValidators || (n.asyncValidators = {}), n.asyncValidators[e] ? s = n.asyncValidators[e] : (s = new a(i, t), n.asyncValidators[e] = s), s
            }
        }),
        function(o) {
            "use strict";
            o.fn.validateForm = function(e, t) {
                return o.formUtils.warn("Use of deprecated function $.validateForm, use $.isValid instead"), this.isValid(e, t, !0)
            }, o(window).on("formValidationPluginInit", function(e, t) {
                var i, s, n, a;
                a = {
                    se: "sv",
                    cz: "cs",
                    dk: "da"
                }, (n = t).lang in a && (a = a[n.lang], o.formUtils.warn('Deprecated use of lang code "' + n.lang + '" use "' + a + '" instead'), n.lang = a), (s = t) && "custom" === s.errorMessagePosition && "function" == typeof s.errorMessageCustom && (o.formUtils.warn("Use of deprecated function errorMessageCustom, use config.submitErrorMessageCallback instead"), s.submitErrorMessageCallback = function(e, t) {
                    s.errorMessageCustom(e, s.language.errorTitle, t, s)
                }), (n = t).errorMessagePosition && "object" == typeof n.errorMessagePosition && (o.formUtils.warn("Deprecated use of config parameter errorMessagePosition, use config.submitErrorMessageCallback instead"), i = n.errorMessagePosition, n.errorMessagePosition = "top", n.submitErrorMessageCallback = function() {
                    return i
                })
            }).on("validatorsLoaded formValidationSetup", function(e, t) {
                var n;
                t = t || o("form"), (t = (n = t).find("[data-validation-if-checked]")).length && o.formUtils.warn('Detected use of attribute "data-validation-if-checked" which is deprecated. Use "data-validation-depends-on" provided by module "logic"'), t.on("beforeValidation", function() {
                    var e = o(this),
                        t = e.valAttr("if-checked"),
                        t = o('input[name="' + t + '"]', n),
                        i = t.is(":checked"),
                        t = (o.formUtils.getValue(t) || "").toString(),
                        s = e.valAttr("if-checked-value");
                    (!i || s && s !== t) && e.valAttr("skipped", !0)
                })
            })
        }(e),
        function(l) {
            "use strict";
            var s = {
                resolveErrorMessage: function(e, t, i, s, n) {
                    i = s.validationErrorMsgAttribute + "-" + i.replace("validate_", ""), i = e.attr(i);
                    return i = i || (i = e.attr(s.validationErrorMsgAttribute)) ? i : (i = "function" != typeof t.errorMessageKey ? n[t.errorMessageKey] : n[t.errorMessageKey(s)]) || t.errorMessage
                },
                getParentContainer: function(e) {
                    if (e.valAttr("error-msg-container")) return l(e.valAttr("error-msg-container"));
                    e = e.parent();
                    if (!e.hasClass("form-group") && !e.closest("form").hasClass("form-horizontal")) {
                        var t = e.closest(".form-group");
                        if (t.length) return t.eq(0)
                    }
                    return e
                },
                applyInputErrorStyling: function(e, t) {
                    e.addClass(t.errorElementClass).removeClass("valid"), this.getParentContainer(e).addClass(t.inputParentClassOnError).removeClass(t.inputParentClassOnSuccess), "" !== t.borderColorOnError && e.css("border-color", t.borderColorOnError)
                },
                applyInputSuccessStyling: function(e, t) {
                    e.addClass("valid"), this.getParentContainer(e).addClass(t.inputParentClassOnSuccess)
                },
                removeInputStylingAndMessage: function(e, t) {
                    e.removeClass("valid").removeClass(t.errorElementClass).css("border-color", "");
                    var i = s.getParentContainer(e);
                    i.removeClass(t.inputParentClassOnError).removeClass(t.inputParentClassOnSuccess), "function" == typeof t.inlineErrorMessageCallback ? (e = t.inlineErrorMessageCallback(e, !1, t)) && e.html("") : i.find("." + t.errorMessageClass).remove()
                },
                removeAllMessagesAndStyling: function(e, t) {
                    var i;
                    "function" == typeof t.submitErrorMessageCallback ? (i = t.submitErrorMessageCallback(e, !1, t)) && i.html("") : e.find("." + t.errorMessageClass + ".alert").remove(), e.find("." + t.errorElementClass + ",.valid").each(function() {
                        s.removeInputStylingAndMessage(l(this), t)
                    })
                },
                setInlineMessage: function(t, i, s) {
                    this.applyInputErrorStyling(t, s);

                    function e() {
                        var e = !1;
                        o.find("." + s.errorMessageClass).each(function() {
                            if (this.inputReferer === t[0]) return e = l(this), !1
                        }), e ? i ? r(e) : e.remove() : "" !== i && (n = l('<div class="' + s.errorMessageClass + ' alert"></div>'), r(n), n[0].inputReferer = t[0], o.prepend(n))
                    }
                    var n, a = document.getElementById(t.attr("name") + "_err_msg"),
                        o = !1,
                        r = function(e) {
                            l.formUtils.$win.trigger("validationErrorDisplay", [t, e]), e.html(i)
                        };
                    a ? (l.formUtils.warn("Using deprecated element reference " + a.id), o = l(a), e()) : "function" == typeof s.inlineErrorMessageCallback ? (o = s.inlineErrorMessageCallback(t, i, s)) && e() : (a = this.getParentContainer(t), 0 === (n = a.find("." + s.errorMessageClass + ".help-block")).length && (n = l("<span></span>").addClass("help-block").addClass(s.errorMessageClass)).appendTo(a), r(n))
                },
                setMessageInTopOfForm: function(e, t, i, s) {
                    var n, a = '<div class="{errorMessageClass} alert alert-danger"><strong>{errorTitle}</strong><ul>{fields}</ul></div>',
                        o = !1;
                    "function" == typeof i.submitErrorMessageCallback && !(o = i.submitErrorMessageCallback(e, t, i)) || (n = {
                        errorTitle: s.errorTitle,
                        fields: "",
                        errorMessageClass: i.errorMessageClass
                    }, l.each(t, function(e, t) {
                        n.fields += "<li>" + t + "</li>"
                    }), l.each(n, function(e, t) {
                        a = a.replace("{" + e + "}", t)
                    }), o ? o.html(a) : e.children().eq(0).before(l(a)))
                }
            };
            l.formUtils = l.extend(l.formUtils || {}, {
                dialogs: s
            })
        }(e),
        function(c, l) {
            "use strict";
            var n = 0;
            c.fn.validateOnBlur = function(i, s) {
                var n = this,
                    e = this.find("*[data-validation]");
                return e.each(function() {
                    var e, t = c(this);
                    t.is("[type=radio]") && ((e = n.find('[type=radio][name="' + t.attr("name") + '"]')).bind("blur.validation", function() {
                        t.validateInputOnBlur(i, s, !0, "blur")
                    }), s.validateCheckboxRadioOnClick) && e.bind("click.validation", function() {
                        t.validateInputOnBlur(i, s, !0, "click")
                    })
                }), e.bind("blur.validation", function() {
                    c(this).validateInputOnBlur(i, s, !0, "blur")
                }), s.validateCheckboxRadioOnClick && this.find("input[type=checkbox][data-validation],input[type=radio][data-validation]").bind("click.validation", function() {
                    c(this).validateInputOnBlur(i, s, !0, "click")
                }), this
            }, c.fn.validateOnEvent = function(i, s) {
                return ("FORM" === this[0].nodeName ? this.find("*[data-validation-event]") : this).each(function() {
                    var e = c(this),
                        t = e.valAttr("event");
                    t && e.unbind(t + ".validation").bind(t + ".validation", function(e) {
                        9 !== (e || {}).keyCode && c(this).validateInputOnBlur(i, s, !0, t)
                    })
                }), this
            }, c.fn.showHelpOnFocus = function(e) {
                return e = e || "data-validation-help", this.find("textarea,input").each(function() {
                    var t = c(this),
                        i = "jquery_form_help_" + ++n,
                        s = t.attr(e);
                    t.removeClass("has-help-text").unbind("focus.help").unbind("blur.help"), s && t.addClass("has-help-txt").bind("focus.help", function() {
                        var e = t.parent().find("." + i);
                        0 === e.length && (e = c("<span />").addClass(i).addClass("help").addClass("help-block").text(s).hide(), t.after(e)), e.fadeIn()
                    }).bind("blur.help", function() {
                        c(this).parent().find("." + i).fadeOut("slow")
                    })
                }), this
            }, c.fn.validate = function(i, s, e) {
                var n = c.extend({}, c.formUtils.LANG, e || {});
                this.each(function() {
                    var e = c(this),
                        t = (e.closest("form").get(0) || {}).validationConfig || {};
                    e.one("validation", function(e, t) {
                        "function" == typeof i && i(t, this, e)
                    }), e.validateInputOnBlur(n, c.extend({}, t, s || {}), !0)
                })
            }, c.fn.willPostponeValidation = function() {
                return (this.valAttr("suggestion-nr") || this.valAttr("postpone") || this.hasClass("hasDatepicker")) && !l.postponedValidation
            }, c.fn.validateInputOnBlur = function(e, t, i, s) {
                var n, a, o, r;
                return (c.formUtils.eventType = s, this.willPostponeValidation()) ? (o = (n = this).valAttr("postpone") || 200, l.postponedValidation = function() {
                    n.validateInputOnBlur(e, t, i, s), l.postponedValidation = !1
                }, setTimeout(function() {
                    l.postponedValidation && l.postponedValidation()
                }, o)) : (e = c.extend({}, c.formUtils.LANG, e || {}), c.formUtils.dialogs.removeInputStylingAndMessage(this, t), o = (a = this).closest("form"), o = c.formUtils.validateInput(a, e, t, o, s), r = function() {
                    a.validateInputOnBlur(e, t, !1, "blur.revalidated")
                }, "blur" === s && a.unbind("validation.revalidate", r).one("validation.revalidate", r), i && a.removeKeyUpValidation(), o.shouldChangeDisplay && (o.isValid ? c.formUtils.dialogs.applyInputSuccessStyling(a, t) : c.formUtils.dialogs.setInlineMessage(a, o.errorMsg, t)), !o.isValid && i && a.validateOnKeyUp(e, t)), this
            }, c.fn.validateOnKeyUp = function(i, s) {
                return this.each(function() {
                    var t = c(this);
                    t.valAttr("has-keyup-event") || t.valAttr("has-keyup-event", "true").bind("keyup.validation", function(e) {
                        9 !== e.keyCode && t.validateInputOnBlur(i, s, !1, "keyup")
                    })
                }), this
            }, c.fn.removeKeyUpValidation = function() {
                return this.each(function() {
                    c(this).valAttr("has-keyup-event", !1).unbind("keyup.validation")
                }), this
            }, c.fn.valAttr = function(e, t) {
                return void 0 === t ? this.attr("data-validation-" + e) : !1 === t || null === t ? this.removeAttr("data-validation-" + e) : (e = 0 < e.length ? "-" + e : "", this.attr("data-validation" + e, t))
            }, c.fn.isValid = function(a, o, i) {
                var e;
                if (c.formUtils.isLoadingModules) return e = this, setTimeout(function() {
                    e.isValid(a, o, i)
                }, 200), null;
                o = c.extend({}, c.formUtils.defaultConfig(), o || {}), a = c.extend({}, c.formUtils.LANG, a || {}), i = !1 !== i, c.formUtils.errorDisplayPreventedWhenHalted && (delete c.formUtils.errorDisplayPreventedWhenHalted, i = !1);

                function r(e, t) {
                    c.inArray(e, s) < 0 && s.push(e), n.push(t), t.valAttr("current-error", e), i && c.formUtils.dialogs.applyInputErrorStyling(t, o)
                }
                var t, l = [],
                    s = [],
                    n = [],
                    d = this;
                return i && c.formUtils.dialogs.removeAllMessagesAndStyling(d, o), d.find("input,textarea,select").filter(':not([type="submit"],[type="button"])').each(function() {
                    var e, t = c(this),
                        i = t.attr("type"),
                        s = "radio" === i || "checkbox" === i,
                        n = t.attr("name");
                    e = n, "submit" === (i = i) || "button" === i || "reset" === i || -1 < c.inArray(e, o.ignore || []) || s && !(c.inArray(n, l) < 0) || (s && l.push(n), (i = c.formUtils.validateInput(t, a, o, d, "submit")).isValid ? i.isValid && i.shouldChangeDisplay && (t.valAttr("current-error", !1), c.formUtils.dialogs.applyInputSuccessStyling(t, o)) : r(i.errorMsg, t))
                }), "function" == typeof o.onValidate && (t = o.onValidate(d), c.isArray(t) ? c.each(t, function(e, t) {
                    r(t.message, t.element)
                }) : t && t.element && t.message && r(t.message, t.element)), c.formUtils.isValidatingEntireForm = !1, 0 < n.length && i && ("top" === o.errorMessagePosition ? c.formUtils.dialogs.setMessageInTopOfForm(d, s, o, a) : c.each(n, function(e, t) {
                    c.formUtils.dialogs.setInlineMessage(t, t.valAttr("current-error"), o)
                }), o.scrollToTopOnError) && c.formUtils.$win.scrollTop(d.offset().top - 20), !i && c.formUtils.haltValidation && (c.formUtils.errorDisplayPreventedWhenHalted = !0), 0 === n.length && !c.formUtils.haltValidation
            }, c.fn.restrictLength = function(e) {
                return new c.formUtils.lengthRestriction(this, e), this
            }, c.fn.addSuggestions = function(t) {
                var i;
                return this.find("input").each(function() {
                    var e = c(this);
                    0 < (i = c.split(e.attr("data-suggestions"))).length && !e.hasClass("has-suggestions") && (c.formUtils.suggest(e, i, t), e.addClass("has-suggestions"))
                }), this
            }
        }(e, window),
        function(l) {
            "use strict";
            l.formUtils = l.extend(l.formUtils || {}, {
                isLoadingModules: !1,
                loadedModules: {},
                loadModules: function(t, e, i) {
                    var r, s, n;
                    l.formUtils.isLoadingModules ? setTimeout(function() {
                        l.formUtils.loadModules(t, e, i)
                    }, 10) : (r = !1, s = function(e, s) {
                        function n() {
                            0 === --t && (l.formUtils.isLoadingModules = !1, i) && r && "function" == typeof i && i()
                        }
                        var e = l.split(e),
                            t = e.length,
                            a = (0 < t && (l.formUtils.isLoadingModules = !0), "?_=" + (new Date).getTime()),
                            o = document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0];
                        l.each(e, function(e, t) {
                            var i;
                            0 === (t = l.trim(t)).length || (i = s + t + (".js" === t.slice(-3) ? "" : ".js"), t = document.createElement("SCRIPT"), i in l.formUtils.loadedModules) ? n() : (l.formUtils.loadedModules[i] = 1, r = !0, t.type = "text/javascript", t.onload = n, t.src = i + (".dev.js" === i.slice(-7) ? a : ""), t.onerror = function() {
                                l.formUtils.warn("Unable to load form validation module " + i)
                            }, t.onreadystatechange = function() {
                                "complete" !== this.readyState && "loaded" !== this.readyState || (n(), this.onload = null, this.onreadystatechange = null)
                            }, o.appendChild(t))
                        })
                    }, e ? s(t, e) : (n = function() {
                        var e = !1;
                        return l('script[src*="form-validator"]').each(function() {
                            if (!(1 < this.src.split("form-validator")[1].split("node_modules").length)) return "/" === (e = this.src.substr(0, this.src.lastIndexOf("/")) + "/") && (e = ""), !1
                        }), !1 !== e && (s(t, e), !0)
                    })() || l(n))
                }
            })
        }(e),
        function(a) {
            "use strict";
            a.split = function(e, i, t) {
                t = void 0 === t || !0 === t;
                var s, t = new RegExp("[,|" + (t ? "\\s" : "") + "-]\\s*", "g");
                if ("function" != typeof i) return e ? (s = [], a.each(e.split(i || t), function(e, t) {
                    (t = a.trim(t)).length && s.push(t)
                }), s) : [];
                e && a.each(e.split(t), function(e, t) {
                    if ((t = a.trim(t)).length) return i(t, e)
                })
            }, a.validate = function(n) {
                var e = a.extend(a.formUtils.defaultConfig(), {
                    form: "form",
                    validateOnEvent: !1,
                    validateOnBlur: !0,
                    validateCheckboxRadioOnClick: !0,
                    showHelpOnFocus: !0,
                    addSuggestions: !0,
                    modules: "",
                    onModulesLoaded: null,
                    language: !1,
                    onSuccess: !1,
                    onError: !1,
                    onElementValidate: !1
                });
                n = a.extend(e, n || {}), a(window).trigger("formValidationPluginInit", [n]), n.lang && "en" !== n.lang && (e = "lang/" + n.lang + ".js", n.modules += n.modules.length ? "," + e : e), a(n.form).each(function(e, t) {
                    t.validationConfig = n;
                    var i = a(t);
                    i.trigger("formValidationSetup", [i, n]), i.find(".has-help-txt").unbind("focus.validation").unbind("blur.validation"), i.removeClass("has-validation-callback").unbind("submit.validation").unbind("reset.validation").find("input[data-validation],textarea[data-validation]").unbind("blur.validation"), i.bind("submit.validation", function(e) {
                        function t() {
                            return e.stopImmediatePropagation(), !1
                        }
                        var i, s = a(this);
                        return a.formUtils.haltValidation ? t() : a.formUtils.isLoadingModules ? (setTimeout(function() {
                            s.trigger("submit.validation")
                        }, 200), t()) : (i = s.isValid(n.language, n), a.formUtils.haltValidation ? t() : i && "function" == typeof n.onSuccess ? !1 === n.onSuccess(s) ? t() : void 0 : i || "function" != typeof n.onError ? !!i || t() : (n.onError(s), t()))
                    }).bind("reset.validation", function() {
                        a.formUtils.dialogs.removeAllMessagesAndStyling(i, n)
                    }).addClass("has-validation-callback"), n.showHelpOnFocus && i.showHelpOnFocus(), n.addSuggestions && i.addSuggestions(), n.validateOnBlur && (i.validateOnBlur(n.language, n), i.bind("html5ValidationAttrsFound", function() {
                        i.validateOnBlur(n.language, n)
                    })), n.validateOnEvent && i.validateOnEvent(n.language, n)
                }), "" !== n.modules && a.formUtils.loadModules(n.modules, !1, function() {
                    "function" == typeof n.onModulesLoaded && n.onModulesLoaded();
                    var e = "string" == typeof n.form ? a(n.form) : n.form;
                    a.formUtils.$win.trigger("validatorsLoaded", [e, n])
                })
            }
        }(e),
        function(u, t) {
            "use strict";
            var s = u(t);
            u.formUtils = u.extend(u.formUtils || {}, {
                $win: s,
                defaultConfig: function() {
                    return {
                        ignore: [],
                        errorElementClass: "error",
                        borderColorOnError: "#b94a48",
                        errorMessageClass: "form-error",
                        validationRuleAttribute: "data-validation",
                        validationErrorMsgAttribute: "data-validation-error-msg",
                        errorMessagePosition: "inline",
                        errorMessageTemplate: {
                            container: '<div class="{errorMessageClass} alert alert-danger">{messages}</div>',
                            messages: "<strong>{errorTitle}</strong><ul>{fields}</ul>",
                            field: "<li>{msg}</li>"
                        },
                        scrollToTopOnError: !0,
                        dateFormat: "yyyy-mm-dd",
                        addValidClassOnAll: !1,
                        decimalSeparator: ".",
                        inputParentClassOnError: "has-error",
                        inputParentClassOnSuccess: "has-success",
                        validateHiddenInputs: !1,
                        inlineErrorMessageCallback: !1,
                        submitErrorMessageCallback: !1
                    }
                },
                validators: {},
                _events: {
                    load: [],
                    valid: [],
                    invalid: []
                },
                haltValidation: !1,
                addValidator: function(e) {
                    var t = 0 === e.name.indexOf("validate_") ? e.name : "validate_" + e.name;
                    void 0 === e.validateOnKeyUp && (e.validateOnKeyUp = !0), this.validators[t] = e
                },
                warn: function(e) {
                    "console" in t ? "function" == typeof t.console.warn ? t.console.warn(e) : "function" == typeof t.console.log && t.console.log(e) : alert(e)
                },
                getValue: function(e, t) {
                    t = t ? t.find(e) : e;
                    return 0 < t.length && ("radio" === (e = t.eq(0).attr("type")) || "checkbox" === e ? t.filter(":checked").val() || "" : t.val() || "")
                },
                validateInput: function(i, s, n, a, o) {
                    n = n || u.formUtils.defaultConfig(), s = s || u.formUtils.LANG;
                    var r = this.getValue(i),
                        e = (i.valAttr("skipped", !1).one("beforeValidation", function() {
                            !i.attr("disabled") && (i.is(":visible") || n.validateHiddenInputs) || i.valAttr("skipped", 1)
                        }).trigger("beforeValidation", [r, s, n]), "true" === i.valAttr("optional")),
                        e = !r && e,
                        t = i.attr(n.validationRuleAttribute),
                        l = !0,
                        d = "",
                        c = {
                            isValid: !0,
                            shouldChangeDisplay: !0,
                            errorMsg: ""
                        };
                    return !t || e || i.valAttr("skipped") ? c.shouldChangeDisplay = n.addValidClassOnAll : ((e = i.valAttr("ignore")) && u.each(e.split(""), function(e, t) {
                        r = r.replace(new RegExp("\\" + t, "g"), "")
                    }), u.split(t, function(e) {
                        0 !== e.indexOf("validate_") && (e = "validate_" + e);
                        var t = u.formUtils.validators[e];
                        if (!t) throw new Error('Using undefined validator "' + e + '". Maybe you have forgotten to load the module that "' + e + '" belongs to?');
                        if ("validate_checkbox_group" === e && (i = a.find('[name="' + i.attr("name") + '"]:eq(0)')), !(l = "keyup" === o && !t.validateOnKeyUp ? l : t.validatorFunction(r, i, n, s, a, o))) return n.validateOnBlur && i.validateOnKeyUp(s, n), d = u.formUtils.dialogs.resolveErrorMessage(i, t, e, n, s), !1
                    }), !1 === l ? (i.trigger("validation", !1), c.errorMsg = d, c.isValid = !1, c.shouldChangeDisplay = !0) : null === l ? c.shouldChangeDisplay = !1 : (i.trigger("validation", !0), c.shouldChangeDisplay = !0), "function" == typeof n.onElementValidate && null !== d && n.onElementValidate(c.isValid, i, a, d), i.trigger("afterValidation", [c, o])), c
                },
                parseDate: function(e, t, i) {
                    var s, n, a, o = t.replace(/[a-zA-Z]/gi, "").substring(0, 1),
                        r = "^",
                        t = t.split(o || null);
                    return u.each(t, function(e, t) {
                        r += (0 < e ? "\\" + o : "") + "(\\d{" + t.length + "})"
                    }), r += "$", i && (s = [], u.each(e.split(o), function(e, t) {
                        1 === t.length && (t = "0" + t), s.push(t)
                    }), e = s.join(o)), !(null === (i = e.match(new RegExp(r))) || (n = (e = function(e, t, i) {
                        for (var s = 0; s < t.length; s++)
                            if (t[s].substring(0, 1) === e) return u.formUtils.parseDateInt(i[s + 1]);
                        return -1
                    })("m", t, i), a = e("d", t, i), e = e("y", t, i), 2 === n && 28 < a && (e % 4 != 0 || e % 100 == 0 && e % 400 != 0)) || 2 === n && 29 < a && (e % 4 == 0 || e % 100 != 0 && e % 400 == 0) || 12 < n || 0 === n || this.isShortMonth(n) && 30 < a || !this.isShortMonth(n) && 31 < a || 0 === a) && [e, n, a]
                },
                parseDateInt: function(e) {
                    return 0 === e.indexOf("0") && (e = e.replace("0", "")), parseInt(e, 10)
                },
                isShortMonth: function(e) {
                    return e % 2 == 0 && e < 7 || e % 2 != 0 && 7 < e
                },
                lengthRestriction: function(i, s) {
                    function e() {
                        var e, t = i.val().length;
                        n < t && (e = i.scrollTop(), i.val(i.val().substring(0, n)), i.scrollTop(e)), (a = n - t) < 0 && (a = 0), s.text(a)
                    }
                    var n = parseInt(s.text(), 10),
                        a = 0;
                    u(i).bind("keydown keyup keypress focus blur", e).bind("cut paste", function() {
                        setTimeout(e, 100)
                    }), u(document).bind("ready", e)
                },
                numericRangeCheck: function(e, t) {
                    var i = u.split(t),
                        s = parseInt(t.substr(3), 10);
                    return 2 === (i = 1 === i.length && -1 === t.indexOf("min") && -1 === t.indexOf("max") ? [t, t] : i).length && (e < parseInt(i[0], 10) || e > parseInt(i[1], 10)) ? ["out", i[0], i[1]] : 0 === t.indexOf("min") && e < s ? ["min", s] : 0 === t.indexOf("max") && s < e ? ["max", s] : ["ok"]
                },
                _numSuggestionElements: 0,
                _selectedSuggestion: null,
                _previousTypedVal: null,
                suggest: function(t, e, i) {
                    function l(e, t) {
                        var i = t.offset();
                        e.css({
                            width: t.outerWidth(),
                            left: i.left + "px",
                            top: i.top + t.outerHeight() + "px"
                        })
                    }

                    function d(e) {
                        e = e.valAttr("suggestion-nr"), u.formUtils._selectedSuggestion = null, u.formUtils._previousTypedVal = null, u(".jquery-form-suggestion-" + e).fadeOut("fast")
                    }
                    var c = {
                        css: {
                            maxHeight: "150px",
                            background: "#FFF",
                            lineHeight: "150%",
                            textDecoration: "underline",
                            overflowX: "hidden",
                            overflowY: "auto",
                            border: "#CCC solid 1px",
                            borderTop: "none",
                            cursor: "pointer"
                        },
                        activeSuggestionCSS: {
                            background: "#E9E9E9"
                        }
                    };
                    i && u.extend(c, i), c.css.position = "absolute", c.css["z-index"] = 9999, t.attr("autocomplete", "off"), 0 === this._numSuggestionElements && s.bind("resize", function() {
                        u(".jquery-form-suggestions").each(function() {
                            var e = u(this),
                                t = e.attr("data-suggest-container");
                            l(e, u(".suggestions-" + t).eq(0))
                        })
                    }), this._numSuggestionElements++;
                    return t.data("suggestions", e).valAttr("suggestion-nr", this._numSuggestionElements).unbind("focus.suggest").bind("focus.suggest", function() {
                        u(this).trigger("keyup"), u.formUtils._selectedSuggestion = null
                    }).unbind("keyup.suggest").bind("keyup.suggest", function() {
                        var s, e, i, n, a = u(this),
                            o = [],
                            r = u.trim(a.val()).toLocaleLowerCase();
                        r !== u.formUtils._previousTypedVal && (u.formUtils._previousTypedVal = r, s = !1, e = a.valAttr("suggestion-nr"), (i = u(".jquery-form-suggestion-" + e)).scrollTop(0), "" !== r && (n = 2 < r.length, u.each(a.data("suggestions"), function(e, t) {
                            var i = t.toLocaleLowerCase();
                            return i === r ? (o.push("<strong>" + t + "</strong>"), !(s = !0)) : void((0 === i.indexOf(r) || n && -1 < i.indexOf(r)) && o.push(t.replace(new RegExp(r, "gi"), "<strong>$&</strong>")))
                        })), s || 0 === o.length && 0 < i.length ? i.hide() : 0 < o.length && 0 === i.length ? (i = u("<div></div>").css(c.css).appendTo("body"), t.addClass("suggestions-" + e), i.attr("data-suggest-container", e).addClass("jquery-form-suggestions").addClass("jquery-form-suggestion-" + e)) : 0 < o.length && !i.is(":visible") && i.show(), 0 < o.length) && r.length !== o[0].length && (l(i, a), i.html(""), u.each(o, function(e, t) {
                            u("<div></div>").append(t).css({
                                overflow: "hidden",
                                textOverflow: "ellipsis",
                                whiteSpace: "nowrap",
                                padding: "5px"
                            }).addClass("form-suggest-element").appendTo(i).click(function() {
                                a.focus(), a.val(u(this).text()), a.trigger("change"), d(a)
                            })
                        }))
                    }).unbind("keydown.validation").bind("keydown.validation", function(e) {
                        var t = e.keyCode || e.which,
                            i = u(this);
                        if (13 === t && null !== u.formUtils._selectedSuggestion) {
                            var s, n = i.valAttr("suggestion-nr");
                            0 < (s = u(".jquery-form-suggestion-" + n)).length && (a = s.find("div").eq(u.formUtils._selectedSuggestion).text(), i.val(a), i.trigger("change"), d(i), e.preventDefault())
                        } else {
                            n = i.valAttr("suggestion-nr");
                            var a = (s = u(".jquery-form-suggestion-" + n)).children();
                            if (0 < a.length && -1 < u.inArray(t, [38, 40])) return 38 === t ? (null === u.formUtils._selectedSuggestion ? u.formUtils._selectedSuggestion = a.length - 1 : u.formUtils._selectedSuggestion--, u.formUtils._selectedSuggestion < 0 && (u.formUtils._selectedSuggestion = a.length - 1)) : 40 === t && (null === u.formUtils._selectedSuggestion ? u.formUtils._selectedSuggestion = 0 : u.formUtils._selectedSuggestion++, u.formUtils._selectedSuggestion > a.length - 1) && (u.formUtils._selectedSuggestion = 0), i = s.innerHeight(), n = s.scrollTop(), ((t = s.children().eq(0).outerHeight() * u.formUtils._selectedSuggestion) < n || n + i < t) && s.scrollTop(t), a.removeClass("active-suggestion").css("background", "none").eq(u.formUtils._selectedSuggestion).addClass("active-suggestion").css(c.activeSuggestionCSS), e.preventDefault(), !1
                        }
                    }).unbind("blur.suggest").bind("blur.suggest", function() {
                        d(u(this))
                    }), t
                },
                LANG: {
                    errorTitle: "Form submission failed!",
                    requiredField: "This is a required field",
                    requiredFields: "You have not answered all required fields",
                    badTime: "You have not given a correct time",
                    badEmail: "You have not given a correct e-mail address",
                    badTelephone: "You have not given a correct phone number",
                    badSecurityAnswer: "You have not given a correct answer to the security question",
                    badDate: "You have not given a correct date",
                    lengthBadStart: "The input value must be between ",
                    lengthBadEnd: " characters",
                    lengthTooLongStart: "The input value is longer than ",
                    lengthTooShortStart: "The input value is shorter than ",
                    notConfirmed: "Input values could not be confirmed",
                    badDomain: "Incorrect domain value",
                    badUrl: "The input value is not a correct URL",
                    badCustomVal: "The input value is incorrect",
                    andSpaces: " and spaces ",
                    badInt: "The input value was not a correct number",
                    badSecurityNumber: "Your social security number was incorrect",
                    badUKVatAnswer: "Incorrect UK VAT Number",
                    badUKNin: "Incorrect UK NIN",
                    badUKUtr: "Incorrect UK UTR Number",
                    badStrength: "The password isn't strong enough",
                    badNumberOfSelectedOptionsStart: "You have to choose at least ",
                    badNumberOfSelectedOptionsEnd: " answers",
                    badAlphaNumeric: "The input value can only contain alphanumeric characters ",
                    badAlphaNumericExtra: " and ",
                    wrongFileSize: "The file you are trying to upload is too large (max %s)",
                    wrongFileType: "Only files of type %s is allowed",
                    groupCheckedRangeStart: "Please choose between ",
                    groupCheckedTooFewStart: "Please choose at least ",
                    groupCheckedTooManyStart: "Please choose a maximum of ",
                    groupCheckedEnd: " item(s)",
                    badCreditCard: "The credit card number is not correct",
                    badCVV: "The CVV number was not correct",
                    wrongFileDim: "Incorrect image dimensions,",
                    imageTooTall: "the image can not be taller than",
                    imageTooWide: "the image can not be wider than",
                    imageTooSmall: "the image was too small",
                    min: "min",
                    max: "max",
                    imageRatioNotAccepted: "Image ratio is not be accepted",
                    badBrazilTelephoneAnswer: "The phone number entered is invalid",
                    badBrazilCEPAnswer: "The CEP entered is invalid",
                    badBrazilCPFAnswer: "The CPF entered is invalid",
                    badPlPesel: "The PESEL entered is invalid",
                    badPlNip: "The NIP entered is invalid",
                    badPlRegon: "The REGON entered is invalid",
                    badreCaptcha: "Please confirm that you are not a bot",
                    passwordComplexityStart: "Password must contain at least ",
                    passwordComplexitySeparator: ", ",
                    passwordComplexityUppercaseInfo: " uppercase letter(s)",
                    passwordComplexityLowercaseInfo: " lowercase letter(s)",
                    passwordComplexitySpecialCharsInfo: " special character(s)",
                    passwordComplexityNumericCharsInfo: " numeric character(s)",
                    passwordComplexityEnd: "."
                }
            })
        }(e, window), (u = e).formUtils.addValidator({
            name: "email",
            validatorFunction: function(e) {
                var e = e.toLowerCase().split("@"),
                    t = e[0],
                    i = e[1];
                if (t && i) {
                    if (0 === t.indexOf('"')) {
                        i = t.length;
                        if ((t = t.replace(/\"/g, "")).length !== i - 2) return !1
                    }
                    return u.formUtils.validators.validate_domain.validatorFunction(e[1]) && 0 !== t.indexOf(".") && "." !== t.substring(t.length - 1, t.length) && -1 === t.indexOf("..") && !/[^\w\+\.\-\#\-\_\~\!\$\&\'\(\)\*\+\,\;\=\:]/.test(t)
                }
                return !1
            },
            errorMessage: "",
            errorMessageKey: "badEmail"
        }), u.formUtils.addValidator({
            name: "domain",
            validatorFunction: function(e) {
                return 0 < e.length && e.length <= 253 && !/[^a-zA-Z0-9]/.test(e.slice(-2)) && !/[^a-zA-Z0-9]/.test(e.substr(0, 1)) && !/[^a-zA-Z0-9\.\-]/.test(e) && 1 === e.split("..").length && 1 < e.split(".").length
            },
            errorMessage: "",
            errorMessageKey: "badDomain"
        }), u.formUtils.addValidator({
            name: "required",
            validatorFunction: function(e, t, i, s, n) {
                switch (t.attr("type")) {
                    case "checkbox":
                        return t.is(":checked");
                    case "radio":
                        return 0 < n.find('input[name="' + t.attr("name") + '"]').filter(":checked").length;
                    default:
                        return "" !== u.trim(e)
                }
            },
            errorMessage: "",
            errorMessageKey: function(e) {
                return "top" === e.errorMessagePosition || "function" == typeof e.errorMessagePosition ? "requiredFields" : "requiredField"
            }
        }), u.formUtils.addValidator({
            name: "length",
            validatorFunction: function(e, t, i, s) {
                var n = t.valAttr("length"),
                    a = t.attr("type");
                if (void 0 === n) return alert('Please add attribute "data-validation-length" to ' + t[0].nodeName + " named " + t.attr("name")), !0;
                var o, a = ("file" === a && void 0 !== t.get(0).files ? t.get(0).files : e).length,
                    r = u.formUtils.numericRangeCheck(a, n);
                switch (r[0]) {
                    case "out":
                        this.errorMessage = s.lengthBadStart + n + s.lengthBadEnd, o = !1;
                        break;
                    case "min":
                        this.errorMessage = s.lengthTooShortStart + r[1] + s.lengthBadEnd, o = !1;
                        break;
                    case "max":
                        this.errorMessage = s.lengthTooLongStart + r[1] + s.lengthBadEnd, o = !1;
                        break;
                    default:
                        o = !0
                }
                return o
            },
            errorMessage: "",
            errorMessageKey: ""
        }), u.formUtils.addValidator({
            name: "url",
            validatorFunction: function(e) {
                var t;
                return !!/^(https?|ftp):\/\/((((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])(\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])(\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/(((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|\[|\]|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#(((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e) && (-1 < (t = (e = e.split("://")[1]).indexOf("/")) && (e = e.substr(0, t)), u.formUtils.validators.validate_domain.validatorFunction(e))
            },
            errorMessage: "",
            errorMessageKey: "badUrl"
        }), u.formUtils.addValidator({
            name: "number",
            validatorFunction: function(e, t, i) {
                if ("" !== e) {
                    var s, n, a = t.valAttr("allowing") || "",
                        i = t.valAttr("decimal-separator") || i.decimalSeparator,
                        o = !1,
                        r = t.valAttr("step") || "",
                        l = !1;
                    if ((t.attr("data-sanitize") || "").match(/(^|[\s])numberFormat([\s]|$)/i)) {
                        if (!window.numeral) throw new ReferenceError("The data-sanitize value numberFormat cannot be used without the numeral library. Please see Data Validation in http://www.formvalidator.net for more information.");
                        e.length && (e = String(numeral().unformat(e)))
                    }
                    if (-1 === a.indexOf("number") && (a += ",number"), -1 === a.indexOf("negative") && 0 === e.indexOf("-")) return !1;
                    if (-1 < a.indexOf("range") && (s = parseFloat(a.substring(a.indexOf("[") + 1, a.indexOf(";"))), n = parseFloat(a.substring(a.indexOf(";") + 1, a.indexOf("]"))), o = !0), "" !== r && (l = !0), "," === i) {
                        if (-1 < e.indexOf(".")) return !1;
                        e = e.replace(",", ".")
                    }
                    if ("" === e.replace(/[0-9-]/g, "") && (!o || s <= e && e <= n) && (!l || e % r == 0)) return !0;
                    if (-1 < a.indexOf("float") && null !== e.match(new RegExp("^([0-9-]+)\\.([0-9]+)$")) && (!o || s <= e && e <= n) && (!l || e % r == 0)) return !0
                }
                return !1
            },
            errorMessage: "",
            errorMessageKey: "badInt"
        }), u.formUtils.addValidator({
            name: "alphanumeric",
            validatorFunction: function(e, t, i, s) {
                var n = "^([a-zA-Z0-9",
                    t = t.valAttr("allowing"),
                    a = "";
                return t ? (a = n + t + "]+)$", -1 < (t = t.replace(/\\/g, "")).indexOf(" ") && (t = t.replace(" ", ""), t += s.andSpaces || u.formUtils.LANG.andSpaces), this.errorMessage = s.badAlphaNumeric + s.badAlphaNumericExtra + t) : (a = n + "]+)$", this.errorMessage = s.badAlphaNumeric), new RegExp(a).test(e)
            },
            errorMessage: "",
            errorMessageKey: ""
        }), u.formUtils.addValidator({
            name: "custom",
            validatorFunction: function(e, t) {
                return new RegExp(t.valAttr("regexp")).test(e)
            },
            errorMessage: "",
            errorMessageKey: "badCustomVal"
        }), u.formUtils.addValidator({
            name: "date",
            validatorFunction: function(e, t, i) {
                i = t.valAttr("format") || i.dateFormat || "yyyy-mm-dd", t = "false" === t.valAttr("require-leading-zero");
                return !1 !== u.formUtils.parseDate(e, i, t)
            },
            errorMessage: "",
            errorMessageKey: "badDate"
        }), u.formUtils.addValidator({
            name: "checkbox_group",
            validatorFunction: function(e, t, i, s, n) {
                var a, o = !0,
                    r = t.attr("name"),
                    l = u('input[type=checkbox][name^="' + r + '"]', n),
                    r = l.filter(":checked").length,
                    d = t.valAttr("qty"),
                    c = (void 0 === d && (n = t.get(0).nodeName, alert('Attribute "data-validation-qty" is missing from ' + n + " named " + t.attr("name"))), u.formUtils.numericRangeCheck(r, d));
                switch (c[0]) {
                    case "out":
                        this.errorMessage = s.groupCheckedRangeStart + d + s.groupCheckedEnd, o = !1;
                        break;
                    case "min":
                        this.errorMessage = s.groupCheckedTooFewStart + c[1] + s.groupCheckedEnd, o = !1;
                        break;
                    case "max":
                        this.errorMessage = s.groupCheckedTooManyStart + c[1] + s.groupCheckedEnd, o = !1;
                        break;
                    default:
                        o = !0
                }
                return o || (a = function() {
                    l.unbind("click", a), l.filter("*[data-validation]").validateInputOnBlur(s, i, !1, "blur")
                }, l.bind("click", a)), o
            }
        })
}), ! function(e) {
    "function" == typeof define && define.amd ? define(["jquery"], e) : "object" == typeof exports ? module.exports = e(require("jquery")) : e(jQuery)
}(function(e) {
    ! function(n, i) {
        "use strict";

        function e(e, t, s) {
            function i() {
                var t = n(this),
                    i = t.val();
                n.split(t.attr("data-sanitize"), function(e) {
                    if (!(e in a)) throw new Error('Use of unknown sanitize command "' + e + '"');
                    i = a[e](i, t, s)
                }), t.val(i).trigger("keyup.validation")
            }(t = (t = t || n("form")).each ? t : n(t)).each(function() {
                var e = n(this);
                s.sanitizeAll && e.find("input,textarea").not('[type="button"], [type="submit"], [type="radio"], [type="checkbox"], [type="reset"], [type="search"]').each(function() {
                    var e = n(this),
                        t = e.attr("data-sanitize") || "";
                    e.attr("data-sanitize", s.sanitizeAll + " " + t)
                }), e.find("[data-sanitize]").unbind("blur.sanitation", i).bind("blur.sanitation", i), n(function() {
                    e.trigger("blur.sanitation")
                })
            })
        }
        var a = {
            upper: function(e) {
                return e.toLocaleUpperCase()
            },
            lower: function(e) {
                return e.toLocaleLowerCase()
            },
            trim: function(e) {
                return n.trim(e)
            },
            trimLeft: function(e) {
                return e.replace(/^\s+/, "")
            },
            trimRight: function(e) {
                return e.replace(/\s+$/, "")
            },
            capitalize: function(e) {
                var i = e.split(" ");
                return n.each(i, function(e, t) {
                    i[e] = t.substr(0, 1).toUpperCase() + t.substr(1, t.length)
                }), i.join(" ")
            },
            insert: function(e, t, i) {
                t = (t.attr("data-sanitize-insert-" + i) || "").replace(/\[SPACE\]/g, " ");
                return "left" === i && 0 === e.indexOf(t) || "right" === i && e.substring(e.length - t.length) === t ? e : ("left" === i ? t : "") + e + ("right" === i ? t : "")
            },
            insertRight: function(e, t) {
                return this.insert(e, t, "right")
            },
            insertLeft: function(e, t) {
                return this.insert(e, t, "left")
            },
            numberFormat: function(e, t) {
                if (0 === e.length) return e;
                if ("numeral" in i) return e = numeral().unformat(e), numeral(e).format(t.attr("data-sanitize-number-format"));
                throw new ReferenceError('Using sanitation function "numberFormat" requires that you include numeral.js (http://numeraljs.com/)')
            },
            strip: function(t, e) {
                e = e.attr("data-sanitize-strip") || "";
                return n.split(e, function(e) {
                    e = new RegExp(n.isNumeric(e) ? e : "\\" + e, "g");
                    t = t.replace(e, "")
                }), t
            },
            escape: function(i, t) {
                return "yes" === t.valAttr("is-escaped") ? i : (t.valAttr("is-escaped", "yes"), t.one("keyup", function(e) {
                    9 !== e.keyCode && t.valAttr("is-escaped", "no")
                }), n.each({
                    "<": "__%AMP%__lt;",
                    ">": "__%AMP%__gt;",
                    "&": "__%AMP%__amp;",
                    "'": "__%AMP%__#8217;",
                    '"': "__%AMP%__quot;"
                }, function(e, t) {
                    i = i.replace(new RegExp(e, "g"), t)
                }), i.replace(new RegExp("__%AMP%__", "g"), "&"))
            }
        };
        n(i).on("validatorsLoaded formValidationSetup", e), n.formUtils.setupSanitation = e
    }(e, window)
}), ! function() {
    function t(e) {
        this._n = e
    }

    function g(e, t, i) {
        var s = Math.pow(10, t);
        return e = (Math.round(e * s) / s).toFixed(t), i && (s = new RegExp("0{1," + i + "}$"), e = e.replace(s, "")), e
    }

    function a(e, t) {
        var i, s, n = -1 < t.indexOf("$") ? function(e, t) {
            var i = t.indexOf("$") <= 1,
                s = "";
            t = -1 < t.indexOf(" $") ? (s = " ", t.replace(" $", "")) : -1 < t.indexOf("$ ") ? (s = " ", t.replace("$ ", "")) : t.replace("$", "");
            e = a(e, t);
            e = i ? -1 < e.indexOf("(") || -1 < e.indexOf("-") ? ((e = e.split("")).splice(1, 0, v[y].currency.symbol + s), e.join("")) : v[y].currency.symbol + s + e : -1 < e.indexOf(")") ? ((e = e.split("")).splice(-1, 0, s + v[y].currency.symbol), e.join("")) : e + s + v[y].currency.symbol;
            return e
        }(e, t) : -1 < t.indexOf("%") ? function(e, t) {
            var i = "";
            t = -1 < t.indexOf(" %") ? (i = " ", t.replace(" %", "")) : t.replace("%", "");
            e._n = 100 * e._n;
            e = a(e, t);
            e = -1 < e.indexOf(")") ? ((e = e.split("")).splice(-1, 0, i + "%"), e.join("")) : e + i + "%";
            return e
        }(e, t) : -1 < t.indexOf(":") ? (i = e, n = Math.floor(i._n / 60 / 60), s = Math.floor((i._n - 60 * n * 60) / 60), i = Math.round(i._n - 60 * n * 60 - 60 * s), n + ":" + (s < 10 ? "0" + s : s) + ":" + (i < 10 ? "0" + i : i)) : function(e, t) {
            var i = !1,
                s = !1,
                n = "",
                a = "",
                o = "",
                r = Math.abs(e._n);
            if (0 === e._n && null !== b) return b; - 1 < t.indexOf("(") && (i = !0, t = t.slice(1, -1)); - 1 < t.indexOf("a") && (t = -1 < t.indexOf(" a") ? (n = " ", t.replace(" a", "")) : t.replace("a", ""), r >= Math.pow(10, 12) ? (n += v[y].abbreviations.tillion, e._n = e._n / Math.pow(10, 12)) : r < Math.pow(10, 12) && r >= Math.pow(10, 9) ? (n += v[y].abbreviations.billion, e._n = e._n / Math.pow(10, 9)) : r < Math.pow(10, 9) && r >= Math.pow(10, 6) ? (n += v[y].abbreviations.million, e._n = e._n / Math.pow(10, 6)) : r < Math.pow(10, 6) && r >= Math.pow(10, 3) && (n += v[y].abbreviations.thousand, e._n = e._n / Math.pow(10, 3)));
            if (-1 < t.indexOf("b")) {
                t = -1 < t.indexOf(" b") ? (a = " ", t.replace(" b", "")) : t.replace("b", "");
                for (var l, d, c = ["B", "KB", "MB", "GB", "TB", "PB", "EB", "ZB", "YB"], u = 0; u <= c.length; u++)
                    if (l = Math.pow(1024, u), d = Math.pow(1024, u + 1), e._n >= l && e._n < d) {
                        a += c[u], 0 < l && (e._n = e._n / l);
                        break
                    }
            } - 1 < t.indexOf("o") && (t = -1 < t.indexOf(" o") ? (o = " ", t.replace(" o", "")) : t.replace("o", ""), o += v[y].ordinal(e._n)); - 1 < t.indexOf("[.]") && (s = !0, t = t.replace("[.]", "."));
            var r = e._n.toString().split(".")[0],
                h = t.split(".")[1],
                p = t.indexOf(","),
                f = "",
                m = !1;
            h ? (f = -1 < h.indexOf("[") ? (h = (h = h.replace("]", "")).split("["), g(e._n, h[0].length + h[1].length, h[1].length)) : g(e._n, h.length), r = f.split(".")[0], f = f.split(".")[1].length ? v[y].delimiters.decimal + f.split(".")[1] : "", s && 0 === Number(f) && (f = "")) : r = g(e._n, null); - 1 < r.indexOf("-") && (r = r.slice(1), m = !0);
            return -1 < p && (r = r.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1" + v[y].delimiters.thousands)), 0 === t.indexOf(".") && (r = ""), (i && m ? "(" : "") + (!i && m ? "-" : "") + r + f + (o || "") + (n || "") + (a || "") + (i && m ? ")" : "")
        }(e, t);
        return n
    }

    function i(e, t) {
        if (-1 < t.indexOf(":")) e._n = function(e) {
            var e = e.split(":"),
                t = 0;
            3 === e.length ? t = (t = (t += 60 * Number(e[0]) * 60) + 60 * Number(e[1])) + Number(e[2]) : 2 === e.lenght && (t = (t += 60 * Number(e[0])) + Number(e[1]));
            return Number(t)
        }(t);
        else if (t === b) e._n = 0;
        else {
            for (var i = t, s = ("." !== v[y].delimiters.decimal && (t = t.replace(/\./g, "").replace(v[y].delimiters.decimal, ".")), new RegExp(v[y].abbreviations.thousand + "(?:\\)|(\\" + v[y].currency.symbol + ")?(?:\\))?)?$")), n = new RegExp(v[y].abbreviations.million + "(?:\\)|(\\" + v[y].currency.symbol + ")?(?:\\))?)?$"), a = new RegExp(v[y].abbreviations.billion + "(?:\\)|(\\" + v[y].currency.symbol + ")?(?:\\))?)?$"), o = new RegExp(v[y].abbreviations.trillion + "(?:\\)|(\\" + v[y].currency.symbol + ")?(?:\\))?)?$"), r = ["KB", "MB", "GB", "TB", "PB", "EB", "ZB", "YB"], l = !1, d = 0; d <= r.length && !(l = -1 < t.indexOf(r[d]) && Math.pow(1024, d + 1)); d++);
            e._n = (l || 1) * (i.match(s) ? Math.pow(10, 3) : 1) * (i.match(n) ? Math.pow(10, 6) : 1) * (i.match(a) ? Math.pow(10, 9) : 1) * (i.match(o) ? Math.pow(10, 12) : 1) * (-1 < t.indexOf("%") ? .01 : 1) * Number((-1 < t.indexOf("(") ? "-" : "") + t.replace(/[^0-9\.'-]+/g, "")), e._n = l ? Math.ceil(e._n) : e._n
        }
        return e._n
    }
    var v = {},
        y = "en",
        b = null,
        e = "undefined" != typeof module && module.exports,
        s = function(e) {
            return s.isNumeral(e) ? e = e.value() : Number(e) || (e = 0), new t(Number(e))
        };
    s.version = "1.4.5", s.isNumeral = function(e) {
        return e instanceof t
    }, (s.language = function(e, t) {
        return e ? (e && !t && (y = e), !t && v[e] || (v[e] = t), s) : y
    })("en", {
        delimiters: {
            thousands: ",",
            decimal: "."
        },
        abbreviations: {
            thousand: "k",
            million: "m",
            billion: "b",
            trillion: "t"
        },
        ordinal: function(e) {
            var t = e % 10;
            return 1 == ~~(e % 100 / 10) ? "th" : 1 == t ? "st" : 2 == t ? "nd" : 3 == t ? "rd" : "th"
        },
        currency: {
            symbol: "$"
        }
    }), s.zeroFormat = function(e) {
        b = "string" == typeof e ? e : null
    }, s.fn = t.prototype = {
        clone: function() {
            return s(this)
        },
        format: function(e) {
            return a(this, e || s.defaultFormat)
        },
        unformat: function(e) {
            return i(this, e || s.defaultFormat)
        },
        value: function() {
            return this._n
        },
        valueOf: function() {
            return this._n
        },
        set: function(e) {
            return this._n = Number(e), this
        },
        add: function(e) {
            return this._n = this._n + Number(e), this
        },
        subtract: function(e) {
            return this._n = this._n - Number(e), this
        },
        multiply: function(e) {
            return this._n = this._n * Number(e), this
        },
        divide: function(e) {
            return this._n = this._n / Number(e), this
        },
        difference: function(e) {
            e = this._n - Number(e);
            return e = e < 0 ? -e : e
        }
    }, e && (module.exports = s), "undefined" == typeof ender && (this.numeral = s), "function" == typeof define && define.amd && define([], function() {
        return s
    })
}.call(this), ! function(s) {
    "use strict";

    function n(e, t) {
        this.$element = s(e), this.options = s.extend({}, s.fn.typeahead.defaults, t), this.matcher = this.options.matcher || this.matcher, this.sorter = this.options.sorter || this.sorter, this.highlighter = this.options.highlighter || this.highlighter, this.updater = this.options.updater || this.updater, this.source = this.options.source, this.$menu = s(this.options.menu), this.shown = !1, this.listen()
    }
    n.prototype = {
        constructor: n,
        select: function() {
            var e = this.$menu.find(".active").attr("data-value");
            return this.$element.val(this.updater(e)).change(), this.hide()
        },
        updater: function(e) {
            return e
        },
        show: function() {
            var e = s.extend({}, this.$element.position(), {
                height: this.$element[0].offsetHeight
            });
            return this.$menu.insertAfter(this.$element).css({
                top: e.top + e.height,
                left: e.left
            }).show(), this.shown = !0, this
        },
        hide: function() {
            return this.$menu.hide(), this.shown = !1, this
        },
        lookup: function(e) {
            var t;
            return this.query = this.$element.val(), !this.query || this.query.length < this.options.minLength ? this.shown ? this.hide() : this : (t = s.isFunction(this.source) ? this.source(this.query, s.proxy(this.process, this)) : this.source) ? this.process(t) : this
        },
        process: function(e) {
            var t = this;
            return e = s.grep(e, function(e) {
                return t.matcher(e)
            }), (e = this.sorter(e)).length ? this.render(e.slice(0, this.options.items)).show() : this.shown ? this.hide() : this
        },
        matcher: function(e) {
            return ~e.toLowerCase().indexOf(this.query.toLowerCase())
        },
        sorter: function(e) {
            for (var t, i = [], s = [], n = []; t = e.shift();)(t.toLowerCase().indexOf(this.query.toLowerCase()) ? ~t.indexOf(this.query) ? s : n : i).push(t);
            return i.concat(s, n)
        },
        highlighter: function(e) {
            var t = this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
            return e.replace(new RegExp("(" + t + ")", "ig"), function(e, t) {
                return "<strong>" + t + "</strong>"
            })
        },
        render: function(e) {
            var i = this;
            return (e = s(e).map(function(e, t) {
                return (e = s(i.options.item).attr("data-value", t)).find("a").html(i.highlighter(t)), e[0]
            })).first().addClass("active"), this.$menu.html(e), this
        },
        next: function(e) {
            var t = this.$menu.find(".active").removeClass("active").next();
            (t = t.length ? t : s(this.$menu.find("li")[0])).addClass("active")
        },
        prev: function(e) {
            var t = this.$menu.find(".active").removeClass("active").prev();
            (t = t.length ? t : this.$menu.find("li").last()).addClass("active")
        },
        listen: function() {
            this.$element.on("focus", s.proxy(this.focus, this)).on("blur", s.proxy(this.blur, this)).on("keypress", s.proxy(this.keypress, this)).on("keyup", s.proxy(this.keyup, this)), this.eventSupported("keydown") && this.$element.on("keydown", s.proxy(this.keydown, this)), this.$menu.on("click", s.proxy(this.click, this)).on("mouseenter", "li", s.proxy(this.mouseenter, this)).on("mouseleave", "li", s.proxy(this.mouseleave, this))
        },
        eventSupported: function(e) {
            var t = e in this.$element;
            return t || (this.$element.setAttribute(e, "return;"), t = "function" == typeof this.$element[e]), t
        },
        move: function(e) {
            if (this.shown) {
                switch (e.keyCode) {
                    case 9:
                    case 13:
                    case 27:
                        e.preventDefault();
                        break;
                    case 38:
                        e.preventDefault(), this.prev();
                        break;
                    case 40:
                        e.preventDefault(), this.next()
                }
                e.stopPropagation()
            }
        },
        keydown: function(e) {
            this.suppressKeyPressRepeat = ~s.inArray(e.keyCode, [40, 38, 9, 13, 27]), this.move(e)
        },
        keypress: function(e) {
            this.suppressKeyPressRepeat || this.move(e)
        },
        keyup: function(e) {
            switch (e.keyCode) {
                case 40:
                case 38:
                case 16:
                case 17:
                case 18:
                    break;
                case 9:
                case 13:
                    if (!this.shown) return;
                    this.select();
                    break;
                case 27:
                    if (!this.shown) return;
                    this.hide();
                    break;
                default:
                    this.lookup()
            }
            e.stopPropagation(), e.preventDefault()
        },
        focus: function(e) {
            this.focused = !0
        },
        blur: function(e) {
            this.focused = !1, !this.mousedover && this.shown && this.hide()
        },
        click: function(e) {
            e.stopPropagation(), e.preventDefault(), this.select(), this.$element.focus()
        },
        mouseenter: function(e) {
            this.mousedover = !0, this.$menu.find(".active").removeClass("active"), s(e.currentTarget).addClass("active")
        },
        mouseleave: function(e) {
            this.mousedover = !1, !this.focused && this.shown && this.hide()
        }
    };
    var e = s.fn.typeahead;
    s.fn.typeahead = function(i) {
        return this.each(function() {
            var e = s(this),
                t = e.data("typeahead");
            t || e.data("typeahead", t = new n(this, "object" == typeof i && i)), "string" == typeof i && t[i]()
        })
    }, s.fn.typeahead.defaults = {
        source: [],
        items: 8,
        menu: '<ul class="typeahead dropdown-menu"></ul>',
        item: '<li><a href="#"></a></li>',
        minLength: 1
    }, s.fn.typeahead.Constructor = n, s.fn.typeahead.noConflict = function() {
        return s.fn.typeahead = e, this
    }, s(document).on("focus.typeahead.data-api", '[data-provide="typeahead"]', function(e) {
        var t = s(this);
        t.data("typeahead") || t.typeahead(t.data())
    })
}(window.jQuery), ! function(e, t) {
    "function" == typeof define && define.amd ? define(t) : "object" == typeof exports ? module.exports = t(require, exports, module) : e.Tether = t()
}(this, function(F, O, q) {
    "use strict";

    function s(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function a(e) {
        var t = (getComputedStyle(e) || {}).position,
            i = [];
        if ("fixed" === t) return [e];
        for (var s = e;
            (s = s.parentNode) && 1 === s.nodeType;) {
            var n = void 0;
            try {
                n = getComputedStyle(s)
            } catch (e) {}
            if (null == n) return i.push(s), i;
            var a = n,
                o = a.overflow,
                r = a.overflowX,
                a = a.overflowY;
            /(auto|scroll)/.test(o + a + r) && ("absolute" !== t || 0 <= ["relative", "absolute", "fixed"].indexOf(n.position)) && i.push(s)
        }
        return i.push(document.body), i
    }

    function n() {
        u && document.body.removeChild(u), u = null
    }

    function _(e) {
        var t, i = void 0,
            s = (e === document ? e = (i = document).documentElement : i = e.ownerDocument, i.documentElement),
            n = {},
            a = e.getBoundingClientRect();
        for (t in a) n[t] = a[t];
        e = function() {
            var e = u,
                t = (e || ((e = document.createElement("div")).setAttribute("data-tether-id", h()), x(e.style, {
                    top: 0,
                    left: 0,
                    position: "absolute"
                }), document.body.appendChild(e), u = e), e.getAttribute("data-tether-id"));
            if ("undefined" == typeof p[t]) {
                p[t] = {};
                var i = e.getBoundingClientRect();
                for (var s in i) p[t][s] = i[s];
                P(function() {
                    delete p[t]
                })
            }
            return p[t]
        }();
        return n.top -= e.top, n.left -= e.left, void 0 === n.width && (n.width = document.body.scrollWidth - n.left - n.right), void 0 === n.height && (n.height = document.body.scrollHeight - n.top - n.bottom), n.top = n.top - s.clientTop, n.left = n.left - s.clientLeft, n.right = i.body.clientWidth - n.width - n.left, n.bottom = i.body.clientHeight - n.height - n.top, n
    }

    function C(e) {
        return e.offsetParent || document.documentElement
    }

    function k() {
        var e = document.createElement("div"),
            t = (e.style.width = "100%", e.style.height = "200px", document.createElement("div")),
            i = (x(t.style, {
                position: "absolute",
                top: 0,
                left: 0,
                pointerEvents: "none",
                visibility: "hidden",
                width: "200px",
                height: "150px",
                overflow: "hidden"
            }), t.appendChild(e), document.body.appendChild(t), e.offsetWidth),
            e = (t.style.overflow = "scroll", e.offsetWidth),
            t = (i === e && (e = t.clientWidth), document.body.removeChild(t), i - e);
        return {
            width: t,
            height: t
        }
    }

    function x() {
        var i = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0],
            e = [];
        return Array.prototype.push.apply(e, arguments), e.slice(1).forEach(function(e) {
            if (e)
                for (var t in e) !{}.hasOwnProperty.call(e, t) || (i[t] = e[t])
        }), i
    }

    function o(t, e) {
        void 0 !== t.classList ? e.split(" ").forEach(function(e) {
            e.trim() && t.classList.remove(e)
        }) : (e = new RegExp("(^| )" + e.split(" ").join("|") + "( |$)", "gi"), e = i(t).replace(e, " "), d(t, e))
    }

    function r(t, e) {
        void 0 !== t.classList ? e.split(" ").forEach(function(e) {
            e.trim() && t.classList.add(e)
        }) : (o(t, e), e = i(t) + " " + e, d(t, e))
    }

    function l(e, t) {
        return void 0 !== e.classList ? e.classList.contains(t) : (e = i(e), new RegExp("(^| )" + t + "( |$)", "gi").test(e))
    }

    function i(e) {
        return e.className instanceof SVGAnimatedString ? e.className.baseVal : e.className
    }

    function d(e, t) {
        e.setAttribute("class", t)
    }

    function S(t, i, e) {
        e.forEach(function(e) {
            -1 === i.indexOf(e) && l(t, e) && o(t, e)
        }), i.forEach(function(e) {
            l(t, e) || r(t, e)
        })
    }

    function s(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function e() {
        return "undefined" != typeof performance && void 0 !== performance.now ? performance.now() : +new Date
    }

    function T() {
        for (var i = {
                top: 0,
                left: 0
            }, e = arguments.length, t = Array(e), s = 0; s < e; s++) t[s] = arguments[s];
        return t.forEach(function(e) {
            var t = e.top,
                e = e.left;
            "string" == typeof t && (t = parseFloat(t, 10)), "string" == typeof e && (e = parseFloat(e, 10)), i.top += t, i.left += e
        }), i
    }

    function E(e, t) {
        return "string" == typeof e.left && -1 !== e.left.indexOf("%") && (e.left = parseFloat(e.left, 10) / 100 * t.width), "string" == typeof e.top && -1 !== e.top.indexOf("%") && (e.top = parseFloat(e.top, 10) / 100 * t.height), e
    }
    var A = void 0;

    function c(e, t) {
        for (var i = 0; i < t.length; i++) {
            var s = t[i];
            s.enumerable = s.enumerable || !1, s.configurable = !0, "value" in s && (s.writable = !0), Object.defineProperty(e, s.key, s)
        }
    }
    void 0 === A && (A = {
        modules: []
    });
    var t, u = null,
        h = (t = 0, function() {
            return ++t
        }),
        p = {},
        f = [],
        P = function(e) {
            f.push(e)
        },
        $ = function() {
            for (var e = void 0; e = f.pop();) e()
        },
        N = ((R = function(e, t, i) {
            return t && c(e.prototype, t), i && c(e, i), e
        })(m, [{
            key: "on",
            value: function(e, t, i) {
                var s = !(arguments.length <= 3 || void 0 === arguments[3]) && arguments[3];
                void 0 === this.bindings && (this.bindings = {}), void 0 === this.bindings[e] && (this.bindings[e] = []), this.bindings[e].push({
                    handler: t,
                    ctx: i,
                    once: s
                })
            }
        }, {
            key: "once",
            value: function(e, t, i) {
                this.on(e, t, i, !0)
            }
        }, {
            key: "off",
            value: function(e, t) {
                if (void 0 === this.bindings || void 0 === this.bindings[e])
                    if (void 0 === t) delete this.bindings[e];
                    else
                        for (var i = 0; i < this.bindings[e].length;) this.bindings[e][i].handler === t ? this.bindings[e].splice(i, 1) : ++i
            }
        }, {
            key: "trigger",
            value: function(e) {
                if (void 0 !== this.bindings && this.bindings[e]) {
                    for (var t = 0, i = arguments.length, s = Array(1 < i ? i - 1 : 0), n = 1; n < i; n++) s[n - 1] = arguments[n];
                    for (; t < this.bindings[e].length;) {
                        var a = this.bindings[e][t],
                            o = a.handler,
                            r = a.ctx,
                            a = a.once,
                            r = void 0 === r ? this : r;
                        o.apply(r, s), a ? this.bindings[e].splice(t, 1) : ++t
                    }
                }
            }
        }]), m);

    function m() {
        s(this, m)
    }
    A.Utils = {
        getScrollParents: a,
        getBounds: _,
        getOffsetParent: C,
        extend: x,
        addClass: r,
        removeClass: o,
        hasClass: l,
        updateClasses: S,
        defer: P,
        flush: $,
        uniqueId: h,
        Evented: N,
        getScrollBarSize: k,
        removeUtilElements: n
    };
    var M = function(e, t) {
            if (Array.isArray(e)) return e;
            if (Symbol.iterator in Object(e)) {
                var i = t,
                    s = [],
                    n = !0,
                    t = !1,
                    a = void 0;
                try {
                    for (var o, r = e[Symbol.iterator](); !(n = (o = r.next()).done) && (s.push(o.value), !i || s.length !== i); n = !0);
                } catch (e) {
                    t = !0, a = e
                } finally {
                    try {
                        !n && r.return && r.return()
                    } finally {
                        if (t) throw a
                    }
                }
                return s
            }
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
        },
        R = function(e, t, i) {
            return t && B(e.prototype, t), i && B(e, i), e
        };

    function B(e, t) {
        for (var i = 0; i < t.length; i++) {
            var s = t[i];
            s.enumerable = s.enumerable || !1, s.configurable = !0, "value" in s && (s.writable = !0), Object.defineProperty(e, s.key, s)
        }
    }
    if (void 0 === A) throw new Error("You must include the utils.js file before tether.js");

    function U() {
        w.forEach(function(e) {
            e.position(!1)
        }), $()
    }
    var g, v, y, a = (j = A.Utils).getScrollParents,
        _ = j.getBounds,
        C = j.getOffsetParent,
        x = j.extend,
        r = j.addClass,
        o = j.removeClass,
        S = j.updateClasses,
        P = j.defer,
        $ = j.flush,
        k = j.getScrollBarSize,
        n = j.removeUtilElements,
        b = function() {
            if ("undefined" == typeof document) return "";
            for (var e = document.createElement("div"), t = ["transform", "webkitTransform", "OTransform", "MozTransform", "msTransform"], i = 0; i < t.length; ++i) {
                var s = t[i];
                if (void 0 !== e.style[s]) return s
            }
        }(),
        w = [];

    function V() {
        return void 0 !== v && 16 < v ? (v = Math.min(v - 16, 250), void(y = setTimeout(V, 250))) : void(void 0 !== g && e() - g < 10 || (null != y && (clearTimeout(y), y = null), g = e(), U(), v = e() - g))
    }
    y = v = g = null, "undefined" != typeof window && void 0 !== window.addEventListener && ["resize", "scroll", "touchmove"].forEach(function(e) {
        window.addEventListener(e, V)
    });

    function H(e) {
        var t = e.left,
            i = e.top;
        return {
            left: t = void 0 !== I[e.left] ? I[e.left] : t,
            top: i = void 0 !== I[e.top] ? I[e.top] : i
        }
    }

    function D(e) {
        return e = e.split(" "), {
            top: (e = M(e, 2))[0],
            left: e[1]
        }
    }
    var z = {
            center: "center",
            left: "right",
            right: "left"
        },
        W = {
            middle: "middle",
            top: "bottom",
            bottom: "top"
        },
        I = {
            top: 0,
            left: 0,
            middle: "50%",
            center: "50%",
            bottom: "100%",
            right: "100%"
        },
        Y = D,
        L = function() {
            function i(e) {
                var t = this;
                s(this, i),
                    function(e, t, i) {
                        for (var s = !0; s;) {
                            var n = e,
                                a = t,
                                o = i,
                                s = !1,
                                r = (null === n && (n = Function.prototype), Object.getOwnPropertyDescriptor(n, a));
                            if (void 0 !== r) return "value" in r ? r.value : void 0 === (r = r.get) ? void 0 : r.call(o);
                            r = Object.getPrototypeOf(n);
                            if (null === r) return;
                            e = r, t = a, i = o, s = !0
                        }
                    }(Object.getPrototypeOf(i.prototype), "constructor", this).call(this), this.position = this.position.bind(this), w.push(this), this.history = [], this.setOptions(e, !1), A.modules.forEach(function(e) {
                        void 0 !== e.initialize && e.initialize.call(t)
                    }), this.position()
            }
            var e = i,
                t = N;
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            return e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t), R(i, [{
                key: "getClass",
                value: function() {
                    var e = arguments.length <= 0 || void 0 === arguments[0] ? "" : arguments[0],
                        t = this.options.classes;
                    return void 0 !== t && t[e] ? this.options.classes[e] : this.options.classPrefix ? this.options.classPrefix + "-" + e : e
                }
            }, {
                key: "setOptions",
                value: function(e) {
                    var t = this,
                        i = arguments.length <= 1 || void 0 === arguments[1] || arguments[1],
                        e = (this.options = x({
                            offset: "0 0",
                            targetOffset: "0 0",
                            targetAttachment: "auto auto",
                            classPrefix: "tether"
                        }, e), this.options),
                        s = e.element,
                        n = e.target,
                        e = e.targetModifier;
                    if (this.element = s, this.target = n, this.targetModifier = e, "viewport" === this.target ? (this.target = document.body, this.targetModifier = "visible") : "scroll-handle" === this.target && (this.target = document.body, this.targetModifier = "scroll-handle"), ["element", "target"].forEach(function(e) {
                            if (void 0 === t[e]) throw new Error("Tether Error: Both element and target must be defined");
                            void 0 !== t[e].jquery ? t[e] = t[e][0] : "string" == typeof t[e] && (t[e] = document.querySelector(t[e]))
                        }), r(this.element, this.getClass("element")), !1 !== this.options.addTargetClasses && r(this.target, this.getClass("target")), !this.options.attachment) throw new Error("Tether Error: You must provide an attachment");
                    this.targetAttachment = Y(this.options.targetAttachment), this.attachment = Y(this.options.attachment), this.offset = D(this.options.offset), this.targetOffset = D(this.options.targetOffset), void 0 !== this.scrollParents && this.disable(), "scroll-handle" === this.targetModifier ? this.scrollParents = [this.target] : this.scrollParents = a(this.target), !1 !== this.options.enabled && this.enable(i)
                }
            }, {
                key: "getTargetBounds",
                value: function() {
                    var e, t, i, s, n, a;
                    return void 0 === this.targetModifier ? _(this.target) : "visible" === this.targetModifier ? this.target === document.body ? {
                        top: pageYOffset,
                        left: pageXOffset,
                        height: innerHeight,
                        width: innerWidth
                    } : ((s = {
                        height: (e = _(this.target)).height,
                        width: e.width,
                        top: e.top,
                        left: e.left
                    }).height = Math.min(s.height, e.height - (pageYOffset - e.top)), s.height = Math.min(s.height, e.height - (e.top + e.height - (pageYOffset + innerHeight))), s.height = Math.min(innerHeight, s.height), s.height -= 2, s.width = Math.min(s.width, e.width - (pageXOffset - e.left)), s.width = Math.min(s.width, e.width - (e.left + e.width - (pageXOffset + innerWidth))), s.width = Math.min(innerWidth, s.width), s.width -= 2, s.top < pageYOffset && (s.top = pageYOffset), s.left < pageXOffset && (s.left = pageXOffset), s) : "scroll-handle" === this.targetModifier ? (e = void 0, e = (a = this.target) === document.body ? (a = document.documentElement, {
                        left: pageXOffset,
                        top: pageYOffset,
                        height: innerHeight,
                        width: innerWidth
                    }) : _(a), t = getComputedStyle(a), i = 0, (a.scrollWidth > a.clientWidth || 0 <= [t.overflow, t.overflowX].indexOf("scroll") || this.target !== document.body) && (i = 15), s = {
                        width: 15,
                        height: .975 * (i = e.height - parseFloat(t.borderTopWidth) - parseFloat(t.borderBottomWidth) - i) * (i / a.scrollHeight),
                        left: e.left + e.width - parseFloat(t.borderLeftWidth) - 15
                    }, n = 0, i < 408 && this.target === document.body && (n = -11e-5 * Math.pow(i, 2) - .00727 * i + 22.58), this.target !== document.body && (s.height = Math.max(s.height, 24)), a = this.target.scrollTop / (a.scrollHeight - i), s.top = a * (i - s.height - n) + e.top + parseFloat(t.borderTopWidth), this.target === document.body && (s.height = Math.max(s.height, 24)), s) : void 0
                }
            }, {
                key: "clearCache",
                value: function() {
                    this._cache = {}
                }
            }, {
                key: "cache",
                value: function(e, t) {
                    return void 0 === this._cache && (this._cache = {}), void 0 === this._cache[e] && (this._cache[e] = t.call(this)), this._cache[e]
                }
            }, {
                key: "enable",
                value: function() {
                    var t = this,
                        e = arguments.length <= 0 || void 0 === arguments[0] || arguments[0];
                    !1 !== this.options.addTargetClasses && r(this.target, this.getClass("enabled")), r(this.element, this.getClass("enabled")), this.enabled = !0, this.scrollParents.forEach(function(e) {
                        e !== document && e.addEventListener("scroll", t.position)
                    }), e && this.position()
                }
            }, {
                key: "disable",
                value: function() {
                    var t = this;
                    o(this.target, this.getClass("enabled")), o(this.element, this.getClass("enabled")), this.enabled = !1, void 0 !== this.scrollParents && this.scrollParents.forEach(function(e) {
                        e.removeEventListener("scroll", t.position)
                    })
                }
            }, {
                key: "destroy",
                value: function() {
                    var i = this;
                    this.disable(), w.forEach(function(e, t) {
                        e === i && w.splice(t, 1)
                    }), 0 === w.length && n()
                }
            }, {
                key: "updateAttachClasses",
                value: function(e, t) {
                    var i = this,
                        s = (e = e || this.attachment, t = t || this.targetAttachment, void 0 !== this._addAttachClasses && this._addAttachClasses.length && this._addAttachClasses.splice(0, this._addAttachClasses.length), void 0 === this._addAttachClasses && (this._addAttachClasses = []), this._addAttachClasses),
                        n = (e.top && s.push(this.getClass("element-attached") + "-" + e.top), e.left && s.push(this.getClass("element-attached") + "-" + e.left), t.top && s.push(this.getClass("target-attached") + "-" + t.top), t.left && s.push(this.getClass("target-attached") + "-" + t.left), []);
                    ["left", "top", "bottom", "right", "middle", "center"].forEach(function(e) {
                        n.push(i.getClass("element-attached") + "-" + e), n.push(i.getClass("target-attached") + "-" + e)
                    }), P(function() {
                        void 0 !== i._addAttachClasses && (S(i.element, i._addAttachClasses, n), !1 !== i.options.addTargetClasses && S(i.target, i._addAttachClasses, n), delete i._addAttachClasses)
                    })
                }
            }, {
                key: "position",
                value: function() {
                    var e, t, i, s, n = this,
                        a = arguments.length <= 0 || void 0 === arguments[0] || arguments[0];
                    if (this.enabled) {
                        this.clearCache();
                        u = this.targetAttachment, d = this.attachment, l = u.left, u = u.top;
                        for (var o = {
                                left: l = "auto" === l ? z[d.left] : l,
                                top: u = "auto" === u ? W[d.top] : u
                            }, r = (this.updateAttachClasses(this.attachment, o), this.cache("element-bounds", function() {
                                return _(n.element)
                            })), l = r.width, d = r.height, c = (0 === l && 0 === d && void 0 !== this.lastSize ? (l = (u = this.lastSize).width, d = u.height) : this.lastSize = {
                                width: l,
                                height: d
                            }, this.cache("target-bounds", function() {
                                return n.getTargetBounds()
                            })), u = c, h = E(H(this.attachment), {
                                width: l,
                                height: d
                            }), p = E(H(o), u), f = E(this.offset, {
                                width: l,
                                height: d
                            }), m = E(this.targetOffset, u), h = T(h, f), p = T(p, m), g = c.left + p.left - h.left, v = c.top + p.top - h.top, y = 0; y < A.modules.length; ++y) {
                            var b = A.modules[y].position.call(this, {
                                left: g,
                                top: v,
                                targetAttachment: o,
                                targetPos: c,
                                elementPos: r,
                                offset: h,
                                targetOffset: p,
                                manualOffset: f,
                                manualTargetOffset: m,
                                scrollbarSize: w,
                                attachment: this.attachment
                            });
                            if (!1 === b) return !1;
                            void 0 !== b && "object" == typeof b && (v = b.top, g = b.left)
                        }
                        var u = {
                                page: {
                                    top: v,
                                    left: g
                                },
                                viewport: {
                                    top: v - pageYOffset,
                                    bottom: pageYOffset - v - d + innerHeight,
                                    left: g - pageXOffset,
                                    right: pageXOffset - g - l + innerWidth
                                }
                            },
                            w = void 0;
                        return document.body.scrollWidth > window.innerWidth && (w = this.cache("scrollbar-size", k), u.viewport.bottom -= w.height), document.body.scrollHeight > window.innerHeight && (w = this.cache("scrollbar-size", k), u.viewport.right -= w.width), -1 !== ["", "static"].indexOf(document.body.style.position) && -1 !== ["", "static"].indexOf(document.body.parentElement.style.position) || (u.page.bottom = document.body.scrollHeight - v - d, u.page.right = document.body.scrollWidth - g - l), void 0 !== this.options.optimizations && !1 !== this.options.optimizations.moveElement && void 0 === this.targetModifier && (t = n.cache("target-offsetparent", function() {
                            return C(n.target)
                        }), d = n.cache("target-offsetparent-bounds", function() {
                            return _(t)
                        }), i = getComputedStyle(t), l = d, s = {}, ["Top", "Left", "Bottom", "Right"].forEach(function(e) {
                            s[e.toLowerCase()] = parseFloat(i["border" + e + "Width"])
                        }), d.right = document.body.scrollWidth - d.left - l.width + s.right, d.bottom = document.body.scrollHeight - d.top - l.height + s.bottom, u.page.top >= d.top + s.top && u.page.bottom >= d.bottom && u.page.left >= d.left + s.left && u.page.right >= d.right && (l = t.scrollTop, e = t.scrollLeft, u.offset = {
                            top: u.page.top - d.top + l - s.top,
                            left: u.page.left - d.left + e - s.left
                        })), this.move(u), this.history.unshift(u), 3 < this.history.length && this.history.pop(), a && $(), !0
                    }
                }
            }, {
                key: "move",
                value: function(e) {
                    var t, n = this;
                    if (void 0 !== this.element.parentNode) {
                        var i, s = {};
                        for (i in e)
                            for (var a in s[i] = {}, e[i]) {
                                for (var o = !1, r = 0; r < this.history.length; ++r) {
                                    var l = this.history[r];
                                    if (void 0 !== l[i] && ! function(e, t, i) {
                                            return t <= e + (i = arguments.length <= 2 || void 0 === i ? 1 : i) && e - i <= t
                                        }(l[i][a], e[i][a])) {
                                        o = !0;
                                        break
                                    }
                                }
                                o || (s[i][a] = !0)
                            }
                        var d = {
                                top: "",
                                left: "",
                                right: "",
                                bottom: ""
                            },
                            c = function(e, t) {
                                var i, s;
                                !1 !== (void 0 !== n.options.optimizations ? n.options.optimizations.gpu : null) ? (s = i = void 0, i = e.top ? (d.top = 0, t.top) : (d.bottom = 0, -t.bottom), s = e.left ? (d.left = 0, t.left) : (d.right = 0, -t.right), d[b] = "translateX(" + Math.round(s) + "px) translateY(" + Math.round(i) + "px)", "msTransform" !== b && (d[b] += " translateZ(0)")) : (e.top ? d.top = t.top + "px" : d.bottom = t.bottom + "px", e.left ? d.left = t.left + "px" : d.right = t.right + "px")
                            },
                            u = !1;
                        if ((s.page.top || s.page.bottom) && (s.page.left || s.page.right) ? (d.position = "absolute", c(s.page, e.page)) : (s.viewport.top || s.viewport.bottom) && (s.viewport.left || s.viewport.right) ? (d.position = "fixed", c(s.viewport, e.viewport)) : void 0 !== s.offset && s.offset.top && s.offset.left ? (d.position = "absolute", t = n.cache("target-offsetparent", function() {
                                return C(n.target)
                            }), C(n.element) !== t && P(function() {
                                n.element.parentNode.removeChild(n.element), t.appendChild(n.element)
                            }), c(s.offset, e.offset), u = !0) : (d.position = "absolute", c({
                                top: !0,
                                left: !0
                            }, e.page)), !u) {
                            for (var h = !0, p = this.element.parentNode; p && 1 === p.nodeType && "BODY" !== p.tagName;) {
                                if ("static" !== getComputedStyle(p).position) {
                                    h = !1;
                                    break
                                }
                                p = p.parentNode
                            }
                            h || (this.element.parentNode.removeChild(this.element), document.body.appendChild(this.element))
                        }
                        var f = {},
                            m = !1;
                        for (a in d) {
                            var g = d[a];
                            this.element.style[a] !== g && (m = !0, f[a] = g)
                        }
                        m && P(function() {
                            x(n.element.style, f)
                        })
                    }
                }
            }]), i
        }(),
        L = (L.modules = [], A.position = U, x(L, A)),
        M = function(e, t) {
            if (Array.isArray(e)) return e;
            if (Symbol.iterator in Object(e)) {
                var i = t,
                    s = [],
                    n = !0,
                    t = !1,
                    a = void 0;
                try {
                    for (var o, r = e[Symbol.iterator](); !(n = (o = r.next()).done) && (s.push(o.value), !i || s.length !== i); n = !0);
                } catch (e) {
                    t = !0, a = e
                } finally {
                    try {
                        !n && r.return && r.return()
                    } finally {
                        if (t) throw a
                    }
                }
                return s
            }
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
        },
        _ = (j = A.Utils).getBounds,
        x = j.extend,
        S = j.updateClasses,
        P = j.defer,
        G = ["left", "top", "right", "bottom"];
    A.modules.push({
        position: function(e) {
            var c, u, h, p, i, f, m, g, v = this,
                y = e.top,
                b = e.left,
                w = e.targetAttachment;
            return !this.options.constraints || (e = this.cache("element-bounds", function() {
                return _(v.element)
            }), u = e.height, 0 === (c = e.width) && 0 === u && void 0 !== this.lastSize && (e = this.lastSize, c = e.width, u = e.height), e = this.cache("target-bounds", function() {
                return v.getTargetBounds()
            }), h = e.height, p = e.width, i = [this.getClass("pinned"), this.getClass("out-of-bounds")], this.options.constraints.forEach(function(e) {
                var t = e.outOfBoundsClass,
                    e = e.pinnedClass;
                t && i.push(t), e && i.push(e)
            }), i.forEach(function(t) {
                ["left", "top", "right", "bottom"].forEach(function(e) {
                    i.push(t + "-" + e)
                })
            }), f = [], m = x({}, w), g = x({}, this.attachment), this.options.constraints.forEach(function(e) {
                var t, i, s, n, a, o = e.to,
                    r = e.attachment,
                    e = e.pin,
                    l = void 0,
                    d = void 0,
                    o = (l = 0 <= (r = void 0 === r ? "" : r).indexOf(" ") ? (t = r.split(" "), d = (t = M(t, 2))[0], t[1]) : d = r, t = v, "scrollParent" === (i = o) ? i = t.scrollParents[0] : "window" === i && (i = [pageXOffset, pageYOffset, innerWidth + pageXOffset, innerHeight + pageYOffset]), void 0 !== (i = i === document ? i.documentElement : i).nodeType && (t = _(i), r = t, s = getComputedStyle(i), i = [r.left, r.top, t.width + r.left, t.height + r.top], G.forEach(function(e, t) {
                        "Top" === (e = e[0].toUpperCase() + e.substr(1)) || "Left" === e ? i[t] += parseFloat(s["border" + e + "Width"]) : i[t] -= parseFloat(s["border" + e + "Width"])
                    })), i),
                    r = (("target" === d || "both" === d) && (y < o[1] && "top" === m.top && (y += h, m.top = "bottom"), y + u > o[3]) && "bottom" === m.top && (y -= h, m.top = "top"), "together" === d && ("top" === m.top && ("bottom" === g.top && y < o[1] ? (y += h, m.top = "bottom", y += u, g.top = "top") : "top" === g.top && y + u > o[3] && y - (u - h) >= o[1] && (y -= u - h, m.top = "bottom", g.top = "bottom")), "bottom" === m.top && ("top" === g.top && y + u > o[3] ? (y -= h, m.top = "top", y -= u, g.top = "bottom") : "bottom" === g.top && y < o[1] && y + (2 * u - h) <= o[3] && (y += u - h, m.top = "top", g.top = "top")), "middle" === m.top) && (y + u > o[3] && "top" === g.top ? (y -= u, g.top = "bottom") : y < o[1] && "bottom" === g.top && (y += u, g.top = "top")), ("target" === l || "both" === l) && (b < o[0] && "left" === m.left && (b += p, m.left = "right"), b + c > o[2]) && "right" === m.left && (b -= p, m.left = "left"), "together" === l && (b < o[0] && "left" === m.left ? "right" === g.left ? (b += p, m.left = "right", b += c, g.left = "left") : "left" === g.left && (b += p, m.left = "right", b -= c, g.left = "right") : b + c > o[2] && "right" === m.left ? "left" === g.left ? (b -= p, m.left = "left", b -= c, g.left = "right") : "right" === g.left && (b -= p, m.left = "left", b += c, g.left = "left") : "center" === m.left && (b + c > o[2] && "left" === g.left ? (b -= c, g.left = "right") : b < o[0] && "right" === g.left && (b += c, g.left = "left"))), ("element" === d || "both" === d) && (y < o[1] && "bottom" === g.top && (y += u, g.top = "top"), y + u > o[3]) && "top" === g.top && (y -= u, g.top = "bottom"), ("element" === l || "both" === l) && (b < o[0] && ("right" === g.left ? (b += c, g.left = "left") : "center" === g.left && (b += c / 2, g.left = "left")), b + c > o[2]) && ("left" === g.left ? (b -= c, g.left = "right") : "center" === g.left && (b -= c / 2, g.left = "right")), "string" == typeof e ? e = e.split(",").map(function(e) {
                        return e.trim()
                    }) : !0 === e && (e = ["top", "left", "right", "bottom"]), e = e || [], []),
                    d = [];
                y < o[1] && (0 <= e.indexOf("top") ? (y = o[1], r) : d).push("top"), y + u > o[3] && (0 <= e.indexOf("bottom") ? (y = o[3] - u, r) : d).push("bottom"), b < o[0] && (0 <= e.indexOf("left") ? (b = o[0], r) : d).push("left"), b + c > o[2] && (0 <= e.indexOf("right") ? (b = o[2] - c, r) : d).push("right"), r.length && (a = void 0 !== v.options.pinnedClass ? v.options.pinnedClass : v.getClass("pinned"), f.push(a), r.forEach(function(e) {
                    f.push(a + "-" + e)
                })), d.length && (n = void 0 !== v.options.outOfBoundsClass ? v.options.outOfBoundsClass : v.getClass("out-of-bounds"), f.push(n), d.forEach(function(e) {
                    f.push(n + "-" + e)
                })), (0 <= r.indexOf("left") || 0 <= r.indexOf("right")) && (g.left = m.left = !1), (0 <= r.indexOf("top") || 0 <= r.indexOf("bottom")) && (g.top = m.top = !1), m.top === w.top && m.left === w.left && g.top === v.attachment.top && g.left === v.attachment.left || (v.updateAttachClasses(g, m), v.trigger("update", {
                    attachment: g,
                    targetAttachment: m
                }))
            }), P(function() {
                !1 !== v.options.addTargetClasses && S(v.target, f, i), S(v.element, f, i)
            }), {
                top: y,
                left: b
            })
        }
    });
    var j, _ = (j = A.Utils).getBounds,
        S = j.updateClasses,
        P = j.defer,
        M = (A.modules.push({
            position: function(e) {
                var t = this,
                    i = e.top,
                    s = e.left,
                    e = this.cache("element-bounds", function() {
                        return _(t.element)
                    }),
                    n = e.height,
                    e = e.width,
                    a = this.getTargetBounds(),
                    o = i + n,
                    r = s + e,
                    l = [],
                    d = (i <= a.bottom && o >= a.top && ["left", "right"].forEach(function(e) {
                        var t = a[e];
                        t !== s && t !== r || l.push(e)
                    }), s <= a.right && r >= a.left && ["top", "bottom"].forEach(function(e) {
                        var t = a[e];
                        t !== i && t !== o || l.push(e)
                    }), []),
                    c = [];
                return d.push(this.getClass("abutted")), ["left", "top", "right", "bottom"].forEach(function(e) {
                    d.push(t.getClass("abutted") + "-" + e)
                }), l.length && c.push(this.getClass("abutted")), l.forEach(function(e) {
                    c.push(t.getClass("abutted") + "-" + e)
                }), P(function() {
                    !1 !== t.options.addTargetClasses && S(t.target, c, d), S(t.element, c, d)
                }), !0
            }
        }), function(e, t) {
            if (Array.isArray(e)) return e;
            if (Symbol.iterator in Object(e)) {
                var i = t,
                    s = [],
                    n = !0,
                    t = !1,
                    a = void 0;
                try {
                    for (var o, r = e[Symbol.iterator](); !(n = (o = r.next()).done) && (s.push(o.value), !i || s.length !== i); n = !0);
                } catch (e) {
                    t = !0, a = e
                } finally {
                    try {
                        !n && r.return && r.return()
                    } finally {
                        if (t) throw a
                    }
                }
                return s
            }
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
        });
    return A.modules.push({
        position: function(e) {
            var t, i, s, n, a = e.top,
                e = e.left;
            if (this.options.shift) return t = this.options.shift, n = s = void 0, n = "string" == typeof(t = "function" == typeof this.options.shift ? this.options.shift.call(this, {
                top: a,
                left: e
            }) : t) ? ((t = t.split(" "))[1] = t[1] || t[0], s = (i = M(t, 2))[0], n = i[1], s = parseFloat(s, 10), parseFloat(n, 10)) : (s = t.top, t.left), {
                top: a += s,
                left: e += n
            }
        }
    }), L
}), ! function(e, t) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : e.Popper = t()
}(this, function() {
    "use strict";

    function o(e) {
        return e && "[object Function]" === {}.toString.call(e)
    }

    function u(e, t) {
        return 1 !== e.nodeType ? [] : (e = window.getComputedStyle(e, null), t ? e[t] : e)
    }

    function h(e) {
        return "HTML" === e.nodeName ? e : e.parentNode || e.host
    }

    function p(e) {
        var t, i, s;
        return e && -1 === ["HTML", "BODY", "#document"].indexOf(e.nodeName) ? (t = (s = u(e)).overflow, i = s.overflowX, s = s.overflowY, /(auto|scroll)/.test(t + s + i) ? e : p(h(e))) : window.document.body
    }

    function d(e) {
        var e = e && e.offsetParent,
            t = e && e.nodeName;
        return t && "BODY" !== t && "HTML" !== t ? -1 !== ["TD", "TABLE"].indexOf(e.nodeName) && "static" === u(e, "position") ? d(e) : e : window.document.documentElement
    }

    function a(e) {
        return null === e.parentNode ? e : a(e.parentNode)
    }

    function f(e, t) {
        var i, s, n;
        return e && e.nodeType && t && t.nodeType ? (s = (n = e.compareDocumentPosition(t) & Node.DOCUMENT_POSITION_FOLLOWING) ? e : t, n = n ? t : e, (i = document.createRange()).setStart(s, 0), i.setEnd(n, 0), e !== (i = i.commonAncestorContainer) && t !== i || s.contains(n) ? "BODY" === (n = (s = i).nodeName) || "HTML" !== n && d(s.firstElementChild) !== s ? d(i) : i : (n = a(e)).host ? f(n.host, t) : f(e, a(t).host)) : window.document.documentElement
    }

    function m(e, t) {
        var t = "top" === (1 < arguments.length && void 0 !== t ? t : "top") ? "scrollTop" : "scrollLeft",
            i = e.nodeName;
        return ("BODY" === i || "HTML" === i ? (i = window.document.documentElement, window.document.scrollingElement || i) : e)[t]
    }

    function r(e, t) {
        var t = "x" === t ? "Left" : "Top",
            i = "Left" == t ? "Right" : "Bottom";
        return +e["border" + t + "Width"].split("px")[0] + +e["border" + i + "Width"].split("px")[0]
    }

    function s(e, t, i, s) {
        return $(t["offset" + e], i["client" + e], i["offset" + e], D() ? i["offset" + e] + s["margin" + ("Height" === e ? "Top" : "Left")] + s["margin" + ("Height" === e ? "Bottom" : "Right")] : 0)
    }

    function g() {
        var e = window.document.body,
            t = window.document.documentElement,
            i = D() && window.getComputedStyle(t);
        return {
            height: s("Height", e, t, i),
            width: s("Width", e, t, i)
        }
    }

    function v(e) {
        return I({}, e, {
            right: e.left + e.width,
            bottom: e.top + e.height
        })
    }

    function c(e) {
        var t = {};
        if (D()) try {
            var t = e.getBoundingClientRect(),
                i = m(e, "top"),
                s = m(e, "left");
            t.top += i, t.left += s, t.bottom += i, t.right += s
        } catch (e) {} else t = e.getBoundingClientRect();
        var n, i = {
                left: t.left,
                top: t.top,
                width: t.right - t.left,
                height: t.bottom - t.top
            },
            s = "HTML" === e.nodeName ? g() : {},
            t = s.width || e.clientWidth || i.right - i.left,
            s = s.height || e.clientHeight || i.bottom - i.top,
            t = e.offsetWidth - t,
            s = e.offsetHeight - s;
        return (t || s) && (t -= r(n = u(e), "x"), s -= r(n, "y"), i.width -= t, i.height -= s), v(i)
    }

    function y(e, t) {
        var i = D(),
            s = "HTML" === t.nodeName,
            n = c(e),
            a = c(t),
            e = p(e),
            o = u(t),
            r = +o.borderTopWidth.split("px")[0],
            l = +o.borderLeftWidth.split("px")[0],
            a = v({
                top: n.top - a.top - r,
                left: n.left - a.left - l,
                width: n.width,
                height: n.height
            });
        return a.marginTop = 0, a.marginLeft = 0, !i && s && (n = +o.marginTop.split("px")[0], s = +o.marginLeft.split("px")[0], a.top -= r - n, a.bottom -= r - n, a.left -= l - s, a.right -= l - s, a.marginTop = n, a.marginLeft = s), a = (i ? t.contains(e) : t === e && "BODY" !== e.nodeName) ? function(e, t, i) {
            var i = 2 < arguments.length && void 0 !== i && i,
                s = m(t, "top"),
                t = m(t, "left"),
                i = i ? -1 : 1;
            return e.top += s * i, e.bottom += s * i, e.left += t * i, e.right += t * i, e
        }(a, t) : a
    }

    function b(e, t, i, s) {
        var n, a, o, r, l, d, c = {
                top: 0,
                left: 0
            },
            t = f(e, t);
        return "viewport" === s ? (a = t, o = window.document.documentElement, a = y(a, o), r = $(o.clientWidth, window.innerWidth || 0), l = $(o.clientHeight, window.innerHeight || 0), d = m(o), o = m(o, "left"), c = v({
            top: d - a.top + a.marginTop,
            left: o - a.left + a.marginLeft,
            width: r,
            height: l
        })) : ("scrollParent" === s ? "BODY" === (n = p(h(e))).nodeName && (n = window.document.documentElement) : n = "window" === s ? window.document.documentElement : s, d = y(n, t), "HTML" !== n.nodeName || function e(t) {
            var i = t.nodeName;
            return "BODY" !== i && "HTML" !== i && ("fixed" === u(t, "position") || e(h(t)))
        }(t) ? c = d : (a = (o = g()).height, r = o.width, c.top += d.top - d.marginTop, c.bottom = a + d.top, c.left += d.left - d.marginLeft, c.right = r + d.left)), c.left += i, c.top += i, c.right -= i, c.bottom -= i, c
    }

    function l(e, t, i, s, n, a) {
        var o, a = 5 < arguments.length && void 0 !== a ? a : 0;
        return -1 === e.indexOf("auto") ? e : (s = b(i, s, a, n), o = {
            top: {
                width: s.width,
                height: t.top - s.top
            },
            right: {
                width: s.right - t.right,
                height: s.height
            },
            bottom: {
                width: s.width,
                height: s.bottom - t.bottom
            },
            left: {
                width: t.left - s.left,
                height: s.height
            }
        }, (0 < (n = (a = Object.keys(o).map(function(e) {
            return I({
                key: e
            }, o[e], {
                area: (e = o[e]).width * e.height
            })
        }).sort(function(e, t) {
            return t.area - e.area
        })).filter(function(e) {
            var t = e.width,
                e = e.height;
            return t >= i.clientWidth && e >= i.clientHeight
        })).length ? n : a)[0].key + ((t = e.split("-")[1]) ? "-" + t : ""))
    }

    function w(e, t, i) {
        return y(i, f(t, i))
    }

    function _(e) {
        var t = window.getComputedStyle(e),
            i = parseFloat(t.marginTop) + parseFloat(t.marginBottom),
            t = parseFloat(t.marginLeft) + parseFloat(t.marginRight);
        return {
            width: e.offsetWidth + t,
            height: e.offsetHeight + i
        }
    }

    function C(e) {
        var t = {
            left: "right",
            right: "left",
            bottom: "top",
            top: "bottom"
        };
        return e.replace(/left|right|bottom|top/g, function(e) {
            return t[e]
        })
    }

    function k(e, t, i) {
        i = i.split("-")[0];
        var e = _(e),
            s = {
                width: e.width,
                height: e.height
            },
            n = -1 !== ["right", "left"].indexOf(i),
            a = n ? "top" : "left",
            o = n ? "left" : "top",
            r = n ? "height" : "width",
            n = n ? "width" : "height";
        return s[a] = t[a] + t[r] / 2 - e[r] / 2, s[o] = i === o ? t[o] - e[n] : t[C(o)], s
    }

    function x(e, t) {
        return Array.prototype.find ? e.find(t) : e.filter(t)[0]
    }

    function S(e, i, t) {
        var s, n;
        return (void 0 === t ? e : e.slice(0, (e = e, s = "name", n = t, Array.prototype.findIndex ? e.findIndex(function(e) {
            return e[s] === n
        }) : (t = x(e, function(e) {
            return e[s] === n
        }), e.indexOf(t))))).forEach(function(e) {
            e.function && console.warn("`modifier.function` is deprecated, use `modifier.fn`!");
            var t = e.function || e.fn;
            e.enabled && o(t) && (i.offsets.popper = v(i.offsets.popper), i.offsets.reference = v(i.offsets.reference), i = t(i, e))
        }), i
    }

    function e(e, i) {
        return e.some(function(e) {
            var t = e.name;
            return e.enabled && t === i
        })
    }

    function T(e) {
        for (var t = [!1, "ms", "Webkit", "Moz", "O"], i = e.charAt(0).toUpperCase() + e.slice(1), s = 0; s < t.length - 1; s++) {
            var n = t[s],
                n = n ? "" + n + i : e;
            if (void 0 !== window.document.body.style[n]) return n
        }
        return null
    }

    function F(e, t, i, s) {
        i.updateBound = s, window.addEventListener("resize", i.updateBound, {
            passive: !0
        });
        s = p(e);
        return function e(t, i, s, n) {
            var a = "BODY" === t.nodeName,
                t = a ? window : t;
            t.addEventListener(i, s, {
                passive: !0
            }), a || e(p(t.parentNode), i, s, n), n.push(t)
        }(s, "scroll", i.updateBound, i.scrollParents), i.scrollElement = s, i.eventsEnabled = !0, i
    }

    function O() {
        var t;
        this.state.eventsEnabled && (window.cancelAnimationFrame(this.scheduleUpdate), this.state = (this.reference, t = this.state, window.removeEventListener("resize", t.updateBound), t.scrollParents.forEach(function(e) {
            e.removeEventListener("scroll", t.updateBound)
        }), t.updateBound = null, t.scrollParents = [], t.scrollElement = null, t.eventsEnabled = !1, t))
    }

    function E(e) {
        return "" !== e && !isNaN(parseFloat(e)) && isFinite(e)
    }

    function A(i, s) {
        Object.keys(s).forEach(function(e) {
            var t = ""; - 1 !== ["width", "height", "top", "right", "bottom", "left"].indexOf(e) && E(s[e]) && (t = "px"), i.style[e] = s[e] + t
        })
    }

    function q(e, t, i) {
        var s, n = x(e, function(e) {
                return e.name === t
            }),
            e = !!n && e.some(function(e) {
                return e.name === i && e.enabled && e.order < n.order
            });
        return e || (s = "`" + t + "`", console.warn("`" + i + "` modifier is required by " + s + " modifier in order to work, be sure to include it before " + s + "!")), e
    }

    function N(e, t) {
        t = 1 < arguments.length && void 0 !== t && t, e = L.indexOf(e), e = L.slice(e + 1).concat(L.slice(0, e));
        return t ? e.reverse() : e
    }

    function R(e, r, l, t) {
        var n = [0, 0],
            s = -1 !== ["right", "left"].indexOf(t),
            t = e.split(/(\+|\-)/).map(function(e) {
                return e.trim()
            }),
            e = t.indexOf(x(t, function(e) {
                return -1 !== e.search(/,|\s/)
            })),
            i = (t[e] && -1 === t[e].indexOf(",") && console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead."), /\s*,\s*|\s+/);
        return (-1 === e ? [t] : [t.slice(0, e).concat([t[e].split(i)[0]]), [t[e].split(i)[1]].concat(t.slice(e + 1))]).map(function(e, t) {
            var o = (1 === t ? !s : s) ? "height" : "width",
                i = !1;
            return e.reduce(function(e, t) {
                return "" === e[e.length - 1] && -1 !== ["+", "-"].indexOf(t) ? (e[e.length - 1] = t, i = !0, e) : i ? (e[e.length - 1] += t, i = !1, e) : e.concat(t)
            }, []).map(function(e) {
                return t = o, i = r, s = l, n = +(a = (e = e).match(/((?:\-|\+)?\d*\.?\d*)(.*)/))[1], a = a[2], n ? 0 === a.indexOf("%") ? v("%p" === a ? i : s)[t] / 100 * n : "vh" === a || "vw" === a ? ("vh" === a ? $(document.documentElement.clientHeight, window.innerHeight || 0) : $(document.documentElement.clientWidth, window.innerWidth || 0)) / 100 * n : n : e;
                var t, i, s, n, a
            })
        }).forEach(function(i, s) {
            i.forEach(function(e, t) {
                E(e) && (n[s] += e * ("-" === i[t - 1] ? -1 : 1))
            })
        }), n
    }
    for (var B = Math.min, P = Math.floor, $ = Math.max, t = ["native code", "[object MutationObserverConstructor]"], U = "undefined" != typeof window, V = ["Edge", "Trident", "Firefox"], H = 0, i = 0; i < V.length; i += 1)
        if (U && 0 <= navigator.userAgent.indexOf(V[i])) {
            H = 1;
            break
        }
    function M(e, t, i) {
        return t in e ? Object.defineProperty(e, t, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = i, e
    }
    var n, z, W = U && (z = window.MutationObserver, t.some(function(e) {
            return -1 < (z || "").toString().indexOf(e)
        })) ? function(e) {
            var t = !1,
                i = 0,
                s = document.createElement("span");
            return new MutationObserver(function() {
                    e(), t = !1
                }).observe(s, {
                    attributes: !0
                }),
                function() {
                    t || (t = !0, s.setAttribute("x-index", i), ++i)
                }
        } : function(e) {
            var t = !1;
            return function() {
                t || (t = !0, setTimeout(function() {
                    t = !1, e()
                }, H))
            }
        },
        D = function() {
            return n = null == n ? -1 !== navigator.appVersion.indexOf("MSIE 10") : n
        },
        t = function(e, t, i) {
            return t && K(e.prototype, t), i && K(e, i), e
        },
        I = Object.assign || function(e) {
            for (var t, i = 1; i < arguments.length; i++)
                for (var s in t = arguments[i]) Object.prototype.hasOwnProperty.call(t, s) && (e[s] = t[s]);
            return e
        },
        Y = ["auto-start", "auto", "auto-end", "top-start", "top", "top-end", "right-start", "right", "right-end", "bottom-end", "bottom", "bottom-start", "left-end", "left", "left-start"],
        L = Y.slice(3),
        G = "flip",
        X = "clockwise",
        J = "counterclockwise",
        t = (t(j, [{
            key: "update",
            value: function() {
                return function() {
                    var e;
                    this.state.isDestroyed || ((e = {
                        instance: this,
                        styles: {},
                        attributes: {},
                        flipped: !1,
                        offsets: {}
                    }).offsets.reference = w(this.state, this.popper, this.reference), e.placement = l(this.options.placement, e.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding), e.originalPlacement = e.placement, e.offsets.popper = k(this.popper, e.offsets.reference, e.placement), e.offsets.popper.position = "absolute", e = S(this.modifiers, e), this.state.isCreated ? this.options.onUpdate(e) : (this.state.isCreated = !0, this.options.onCreate(e)))
                }.call(this)
            }
        }, {
            key: "destroy",
            value: function() {
                return function() {
                    return this.state.isDestroyed = !0, e(this.modifiers, "applyStyle") && (this.popper.removeAttribute("x-placement"), this.popper.style.left = "", this.popper.style.position = "", this.popper.style.top = "", this.popper.style[T("transform")] = ""), this.disableEventListeners(), this.options.removeOnDestroy && this.popper.parentNode.removeChild(this.popper), this
                }.call(this)
            }
        }, {
            key: "enableEventListeners",
            value: function() {
                return function() {
                    this.state.eventsEnabled || (this.state = F(this.reference, this.options, this.state, this.scheduleUpdate))
                }.call(this)
            }
        }, {
            key: "disableEventListeners",
            value: function() {
                return O.call(this)
            }
        }]), j);

    function j(e, t) {
        var i = this,
            s = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {},
            n = this,
            a = j;
        if (!(n instanceof a)) throw new TypeError("Cannot call a class as a function");
        this.scheduleUpdate = function() {
            return requestAnimationFrame(i.update)
        }, this.update = W(this.update.bind(this)), this.options = I({}, j.Defaults, s), this.state = {
            isDestroyed: !1,
            isCreated: !1,
            scrollParents: []
        }, this.reference = e.jquery ? e[0] : e, this.popper = t.jquery ? t[0] : t, this.options.modifiers = {}, Object.keys(I({}, j.Defaults.modifiers, s.modifiers)).forEach(function(e) {
            i.options.modifiers[e] = I({}, j.Defaults.modifiers[e] || {}, s.modifiers ? s.modifiers[e] : {})
        }), this.modifiers = Object.keys(this.options.modifiers).map(function(e) {
            return I({
                name: e
            }, i.options.modifiers[e])
        }).sort(function(e, t) {
            return e.order - t.order
        }), this.modifiers.forEach(function(e) {
            e.enabled && o(e.onLoad) && e.onLoad(i.reference, i.popper, i.options, e, i.state)
        }), this.update();
        n = this.options.eventsEnabled;
        n && this.enableEventListeners(), this.state.eventsEnabled = n
    }

    function K(e, t) {
        for (var i, s = 0; s < t.length; s++)(i = t[s]).enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
    }
    return t.Utils = ("undefined" == typeof window ? global : window).PopperUtils, t.placements = Y, t.Defaults = {
        placement: "bottom",
        eventsEnabled: !0,
        removeOnDestroy: !1,
        onCreate: function() {},
        onUpdate: function() {},
        modifiers: {
            shift: {
                order: 100,
                enabled: !0,
                fn: function(e) {
                    var t, i, s, n = e.placement,
                        a = n.split("-")[0],
                        n = n.split("-")[1];
                    return n && (t = (i = e.offsets).reference, i = i.popper, s = (a = -1 !== ["bottom", "top"].indexOf(a)) ? "width" : "height", a = {
                        start: M({}, a = a ? "left" : "top", t[a]),
                        end: M({}, a, t[a] + t[s] - i[s])
                    }, e.offsets.popper = I({}, i, a[n])), e
                }
            },
            offset: {
                order: 200,
                enabled: !0,
                fn: function(e, t) {
                    var t = t.offset,
                        i = e.placement,
                        s = e.offsets,
                        n = s.popper,
                        s = s.reference,
                        i = i.split("-")[0],
                        t = E(+t) ? [+t, 0] : R(t, n, s, i);
                    return "left" === i ? (n.top += t[0], n.left -= t[1]) : "right" === i ? (n.top += t[0], n.left += t[1]) : "top" === i ? (n.left += t[0], n.top -= t[1]) : "bottom" === i && (n.left += t[0], n.top += t[1]), e.popper = n, e
                },
                offset: 0
            },
            preventOverflow: {
                order: 300,
                enabled: !0,
                fn: function(e, s) {
                    var t = s.boundariesElement || d(e.instance.popper),
                        n = (e.instance.reference === t && (t = d(t)), b(e.instance.popper, e.instance.reference, s.padding, t)),
                        t = (s.boundaries = n, s.priority),
                        a = e.offsets.popper,
                        i = {
                            primary: function(e) {
                                var t = a[e];
                                return a[e] < n[e] && !s.escapeWithReference && (t = $(a[e], n[e])), M({}, e, t)
                            },
                            secondary: function(e) {
                                var t = "right" === e ? "left" : "top",
                                    i = a[t];
                                return a[e] > n[e] && !s.escapeWithReference && (i = B(a[t], n[e] - ("right" === e ? a.width : a.height))), M({}, t, i)
                            }
                        };
                    return t.forEach(function(e) {
                        var t = -1 === ["left", "top"].indexOf(e) ? "secondary" : "primary";
                        a = I({}, a, i[t](e))
                    }), e.offsets.popper = a, e
                },
                priority: ["left", "right", "top", "bottom"],
                padding: 5,
                boundariesElement: "scrollParent"
            },
            keepTogether: {
                order: 400,
                enabled: !0,
                fn: function(e) {
                    var t = e.offsets,
                        i = t.popper,
                        t = t.reference,
                        s = e.placement.split("-")[0],
                        n = P,
                        s = -1 !== ["top", "bottom"].indexOf(s),
                        a = s ? "right" : "bottom",
                        o = s ? "left" : "top",
                        s = s ? "width" : "height";
                    return i[a] < n(t[o]) && (e.offsets.popper[o] = n(t[o]) - i[s]), i[o] > n(t[a]) && (e.offsets.popper[o] = n(t[a])), e
                }
            },
            arrow: {
                order: 500,
                enabled: !0,
                fn: function(e, t) {
                    if (q(e.instance.modifiers, "arrow", "keepTogether")) {
                        t = t.element;
                        if ("string" == typeof t) {
                            if (!(t = e.instance.popper.querySelector(t))) return e
                        } else if (!e.instance.popper.contains(t)) return console.warn("WARNING: `arrow.element` must be child of its popper element!"), e;
                        var i = e.placement.split("-")[0],
                            s = e.offsets,
                            n = s.popper,
                            s = s.reference,
                            i = -1 !== ["left", "right"].indexOf(i),
                            a = i ? "height" : "width",
                            o = i ? "top" : "left",
                            r = i ? "left" : "top",
                            i = i ? "bottom" : "right",
                            l = _(t)[a];
                        s[i] - l < n[o] && (e.offsets.popper[o] -= n[o] - (s[i] - l)), s[o] + l > n[i] && (e.offsets.popper[o] += s[o] + l - n[i]);
                        i = s[o] + s[a] / 2 - l / 2 - v(e.offsets.popper)[o], i = $(B(n[a] - l, i), 0);
                        e.arrowElement = t, e.offsets.arrow = {}, e.offsets.arrow[o] = Math.round(i), e.offsets.arrow[r] = ""
                    }
                    return e
                },
                element: "[x-arrow]"
            },
            flip: {
                order: 600,
                enabled: !0,
                fn: function(l, d) {
                    if (!(e(l.instance.modifiers, "inner") || l.flipped && l.placement === l.originalPlacement)) {
                        var c = b(l.instance.popper, l.instance.reference, d.padding, d.boundariesElement),
                            u = l.placement.split("-")[0],
                            h = C(u),
                            p = l.placement.split("-")[1] || "",
                            f = [];
                        switch (d.behavior) {
                            case G:
                                f = [u, h];
                                break;
                            case X:
                                f = N(u);
                                break;
                            case J:
                                f = N(u, !0);
                                break;
                            default:
                                f = d.behavior
                        }
                        f.forEach(function(e, t) {
                            if (u !== e || f.length === t + 1) return l;
                            u = l.placement.split("-")[0], h = C(u);
                            var e = l.offsets.popper,
                                i = l.offsets.reference,
                                s = P,
                                i = "left" === u && s(e.right) > s(i.left) || "right" === u && s(e.left) < s(i.right) || "top" === u && s(e.bottom) > s(i.top) || "bottom" === u && s(e.top) < s(i.bottom),
                                n = s(e.left) < s(c.left),
                                a = s(e.right) > s(c.right),
                                o = s(e.top) < s(c.top),
                                e = s(e.bottom) > s(c.bottom),
                                s = "left" === u && n || "right" === u && a || "top" === u && o || "bottom" === u && e,
                                r = -1 !== ["top", "bottom"].indexOf(u),
                                n = !!d.flipVariations && (r && "start" === p && n || r && "end" === p && a || !r && "start" === p && o || !r && "end" === p && e);
                            (i || s || n) && (l.flipped = !0, (i || s) && (u = f[t + 1]), n && (p = "end" === (a = p) ? "start" : "start" === a ? "end" : a), l.placement = u + (p ? "-" + p : ""), l.offsets.popper = I({}, l.offsets.popper, k(l.instance.popper, l.offsets.reference, l.placement)), l = S(l.instance.modifiers, l, "flip"))
                        })
                    }
                    return l
                },
                behavior: "flip",
                padding: 5,
                boundariesElement: "viewport"
            },
            inner: {
                order: 700,
                enabled: !1,
                fn: function(e) {
                    var t = e.placement,
                        i = t.split("-")[0],
                        s = e.offsets,
                        n = s.popper,
                        s = s.reference,
                        a = -1 !== ["left", "right"].indexOf(i),
                        i = -1 === ["top", "left"].indexOf(i);
                    return n[a ? "left" : "top"] = s[t] - (i ? n[a ? "width" : "height"] : 0), e.placement = C(t), e.offsets.popper = v(n), e
                }
            },
            hide: {
                order: 800,
                enabled: !0,
                fn: function(e) {
                    if (q(e.instance.modifiers, "hide", "preventOverflow")) {
                        var t = e.offsets.reference,
                            i = x(e.instance.modifiers, function(e) {
                                return "preventOverflow" === e.name
                            }).boundaries;
                        if (t.bottom < i.top || t.left > i.right || t.top > i.bottom || t.right < i.left) {
                            if (!0 === e.hide) return e;
                            e.hide = !0, e.attributes["x-out-of-boundaries"] = ""
                        } else {
                            if (!1 === e.hide) return e;
                            e.hide = !1, e.attributes["x-out-of-boundaries"] = !1
                        }
                    }
                    return e
                }
            },
            computeStyle: {
                order: 850,
                enabled: !0,
                fn: function(e, t) {
                    var i = t.x,
                        s = t.y,
                        n = e.offsets.popper,
                        a = x(e.instance.modifiers, function(e) {
                            return "applyStyle" === e.name
                        }).gpuAcceleration;
                    void 0 !== a && console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");
                    var t = void 0 === a ? t.gpuAcceleration : a,
                        a = c(d(e.instance.popper)),
                        o = {
                            position: n.position
                        },
                        n = {
                            left: P(n.left),
                            top: P(n.top),
                            bottom: P(n.bottom),
                            right: P(n.right)
                        },
                        i = "bottom" === i ? "top" : "bottom",
                        s = "right" === s ? "left" : "right",
                        r = T("transform"),
                        l = "bottom" == i ? -a.height + n.bottom : n.top,
                        a = "right" == s ? -a.width + n.right : n.left,
                        t = (t && r ? (o[r] = "translate3d(" + a + "px, " + l + "px, 0)", o[i] = 0, o[s] = 0, o.willChange = "transform") : (n = "right" == s ? -1 : 1, o[i] = l * ("bottom" == i ? -1 : 1), o[s] = a * n, o.willChange = i + ", " + s), {
                            "x-placement": e.placement
                        });
                    return e.attributes = I({}, t, e.attributes), e.styles = I({}, o, e.styles), e
                },
                gpuAcceleration: !0,
                x: "bottom",
                y: "right"
            },
            applyStyle: {
                order: 900,
                enabled: !0,
                fn: function(e) {
                    return A(e.instance.popper, e.styles), t = e.instance.popper, i = e.attributes, Object.keys(i).forEach(function(e) {
                        !1 === i[e] ? t.removeAttribute(e) : t.setAttribute(e, i[e])
                    }), e.offsets.arrow && A(e.arrowElement, e.offsets.arrow), e;
                    var t, i
                },
                onLoad: function(e, t, i, s, n) {
                    var a = w(0, t, e),
                        a = l(i.placement, a, t, e, i.modifiers.flip.boundariesElement, i.modifiers.flip.padding);
                    return t.setAttribute("x-placement", a), A(t, {
                        position: "absolute"
                    }), i
                },
                gpuAcceleration: void 0
            }
        }
    }, t
});
var bootstrap = function(e, S, T) {
        "use strict";

        function F(e, t) {
            for (var i = 0; i < t.length; i++) {
                var s = t[i];
                s.enumerable = s.enumerable || !1, s.configurable = !0, "value" in s && (s.writable = !0), Object.defineProperty(e, s.key, s)
            }
        }
        S = S && S.hasOwnProperty("default") ? S.default : S, T = T && T.hasOwnProperty("default") ? T.default : T;

        function E(e, t, i) {
            t && F(e.prototype, t), i && F(e, i)
        }
        Ht = !1, zt = {
            WebkitTransition: "webkitTransitionEnd",
            MozTransition: "transitionend",
            OTransition: "oTransitionEnd otransitionend",
            transition: "transitionend"
        }, k = {
            TRANSITION_END: "bsTransitionEnd",
            getUID: function(e) {
                for (; e += ~~(1e6 * Math.random()), document.getElementById(e););
                return e
            },
            getSelectorFromElement: function(e) {
                var t = e.getAttribute("data-target");
                t && "#" !== t || (t = e.getAttribute("href") || "");
                try {
                    return 0 < S(document).find(t).length ? t : null
                } catch (e) {
                    return null
                }
            },
            reflow: function(e) {
                return e.offsetHeight
            },
            triggerTransitionEnd: function(e) {
                S(e).trigger(Ht.end)
            },
            supportsTransitionEnd: function() {
                return Boolean(Ht)
            },
            isElement: function(e) {
                return (e[0] || e).nodeType
            },
            typeCheckConfig: function(e, t, i) {
                for (var s in i)
                    if (Object.prototype.hasOwnProperty.call(i, s)) {
                        var n = i[s],
                            a = t[s],
                            a = a && k.isElement(a) ? "element" : {}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase();
                        if (!new RegExp(n).test(a)) throw new Error(e.toUpperCase() + ': Option "' + s + '" provided type "' + a + '" but expected type "' + n + '".')
                    }
            }
        }, Ht = function() {
            if (!window.QUnit) {
                var e, t = document.createElement("bootstrap");
                for (e in zt)
                    if (void 0 !== t.style[e]) return {
                        end: zt[e]
                    }
            }
            return !1
        }(), S.fn.emulateTransitionEnd = function(e) {
            var t = this,
                i = !1;
            return S(this).one(k.TRANSITION_END, function() {
                i = !0
            }), setTimeout(function() {
                i || k.triggerTransitionEnd(t)
            }, e), this
        }, k.supportsTransitionEnd() && (S.event.special[k.TRANSITION_END] = {
            bindType: Ht.end,
            delegateType: Ht.end,
            handle: function(e) {
                if (S(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)
            }
        });
        var O, q, N, R, B, U, r, V, H, z, W, Y, G, X, J, K, Q, t, i, Z, ee, te, ie, se, ne, s, ae, oe, re, le, de, ce, ue, he, pe, fe, me, n, ge, a, o, ve, ye, be, we, _e, Ce, ke, xe, Se, Te, l, Ee, Ae, Pe, $e, Me, De, Ie, Le, je, Fe, Oe, qe, Ne, Re, Be, Ue, d, Ve, He, ze, We, Ye, Ge, c, u, h, Xe, Je, Ke, Qe, Ze, et, tt, p, it, st, nt, at, ot, rt, lt, f, m, dt, g, ct, ut, ht, pt, ft, mt, gt, v, vt, y, yt, bt, wt, _t, Ct, kt, xt, St, Tt, Et, At, b, w, Pt, _, $t, Mt, Dt, It, Lt, jt, Ft, Ot, qt, Nt, Rt, Bt, Ut, Vt, C, Ht, zt, k, A = k,
            x = (Ot = "alert", qt = S.fn[Ot], Nt = "close.bs.alert", Rt = "closed.bs.alert", Yt = "click.bs.alert.data-api", Bt = "alert", Ut = "fade", Vt = "show", (x = ii.prototype).close = function(e) {
                e = e || this._element;
                e = this._getRootElement(e);
                this._triggerCloseEvent(e).isDefaultPrevented() || this._removeElement(e)
            }, x.dispose = function() {
                S.removeData(this._element, "bs.alert"), this._element = null
            }, x._getRootElement = function(e) {
                var t = A.getSelectorFromElement(e),
                    i = !1;
                return i = (i = t ? S(t)[0] : i) || S(e).closest("." + Bt)[0]
            }, x._triggerCloseEvent = function(e) {
                var t = S.Event(Nt);
                return S(e).trigger(t), t
            }, x._removeElement = function(t) {
                var i = this;
                S(t).removeClass(Vt), A.supportsTransitionEnd() && S(t).hasClass(Ut) ? S(t).one(A.TRANSITION_END, function(e) {
                    return i._destroyElement(t, e)
                }).emulateTransitionEnd(150) : this._destroyElement(t)
            }, x._destroyElement = function(e) {
                S(e).detach().trigger(Rt).remove()
            }, ii._jQueryInterface = function(i) {
                return this.each(function() {
                    var e = S(this),
                        t = e.data("bs.alert");
                    t || (t = new ii(this), e.data("bs.alert", t)), "close" === i && t[i](this)
                })
            }, ii._handleDismiss = function(t) {
                return function(e) {
                    e && e.preventDefault(), t.close(this)
                }
            }, E(ii, null, [{
                key: "VERSION",
                get: function() {
                    return "4.0.0-beta.2"
                }
            }]), C = ii, S(document).on(Yt, '[data-dismiss="alert"]', C._handleDismiss(new C)), S.fn[Ot] = C._jQueryInterface, S.fn[Ot].Constructor = C, S.fn[Ot].noConflict = function() {
                return S.fn[Ot] = qt, C._jQueryInterface
            }, C),
            Wt = (w = "button", Pt = S.fn[w], _ = "active", $t = "btn", Mt = "focus", Yt = '[data-toggle^="button"]', Dt = '[data-toggle="buttons"]', It = "input", Lt = ".active", jt = ".btn", P = "click.bs.button.data-api", $ = "focus.bs.button.data-api blur.bs.button.data-api", (Wt = ti.prototype).toggle = function() {
                var e = !0,
                    t = !0,
                    i = S(this._element).closest(Dt)[0];
                if (i) {
                    var s, n = S(this._element).find(It)[0];
                    if (n) {
                        if ("radio" === n.type && (n.checked && S(this._element).hasClass(_) ? e = !1 : (s = S(i).find(Lt)[0]) && S(s).removeClass(_)), e) {
                            if (n.hasAttribute("disabled") || i.hasAttribute("disabled") || n.classList.contains("disabled") || i.classList.contains("disabled")) return;
                            n.checked = !S(this._element).hasClass(_), S(n).trigger("change")
                        }
                        n.focus(), t = !1
                    }
                }
                t && this._element.setAttribute("aria-pressed", !S(this._element).hasClass(_)), e && S(this._element).toggleClass(_)
            }, Wt.dispose = function() {
                S.removeData(this._element, "bs.button"), this._element = null
            }, ti._jQueryInterface = function(t) {
                return this.each(function() {
                    var e = S(this).data("bs.button");
                    e || (e = new ti(this), S(this).data("bs.button", e)), "toggle" === t && e[t]()
                })
            }, E(ti, null, [{
                key: "VERSION",
                get: function() {
                    return "4.0.0-beta.2"
                }
            }]), Ft = ti, S(document).on(P, Yt, function(e) {
                e.preventDefault();
                e = e.target;
                S(e).hasClass($t) || (e = S(e).closest(jt)), Ft._jQueryInterface.call(S(e), "toggle")
            }).on($, Yt, function(e) {
                var t = S(e.target).closest(jt)[0];
                S(t).toggleClass(Mt, /^focus(in)?$/.test(e.type))
            }), S.fn[w] = Ft._jQueryInterface, S.fn[w].Constructor = Ft, S.fn[w].noConflict = function() {
                return S.fn[w] = Pt, Ft._jQueryInterface
            }, Ft),
            Yt = (m = "carousel", g = "." + (dt = "bs.carousel"), ct = S.fn[m], ut = {
                interval: 5e3,
                keyboard: !0,
                slide: !1,
                pause: "hover",
                wrap: !0
            }, ht = {
                interval: "(number|boolean)",
                keyboard: "boolean",
                slide: "(boolean|string)",
                pause: "(string|boolean)",
                wrap: "boolean"
            }, pt = "next", ft = "prev", mt = "left", gt = "right", v = {
                SLIDE: "slide" + g,
                SLID: "slid" + g,
                KEYDOWN: "keydown" + g,
                MOUSEENTER: "mouseenter" + g,
                MOUSELEAVE: "mouseleave" + g,
                TOUCHEND: "touchend" + g,
                LOAD_DATA_API: "load.bs.carousel.data-api",
                CLICK_DATA_API: "click.bs.carousel.data-api"
            }, vt = "carousel", y = "active", yt = "slide", bt = "carousel-item-right", wt = "carousel-item-left", _t = "carousel-item-next", Ct = "carousel-item-prev", kt = ".active", xt = ".active.carousel-item", St = ".carousel-item", Tt = ".carousel-item-next, .carousel-item-prev", Et = ".carousel-indicators", P = "[data-slide], [data-slide-to]", At = '[data-ride="carousel"]', ($ = L.prototype).next = function() {
                this._isSliding || this._slide(pt)
            }, $.nextWhenVisible = function() {
                !document.hidden && S(this._element).is(":visible") && "hidden" !== S(this._element).css("visibility") && this.next()
            }, $.prev = function() {
                this._isSliding || this._slide(ft)
            }, $.pause = function(e) {
                e || (this._isPaused = !0), S(this._element).find(Tt)[0] && A.supportsTransitionEnd() && (A.triggerTransitionEnd(this._element), this.cycle(!0)), clearInterval(this._interval), this._interval = null
            }, $.cycle = function(e) {
                e || (this._isPaused = !1), this._interval && (clearInterval(this._interval), this._interval = null), this._config.interval && !this._isPaused && (this._interval = setInterval((document.visibilityState ? this.nextWhenVisible : this.next).bind(this), this._config.interval))
            }, $.to = function(e) {
                var t = this,
                    i = (this._activeElement = S(this._element).find(xt)[0], this._getItemIndex(this._activeElement));
                e > this._items.length - 1 || e < 0 || (this._isSliding ? S(this._element).one(v.SLID, function() {
                    return t.to(e)
                }) : i === e ? (this.pause(), this.cycle()) : (i = i < e ? pt : ft, this._slide(i, this._items[e])))
            }, $.dispose = function() {
                S(this._element).off(g), S.removeData(this._element, dt), this._items = null, this._config = null, this._element = null, this._interval = null, this._isPaused = null, this._isSliding = null, this._activeElement = null, this._indicatorsElement = null
            }, $._getConfig = function(e) {
                return e = S.extend({}, ut, e), A.typeCheckConfig(m, e, ht), e
            }, $._addEventListeners = function() {
                var t = this;
                this._config.keyboard && S(this._element).on(v.KEYDOWN, function(e) {
                    return t._keydown(e)
                }), "hover" === this._config.pause && (S(this._element).on(v.MOUSEENTER, function(e) {
                    return t.pause(e)
                }).on(v.MOUSELEAVE, function(e) {
                    return t.cycle(e)
                }), "ontouchstart" in document.documentElement) && S(this._element).on(v.TOUCHEND, function() {
                    t.pause(), t.touchTimeout && clearTimeout(t.touchTimeout), t.touchTimeout = setTimeout(function(e) {
                        return t.cycle(e)
                    }, 500 + t._config.interval)
                })
            }, $._keydown = function(e) {
                if (!/input|textarea/i.test(e.target.tagName)) switch (e.which) {
                    case 37:
                        e.preventDefault(), this.prev();
                        break;
                    case 39:
                        e.preventDefault(), this.next();
                        break;
                    default:
                        return
                }
            }, $._getItemIndex = function(e) {
                return this._items = S.makeArray(S(e).parent().find(St)), this._items.indexOf(e)
            }, $._getItemByDirection = function(e, t) {
                var i = e === pt,
                    s = e === ft,
                    n = this._getItemIndex(t),
                    a = this._items.length - 1;
                return (s && 0 === n || i && n === a) && !this._config.wrap ? t : -1 == (s = (n + (e === ft ? -1 : 1)) % this._items.length) ? this._items[this._items.length - 1] : this._items[s]
            }, $._triggerSlideEvent = function(e, t) {
                var i = this._getItemIndex(e),
                    s = this._getItemIndex(S(this._element).find(xt)[0]),
                    e = S.Event(v.SLIDE, {
                        relatedTarget: e,
                        direction: t,
                        from: s,
                        to: i
                    });
                return S(this._element).trigger(e), e
            }, $._setActiveIndicatorElement = function(e) {
                this._indicatorsElement && (S(this._indicatorsElement).find(kt).removeClass(y), e = this._indicatorsElement.children[this._getItemIndex(e)]) && S(e).addClass(y)
            }, $._slide = function(e, t) {
                var i, s, n, a = this,
                    o = S(this._element).find(xt)[0],
                    r = this._getItemIndex(o),
                    l = t || o && this._getItemByDirection(e, o),
                    t = this._getItemIndex(l),
                    d = Boolean(this._interval),
                    e = e === pt ? (i = wt, s = _t, mt) : (i = bt, s = Ct, gt);
                l && S(l).hasClass(y) ? this._isSliding = !1 : !this._triggerSlideEvent(l, e).isDefaultPrevented() && o && l && (this._isSliding = !0, d && this.pause(), this._setActiveIndicatorElement(l), n = S.Event(v.SLID, {
                    relatedTarget: l,
                    direction: e,
                    from: r,
                    to: t
                }), A.supportsTransitionEnd() && S(this._element).hasClass(yt) ? (S(l).addClass(s), A.reflow(l), S(o).addClass(i), S(l).addClass(i), S(o).one(A.TRANSITION_END, function() {
                    S(l).removeClass(i + " " + s).addClass(y), S(o).removeClass(y + " " + s + " " + i), a._isSliding = !1, setTimeout(function() {
                        return S(a._element).trigger(n)
                    }, 0)
                }).emulateTransitionEnd(600)) : (S(o).removeClass(y), S(l).addClass(y), this._isSliding = !1, S(this._element).trigger(n)), d) && this.cycle()
            }, L._jQueryInterface = function(s) {
                return this.each(function() {
                    var e = S(this).data(dt),
                        t = S.extend({}, ut, S(this).data()),
                        i = ("object" == typeof s && S.extend(t, s), "string" == typeof s ? s : t.slide);
                    if (e || (e = new L(this, t), S(this).data(dt, e)), "number" == typeof s) e.to(s);
                    else if ("string" == typeof i) {
                        if (void 0 === e[i]) throw new Error('No method named "' + i + '"');
                        e[i]()
                    } else t.interval && (e.pause(), e.cycle())
                })
            }, L._dataApiClickHandler = function(e) {
                var t, i, s = A.getSelectorFromElement(this);
                s && (s = S(s)[0]) && S(s).hasClass(vt) && (t = S.extend({}, S(s).data(), S(this).data()), (i = this.getAttribute("data-slide-to")) && (t.interval = !1), L._jQueryInterface.call(S(s), t), i && S(s).data(dt).to(i), e.preventDefault())
            }, E(L, null, [{
                key: "VERSION",
                get: function() {
                    return "4.0.0-beta.2"
                }
            }, {
                key: "Default",
                get: function() {
                    return ut
                }
            }]), b = L, S(document).on(v.CLICK_DATA_API, P, b._dataApiClickHandler), S(window).on(v.LOAD_DATA_API, function() {
                S(At).each(function() {
                    var e = S(this);
                    b._jQueryInterface.call(e, e.data())
                })
            }), S.fn[m] = b._jQueryInterface, S.fn[m].Constructor = b, S.fn[m].noConflict = function() {
                return S.fn[m] = ct, b._jQueryInterface
            }, b),
            P = (u = "collapse", h = "bs.collapse", Xe = S.fn[u], Je = {
                toggle: !0,
                parent: ""
            }, Ke = {
                toggle: "boolean",
                parent: "(string|element)"
            }, Qe = "show.bs.collapse", Ze = "shown.bs.collapse", et = "hide.bs.collapse", tt = "hidden.bs.collapse", $ = "click.bs.collapse.data-api", p = "show", it = "collapse", st = "collapsing", nt = "collapsed", at = "width", ot = "height", rt = ".show, .collapsing", lt = '[data-toggle="collapse"]', (P = I.prototype).toggle = function() {
                S(this._element).hasClass(p) ? this.hide() : this.show()
            }, P.show = function() {
                var e, t, i, s, n = this;
                this._isTransitioning || S(this._element).hasClass(p) || (e = this._parent && !(e = S.makeArray(S(this._parent).children().children(rt))).length ? null : e) && (s = S(e).data(h)) && s._isTransitioning || (i = S.Event(Qe), S(this._element).trigger(i), i.isDefaultPrevented()) || (e && (I._jQueryInterface.call(S(e), "hide"), s || S(e).data(h, null)), t = this._getDimension(), S(this._element).removeClass(it).addClass(st), this._element.style[t] = 0, this._triggerArray.length && S(this._triggerArray).removeClass(nt).attr("aria-expanded", !0), this.setTransitioning(!0), i = function() {
                    S(n._element).removeClass(st).addClass(it).addClass(p), n._element.style[t] = "", n.setTransitioning(!1), S(n._element).trigger(Ze)
                }, A.supportsTransitionEnd() ? (s = "scroll" + (t[0].toUpperCase() + t.slice(1)), S(this._element).one(A.TRANSITION_END, i).emulateTransitionEnd(600), this._element.style[t] = this._element[s] + "px") : i())
            }, P.hide = function() {
                var e = this;
                if (!this._isTransitioning && S(this._element).hasClass(p)) {
                    var t = S.Event(et);
                    if (S(this._element).trigger(t), !t.isDefaultPrevented()) {
                        t = this._getDimension();
                        if (this._element.style[t] = this._element.getBoundingClientRect()[t] + "px", A.reflow(this._element), S(this._element).addClass(st).removeClass(it).removeClass(p), this._triggerArray.length)
                            for (var i = 0; i < this._triggerArray.length; i++) {
                                var s = this._triggerArray[i],
                                    n = A.getSelectorFromElement(s);
                                null === n || S(n).hasClass(p) || S(s).addClass(nt).attr("aria-expanded", !1)
                            }
                        this.setTransitioning(!0);
                        var a = function() {
                            e.setTransitioning(!1), S(e._element).removeClass(st).addClass(it).trigger(tt)
                        };
                        this._element.style[t] = "", A.supportsTransitionEnd() ? S(this._element).one(A.TRANSITION_END, a).emulateTransitionEnd(600) : a()
                    }
                }
            }, P.setTransitioning = function(e) {
                this._isTransitioning = e
            }, P.dispose = function() {
                S.removeData(this._element, h), this._config = null, this._parent = null, this._element = null, this._triggerArray = null, this._isTransitioning = null
            }, P._getConfig = function(e) {
                return (e = S.extend({}, Je, e)).toggle = Boolean(e.toggle), A.typeCheckConfig(u, e, Ke), e
            }, P._getDimension = function() {
                return S(this._element).hasClass(at) ? at : ot
            }, P._getParent = function() {
                var i = this,
                    e = null,
                    t = (A.isElement(this._config.parent) ? (e = this._config.parent, void 0 !== this._config.parent.jquery && (e = this._config.parent[0])) : e = S(this._config.parent)[0], '[data-toggle="collapse"][data-parent="' + this._config.parent + '"]');
                return S(e).find(t).each(function(e, t) {
                    i._addAriaAndCollapsedClass(I._getTargetFromElement(t), [t])
                }), e
            }, P._addAriaAndCollapsedClass = function(e, t) {
                e && (e = S(e).hasClass(p), t.length) && S(t).toggleClass(nt, !e).attr("aria-expanded", e)
            }, I._getTargetFromElement = function(e) {
                e = A.getSelectorFromElement(e);
                return e ? S(e)[0] : null
            }, I._jQueryInterface = function(s) {
                return this.each(function() {
                    var e = S(this),
                        t = e.data(h),
                        i = S.extend({}, Je, e.data(), "object" == typeof s && s);
                    if (!t && i.toggle && /show|hide/.test(s) && (i.toggle = !1), t || (t = new I(this, i), e.data(h, t)), "string" == typeof s) {
                        if (void 0 === t[s]) throw new Error('No method named "' + s + '"');
                        t[s]()
                    }
                })
            }, E(I, null, [{
                key: "VERSION",
                get: function() {
                    return "4.0.0-beta.2"
                }
            }, {
                key: "Default",
                get: function() {
                    return Je
                }
            }]), f = I, S(document).on($, lt, function(e) {
                "A" === e.currentTarget.tagName && e.preventDefault();
                var i = S(this),
                    e = A.getSelectorFromElement(this);
                S(e).each(function() {
                    var e = S(this),
                        t = e.data(h) ? "toggle" : i.data();
                    f._jQueryInterface.call(e, t)
                })
            }), S.fn[u] = f._jQueryInterface, S.fn[u].Constructor = f, S.fn[u].noConflict = function() {
                return S.fn[u] = Xe, f._jQueryInterface
            }, f),
            $ = function() {
                if (void 0 === T) throw new Error("Bootstrap dropdown require Popper.js (https://popper.js.org)");
                var e, t = "dropdown",
                    r = "bs.dropdown",
                    i = "." + r,
                    s = S.fn[t],
                    n = new RegExp("38|40|27"),
                    l = {
                        HIDE: "hide" + i,
                        HIDDEN: "hidden" + i,
                        SHOW: "show" + i,
                        SHOWN: "shown" + i,
                        CLICK: "click" + i,
                        CLICK_DATA_API: "click.bs.dropdown.data-api",
                        KEYDOWN_DATA_API: "keydown.bs.dropdown.data-api",
                        KEYUP_DATA_API: "keyup.bs.dropdown.data-api"
                    },
                    a = "disabled",
                    d = "show",
                    o = "dropup",
                    c = "dropdown-menu-right",
                    u = "dropdown-menu-left",
                    h = '[data-toggle="dropdown"]',
                    p = ".dropdown form",
                    f = ".dropdown-menu",
                    m = ".navbar-nav",
                    g = ".dropdown-menu .dropdown-item:not(.disabled)",
                    v = "top-start",
                    y = "top-end",
                    b = "bottom-start",
                    w = "bottom-end",
                    _ = {
                        offset: 0,
                        flip: !0
                    },
                    C = {
                        offset: "(number|string|function)",
                        flip: "boolean"
                    },
                    k = ((e = x.prototype).toggle = function() {
                        var e, t, i;
                        this._element.disabled || S(this._element).hasClass(a) || (e = x._getParentFromElement(this._element), t = S(this._menu).hasClass(d), x._clearMenus(), t) || (t = {
                            relatedTarget: this._element
                        }, i = S.Event(l.SHOW, t), S(e).trigger(i), i.isDefaultPrevented()) || (i = this._element, S(e).hasClass(o) && (S(this._menu).hasClass(u) || S(this._menu).hasClass(c)) && (i = e), this._popper = new T(i, this._menu, this._getPopperConfig()), "ontouchstart" in document.documentElement && !S(e).closest(m).length && S("body").children().on("mouseover", null, S.noop), this._element.focus(), this._element.setAttribute("aria-expanded", !0), S(this._menu).toggleClass(d), S(e).toggleClass(d).trigger(S.Event(l.SHOWN, t)))
                    }, e.dispose = function() {
                        S.removeData(this._element, r), S(this._element).off(i), this._element = null, (this._menu = null) !== this._popper && this._popper.destroy(), this._popper = null
                    }, e.update = function() {
                        this._inNavbar = this._detectNavbar(), null !== this._popper && this._popper.scheduleUpdate()
                    }, e._addEventListeners = function() {
                        var t = this;
                        S(this._element).on(l.CLICK, function(e) {
                            e.preventDefault(), e.stopPropagation(), t.toggle()
                        })
                    }, e._getConfig = function(e) {
                        return e = S.extend({}, this.constructor.Default, S(this._element).data(), e), A.typeCheckConfig(t, e, this.constructor.DefaultType), e
                    }, e._getMenuElement = function() {
                        var e;
                        return this._menu || (e = x._getParentFromElement(this._element), this._menu = S(e).find(f)[0]), this._menu
                    }, e._getPlacement = function() {
                        var e = S(this._element).parent(),
                            t = b;
                        return e.hasClass(o) ? (t = v, S(this._menu).hasClass(c) && (t = y)) : S(this._menu).hasClass(c) && (t = w), t
                    }, e._detectNavbar = function() {
                        return 0 < S(this._element).closest(".navbar").length
                    }, e._getPopperConfig = function() {
                        var t = this,
                            e = {},
                            e = ("function" == typeof this._config.offset ? e.fn = function(e) {
                                return e.offsets = S.extend({}, e.offsets, t._config.offset(e.offsets) || {}), e
                            } : e.offset = this._config.offset, {
                                placement: this._getPlacement(),
                                modifiers: {
                                    offset: e,
                                    flip: {
                                        enabled: this._config.flip
                                    }
                                }
                            });
                        return this._inNavbar && (e.modifiers.applyStyle = {
                            enabled: !this._inNavbar
                        }), e
                    }, x._jQueryInterface = function(t) {
                        return this.each(function() {
                            var e = S(this).data(r);
                            if (e || (e = new x(this, "object" == typeof t ? t : null), S(this).data(r, e)), "string" == typeof t) {
                                if (void 0 === e[t]) throw new Error('No method named "' + t + '"');
                                e[t]()
                            }
                        })
                    }, x._clearMenus = function(e) {
                        if (!e || 3 !== e.which && ("keyup" !== e.type || 9 === e.which))
                            for (var t = S.makeArray(S(h)), i = 0; i < t.length; i++) {
                                var s, n = x._getParentFromElement(t[i]),
                                    a = S(t[i]).data(r),
                                    o = {
                                        relatedTarget: t[i]
                                    };
                                a && (a = a._menu, !S(n).hasClass(d) || e && ("click" === e.type && /input|textarea/i.test(e.target.tagName) || "keyup" === e.type && 9 === e.which) && S.contains(n, e.target) || (s = S.Event(l.HIDE, o), S(n).trigger(s), s.isDefaultPrevented()) || ("ontouchstart" in document.documentElement && S("body").children().off("mouseover", null, S.noop), t[i].setAttribute("aria-expanded", "false"), S(a).removeClass(d), S(n).removeClass(d).trigger(S.Event(l.HIDDEN, o))))
                            }
                    }, x._getParentFromElement = function(e) {
                        var t, i = A.getSelectorFromElement(e);
                        return (t = i ? S(i)[0] : t) || e.parentNode
                    }, x._dataApiKeydownHandler = function(e) {
                        var t, i, s;
                        !n.test(e.which) || /button/i.test(e.target.tagName) && 32 === e.which || /input|textarea/i.test(e.target.tagName) || (e.preventDefault(), e.stopPropagation(), this.disabled) || S(this).hasClass(a) || (t = x._getParentFromElement(this), ((s = S(t).hasClass(d)) || 27 === e.which && 32 === e.which) && (!s || 27 !== e.which && 32 !== e.which) ? (s = S(t).find(g).get()).length && (i = s.indexOf(e.target), 38 === e.which && 0 < i && i--, 40 === e.which && i < s.length - 1 && i++, s[i = i < 0 ? 0 : i].focus()) : (27 === e.which && (s = S(t).find(h)[0], S(s).trigger("focus")), S(this).trigger("click")))
                    }, E(x, null, [{
                        key: "VERSION",
                        get: function() {
                            return "4.0.0-beta.2"
                        }
                    }, {
                        key: "Default",
                        get: function() {
                            return _
                        }
                    }, {
                        key: "DefaultType",
                        get: function() {
                            return C
                        }
                    }]), x);

                function x(e, t) {
                    this._element = e, this._popper = null, this._config = this._getConfig(t), this._menu = this._getMenuElement(), this._inNavbar = this._detectNavbar(), this._addEventListeners()
                }
                return S(document).on(l.KEYDOWN_DATA_API, h, k._dataApiKeydownHandler).on(l.KEYDOWN_DATA_API, f, k._dataApiKeydownHandler).on(l.CLICK_DATA_API + " " + l.KEYUP_DATA_API, k._clearMenus).on(l.CLICK_DATA_API, h, function(e) {
                    e.preventDefault(), e.stopPropagation(), k._jQueryInterface.call(S(this), "toggle")
                }).on(l.CLICK_DATA_API, p, function(e) {
                    e.stopPropagation()
                }), S.fn[t] = k._jQueryInterface, S.fn[t].Constructor = k, S.fn[t].noConflict = function() {
                    return S.fn[t] = s, k._jQueryInterface
                }, k
            }(),
            M = (l = "modal", Ee = S.fn[l], Ae = {
                backdrop: !0,
                keyboard: !0,
                focus: !0,
                show: !0
            }, Pe = {
                backdrop: "(boolean|string)",
                keyboard: "boolean",
                focus: "boolean",
                show: "boolean"
            }, $e = "hide.bs.modal", Me = "hidden.bs.modal", De = "show.bs.modal", Ie = "shown.bs.modal", Le = "focusin.bs.modal", je = "resize.bs.modal", Fe = "click.dismiss.bs.modal", Oe = "keydown.dismiss.bs.modal", qe = "mouseup.dismiss.bs.modal", Ne = "mousedown.dismiss.bs.modal", Gt = "click.bs.modal.data-api", Re = "modal-scrollbar-measure", Be = "modal-backdrop", Ue = "modal-open", d = "fade", Ve = "show", He = ".modal-dialog", Xt = '[data-toggle="modal"]', ze = '[data-dismiss="modal"]', We = ".fixed-top, .fixed-bottom, .is-fixed, .sticky-top", Ye = ".sticky-top", Ge = ".navbar-toggler", (M = ei.prototype).toggle = function(e) {
                return this._isShown ? this.hide() : this.show(e)
            }, M.show = function(e) {
                var t, i = this;
                this._isTransitioning || this._isShown || (A.supportsTransitionEnd() && S(this._element).hasClass(d) && (this._isTransitioning = !0), t = S.Event(De, {
                    relatedTarget: e
                }), S(this._element).trigger(t), this._isShown) || t.isDefaultPrevented() || (this._isShown = !0, this._checkScrollbar(), this._setScrollbar(), this._adjustDialog(), S(document.body).addClass(Ue), this._setEscapeEvent(), this._setResizeEvent(), S(this._element).on(Fe, ze, function(e) {
                    return i.hide(e)
                }), S(this._dialog).on(Ne, function() {
                    S(i._element).one(qe, function(e) {
                        S(e.target).is(i._element) && (i._ignoreBackdropClick = !0)
                    })
                }), this._showBackdrop(function() {
                    return i._showElement(e)
                }))
            }, M.hide = function(e) {
                var t = this;
                e && e.preventDefault(), !this._isTransitioning && this._isShown && (e = S.Event($e), S(this._element).trigger(e), this._isShown) && !e.isDefaultPrevented() && (this._isShown = !1, (e = A.supportsTransitionEnd() && S(this._element).hasClass(d)) && (this._isTransitioning = !0), this._setEscapeEvent(), this._setResizeEvent(), S(document).off(Le), S(this._element).removeClass(Ve), S(this._element).off(Fe), S(this._dialog).off(Ne), e ? S(this._element).one(A.TRANSITION_END, function(e) {
                    return t._hideModal(e)
                }).emulateTransitionEnd(300) : this._hideModal())
            }, M.dispose = function() {
                S.removeData(this._element, "bs.modal"), S(window, document, this._element, this._backdrop).off(".bs.modal"), this._config = null, this._element = null, this._dialog = null, this._backdrop = null, this._isShown = null, this._isBodyOverflowing = null, this._ignoreBackdropClick = null, this._scrollbarWidth = null
            }, M.handleUpdate = function() {
                this._adjustDialog()
            }, M._getConfig = function(e) {
                return e = S.extend({}, Ae, e), A.typeCheckConfig(l, e, Pe), e
            }, M._showElement = function(e) {
                function t() {
                    i._config.focus && i._element.focus(), i._isTransitioning = !1, S(i._element).trigger(n)
                }
                var i = this,
                    s = A.supportsTransitionEnd() && S(this._element).hasClass(d),
                    n = (this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE || document.body.appendChild(this._element), this._element.style.display = "block", this._element.removeAttribute("aria-hidden"), this._element.scrollTop = 0, s && A.reflow(this._element), S(this._element).addClass(Ve), this._config.focus && this._enforceFocus(), S.Event(Ie, {
                        relatedTarget: e
                    }));
                s ? S(this._dialog).one(A.TRANSITION_END, t).emulateTransitionEnd(300) : t()
            }, M._enforceFocus = function() {
                var t = this;
                S(document).off(Le).on(Le, function(e) {
                    document === e.target || t._element === e.target || S(t._element).has(e.target).length || t._element.focus()
                })
            }, M._setEscapeEvent = function() {
                var t = this;
                this._isShown && this._config.keyboard ? S(this._element).on(Oe, function(e) {
                    27 === e.which && (e.preventDefault(), t.hide())
                }) : this._isShown || S(this._element).off(Oe)
            }, M._setResizeEvent = function() {
                var t = this;
                this._isShown ? S(window).on(je, function(e) {
                    return t.handleUpdate(e)
                }) : S(window).off(je)
            }, M._hideModal = function() {
                var e = this;
                this._element.style.display = "none", this._element.setAttribute("aria-hidden", !0), this._isTransitioning = !1, this._showBackdrop(function() {
                    S(document.body).removeClass(Ue), e._resetAdjustments(), e._resetScrollbar(), S(e._element).trigger(Me)
                })
            }, M._removeBackdrop = function() {
                this._backdrop && (S(this._backdrop).remove(), this._backdrop = null)
            }, M._showBackdrop = function(e) {
                var t, i = this,
                    s = S(this._element).hasClass(d) ? d : "";
                this._isShown && this._config.backdrop ? (t = A.supportsTransitionEnd() && s, this._backdrop = document.createElement("div"), this._backdrop.className = Be, s && S(this._backdrop).addClass(s), S(this._backdrop).appendTo(document.body), S(this._element).on(Fe, function(e) {
                    i._ignoreBackdropClick ? i._ignoreBackdropClick = !1 : e.target === e.currentTarget && ("static" === i._config.backdrop ? i._element.focus() : i.hide())
                }), t && A.reflow(this._backdrop), S(this._backdrop).addClass(Ve), e && (t ? S(this._backdrop).one(A.TRANSITION_END, e).emulateTransitionEnd(150) : e())) : !this._isShown && this._backdrop ? (S(this._backdrop).removeClass(Ve), s = function() {
                    i._removeBackdrop(), e && e()
                }, A.supportsTransitionEnd() && S(this._element).hasClass(d) ? S(this._backdrop).one(A.TRANSITION_END, s).emulateTransitionEnd(150) : s()) : e && e()
            }, M._adjustDialog = function() {
                var e = this._element.scrollHeight > document.documentElement.clientHeight;
                !this._isBodyOverflowing && e && (this._element.style.paddingLeft = this._scrollbarWidth + "px"), this._isBodyOverflowing && !e && (this._element.style.paddingRight = this._scrollbarWidth + "px")
            }, M._resetAdjustments = function() {
                this._element.style.paddingLeft = "", this._element.style.paddingRight = ""
            }, M._checkScrollbar = function() {
                var e = document.body.getBoundingClientRect();
                this._isBodyOverflowing = e.left + e.right < window.innerWidth, this._scrollbarWidth = this._getScrollbarWidth()
            }, M._setScrollbar = function() {
                var e, t, n = this;
                this._isBodyOverflowing && (S(We).each(function(e, t) {
                    var i = S(t)[0].style.paddingRight,
                        s = S(t).css("padding-right");
                    S(t).data("padding-right", i).css("padding-right", parseFloat(s) + n._scrollbarWidth + "px")
                }), S(Ye).each(function(e, t) {
                    var i = S(t)[0].style.marginRight,
                        s = S(t).css("margin-right");
                    S(t).data("margin-right", i).css("margin-right", parseFloat(s) - n._scrollbarWidth + "px")
                }), S(Ge).each(function(e, t) {
                    var i = S(t)[0].style.marginRight,
                        s = S(t).css("margin-right");
                    S(t).data("margin-right", i).css("margin-right", parseFloat(s) + n._scrollbarWidth + "px")
                }), e = document.body.style.paddingRight, t = S("body").css("padding-right"), S("body").data("padding-right", e).css("padding-right", parseFloat(t) + this._scrollbarWidth + "px"))
            }, M._resetScrollbar = function() {
                S(We).each(function(e, t) {
                    var i = S(t).data("padding-right");
                    void 0 !== i && S(t).css("padding-right", i).removeData("padding-right")
                }), S(Ye + ", " + Ge).each(function(e, t) {
                    var i = S(t).data("margin-right");
                    void 0 !== i && S(t).css("margin-right", i).removeData("margin-right")
                });
                var e = S("body").data("padding-right");
                void 0 !== e && S("body").css("padding-right", e).removeData("padding-right")
            }, M._getScrollbarWidth = function() {
                var e = document.createElement("div"),
                    t = (e.className = Re, document.body.appendChild(e), e.getBoundingClientRect().width - e.clientWidth);
                return document.body.removeChild(e), t
            }, ei._jQueryInterface = function(i, s) {
                return this.each(function() {
                    var e = S(this).data("bs.modal"),
                        t = S.extend({}, ei.Default, S(this).data(), "object" == typeof i && i);
                    if (e || (e = new ei(this, t), S(this).data("bs.modal", e)), "string" == typeof i) {
                        if (void 0 === e[i]) throw new Error('No method named "' + i + '"');
                        e[i](s)
                    } else t.show && e.show(s)
                })
            }, E(ei, null, [{
                key: "VERSION",
                get: function() {
                    return "4.0.0-beta.2"
                }
            }, {
                key: "Default",
                get: function() {
                    return Ae
                }
            }]), c = ei, S(document).on(Gt, Xt, function(e) {
                var t, i = this,
                    s = A.getSelectorFromElement(this),
                    s = (s && (t = S(s)[0]), S(t).data("bs.modal") ? "toggle" : S.extend({}, S(t).data(), S(this).data())),
                    n = ("A" !== this.tagName && "AREA" !== this.tagName || e.preventDefault(), S(t).one(De, function(e) {
                        e.isDefaultPrevented() || n.one(Me, function() {
                            S(i).is(":visible") && i.focus()
                        })
                    }));
                c._jQueryInterface.call(S(t), s, this)
            }), S.fn[l] = c._jQueryInterface, S.fn[l].Constructor = c, S.fn[l].noConflict = function() {
                return S.fn[l] = Ee, c._jQueryInterface
            }, c),
            Gt = function() {
                if (void 0 === T) throw new Error("Bootstrap tooltips require Popper.js (https://popper.js.org)");
                var e, t = "tooltip",
                    i = ".bs.tooltip",
                    s = S.fn[t],
                    n = new RegExp("(^|\\s)bs-tooltip\\S+", "g"),
                    a = {
                        animation: "boolean",
                        template: "string",
                        title: "(string|element|function)",
                        trigger: "string",
                        delay: "(number|object)",
                        html: "boolean",
                        selector: "(string|boolean)",
                        placement: "(string|function)",
                        offset: "(number|string)",
                        container: "(string|element|boolean)",
                        fallbackPlacement: "(string|array)"
                    },
                    o = {
                        AUTO: "auto",
                        TOP: "top",
                        RIGHT: "right",
                        BOTTOM: "bottom",
                        LEFT: "left"
                    },
                    r = {
                        animation: !0,
                        template: '<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',
                        trigger: "hover focus",
                        title: "",
                        delay: 0,
                        html: !1,
                        selector: !1,
                        placement: "top",
                        offset: 0,
                        container: !1,
                        fallbackPlacement: "flip"
                    },
                    l = "show",
                    d = "out",
                    c = {
                        HIDE: "hide" + i,
                        HIDDEN: "hidden" + i,
                        SHOW: "show" + i,
                        SHOWN: "shown" + i,
                        INSERTED: "inserted" + i,
                        CLICK: "click" + i,
                        FOCUSIN: "focusin" + i,
                        FOCUSOUT: "focusout" + i,
                        MOUSEENTER: "mouseenter" + i,
                        MOUSELEAVE: "mouseleave" + i
                    },
                    u = "fade",
                    h = "show",
                    p = ".tooltip-inner",
                    f = ".arrow",
                    m = "hover",
                    g = "focus",
                    v = "click",
                    y = "manual",
                    b = ((e = w.prototype).enable = function() {
                        this._isEnabled = !0
                    }, e.disable = function() {
                        this._isEnabled = !1
                    }, e.toggleEnabled = function() {
                        this._isEnabled = !this._isEnabled
                    }, e.toggle = function(e) {
                        var t, i;
                        this._isEnabled && (e ? (t = this.constructor.DATA_KEY, (i = S(e.currentTarget).data(t)) || (i = new this.constructor(e.currentTarget, this._getDelegateConfig()), S(e.currentTarget).data(t, i)), i._activeTrigger.click = !i._activeTrigger.click, i._isWithActiveTrigger() ? i._enter(null, i) : i._leave(null, i)) : S(this.getTipElement()).hasClass(h) ? this._leave(null, this) : this._enter(null, this))
                    }, e.dispose = function() {
                        clearTimeout(this._timeout), S.removeData(this.element, this.constructor.DATA_KEY), S(this.element).off(this.constructor.EVENT_KEY), S(this.element).closest(".modal").off("hide.bs.modal"), this.tip && S(this.tip).remove(), this._isEnabled = null, this._timeout = null, this._hoverState = null, (this._activeTrigger = null) !== this._popper && this._popper.destroy(), this._popper = null, this.element = null, this.config = null, this.tip = null
                    }, e.show = function() {
                        var t = this;
                        if ("none" === S(this.element).css("display")) throw new Error("Please use show on visible elements");
                        var e, i, s = S.Event(this.constructor.Event.SHOW);
                        this.isWithContent() && this._isEnabled && (S(this.element).trigger(s), e = S.contains(this.element.ownerDocument.documentElement, this.element), !s.isDefaultPrevented()) && e && (s = this.getTipElement(), e = A.getUID(this.constructor.NAME), s.setAttribute("id", e), this.element.setAttribute("aria-describedby", e), this.setContent(), this.config.animation && S(s).addClass(u), e = "function" == typeof this.config.placement ? this.config.placement.call(this, s, this.element) : this.config.placement, e = this._getAttachment(e), this.addAttachmentClass(e), i = !1 === this.config.container ? document.body : S(this.config.container), S(s).data(this.constructor.DATA_KEY, this), S.contains(this.element.ownerDocument.documentElement, this.tip) || S(s).appendTo(i), S(this.element).trigger(this.constructor.Event.INSERTED), this._popper = new T(this.element, s, {
                            placement: e,
                            modifiers: {
                                offset: {
                                    offset: this.config.offset
                                },
                                flip: {
                                    behavior: this.config.fallbackPlacement
                                },
                                arrow: {
                                    element: f
                                }
                            },
                            onCreate: function(e) {
                                e.originalPlacement !== e.placement && t._handlePopperPlacementChange(e)
                            },
                            onUpdate: function(e) {
                                t._handlePopperPlacementChange(e)
                            }
                        }), S(s).addClass(h), "ontouchstart" in document.documentElement && S("body").children().on("mouseover", null, S.noop), i = function() {
                            t.config.animation && t._fixTransition();
                            var e = t._hoverState;
                            t._hoverState = null, S(t.element).trigger(t.constructor.Event.SHOWN), e === d && t._leave(null, t)
                        }, A.supportsTransitionEnd() && S(this.tip).hasClass(u) ? S(this.tip).one(A.TRANSITION_END, i).emulateTransitionEnd(w._TRANSITION_DURATION) : i())
                    }, e.hide = function(e) {
                        function t() {
                            i._hoverState !== l && s.parentNode && s.parentNode.removeChild(s), i._cleanTipClass(), i.element.removeAttribute("aria-describedby"), S(i.element).trigger(i.constructor.Event.HIDDEN), null !== i._popper && i._popper.destroy(), e && e()
                        }
                        var i = this,
                            s = this.getTipElement(),
                            n = S.Event(this.constructor.Event.HIDE);
                        S(this.element).trigger(n), n.isDefaultPrevented() || (S(s).removeClass(h), "ontouchstart" in document.documentElement && S("body").children().off("mouseover", null, S.noop), this._activeTrigger[v] = !1, this._activeTrigger[g] = !1, this._activeTrigger[m] = !1, A.supportsTransitionEnd() && S(this.tip).hasClass(u) ? S(s).one(A.TRANSITION_END, t).emulateTransitionEnd(150) : t(), this._hoverState = "")
                    }, e.update = function() {
                        null !== this._popper && this._popper.scheduleUpdate()
                    }, e.isWithContent = function() {
                        return Boolean(this.getTitle())
                    }, e.addAttachmentClass = function(e) {
                        S(this.getTipElement()).addClass("bs-tooltip-" + e)
                    }, e.getTipElement = function() {
                        return this.tip = this.tip || S(this.config.template)[0], this.tip
                    }, e.setContent = function() {
                        var e = S(this.getTipElement());
                        this.setElementContent(e.find(p), this.getTitle()), e.removeClass(u + " " + h)
                    }, e.setElementContent = function(e, t) {
                        var i = this.config.html;
                        "object" == typeof t && (t.nodeType || t.jquery) ? i ? S(t).parent().is(e) || e.empty().append(t) : e.text(S(t).text()) : e[i ? "html" : "text"](t)
                    }, e.getTitle = function() {
                        return this.element.getAttribute("data-original-title") || ("function" == typeof this.config.title ? this.config.title.call(this.element) : this.config.title)
                    }, e._getAttachment = function(e) {
                        return o[e.toUpperCase()]
                    }, e._setListeners = function() {
                        var i = this;
                        this.config.trigger.split(" ").forEach(function(e) {
                            var t;
                            "click" === e ? S(i.element).on(i.constructor.Event.CLICK, i.config.selector, function(e) {
                                return i.toggle(e)
                            }) : e !== y && (t = e === m ? i.constructor.Event.MOUSEENTER : i.constructor.Event.FOCUSIN, e = e === m ? i.constructor.Event.MOUSELEAVE : i.constructor.Event.FOCUSOUT, S(i.element).on(t, i.config.selector, function(e) {
                                return i._enter(e)
                            }).on(e, i.config.selector, function(e) {
                                return i._leave(e)
                            })), S(i.element).closest(".modal").on("hide.bs.modal", function() {
                                return i.hide()
                            })
                        }), this.config.selector ? this.config = S.extend({}, this.config, {
                            trigger: "manual",
                            selector: ""
                        }) : this._fixTitle()
                    }, e._fixTitle = function() {
                        var e = typeof this.element.getAttribute("data-original-title");
                        !this.element.getAttribute("title") && "string" == e || (this.element.setAttribute("data-original-title", this.element.getAttribute("title") || ""), this.element.setAttribute("title", ""))
                    }, e._enter = function(e, t) {
                        var i = this.constructor.DATA_KEY;
                        (t = t || S(e.currentTarget).data(i)) || (t = new this.constructor(e.currentTarget, this._getDelegateConfig()), S(e.currentTarget).data(i, t)), e && (t._activeTrigger["focusin" === e.type ? g : m] = !0), S(t.getTipElement()).hasClass(h) || t._hoverState === l ? t._hoverState = l : (clearTimeout(t._timeout), t._hoverState = l, t.config.delay && t.config.delay.show ? t._timeout = setTimeout(function() {
                            t._hoverState === l && t.show()
                        }, t.config.delay.show) : t.show())
                    }, e._leave = function(e, t) {
                        var i = this.constructor.DATA_KEY;
                        (t = t || S(e.currentTarget).data(i)) || (t = new this.constructor(e.currentTarget, this._getDelegateConfig()), S(e.currentTarget).data(i, t)), e && (t._activeTrigger["focusout" === e.type ? g : m] = !1), t._isWithActiveTrigger() || (clearTimeout(t._timeout), t._hoverState = d, t.config.delay && t.config.delay.hide ? t._timeout = setTimeout(function() {
                            t._hoverState === d && t.hide()
                        }, t.config.delay.hide) : t.hide())
                    }, e._isWithActiveTrigger = function() {
                        for (var e in this._activeTrigger)
                            if (this._activeTrigger[e]) return !0;
                        return !1
                    }, e._getConfig = function(e) {
                        return "number" == typeof(e = S.extend({}, this.constructor.Default, S(this.element).data(), e)).delay && (e.delay = {
                            show: e.delay,
                            hide: e.delay
                        }), "number" == typeof e.title && (e.title = e.title.toString()), "number" == typeof e.content && (e.content = e.content.toString()), A.typeCheckConfig(t, e, this.constructor.DefaultType), e
                    }, e._getDelegateConfig = function() {
                        var e = {};
                        if (this.config)
                            for (var t in this.config) this.constructor.Default[t] !== this.config[t] && (e[t] = this.config[t]);
                        return e
                    }, e._cleanTipClass = function() {
                        var e = S(this.getTipElement()),
                            t = e.attr("class").match(n);
                        null !== t && 0 < t.length && e.removeClass(t.join(""))
                    }, e._handlePopperPlacementChange = function(e) {
                        this._cleanTipClass(), this.addAttachmentClass(this._getAttachment(e.placement))
                    }, e._fixTransition = function() {
                        var e = this.getTipElement(),
                            t = this.config.animation;
                        null === e.getAttribute("x-placement") && (S(e).removeClass(u), this.config.animation = !1, this.hide(), this.show(), this.config.animation = t)
                    }, w._jQueryInterface = function(i) {
                        return this.each(function() {
                            var e = S(this).data("bs.tooltip"),
                                t = "object" == typeof i && i;
                            if ((e || !/dispose|hide/.test(i)) && (e || (e = new w(this, t), S(this).data("bs.tooltip", e)), "string" == typeof i)) {
                                if (void 0 === e[i]) throw new Error('No method named "' + i + '"');
                                e[i]()
                            }
                        })
                    }, E(w, null, [{
                        key: "VERSION",
                        get: function() {
                            return "4.0.0-beta.2"
                        }
                    }, {
                        key: "Default",
                        get: function() {
                            return r
                        }
                    }, {
                        key: "NAME",
                        get: function() {
                            return t
                        }
                    }, {
                        key: "DATA_KEY",
                        get: function() {
                            return "bs.tooltip"
                        }
                    }, {
                        key: "Event",
                        get: function() {
                            return c
                        }
                    }, {
                        key: "EVENT_KEY",
                        get: function() {
                            return i
                        }
                    }, {
                        key: "DefaultType",
                        get: function() {
                            return a
                        }
                    }]), w);

                function w(e, t) {
                    this._isEnabled = !0, this._timeout = 0, this._hoverState = "", this._activeTrigger = {}, this._popper = null, this.element = e, this.config = this._getConfig(t), this.tip = null, this._setListeners()
                }
                return S.fn[t] = b._jQueryInterface, S.fn[t].Constructor = b, S.fn[t].noConflict = function() {
                    return S.fn[t] = s, b._jQueryInterface
                }, b
            }(),
            Xt = (a = "popover", o = ".bs.popover", ve = S.fn[a], ye = new RegExp("(^|\\s)bs-popover\\S+", "g"), be = S.extend({}, Gt.Default, {
                placement: "right",
                trigger: "click",
                content: "",
                template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'
            }), we = S.extend({}, Gt.DefaultType, {
                content: "(string|element|function)"
            }), _e = "fade", ke = ".popover-header", xe = ".popover-body", Se = {
                HIDE: "hide" + o,
                HIDDEN: "hidden" + o,
                SHOW: (Ce = "show") + o,
                SHOWN: "shown" + o,
                INSERTED: "inserted" + o,
                CLICK: "click" + o,
                FOCUSIN: "focusin" + o,
                FOCUSOUT: "focusout" + o,
                MOUSEENTER: "mouseenter" + o,
                MOUSELEAVE: "mouseleave" + o
            }, Xt = ge = Gt, (j = Zt).prototype = Object.create(Xt.prototype), (j.prototype.constructor = j).__proto__ = Xt, (j = Zt.prototype).isWithContent = function() {
                return this.getTitle() || this._getContent()
            }, j.addAttachmentClass = function(e) {
                S(this.getTipElement()).addClass("bs-popover-" + e)
            }, j.getTipElement = function() {
                return this.tip = this.tip || S(this.config.template)[0], this.tip
            }, j.setContent = function() {
                var e = S(this.getTipElement());
                this.setElementContent(e.find(ke), this.getTitle()), this.setElementContent(e.find(xe), this._getContent()), e.removeClass(_e + " " + Ce)
            }, j._getContent = function() {
                return this.element.getAttribute("data-content") || ("function" == typeof this.config.content ? this.config.content.call(this.element) : this.config.content)
            }, j._cleanTipClass = function() {
                var e = S(this.getTipElement()),
                    t = e.attr("class").match(ye);
                null !== t && 0 < t.length && e.removeClass(t.join(""))
            }, Zt._jQueryInterface = function(i) {
                return this.each(function() {
                    var e = S(this).data("bs.popover"),
                        t = "object" == typeof i ? i : null;
                    if ((e || !/destroy|hide/.test(i)) && (e || (e = new Zt(this, t), S(this).data("bs.popover", e)), "string" == typeof i)) {
                        if (void 0 === e[i]) throw new Error('No method named "' + i + '"');
                        e[i]()
                    }
                })
            }, E(Zt, null, [{
                key: "VERSION",
                get: function() {
                    return "4.0.0-beta.2"
                }
            }, {
                key: "Default",
                get: function() {
                    return be
                }
            }, {
                key: "NAME",
                get: function() {
                    return a
                }
            }, {
                key: "DATA_KEY",
                get: function() {
                    return "bs.popover"
                }
            }, {
                key: "Event",
                get: function() {
                    return Se
                }
            }, {
                key: "EVENT_KEY",
                get: function() {
                    return o
                }
            }, {
                key: "DefaultType",
                get: function() {
                    return we
                }
            }]), Te = Zt, S.fn[a] = Te._jQueryInterface, S.fn[a].Constructor = Te, S.fn[a].noConflict = function() {
                return S.fn[a] = ve, Te._jQueryInterface
            }, Te),
            D = (i = "scrollspy", Z = S.fn[i], ee = {
                offset: 10,
                method: "auto",
                target: ""
            }, te = {
                offset: "number",
                method: "string",
                target: "(string|element)"
            }, ie = "activate.bs.scrollspy", se = "scroll.bs.scrollspy", j = "load.bs.scrollspy.data-api", ne = "dropdown-item", s = "active", ae = '[data-spy="scroll"]', oe = ".active", re = ".nav, .list-group", le = ".nav-link", de = ".nav-item", ce = ".list-group-item", ue = ".dropdown", he = ".dropdown-item", pe = ".dropdown-toggle", fe = "offset", me = "position", (D = Qt.prototype).refresh = function() {
                var t = this,
                    e = this._scrollElement !== this._scrollElement.window ? me : fe,
                    s = "auto" === this._config.method ? e : this._config.method,
                    n = s === me ? this._getScrollTop() : 0;
                this._offsets = [], this._targets = [], this._scrollHeight = this._getScrollHeight(), S.makeArray(S(this._selector)).map(function(e) {
                    var t, e = A.getSelectorFromElement(e);
                    if (t = e ? S(e)[0] : t) {
                        var i = t.getBoundingClientRect();
                        if (i.width || i.height) return [S(t)[s]().top + n, e]
                    }
                    return null
                }).filter(function(e) {
                    return e
                }).sort(function(e, t) {
                    return e[0] - t[0]
                }).forEach(function(e) {
                    t._offsets.push(e[0]), t._targets.push(e[1])
                })
            }, D.dispose = function() {
                S.removeData(this._element, "bs.scrollspy"), S(this._scrollElement).off(".bs.scrollspy"), this._element = null, this._scrollElement = null, this._config = null, this._selector = null, this._offsets = null, this._targets = null, this._activeTarget = null, this._scrollHeight = null
            }, D._getConfig = function(e) {
                var t;
                return "string" != typeof(e = S.extend({}, ee, e)).target && ((t = S(e.target).attr("id")) || (t = A.getUID(i), S(e.target).attr("id", t)), e.target = "#" + t), A.typeCheckConfig(i, e, te), e
            }, D._getScrollTop = function() {
                return this._scrollElement === window ? this._scrollElement.pageYOffset : this._scrollElement.scrollTop
            }, D._getScrollHeight = function() {
                return this._scrollElement.scrollHeight || Math.max(document.body.scrollHeight, document.documentElement.scrollHeight)
            }, D._getOffsetHeight = function() {
                return this._scrollElement === window ? window.innerHeight : this._scrollElement.getBoundingClientRect().height
            }, D._process = function() {
                var e = this._getScrollTop() + this._config.offset,
                    t = this._getScrollHeight(),
                    i = this._config.offset + t - this._getOffsetHeight();
                if (this._scrollHeight !== t && this.refresh(), i <= e) {
                    t = this._targets[this._targets.length - 1];
                    this._activeTarget !== t && this._activate(t)
                } else if (this._activeTarget && e < this._offsets[0] && 0 < this._offsets[0]) this._activeTarget = null, this._clear();
                else
                    for (var s = this._offsets.length; s--;) this._activeTarget !== this._targets[s] && e >= this._offsets[s] && (void 0 === this._offsets[s + 1] || e < this._offsets[s + 1]) && this._activate(this._targets[s])
            }, D._activate = function(t) {
                this._activeTarget = t, this._clear();
                var e = (e = this._selector.split(",")).map(function(e) {
                        return e + '[data-target="' + t + '"],' + e + '[href="' + t + '"]'
                    }),
                    e = S(e.join(","));
                (e.hasClass(ne) ? (e.closest(ue).find(pe).addClass(s), e) : (e.addClass(s), e.parents(re).prev(le + ", " + ce).addClass(s), e.parents(re).prev(de).children(le))).addClass(s), S(this._scrollElement).trigger(ie, {
                    relatedTarget: t
                })
            }, D._clear = function() {
                S(this._selector).filter(oe).removeClass(s)
            }, Qt._jQueryInterface = function(t) {
                return this.each(function() {
                    var e = S(this).data("bs.scrollspy");
                    if (e || (e = new Qt(this, "object" == typeof t && t), S(this).data("bs.scrollspy", e)), "string" == typeof t) {
                        if (void 0 === e[t]) throw new Error('No method named "' + t + '"');
                        e[t]()
                    }
                })
            }, E(Qt, null, [{
                key: "VERSION",
                get: function() {
                    return "4.0.0-beta.2"
                }
            }, {
                key: "Default",
                get: function() {
                    return ee
                }
            }]), n = Qt, S(window).on(j, function() {
                for (var e = S.makeArray(S(ae)), t = e.length; t--;) {
                    var i = S(e[t]);
                    n._jQueryInterface.call(i, i.data())
                }
            }), S.fn[i] = n._jQueryInterface, S.fn[i].Constructor = n, S.fn[i].noConflict = function() {
                return S.fn[i] = Z, n._jQueryInterface
            }, n),
            Jt = (O = S.fn.tab, q = "hide.bs.tab", N = "hidden.bs.tab", R = "show.bs.tab", B = "shown.bs.tab", j = "click.bs.tab.data-api", U = "dropdown-menu", r = "active", V = "disabled", H = "fade", z = "show", W = ".dropdown", Y = ".nav, .list-group", G = ".active", X = "> li > .active", J = '[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]', K = ".dropdown-toggle", Q = "> .dropdown-menu .active", (Jt = Kt.prototype).show = function() {
                var e, t, i, s, n, a, o = this;
                this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE && S(this._element).hasClass(r) || S(this._element).hasClass(V) || (t = S(this._element).closest(Y)[0], i = A.getSelectorFromElement(this._element), t && (n = "UL" === t.nodeName ? X : G, s = (s = S.makeArray(S(t).find(n)))[s.length - 1]), n = S.Event(q, {
                    relatedTarget: this._element
                }), a = S.Event(R, {
                    relatedTarget: s
                }), s && S(s).trigger(n), S(this._element).trigger(a), a.isDefaultPrevented()) || n.isDefaultPrevented() || (i && (e = S(i)[0]), this._activate(this._element, t), a = function() {
                    var e = S.Event(N, {
                            relatedTarget: o._element
                        }),
                        t = S.Event(B, {
                            relatedTarget: s
                        });
                    S(s).trigger(e), S(o._element).trigger(t)
                }, e ? this._activate(e, e.parentNode, a) : a())
            }, Jt.dispose = function() {
                S.removeData(this._element, "bs.tab"), this._element = null
            }, Jt._activate = function(e, t, i) {
                function s() {
                    return n._transitionComplete(e, a, o, i)
                }
                var n = this,
                    a = ("UL" === t.nodeName ? S(t).find(X) : S(t).children(G))[0],
                    o = i && A.supportsTransitionEnd() && a && S(a).hasClass(H);
                a && o ? S(a).one(A.TRANSITION_END, s).emulateTransitionEnd(150) : s(), a && S(a).removeClass(z)
            }, Jt._transitionComplete = function(e, t, i, s) {
                var n;
                t && (S(t).removeClass(r), (n = S(t.parentNode).find(Q)[0]) && S(n).removeClass(r), "tab" === t.getAttribute("role")) && t.setAttribute("aria-selected", !1), S(e).addClass(r), "tab" === e.getAttribute("role") && e.setAttribute("aria-selected", !0), i ? (A.reflow(e), S(e).addClass(z)) : S(e).removeClass(H), e.parentNode && S(e.parentNode).hasClass(U) && ((n = S(e).closest(W)[0]) && S(n).find(K).addClass(r), e.setAttribute("aria-expanded", !0)), s && s()
            }, Kt._jQueryInterface = function(i) {
                return this.each(function() {
                    var e = S(this),
                        t = e.data("bs.tab");
                    if (t || (t = new Kt(this), e.data("bs.tab", t)), "string" == typeof i) {
                        if (void 0 === t[i]) throw new Error('No method named "' + i + '"');
                        t[i]()
                    }
                })
            }, E(Kt, null, [{
                key: "VERSION",
                get: function() {
                    return "4.0.0-beta.2"
                }
            }]), t = Kt, S(document).on(j, J, function(e) {
                e.preventDefault(), t._jQueryInterface.call(S(this), "show")
            }), S.fn.tab = t._jQueryInterface, S.fn.tab.Constructor = t, S.fn.tab.noConflict = function() {
                return S.fn.tab = O, t._jQueryInterface
            }, t);

        function Kt(e) {
            this._element = e
        }

        function Qt(e, t) {
            var i = this;
            this._element = e, this._scrollElement = "BODY" === e.tagName ? window : e, this._config = this._getConfig(t), this._selector = this._config.target + " " + le + "," + this._config.target + " " + ce + "," + this._config.target + " " + he, this._offsets = [], this._targets = [], this._activeTarget = null, this._scrollHeight = 0, S(this._scrollElement).on(se, function(e) {
                return i._process(e)
            }), this.refresh(), this._process()
        }

        function Zt() {
            return ge.apply(this, arguments) || this
        }

        function ei(e, t) {
            this._config = this._getConfig(t), this._element = e, this._dialog = S(e).find(He)[0], this._backdrop = null, this._isShown = !1, this._isBodyOverflowing = !1, this._ignoreBackdropClick = !1, this._originalBodyPadding = 0, this._scrollbarWidth = 0
        }

        function I(e, t) {
            this._isTransitioning = !1, this._element = e, this._config = this._getConfig(t), this._triggerArray = S.makeArray(S('[data-toggle="collapse"][href="#' + e.id + '"],[data-toggle="collapse"][data-target="#' + e.id + '"]'));
            for (var i = S(lt), s = 0; s < i.length; s++) {
                var n = i[s],
                    a = A.getSelectorFromElement(n);
                null !== a && 0 < S(a).filter(e).length && this._triggerArray.push(n)
            }
            this._parent = this._config.parent ? this._getParent() : null, this._config.parent || this._addAriaAndCollapsedClass(this._element, this._triggerArray), this._config.toggle && this.toggle()
        }

        function L(e, t) {
            this._items = null, this._interval = null, this._activeElement = null, this._isPaused = !1, this._isSliding = !1, this.touchTimeout = null, this._config = this._getConfig(t), this._element = S(e)[0], this._indicatorsElement = S(this._element).find(Et)[0], this._addEventListeners()
        }

        function ti(e) {
            this._element = e
        }

        function ii(e) {
            this._element = e
        }
        if (void 0 === S) throw new Error("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");
        var j = S.fn.jquery.split(" ")[0].split(".");
        if (j[0] < 2 && j[1] < 9 || 1 === j[0] && 9 === j[1] && j[2] < 1 || 4 <= j[0]) throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0");
        return e.Util = A, e.Alert = x, e.Button = Wt, e.Carousel = Yt, e.Collapse = P, e.Dropdown = $, e.Modal = M, e.Popover = Xt, e.Scrollspy = D, e.Tab = Jt, e.Tooltip = Gt, e
    }({}, $, Popper),
    tz;

function deleteImage(t) {
    $.ajax({
        type: "POST",
        url: "/includes/delete_image_gallery.php",
        data: {
            id: t
        },
        success: function(e) {
            e.success ? ($("a[data-id=" + t + "]").parent(".hero-item").addClass("rollOut animated"), setTimeout(function() {
                $("a[data-id=" + t + "]").parent(".hero-item").remove()
            }, 600), $.ajax({
                url: "/includes/newCummer.ajax.php",
                method: "post",
                data: {
                    action: "check",
                    setShown: !0
                },
                dataType: "json"
            }).done(function(e) {
                !1 === e.isCompliantWithNewCummers && ($(".new-cummer-badge-wrapper").hide(), $("ul.js-service-model").hide(), $(".js-membership-btn").hide(), $(".crush-header").hide(), $(".crush_only").hide()), $("#isActivated").val(e.isActivated ? "true" : "false"), $("#newCummerCompliant").val(e.isCompliantWithNewCummers ? "true" : "false"), newCummersCallback(e);
                var e = parseInt($("#galleryTotalPics").html()),
                    t = ($("#galleryTotalPics").html(e - 1), $("#newCummerMinPics").val()),
                    t = t < e ? t : e - 1;
                $("#totalGalleryImagesSidebar").html(t), analyzeDisplayRankAndScorePanel()
            })) : gritter("Something went terribly wrong.", "Oops!")
        },
        error: function() {},
        dataType: "json"
    })
}

function openPreview(e, t, i, s, n) {
    $('<div class="img-wrapper"></div>').appendTo("#previewImage .preview-body");
    var a, o = "#previewImage .preview-body .img-wrapper",
        r = $("#previewImage"),
        e = s ? '<img class="toolTip is-hidden" title="Click image to close" src="' + e + '">' : e.clone().attr("src", $(e).data("full-src")),
        l = (s && ($("#previewImage .img-wrapper").append(e), e = $("previewImage .img-wrapper img")), e.attr("data-gallery-id")),
        d = e.attr("data-gallery-likes"),
        c = e.attr("data-gallery-liked"),
        u = e.attr("data-gallery-login"),
        h = document.createElement("p"),
        p = document.createElement("br"),
        f = "false" == c ? "" : "active";
    n || (a = s ? '<span class="links mt-2"><a href="javascript:;" class="like big-heart" data-active="' + f + '" data-login="' + u + '" data-id="' + i.galleryList.id + '" data-type="image" title="' + i.galleryList[0].totalLikes + ' total likes"><i class="icon medium heart' + ("false" !== c ? " active" : "") + '"></i></a></span>' : '<span class="links mt-2"><a href="javascript:;" class="like big-heart" data-active="' + f + '" data-login="' + u + '" data-id="' + l + '" data-type="image" title="' + d + ' total likes"><i class="icon medium heart' + ("false" !== c ? " active" : "") + '"></i></a></span>'), e.addClass("toolTip is-hidden").attr("title", "Click image to close").appendTo(o), $(o).append('<img src="https://cdn3.manyvids.com/site_files/images/icons/loader-icon.png" alt="" class="loader-icon loading-anim loading middle-x-y">'), $("img.toolTip", $("#previewImage")).bind("load", function() {
        var e = $(this);
        $("img.loading", $("#previewImage")).remove(), e.removeClass("is-hidden")
    }), n || $(o).prepend('<a class="carousel-control right trans" href="#myCarousel" data-slide="next">&rsaquo;</a>').prepend('<a class="carousel-control left trans" href="#myCarousel" data-slide="prev">&lsaquo;</a>').prepend('<a href="javascript:;" class="close-btn"></a>'), $(p).appendTo(o), $(a).appendTo(o), $(h).html(t).appendTo(o), r.addClass("open"), $("body").append('<div id="galleryOverlay"></div>'), $("img.toolTip", $("#previewImage")).attr("style", "max-height: " + ($(window).height() - 200).toString() + "px !important")
}

function blurImageIfCrushOnly(t, e, i) {
    var s, n, a;
    return "1" === t.isCrushOnly && (!0 === t.isCrushMembership ? ((s = document.createElement("i")).className = "vid-extras-right icon xsmall crush-only-icon m-b-1", $(s).attr({
        title: "Only for my Crush",
        "data-id": t.id
    }), i.appendChild(s)) : (e.src = t.urlThumbnail, e.setAttribute("data-full-src", t.urlFull), e.setAttribute("data-crush-only", "true"), (s = document.createElement("div")).className = "crush-center-div", n = document.createElement("i"), device.prototype.isMobile ? n.className = "icon medium crush-only-icon" : n.className = "icon xlarge crush-only-icon mb-1", $(n).attr({
        title: "Only for my Crush",
        "data-id": t.id
    }), a = document.createElement("p"), $(a).text("Club Exclusive").attr({
        class: "text-white"
    }), s.appendChild(n), s.appendChild(a), i.appendChild(s), $(".hero-masonry").on("click", ".is-crush-only", function(e) {
        e.stopImmediatePropagation(), callModelServices($("#ServicesCallout"), t.user_id, "crush", t.username)
    }))), e
}

function device() {}

function generateCodeSource() {}

function globalSettings() {}

function tempSettings() {}

function enableActivityFeedHeart(e) {
    var t = [];
    $(".js-video-card-flex .card-footer-links a").each(function() {
        var e = $(this).attr("id");
        t.push(e)
    }), e.empty || e.split(",").forEach(function(e) {
        -1 != $.inArray(e, t) && ($(".js-video-card-flex .card-footer-links a#" + e + " i").addClass("active"), $(".js-video-card-flex .card-footer-links a#" + e).attr("data-active", "active"))
    })
}

function check_duplicate_region_countries(e, t, i) {
    if ("" !== t && "None" !== t && 1 < $("select." + e + ' option:selected[value="' + t + '"]').length) return isFullyValid = !1, gritter("Blocked " + i + " cannot be identical (" + t + ").", "Oops!"), !1;
    return !0
}

function createFreeBanner(e, t, i) {
    var s = '<div class="container"><div class="row"><div class="col-1"></div>',
        n = (e.free_vids.length, ""),
        a = "",
        o = "";
    $.each(e.free_vids, function(e, t) {
        var i = "/Video/" + t.id + "/" + window.MV.cleanTitleUrl(t.title) + "/";
        s += '<div class="col-2 ellipsis"><h3 class="h3"><a href="' + i + '" title="' + t.title + '">' + t.title + '</a></h3><a class="inline-video-preview" href="' + i + '" title="View the preview"><img class="img-fluid" alt="' + t.title + '" src="https://cdn5.manyvids.com/php_uploads/video_images/' + t.username + "/thumbs/thumb_" + t.token + "_screenshot_00" + t.image + '.jpg" ></a></div>'
    }), s += "</div></div>", n = e.library ? (a = "Add Vid?", o = '<p class="mt-3">YouÃ¢â‚¬â„¢ll Be Able to View It From Your Purchase History.</p>', '<div class="video-summary"><div class="buy-wrapper"><a class="btn add-cart free-btn disabled add-free-library" data-icon-class="' + i + '" title="Add FREE video" data-id="' + t + '"><span class="price font14">Yes, Gimme My FREE Vid!</span></a></div></div>') : (a = device.prototype.isMobile ? "Access to FREE vids" : "Get access to FREE vids", o = '<p class="mt-3" >Ready to enjoy your vids? All you need to do is sign up! <a href="/Vids/?other=free&page=1&search_type=1&sort=1" title="Browse our selection of FREE vids">Browse our FREE vids</a>.</p>', '<a href="/Create-Free-Account/" class="btn btn-primary" title="Join FREE!" >Join FREE!</a>'), createGenericPopup(a, s + o, n, !1, !1)
}

function submitContestCheckout(e, t, i, s, n, a, o, r, l, d, c, u) {
    $(".js-participant[data-participant-user-id=" + t + "]"), $(".js-participant[data-participant-user-id=" + a + "]");
    r ? $("#LoginSignupModal2").modal("show") : "free" === n ? (gtag && gtag("event", "begin_checkout", {
        currency: "USD",
        value: 0,
        items: [{
            item_name: "Vote Now",
            quantity: 1,
            item_category: "Contest",
            item_price: 0,
            item_id: e + "-" + ("StarLight" === c ? "-StarLight-" : "") + t
        }]
    }), checkVotingStatus(e, a, i, s, o, d, c, u)) : "" !== n && null !== n ? s ? gritter("The Contest has not begun yet.", "You are too early!") : (l && i.append('<input name="mvaward" type="hidden" value="mvaward">'), i.append('<input name="anonymous" type="hidden" value="' + d + '">'), i.append('<input name="select" type="hidden" value="' + n + '">'), "StarLight" === c ? i.append('<input name="serviceChoice" type="hidden" value="' + e + "-StarLight-" + t + '">') : i.append('<input name="serviceChoice" type="hidden" value="' + e + "-contest-" + t + '">'), gtag && gtag("event", "begin_checkout", {
        currency: "USD",
        value: n,
        items: [{
            item_name: "Vote Now",
            quantity: 1,
            item_category: "Contest",
            item_price: n,
            item_id: e + "-" + ("StarLight" === c ? "-StarLight-" : "") + t
        }]
    }), i.submit()) : gritter("Select an amount to contribute to contest.", "Oops!")
}

function checkVotingStatus(s, e, t, i, n, a, o, r) {
    var l = $(".js-participant[data-participant-user-id=" + e + "]");
    i ? ($(".append-error-container").empty(), $(".append-error-container", l).append('<div class="append-error no-icon text-center"></div>'), gritter("The Contest has not begun yet.", "You are too early!")) : (data = {
        cid: s,
        model_id: e,
        freeVoteContest: n,
        anonymous: a,
        teamNumber: r
    }, $.ajax({
        type: "POST",
        url: "" === o || void 0 === o ? "/includes/add_free_vote.php" : "/includes/add_starlight_free_vote.php",
        data: data,
        success: function(e) {
            var t, i;
            $("#ServiceRain").modal("hide"), e.error ? (e.notLoggedIn && $("#LoginSignupModal2").modal("show"), $(".append-error-container").empty(), $(".append-error-container", l).append('<div class="append-error no-icon text-center"></div>'), gritter(e.error, "Oops!")) : (t = $(".amount.vote-contest", l), i = $(".amount.vote-contest-user[data-backer-user-id=" + e.user_id + "]", l), t.text(parseInt(t.text()) + 1), i.text(parseInt(i.text()) + 1), l.find(".vote-spot").text("X"), e.mv_award && 1 === parseInt(e.contest_status) ? sendtweet(e.title, e.twitterlink, e.modelName, e.participant_user_id, s, "", e.mv_award_type) : window.location.reload())
        },
        error: function() {},
        dataType: "json"
    }))
}

function sendtweet(e, t, i, s, n, a, o) {
    e.replace(/\s+/g, "-");
    var r, l = "https://www.manyvids.com/MVAwards/" + s + "/" + n + "/",
        d = "ManyVidsAwards",
        o = ("2" === o && (l = "https://www.manyvids.com/MVCommunityAwards/" + s + "/" + n + "/?2020", d = "MVCommunityAwards"), r = -1 !== t.indexOf("@") ? "I just voted for " + t + " to win " + e + "! " : "I just voted for " + i + " to win " + e + "! ", $("#GeneralPopup")),
        n = (o.modal("show"), o.find("h1").html("Thanks for Voting!"), i.replace(/\s/g, "-"));
    "" === a ? o.find("p").html('You voted for <a href="/Profile/' + s + "/" + n + '/">' + i + "</a>! Share the love on X!") : (100 <= a ? a = a / 100 + "k" : a += "0", o.find("p").html("You gave " + a + ' vote to <a href="/Profile/' + s + "/" + n + '/">' + i + "</a>! Share the love on X!")), 0 === $("textarea[id='twittertext']").length && o.find(".modal-body").append('<textarea id="twittertext" rows="5" class="disable-textarea" readonly></textarea>'), o.find("#twittertext").val(r + " Cast your votes here: " + l + " #ManyVidsAwards2024"), o.find(".btn-secondary").css("display", "none"), o.find(".btn-primary").text("Tweet"), o.find(".btn-primary").addClass("js-send-tweet"), $(".js-send-tweet").on("click", function() {
        window.open("https://twitter.com/intent/tweet?hashtags=" + d + (new Date).getFullYear() + " @manyvids&url=" + l + "&text=" + r + "Cast your vote here:", "_blank"), $("#GeneralPopup").modal("hide")
    })
}

function send_report(e, t) {
    $.ajax({
        type: "POST",
        url: "/api/profile/sendReport",
        data: {
            userText: e,
            url: t
        },
        success: function(e) {
            $("#genericPopup").modal("hide"), e.error ? gritter("Please retry again in the next hour.", "Oops!") : success(e.success, "Great!")
        },
        error: function(e) {
            429 == e.status && ($("#genericPopup").modal("hide"), gritter("Please retry again in the next hour.", "Oops!"))
        },
        dataType: "json"
    })
}

function buildTagArray(e) {
    globalSettings.prototype.vidTagArray.push(parseInt(e))
}

function block_user(s, e, n, a) {
    var o = {
        user_id: s,
        action: e,
        username: a
    };
    $.ajax({
        type: "POST",
        url: "/includes/block_user.php",
        data: o,
        success: function(e) {
            var t, i;
            $("#genericPopup").modal("hide"), e.error ? gritter(e.error, "Oops!") : (success(e.success, "Great!"), $(document).trigger("mv:userblocked", [o, e]), (t = $(".block-user-list")).length ? "unblock" === e.action ? ($(n).parent("li").remove(), 0 === $(".block-user-list li").length && t.append('<li class="empty-list">Nobody has been blocked.</li>')) : a ? (i = t.find(".empty-list"), t.append('<li><a href="javascript:;" class="block-user" data-user-id="' + e.user_id + '" data-action="unblock" title="Remove from block list">x</a>' + a + "</li>"), 0 < i.length && i.remove(), $("#block_user", $(n).parent()).val("")) : $(n).remove() : "unblock" === e.action ? $(".block-user[data-user-id=" + s + "]").removeAttr("data-action").find("span").text("Block user") : $(".block-user[data-user-id=" + s + "]").attr("data-action", "unblock").find("span").text("Unblock user"))
        },
        error: function() {},
        dataType: "json"
    })
}

function addBoxSelect(e) {
    var t = $("#" + e.toLowerCase().replace(/[^a-zA-Z0-9_ -]/g, "") + "_modelbox");
    t.addClass("selected"), e && 0 < t.length && $("html, body").delay(2e3).animate({
        scrollTop: t.offset().top - 160
    }, 1e3)
}

function lazyLoadingStart() {
    window.bLazy ? (lazyLoadingStart.bLazyDebounceTimer && clearTimeout(lazyLoadingStart.bLazyDebounceTimer), lazyLoadingStart.bLazyDebounceTimer = setTimeout(function() {
        window.bLazy.revalidate()
    }, 30)) : window.bLazy = new Blazy({
        selector: "img.b-lazy[data-src]:not(.b-loaded)",
        src: "data-src",
        success: function(e) {
            e = $(e.parentNode.parentNode);
            e.find(".loading").remove(), e.find(".gradient-overlay").removeClass("is-hidden"), e.find(".vid-length").removeClass("force-hidden")
        }
    })
}

function bindFunction(e) {
    var t = $("." + e.data("bindee")),
        i = e.val(),
        s = e.data("limit"),
        n = e.data("submit");
    i.length > (s = void 0 === s ? 40 : s) ? (e.val(e.val().substr(0, s)), gritter("Your Vid title cannot exceed " + s + " characters.", "Oops!", 1)) : 0 === i.length ? t.text("Oops! Your Vid is missing a Title. Please add a Vid Title between 5-" + s + " characters.") : t.text(i), n && (s = e.parents("form").find("input[data-submit]"), $("#" + n).addClass("disabled"), e.parents("form").find("div.control-group.error").removeClass("error"), s.each(function() {
        var e = $(this),
            t = e.val().length,
            i = e.attr("minlength"),
            s = e.attr("maxlength");
        i <= t && t <= s ? $("#" + n).removeClass("disabled") : e.parents("div.control-group").addClass("error")
    }))
}

function setStoreStatus(e, t, i) {
    var s;
    "Shipped" === t ? ((s = $("#storeConfirmShipping")).find(".btn").attr("data-id", e), s.find("input").val(""), s.modal("show")) : saveStoreStatus(t, {
        id: e,
        status: t
    }, i)
}

function saveStoreStatus(e, s, n) {
    $.ajax({
        type: "POST",
        url: "/includes/set_store_status.php",
        data: s,
        success: function(e) {
            var t = $("select[data-id=" + s.id + "]"),
                i = t.parents("tr");
            n && t.attr("data-current-status", e.status).find("option:first-child").remove(), success(e.success, "Great!"), "Shipped" == e.status && (e = t.parent(), t.remove(), e.text("Shipped")), i.parents("table").find(".highlight-row").removeClass("highlight-row"), i.addClass("highlight-row"), device.prototype.isMobile && (location.href = "#" + i.attr("id"))
        },
        error: function() {},
        dataType: "json"
    })
}

function clearNotificationUnread(t) {
    $.ajax({
        type: "POST",
        url: "/includes/mark_unread.php",
        data: "",
        beforeSend: function() {
            $("#loadingDiv,#loadingOverlay").hide()
        },
        success: function(e) {
            t.removeClass("unread active")
        },
        error: function() {},
        dataType: "json"
    })
}

function checkPassword(e, t) {
    $("error", t).removeClass("error");
    e = checkStrength(e);
    return e.strength < 2 ? (gritter(e.errorMsg, "Oh no!"), t.find("input").addClass("error"), !1) : (t.addClass("success"), t.find("input").removeClass("error"), !0)
}

function checkEmail(e, t) {
    var i = new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);
    if (t.find("input").removeClass("success error"), i.test(e)) {
        if (e.length <= 100 && 6 <= e.length) return t.find("input").addClass("success"), !0;
        gritter("Your email must be between 6 to 20 characters.", "Oops!")
    } else gritter("Please enter a valid email address.", "Eek!");
    t.find("input").addClass("error")
}

function animateProgressMvScore(e) {
    0 < $("#collapseMVscore .progress-bar").length && (e ? $.each($("#collapseMVscore .progress-bar"), function(e, t) {
        (t = $(t)).css("max-width", t.attr("data-animate-to") + "%")
    }) : $.each($("#collapseMVscore .progress-bar"), function(e, t) {
        $(t).css("max-width", "5%")
    }))
}

function toggleLoginSignupContent(e) {
    var t = $("#LoginSignupModal"),
        i = ($(".signup-box", t), $(".login-box", t)),
        s = $(".action-box", t),
        n = $(".forgot-username-box", t),
        a = $(".forgot-password-box", t),
        o = $(".confirm-password-box", t),
        r = $(".two-way-authentication", t);
    s.addClass("is-hidden"), setTimeout(function() {
        $(".action-box.is-hidden").hide()
    }, 700), "login" === e ? (i.show(), setTimeout(function() {
        i.removeClass("is-hidden")
    }, 200), device.prototype.isMobile || setTimeout(function() {
        $("input[name=username]", "#loginForm").focus()
    }, 700)) : "username" === e ? (n.show(), setTimeout(function() {
        n.removeClass("is-hidden")
    }, 200), device.prototype.isMobile || setTimeout(function() {
        n.find("input[name=email]").focus()
    }, 700)) : "password" === e ? (a.show(), setTimeout(function() {
        a.removeClass("is-hidden")
    }, 200), device.prototype.isMobile || setTimeout(function() {
        a.find("input[name=email]").focus()
    }, 700)) : "confirmPassword" === e ? (o.show(), setTimeout(function() {
        o.removeClass("is-hidden")
    }, 200), device.prototype.isMobile || setTimeout(function() {
        o.find("input[name=new_pass]").focus()
    }, 700)) : "twoWayAuthenticationCode" === e ? (r.show(), setTimeout(function() {
        r.removeClass("is-hidden")
    }, 200), device.prototype.isMobile || setTimeout(function() {
        r.find("input[name=twoway_authentication_code]").val("").focus()
    }, 700)) : i.removeClass("is-hidden")
}

function goToUrl(e) {
    window.location.href = e
}

function numberWithCommas(e) {
    return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",")
}

function callModelServices(t, e, i, s, n, a) {
    var o, r;
    t.find(".radio-large-list").empty(), "premiumMessage" == i && (o = "Private message " + s), "premium" == i && (o = n ? "Renew your premium membership" : "Upgrade to Premium"), "membership" == i && (o = "Get " + s + "Ã¢â‚¬â„¢s Bundle of Vids"), "phone" == i && (o = "Talk to " + s, r = "Enter phone number"), "text" == i && (o = "Text with " + s), "videoChat" == i && (o = "Video Chat with " + s, r = "Your username "), "customvid" == i && (o = "Custom Vid of " + s), "buycredits" == i && (o = "MV Credits"), "fundme" == i && (o = "Fund " + s, r = "Choose the amount "), "tip" == i && (o = "Make It Rain", "Tip Me" == a) && (o = "Tip Me"), "crush" == i && (o = "Do you have a crush on " + s + "?"), data = {
        uid: e,
        service: i
    }, $.ajax({
        type: "POST",
        url: "/includes/get_model_services.php",
        data: data,
        success: function(e) {
            e.success ? "fundme" === i ? buildFundmeContent(t, o, e.service[0]) : "tip" === i ? (buildServiceRows(i, e.service, t), buildServiceRain(t, o, e.service, a)) : ("membership" == i && 0 < e.service.length && e.service[0].total_vids && (o = "Get " + s + "Ã¢â‚¬â„¢s Bundle of " + e.service[0].total_vids + " Vids"), buildServiceRows("", e.service, t), buildServiceContent(t, o, r, e.service[0].model_rules, e.service[0].app, i, e.service[0].user_id, e.service[0].username, e.service[0].tweetMsg, e.service[0].twitter_handle, e.textingApp, e.isModel, e.service)) : gritter(e.error, "Oops!")
        },
        error: function() {},
        dataType: "json"
    })
}

function buildServiceRain(e, t, i, s) {
    e.find(".modal-header .modal-title").html(t), 0 === e.find(".makeitrain-custom").length && e.find(".modal-body").append('<div class="makeitrain-custom"><p class="makeitrain-custom__title">Custom Tip</p><input type="radio" name="serviceChoice" id="serviceChoiceX" value="" data-label="tip" data-user-id="' + i[0].user_id + '" class="makeitrain-custom__radio"><input type="text" name="serviceChoiceCustom" id="inputCustomTip" class="makeitrain-custom__input" placeholder="Enter Tip Amount"><div class="custom-tip-limit is-hidden">Maximum is $1000</div>'), "Tip Me" === s && e.find(".js-modal-tip-description").html("Send me a Tip and prove me your worth."), e.modal("show").find(".toolTip-container").tooltip({
        container: "body"
    })
}

function buildFundmeContent(e, t, i) {
    var s = numberWithCommas(Math.round(100 * i.total_raised / i.overall_goal)),
        n = "https://www.manyvids.com/Profile/" + i.user_id + "/" + i.username.replace(/\s+/g, "-") + "/fundme",
        a = e.find(".modal-body ");
    twitter_link_fix = n.replace(/\/+/g, "%2f"), twitter_link_fix = "https://twitter.com/share?url=" + n + "&amp;related=manyvids&amp;text=Guys, please help reach my goal - " + i.service_title.replace(/\s+/g, "-") + ".%20" + i.twitter_handle + "%20@manyvids%20%23MVHelpingHand", "" === i.additional_item_pic ? a.find(".donation img").remove() : a.find(".donation img").remove().end().find(".donation").prepend('<img class="pic-fit square-size-6" src="https://cdn5.manyvids.com/php_uploads/services/fundme/' + i.username + "/image/" + i.additional_item_pic + '" alt="Campaign image">'), "" === i.additional_item_info ? a.find(".additional-item-info").hide() : a.find(".additional-item-info").show(), 0 < $(".checkout-full").length && $(".ddown-btn-wrapper").hide(), e.find(".modal-header .modal-title").html(t).end().find(".model-rules").html('<h2 class="h2 media-heading">' + i.service_title + "</h2>" + i.model_rules).end().find(".pic-wrapper").html('<img class="pic-fit" src="' + i.profile_pic + '" alt="' + i.username + '">').end().find(".goal-pic").attr("src", "https://cdn5.manyvids.com/php_uploads/services/fundme/" + i.username + "/image/" + i.goal_pic).end().find(".additional-item-info").html(i.additional_item_info).end().find("input[name=serviceChoice]").val(i.serviceID + "-fundme").end().find(".total-raised").html('$<span class="amount" data-current="' + i.total_raised + '"></span>').end().find(".progress-percent").text(s + "%").end().find(".twitter-link-modal").attr("href", twitter_link_fix).end().find(".share.tumblr").attr("href", "http://www.tumblr.com/share/click_thru=http%3A%2F%2Fwww.manyvids.com%2FProfile%2F" + i.user_id + "%2F" + i.username + "%2Ffundme").end().find(".overall-goal").html("$" + numberWithCommas(i.overall_goal)), 100 <= i.total_raised ? animateScore(e.find(".total-raised span"), 100) : $(".total-raised span").text(i.total_raised), setTimeout(function() {
        e.find(".progress-wrapper .progress-bar").css("width", s + "%").end().find(".progress-wrapper .progress").prop("value", s)
    }, 800);
    e.modal("show").find(".toolTip-container").tooltip({
        container: "body"
    })
}

function getTickerFeed() {
    var e;
    $("ul#ticker01").length && !$("body").hasClass("no-ticker") && (e = "/includes/json/sales-ticker.php?" + (new Date).getTime(), $("#ticker01").empty(), $.ajax({
        type: "GET",
        url: e,
        beforeSend: function() {
            $("#loadingDiv,#loadingOverlay").hide()
        },
        success: function(e) {
            buildTickerFeed(e)
        },
        error: function() {},
        dataType: "json"
    }))
}

function buildServiceContent(e, t, i, s, n, a, o, r, l, d, c, u, h) {
    var p, f = e.find(".user-fields"),
        m = e.find(".modal-body-app");
    f.addClass("is-hidden").find("input").val(""), m.text(""), device.prototype.isMobile && m.addClass("is-hidden"), e.find(".modal-header .modal-title").html(t), e.find(".model-rules").html(s), e.find(".modal-footer .btn").addClass("is-hidden"), "buycredits" === a ? (u || e.find(".serviceCheckout").remove().end().find(".modal-footer .btn.info").removeClass("is-hidden").text("Be an MV Girl").attr("href", "/Be-a-MV-Girl/"), e.find(".modal-footer .btn[data-type=model]").removeClass("is-hidden."), e.find(".share.tumblr").attr("href", "http://www.tumblr.com/share/click_thru=http%3A%2F%2Fwww.manyvids.com%2FBe-a-MV-Girl%2F").end()) : e.find(".modal-footer .btn[data-type!=model]").removeClass("is-hidden").end().find(".modal-footer .social-btn-wrapper").show(), "premium" === a ? (device.prototype.isMobile && e.find(".modal-header .modal-title").css({
        "font-weight": "500",
        "font-size": "2.1rem"
    }), $(".modal-body .js-modal-left-column").removeClass("flex-column-center"), (f = $(".modal-body .js-list-title")).removeClass("is-hidden"), f.text("Select your membership plan:"), p = "", $.each(h, function(e, t) {
        0 < t.freeTokens && (p += '<div class="my-1">' + (t.frequency < 10 ? "&nbsp;&nbsp;" : "") + t.frequency + (1 < t.frequency ? " Months = " : " Month&nbsp;&nbsp = ") + (t.freeTokens < 1e3 ? "&nbsp;&nbsp;" : "") + t.freeTokens + " FREE Tks</div>")
    }), t = '<h4 class="mb-3"><b>Included When You Upgrade:</b></h4><ul class="bullet-list">' + (p = "" !== p ? '<li>Get FREE Tokens for MV Live<div class="ml-2 mt-2 mb-3">' + p + "</div></li>" : p) + '<li class="mb-3">Unlimited messaging, ManyMotes<sup><small>TM</small></sup> and image sharing</li><li class="mb-3">Full access to blocked previews.</li><li>Attention and visibility.</li></ul>', e.find(".radio-large-list").addClass("smaller").end().find(".model-rules").hide().end().find(".social-btn-wrapper").hide().end().find(".add-cart").attr("data-event-category", "Premium").attr("data-event-action", "Subscribe").attr("data-event-label", "Vids_Player").html('<span class="cart-wrapper cart-big"><i class="cart-icon"></i></span>Get Premium Now').end().find(".modal-footer").prepend('<div class="additional-details is-hidden popover-btn"  data-trigger="click" data-toggle="popover" data-placement="top" data-html="true" data-title="Premium perks" data-content="<ul><li>Unlimited messaging, ManyMotes<sup><small>TM</small></sup> and image sharing</li><li>Full access to blocked previews.</li><li>Attention and visibility.</li></ul>">Tap here to view perks</div>'), e.find(".modal-subtitle").empty().append('<p class="mb-0" style="font-size: 1.7rem; font-weight: 500;">You know you want this!</p>'), e.find(".modal-body .quote").empty().append(t)) : "premiumMessage" === a ? e.find(".radio-large-list").addClass("smaller").end().find(".add-cart").text("Upgrade to Premium") : (u = (s = "https://www.manyvids.com/Profile/" + o + "/" + r.replace(/\s+/g, "-") + "/" + a).replace(/\/+/g, "%2f"), f = "", "text" === a && (i = c + " username "), "membership" === a && (f = "Buy my membership and get instant access to exclusive and upcoming vids"), f = "Get my phone number and lets call each other!", u = "https://twitter.com/share?url=" + s + "&amp;related=manyvids&amp;text=" + (f = (f = "customvid" === a ? "Get a Custom Vid just for you!" : f).replace(/\/+/g, "%2f")) + "%20" + d + "%20@manyvids", e.find(".twitter-link-modal").attr("href", u).end().find(".share.tumblr").attr("href", "http://www.tumblr.com/share/click_thru=http%3A%2F%2Fwww.manyvids.com%2FProfile%2F" + o + "%2F" + r + "%2F" + a).end()), m.html(n), e.find(".popover-btn").popover(), $(".popover-btn,.toolTip-container", ".modal").popover().on("show", function(e) {
        e.stopPropagation()
    }).on("hidden", function(e) {
        e.stopPropagation()
    }), i && e.find(".user-fields").removeClass("is-hidden").find("input.userField").attr("placeholder", i)
}

function buildServiceRows(p, e, f) {
    var m, g, v = f.find(".radio-large-list"),
        t = f.find(".modal-body .quote"),
        y = "checked";
    $.each(e, function(e, t) {
        var i = "",
            s = 0 === e ? 'class="selected"' : "",
            n = "",
            a = (t.is_trial ? cleanNum(t.realPrice) : cleanNum(t.realPrice / t.frequency, 2)).toString(),
            o = (a = a.split("."))[0],
            r = a[1],
            l = t && void 0 !== t.discount,
            d = "",
            c = "",
            u = "",
            h = "";
        l && (u = parseFloat(100 * (1 - t.discount.discount_percent)).toFixed() + "%", d = (h = (h = cleanNum(t.discount.discount_price / t.frequency, 2).toString()).split("."))[0], c = h[1]), a[1] ? 1 === a[1].length && (r = a[1] + "0") : r = "00", c ? 1 === c.length && (c = "0" == c ? (d = (parseInt(d) - 1).toString(), "99") : (parseInt(c) - 1).toString() + "9") : (d = (parseInt(d) - 1).toString(), c = "99"), f.find("a.add-cart").attr("href", t.href), 1 == t.bestDeal && (i = '<span class="best-deal mv-icon-liked" title="Best deal"></span>'), "tip" == p ? g = '<li style="width:33%;float:left;border-bottom: 1px solid white;"' + s + '><div class="row mv-controls"><div class="col-4 flex-column-center" ><input type="radio" name="serviceChoice" id="serviceChoice' + e + '"value="' + t.value + "-tip-" + t.user_id + ' " ' + y + '><label class="radio m-0" for="serviceChoice' + e + '"><span class="m-0"></span></label></div><div class="col-6 flex-column-center" style="max-width: 100%;"><span class="description-title">$' + t.value + '</span></div></div><input value="' + t.value + '" class="href" name="hidden-price" type="hidden"/></li>' : "" === p && ((!t.reoccuring || t.reoccuring && 1 < t.frequency) && (n = l && "0%" !== u ? "<small>Billed in one payment of $" + t.discount.discount_price + "</small>" : "<small>Billed in one payment of $" + t.realPrice + "</small>"), t.reoccuring && (t.is_trial ? n += "<small>Rebill starts once trial expires</small>" : n += "<small>Rebilled every " + (1 < t.frequency ? t.frequency : "") + " month" + (1 < t.frequency ? "s" : "") + "</small>"), h = t.is_trial ? "" : '<span class="frequency">/' + t.frequencyText + '</span><br class="d-lg-none">', g = "<li " + s + '><div class="row mv-controls"><div class="col-1 flex-column-center"><input type="radio" name="serviceChoice" id="serviceChoice' + e + '" value="' + t.serviceID + "-" + t.service + '" ' + y + '><label class="radio m-0" for="serviceChoice' + e + '"><span class="m-0"></span></label></div><div class="col-6 flex-column-center"><span class="description-title">' + t.frequencyDescription + "</span>" + n + '</div><div class="col-4 flex-column-end-justify-center"><div class="price-frequency">' + (l && "0%" !== u ? '<span class="description-title br-xs-only discount-membership">$' + (d + "<sup>." + c + "</sup>") + "</span>" + h + '<div class="discount-save"><span class="price-og">$' + o + "." + r + '</span> <span class="discount-percent">' + u + " OFF</span></div>" : '<span class="description-title br-xs-only">$' + o + "<sup>." + r + "</sup></span>" + h) + '</div></div></div><input value="' + t.href + '" class="href" type="hidden"/>' + i + "</li>", t.profile_pic) && (m = '<a class="pic-wrapper square-size-12"><img class="pic-fit" src="' + t.profile_pic + '" alt="' + t.username + '"/></a>'), v.attr("data-service", t.service).append(g), y = ""
    }), "" !== m && t.html(m), f.modal("show").find(".toolTip-container").tooltip({
        container: "body"
    })
}

function buildComments(e, t, i, s, n) {
    var a, o, r, l, d = "",
        c = "",
        u = "",
        h = 2 < e,
        e = '<a href="javascript:void(0)" data-comment-num="' + (e - 2) + '" title="View more comments" class="toggle-comments ' + (h ? "" : "is-hidden") + '"><i class="icon small comment-icon"></i> <span>View ' + (e - 2) + " more comments</span></a>",
        i = "" === t ? '<img src="http://cdn3.manyvids.com/site_files/images/avatars/boss-avatar.svg" alt="default img">' : '<img src="' + i + '" alt="' + t + '">';
    $.each(n, function(e, t) {
        var i, s = "";
        r = "/Profile/" + t.user_id + "/" + t.username + "/", $.each(t.replyList, function(e, t) {
            l = "/Profile/" + t.user_id + "/" + t.username + "/", t.replyOwner && (u = '<a class="delete-comment float-right" title="Delete comment" data-vid-id="' + t.vid + '" data-model-id="' + t.mid + '" data-comment-id="' + t.cid + '"><i class="icon xsmall mv-icon-clear"></i></a>'), i = "" === t.profile_pic ? '<img src="http://cdn3.manyvids.com/site_files/images/avatars/boss-avatar.svg" alt="default img">' : '<img src="https://cdn5.manyvids.com/php_uploads/profile/' + t.username + "/image/thumbs/thumb50_" + t.profile_pic + '" alt="' + t.username + '">', s += '<div class="row-fluid comment-box reply"><div class="span1"></div><div class="span1"><div class="pic-wrapper"><a href="' + l + '" title="Visit profile">' + i + '</a></div></div><div class="span10"><div class="top-line">' + u + '<a href="' + l + '" title="Visit profile"><span>' + t.username + '</span></a><small class="date" data-date="' + moment(t.date).format("YYYY-MM-DD hh:mm:ss") + '">' + moment(t.date, "YYYY-MM-DD hh:mm:ss").subtract("minutes", 2).fromNow() + "</small></div><p>" + t.comment + "</p></div></div>"
        }), t.commentOwner && (c = '<a class="delete-comment float-right" title="Delete comment" data-vid-id="' + t.vid + '" data-model-id="' + t.mid + '" data-comment-id="' + t.cid + '"><i class="icon xsmall mv-icon-clear"></i></a>'), a = 0 === e || 1 === e ? "visible" : "", o = "" === t.profile_pic ? '<img src="/img/default_user.jpg" alt="default img">' : '<img src="https://cdn5.manyvids.com/php_uploads/profile/' + t.username + "/image/thumbs/thumb50_" + t.profile_pic + '" alt="' + t.username + '">', d = (d += '<div class="row-fluid comment-box ' + a + '"><div class="span1"><div class="pic-wrapper"><a href="' + r + '" title="Visit profile">' + o + '</a></div></div><div class="span11"><div class="top-line">' + c + '<a href="' + r + '" title="Visit profile"><span>' + t.username + '</span></a><small class="date" data-date="' + moment(t.date).format("YYYY-MM-DD hh:mm:ss") + '">' + moment(t.date, "YYYY-MM-DD hh:mm:ss").subtract("minutes", 2).fromNow() + "</small></div><p>" + t.comment + '</p><a title="Reply" class="reply-comment" data-cancel-text="Cancel" data-reply-text="Reply" data-reply-id="' + t.cid + '">Reply</a>  </div></div>') + s
    }), $("#vidlist .video-list").append(e + '<div class="comments"><div class="comments-wrapper ' + (h ? "closed" : "") + '">' + d + '</div><div class="row-fluid comment-box mainComment"><div class="span1"><div class="pic-wrapper">' + i + '</div></div><div class="span11"><textarea data-cancel-text="Cancel" data-reply-text="Reply" placeholder="Share your thoughts" data-comment-id="' + s + '" data-comment-type="video"></textarea></div></div></div>')
}

function buildTags(e) {
    var i = "";
    return $.each(e, function(e, t) {
        i += '<a href="/Categories/' + t.id + '/vids/"><span class="label">' + t.label + "</span></a> "
    }), i
}

function convertLength(e, t) {
    var e = e.split("."),
        i = "00" === (e = e[0].split(":"))[0] ? (e = e[1] + ":" + e[2], " min") : (e = e[0] + ":" + e[1] + ":" + e[2], " hours");
    return e += i = t ? "" : i
}

function cleanNum(e) {
    e = +(e = parseFloat(e)).toFixed(2);
    return 0 == e ? 0 : e
}

function convertPerCustomField(e, t, i) {
    var s = e / t,
        s = isNaN(s) || !isFinite(s) || 0 === e || 0 === t ? "0.00" : cleanNum(s);
    $(".amount-per-customValue", i).text(s)
}

function convertPerMonth(e, t, i) {
    $(".amount-per-month", i).text(cleanNum(e / t))
}

function convertPerYear(e, t, i) {
    var s = "12" === t ? "1" : t,
        t = "12" === t ? "year" : "months";
    $(".amount-per-year", i).text(cleanNum(e)), $(".amount-per-year-text", i).text(s + " " + t)
}

function calculate_age(e, t, i, s, n) {
    today_date = new Date, today_year = today_date.getFullYear(), today_month = today_date.getMonth(), today_day = today_date.getDate(), n && (i = (n = s.split("-"))[0], e = n[1], t = n[2]), age = today_year - i, today_month < e - 1 && age--, e - 1 == today_month && today_day < t && age--, $("label > input.age").val(age)
}

function gritter(e, t, i) {
    $.gritter.add({
        title: t,
        text: e,
        sticky: !1,
        before_open: function() {
            if ($(".gritter-item-wrapper").length == i && "" !== i) return !1
        }
    })
}

function success(e, t) {
    clearTimeout(void 0);
    var i = $(".alert.alert-success.global");
    i.html("<strong>" + t + "</strong> " + e).fadeIn().removeClass("is-hidden"), setTimeout(function() {
        i.fadeOut(function(e) {
            i.removeClass("is-hidden").empty()
        })
    }, 3500)
}

function createCart(e, t, i) {
    t.find(".checkout-item");
    var t = $(".js-cart-wrapper"),
        s = $(".js-cart-wrapper ul"),
        n = $(".cart-icon .item-count"),
        a = $(".js-nav-cart"),
        o = 0 !== e.length ? e[0].cartItems.length : 0,
        r = 0 !== e.length ? e[0].amountToGetTokenBonus : 0,
        l = $("html").data("session-details"),
        l = !(!l || "user" !== l.type),
        d = (s.empty(), $(".checkout-item, .total", t).remove(), {
            cart_items: 0 !== e.length ? e[0].cartItems : [],
            cart_total: 0 !== e.length ? "$" + e[0].total_price : 0,
            cart_not_empty: 0 !== e.length,
            cart_items_count: o,
            show_checkout_btn: !0,
            promo_tokens_package: 0 !== e.length && e[0].promo_tokens_package,
            promo_token_bonus: 0 !== parseFloat(r) && l && r
        });
    jQuery.ajax({
        url: "/views/cart.mustache",
        type: "POST",
        beforeSend: function() {
            $(".loading").show()
        },
        success: function(e) {
            e = Mustache.render(e, d);
            ($(".js-checkout-cart-before-search")[0] ? $(".js-checkout-cart-before-search") : $(".js-checkout-cart")).html(e), $(".cart-items ul").scrollbar(), n.addClass("animated rubberBand"), setTimeout(function() {
                n.removeClass("animated rubberBand")
            }, 1500), a.find(".item-count").show().text(o), d.promo_token_bonus ? $("#promo-token-bonus").show() : $("#promo-token-bonus").hide(), d.promo_tokens_package ? $("#promo-tokens-package").show() : $("#promo-tokens-package").hide(), i && window.location.reload()
        }
    })
}

function addViewCount() {
    var e = $("#rmpPlayer"),
        t = e.parents(".js-video-player-wrapper");
    "viewed" !== e.data("status") && (e.attr("data-status", "viewed"), data = {
        vid_id: e.data("vid"),
        type: "video"
    }, $.ajax({
        type: "POST",
        url: "/includes/addVideoView.php",
        data: data,
        success: function(e) {
            e = e.views;
            t.find(".video-item-extras .views-wrapper").html('<i class="icon small views-icon mr-1 animated swing"></i><span>' + e + "</span>")
        },
        error: function() {},
        beforeSend: function() {
            $("#loadingDiv,#loadingOverlay").hide()
        },
        dataType: "json"
    }))
}

function globalMsg(e, t) {
    "error" === t ? gritter(e, "Oops!") : "success" === t && success(e, "Great!")
}

function loadDropdowns() {
    $(".chzn-select").chosen({
        disable_search: !0
    });
    var i = $("select.chzn-select").length;
    0 < i && $.each($("select.chzn-select"), function(e, t) {
        $(t).next(".chzn-container").css("z-index", i - e + 2).addClass("chzn" + e)
    })
}

function saveImageToServer(e) {
    $.ajax({
        type: "POST",
        url: "/includes/upload_photoid_server.php",
        data: {
            imgBase64: e
        }
    }).done(function(e) {
        $("#modelAgreementForm").submit()
    })
}

function signupTwitterModal() {
    $("#signupTwitterModal").modal("show")
}

function animateScore(e, t) {
    var i = e,
        s = parseInt(i.attr("data-current")),
        n = s - t;
    setInterval(function() {
        n != s && (n++, i.text(n))
    }, "1")
}

function createGenericPopup(e, t, i, s, n, a, o) {
    var r = "",
        l = "",
        d = "",
        o = (o && (r = 'style="max-width:none"', l = "js-max-width"), '<div class="modal fade ' + l + '" id="genericPopup"' + (d = void 0 !== a && a ? ' data-backdrop="static" data-keyboard="false"' : d) + '><div class="modal-dialog" role="document" ' + r + '><div class="modal-content text-center"><a href="javascript:;" class="modal-close" data-dismiss="modal" aria-hidden="true"><i class="icon medium x-icon"></i></i></a><div class="modal-header"><h1 class="h1">' + e + '</h1></div><div class="modal-body">' + t + '</div><div class="modal-footer">' + ("" ? '<a href="javascript:;" class="btn btn-secondary" data-dismiss="modal">Cancel</a>' : "") + i + "</div></div></div></div>");
    $("body").hasClass("menu-open") && $(".toggle-mainnav").trigger("click"), $("#genericPopup").length && $("#genericPopup").remove(), $("body").append(o), $(".modal").on("shown.bs.modal", function() {
        $(".modal.fade.in").css("display", "flex")
    }), $("#genericPopup").modal("show")
}

function removeA(e) {
    for (var t, i, s = arguments, n = s.length; 1 < n && e.length;)
        for (t = s[--n]; - 1 != (i = e.indexOf(t));) e.splice(i, 1);
    return e
}

function shuffle(e) {
    for (var t, i, s = e.length; 0 !== s;) i = Math.floor(Math.random() * s), t = e[--s], e[s] = e[i], e[i] = t;
    return e
}

function deleteImageS3(e, t, i, s) {
    data = {
        image: e,
        token: t,
        type: i
    }, $.ajax({
        type: "POST",
        url: "/admin/includes/actions/delete-image-s3.php",
        data: data,
        success: function(e) {
            e.error ? gritter(e.error, "Oops!") : (success(e.success, "Great!"), $(s).remove())
        },
        error: function() {},
        dataType: "json"
    })
}

function getAlexaGraphInfo() {
    drawAlexaPromo([{
        name: "ManyVids",
        data: [11e4, 11e4, 11e4, 11e4, 11e4, 11e4, 11e4, 11e4, 11e4, 11e4, 99999, 55e3, 5243],
        color: "#249bd2"
    }, {
        name: "Clips4sale",
        data: [99999, 92e3, 84e3, 76e3, 68e3, 6e4, 52e3, 44e3, 36e3, 28e3, 2e4, 12e3, 3082],
        color: "#333333"
    }, {
        name: "Adultwork",
        data: [99999, 95e3, 9e4, 85e3, 8e4, 75e3, 7e4, 65e3, 6e4, 58500, 57e3, 55e3, 33855],
        color: "#bbbbbb"
    }, {
        name: "MyGirlFund",
        data: [11e4, 11e4, 11e4, 11e4, 99999, 9e4, 8e4, 7e4, 6e4, 5e4, 4e4, 3e4, 19716],
        color: "#69bf7f"
    }, {
        name: "Kinkbomb",
        data: [11e4, 11e4, 11e4, 11e4, 11e4, 11e4, 99999, 9e4, 8e4, 7e4, 6e4, 57e3, 44740],
        color: "#bf6d6d"
    }, {
        name: "ExtraLunchMoney",
        data: [11e4, 11e4, 11e4, 11e4, 11e4, 11e4, 11e4, 11e4, 99999, 8e4, 6e4, 45e3, 32693],
        color: "#8d6fbf"
    }, {
        name: "ClipVia",
        data: [11e4, 11e4, 11e4, 11e4, 11e4, 11e4, 11e4, 11e4, 99999, 85e3, 7e4, 55e3, 51175],
        color: "#bf6aaa"
    }, {
        name: "Customs4u",
        data: [11e4, 11e4, 11e4, 11e4, 11e4, 11e4, 11e4, 11e4, 11e4, 11e4, 99999, 88e3, 66288],
        color: "#95bf5e"
    }], [2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015], $("#alexaChart"), !1)
}

function drawAlexaPromo(e, t, i, s) {
    $(i).highcharts({
        credits: !1,
        exporting: {
            enabled: !1
        },
        title: {
            text: s,
            x: -20
        },
        xAxis: {
            categories: t
        },
        yAxis: {
            title: {
                text: !1
            },
            reversed: !0,
            max: 1e5,
            minPadding: 0
        },
        tooltip: {
            valueSuffix: " Ranking"
        },
        legend: {
            enabled: !0,
            itemStyle: {
                fontSize: "10px"
            }
        },
        series: e,
        chart: {
            events: {
                load: function() {
                    this.myTooltip = new Highcharts.Tooltip(this, this.options.tooltip)
                }
            }
        }
    })
}

function landingVideoRotator(e) {
    var t = $(".video-loop-wrapper"),
        i = t.data("loop") || !1,
        s = t.data("video-src-list"),
        n = $("#radiantPlayerLanding");
    $("#promo_video_landing");
    s && s.length && ("init" == e && addPageVisibilityListener(pauseLandingVideoRotator), e = parseInt(t.attr("data-counter")) || 0, 0 < n.length && (globalSettings.prototype.rmp.destroy(), t.find("*").not(".video_effect, .bottom-gradient, .top-gradient").remove()), t.prepend('<div id="radiantPlayerLanding" class="js-visit-video-container" data-controls="false" data-autoplay="true" data-loop="' + i + '" data-muted="true"  data-license-key="' + s[e].licenseKey + '" data-vid="' + s[e].id + '" data-video-username="' + s[e].username + '" data-stream-type="' + s[e].streamType + '" data-video-filepath="' + s[e].preview_link + '" data-video-screenshot="' + s[e].screenshot + '" data-link="/Video/' + s[e].id + "/" + s[e].title.replace(/\s+/g, "-") + '/"></div>'), render_player("radiantPlayerLanding", !1, !0))
}

function addPageVisibilityListener(t) {
    var i = "hidden",
        e = "visibilitychange";
    void 0 === document.hidden && void 0 !== document.webkitHidden && (i = "webkitHidden", e = "webkitvisibilitychange"), document.addEventListener(e, function(e) {
        t(!!document[i])
    })
}

function pauseLandingVideoRotator(e) {
    var t = $("#promo_video_landing")[0];
    t && (e ? t.pause() : t.paused && t.play())
}

function scanForKeywords(e, t) {
    var i, s = [];
    return window.MV.isProd ? (s = e.split(" ").filter(function(e) {
        return -1 !== t.indexOf(e.toLowerCase())
    }), i = [], s.forEach(function(e) {
        i.push(" " + e)
    }), i) : s
}

function scanNonStandardChars(e) {
    return new RegExp(/[^\x00-\x7F]/g, "").test(e)
}

function convertFrenchCharactersToEnglish(e) {
    var t = {
        "ÃƒÂ©": "e",
        "Ãƒ ": "a",
        "ÃƒÂ¨": "e",
        "ÃƒÂ¹": "u",
        "ÃƒÂ¢": "a",
        "ÃƒÂª": "e",
        "ÃƒÂ®": "i",
        "ÃƒÂ´": "o",
        "ÃƒÂ»": "u",
        "ÃƒÂ«": "e",
        "ÃƒÂ¯": "i",
        "ÃƒÂ¼": "u",
        "ÃƒÂ§": "c"
    };
    return e.replace(/[ÃƒÂ©Ãƒ ÃƒÂ¨ÃƒÂ¹ÃƒÂ¢ÃƒÂªÃƒÂ®ÃƒÂ´ÃƒÂ»ÃƒÂ«ÃƒÂ¯ÃƒÂ¼ÃƒÂ§]/g, function(e) {
        return t[e]
    })
}

function checkStrength(e) {
    var t = 0,
        i = [];
    return e.length < 4 || 20 < e.length ? ($(".resultPasswordStrength").attr("class", "resultPasswordStrength").addClass("short").text("Weak"), i.errorMsg = "Your password must be between 4 and 20 characters, and must be strong.", i.strength = 0) : (e.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/) && (t += 1), e.match(/([a-zA-Z])/) && e.match(/([0-9])/) && (t += 1), e.match(/([!,%,&,@,#,$,^,*,?,_,~])/) && (t += 1), e.match(/(.*[!,%,&,@,#,$,^,*,?,_,~].*[!,%,&,@,#,$,^,*,?,_,~])/) && (t += 1), t < 2 ? ($(".resultPasswordStrength").addClass("weak").text("Weak"), i.errorMsg = "Your password is too Weak. It should have a combination of lowercase and uppercase characters, and at least a number or a special character.", i.strength = 1) : 2 == t ? ($(".resultPasswordStrength").attr("class", "resultPasswordStrength").addClass("good").text("Good"), i.errorMsg = "Great!", i.strength = 2) : ($(".resultPasswordStrength").attr("class", "resultPasswordStrength").addClass("strong").text("Strong"), i.errorMsg = "Great!", i.strength = 3)), i
}

function get_free_vids_history(t, i) {
    var s = $(".js-append-free-vids"),
        n = $(".js-purchase-history-table"),
        e = {
            offset: 0 < s.length ? s.data("offset") : 0,
            uid: $("body").data("filter-uid"),
            s: $("body").data("filter-search-word"),
            type: i
        };
    $.ajax({
        type: "POST",
        data: e,
        url: "/includes/get_free_vids_history.php",
        success: function(e) {
            n.find("tbody > tr:not(." + t + ")").hide(), void 0 !== e && 0 < e.free_list.length && (n.find("tbody").append(e.free_list), 0 < e.offset) && (0 === s.length ? (n.after('<div class="text-center"><button class="btn btn-primary js-append-free-vids" data-offset="' + e.offset + '" data-category="' + t + '" data-type="' + i + '">View more</button></div>'), s = $(".js-append-free-vids")) : s.data("offset", e.offset)), void 0 !== e && e.total_results < 30 && s.remove()
        },
        error: function(e) {},
        dataType: "json"
    })
}

function toggle_barcode_and_secret(e) {
    $(".js-two-step").hide(), "show-barcode" === e ? $(".js-barcode").show() : "show-secret" === e && $(".js-secret").show()
}

function jump_settings_next_step(e) {
    $(".js-step-wrapper").hide(), $(".js-step-wrapper.step" + e).show()
}

function earnersSelect() {
    var e = $("#top-earners-select");
    $("body").hasClass("js-top-earner-by-category") || ($(".js-top-earners-column").addClass("is-hidden"), $("#" + e.val()).removeClass("is-hidden"), lazyLoadingStart())
}

function isUnderAge(e) {
    var e = new Date(e),
        t = (e.setHours(0, 0, 0, 0), new Date),
        i = (t.setHours(0, 0, 0, 0), t.getFullYear() - e.getFullYear()),
        s = t.getMonth() - e.getMonth();
    return (s < 0 || 0 == s && t.getDate() < e.getDate()) && i--, i < 18
}

function isInvalidDate(e) {
    var e = new Date(e),
        t = (e.setHours(0, 0, 0, 0), new Date);
    return t.setHours(0, 0, 0, 0), t < e
}

function redirect_datepicker_url(e) {
    var e = e.getUTCFullYear() + "-" + ((e = e.getUTCMonth() + 1) < 10 ? "0" + e : e) + "-01",
        t = $(".js-datepicker-month-viewmode"),
        i = t.data("type"),
        t = t.data("category");
    window.location.href = 6 === i ? "/MV-live-top-earners/?month=" + e : 7 === i ? "/Top-earners-by-category/" + t + "/" + e : 8 === i ? "/MV-tube-stars/" + e : "/Top-earners/" + e
}

function checkIfDropdownOpen() {
    $(".nav-utilities > .dropdown").hasClass("open") ? $("body").addClass("nooverflow") : $("body").removeClass("nooverflow")
}

function setGenderType(e) {
    $.ajax({
        type: "POST",
        url: "/includes/ajax_repository/preferredContent.php",
        dataType: "json",
        data: e,
        success: function(e) {
            e && e.error ? gritter(e.error, "Oops!") : e && e.success && ("" !== e.redirect ? window.location.href = e.redirect : window.location.reload())
        },
        error: function(e) {
            gritter(e && e.error || "An error has occurred.", "Oops!")
        }
    })
}

function stickyHeaderTransform() {
    var e = $(".profile-nav , .profile-side-bar"),
        t = ($(".model-profile .main-header"), $(".main-header .top-gradient")),
        i = $(".model-profile .model-header-title"),
        s = $(window).scrollTop();
    420 <= s ? e.addClass("fixed") : 380 <= s ? i.addClass("-half-opacity") : 330 <= s ? t.addClass("-darken") : (e.removeClass("fixed"), t.removeClass("-darken"), i.removeClass("-half-opacity")), pauseLandingVideoRotator(350 <= s)
}

function myfunction() {
    var e, t, i, s, n, a, o;
    device.prototype.isMobile && (a = $(window).height(), o = $(".top-header").height(), e = $("header").height(), i = $(".sub-header").height(), t = $(".cart-items .total").height(), n = $(".checkout-item").height(), $(".cart-scroller-wrapper").height(), t = a - o - e - t - n, $(".user-nav").height(), n = $(".user-nav"), $(".mobile-filter-header").height(), $(".mobile-filter-footer").height(), i = a - o - e - i - 42, s = a - o - e - 44, n.css("height", a - o - e), $(".cart-scroller-wrapper").css("max-height", t), $(".filters-wrapper").css("max-height", i), $(".mobile-primary-nav .primary-nav").css("max-height", s)), device.prototype.isMobile || (n = $(".js-video-player-wrapper .video-item").height() + $(".js-video-player-wrapper .video-details").height(), $(".js-side-video-slider").css("max-height", n), a = $(".full-post-wrapper").height(), $(".mv-blog .js-side-slide").css("max-height", a), o = $(".js-custom-vid-form-member").height(), $(".js-side-slide").css("max-height", o), $("body").hasClass("mv-daily-page") && setTimeout(function() {
        var e = $(".js-display-list").height() - $(".ctn-store-intro").height();
        $(".mv-daily-page .js-side-slide, .mv-daily-page .scrollbar-mv").css("max-height", e)
    }, 1e3))
}

function pageControl(e) {
    switch ($("#tsg2-contentPreferences-back").css("visibility", "visible"), e) {
        case "2":
            $(".tsg2-contentPreferences-page1").hide(), $(".tsg2-contentPreferencesTitle1").hide(), $(".tsg2-contentPreferencesSubTitle1").hide(), $(".tsg2-contentPreferencesTitle3").show(), $(".tsg2-contentPreferencesSubTitle3").show(), $("#tsg2-contentPreferences-back").show(), $("#tsg2-contentPreferences-submit").removeClass("d-none"), $("#tsg2-contentPreferences-btn").addClass("d-none"), $(".tsg2-contentPreferences hr").css({
                width: "100%"
            });
            break;
        case "1":
            $(".tsg2-contentPreferences-page1").show(), $(".tsg2-contentPreferencesTitle1").show(), $(".tsg2-contentPreferencesSubTitle1").show(), $(".tsg2-contentPreferencesTitle3").hide(), $(".tsg2-contentPreferencesSubTitle3").hide(), $("#tsg2-contentPreferences-back").hide(), $("#tsg2-contentPreferences-submit").addClass("d-none"), $("#tsg2-contentPreferences-btn").removeClass("d-none"), $("#tsg2-contentPreferences-forward").css("visibility", "hidden"), $(".tsg2-contentPreferences hr").css({
                width: "50%"
            })
    }
}

function sliceArray(e, t) {
    for (var i = t.length - 1; 0 <= i; i--) t[i] === e && t.splice(i, 1)
}

function executeRecaptchaV3(t, e, i) {
    var s = $("html").data("recaptchav3-site-key");
    if (!i) {
        if (e.hasClass("disabled")) return;
        e.addClass("disabled")
    }
    grecaptcha.enterprise.execute(s, {
        action: t
    }).then(function(e) {
        window.MV.isProd || console.log(e), i || ($(".js-recaptchav3-form").prepend('<input type="hidden" name="captcha" class="js-captcha-input" value="' + e + '">'), "signup" === t ? submitModalSignupForm($("#loginAccountSubmitForm"), e) : loginSubmit($(".js-recaptchav3-form-btn"), e))
    })
}! function(c) {
    c.gritter = {}, c.gritter.options = {
        position: "",
        class_name: "",
        fade_in_speed: "medium",
        fade_out_speed: 1e3,
        time: 6e3
    }, c.gritter.add = function(t) {
        try {
            return u.add(t || {})
        } catch (e) {
            var i = "Gritter Error: " + e;
            "undefined" != typeof console && console.error ? console.error(i, t) : alert(i)
        }
    }, c.gritter.remove = function(e, t) {
        u.removeSpecific(e, t || {})
    }, c.gritter.removeAll = function(e) {
        u.stop(e || {})
    };
    var u = {
        position: "",
        fade_in_speed: "",
        fade_out_speed: "",
        time: "",
        _custom_timer: 0,
        _item_count: 0,
        _is_setup: 0,
        _tpl_close: '<a class="gritter-close" href="#" tabindex="1"></a>',
        _tpl_title: '<span class="gritter-title">[[title]]</span>',
        _tpl_item: '<div id="gritter-item-[[number]]" class="gritter-item-wrapper [[item_class]]" style="display:none" role="alert"><div class="gritter-top"></div><div class="gritter-item">[[close]][[image]]<div class="[[class_name]]">[[title]]<p>[[text]]</p></div><div style="clear:both"></div></div><div class="gritter-bottom"></div></div>',
        _tpl_wrap: '<div id="gritter-notice-wrapper"></div>',
        add: function(i) {
            if (null === (i = "string" == typeof i ? {
                    text: i
                } : i).text) throw 'You must supply "text" parameter.';
            this._is_setup || this._runSetup();
            var e = i.title,
                t = i.text,
                s = i.image || "",
                n = i.sticky || !1,
                a = i.class_name || c.gritter.options.class_name,
                o = c.gritter.options.position,
                r = i.time || "",
                l = (this._verifyWrapper(), this._item_count++, this._item_count),
                d = this._tpl_item,
                r = (c(["before_open", "after_open", "before_close", "after_close"]).each(function(e, t) {
                    u["_" + t + "_" + l] = c.isFunction(i[t]) ? i[t] : function() {}
                }), this._custom_timer = 0, r && (this._custom_timer = r), "" != s ? '<img src="' + s + '" class="gritter-image" />' : ""),
                s = "" != s ? "gritter-with-image" : "gritter-without-image",
                e = e ? this._str_replace("[[title]]", e, this._tpl_title) : "",
                d = this._str_replace(["[[title]]", "[[text]]", "[[close]]", "[[image]]", "[[number]]", "[[class_name]]", "[[item_class]]"], [e, t, this._tpl_close, r, this._item_count, s, a], d);
            if (!1 === this["_before_open_" + l]()) return !1;
            c("#gritter-notice-wrapper").addClass(o).append(d);
            e = c("#gritter-item-" + this._item_count);
            return e.fadeIn(this.fade_in_speed, function() {
                u["_after_open_" + l](c(this))
            }), n || this._setFadeTimer(e, l), c(e).bind("mouseenter mouseleave", function(e) {
                "mouseenter" == e.type ? n || u._restoreItemIfFading(c(this), l) : n || u._setFadeTimer(c(this), l), u._hoverState(c(this), e.type)
            }), c(e).find(".gritter-close").click(function() {
                return u.removeSpecific(l, {}, null, !0), !1
            }), l
        },
        _countRemoveWrapper: function(e, t, i) {
            t.remove(), this["_after_close_" + e](t, i), 0 == c(".gritter-item-wrapper").length && c("#gritter-notice-wrapper").remove()
        },
        _fade: function(e, t, i, s) {
            var n = void 0 === (i = i || {}).fade || i.fade,
                i = i.speed || this.fade_out_speed,
                a = s;
            this["_before_close_" + t](e, a), s && e.unbind("mouseenter mouseleave"), n ? e.animate({
                opacity: 0
            }, i, function() {
                e.animate({
                    height: 0
                }, 300, function() {
                    u._countRemoveWrapper(t, e, a)
                })
            }) : this._countRemoveWrapper(t, e)
        },
        _hoverState: function(e, t) {
            "mouseenter" == t ? (e.addClass("hover"), e.find(".gritter-close").show()) : (e.removeClass("hover"), e.find(".gritter-close").hide())
        },
        removeSpecific: function(e, t, i, s) {
            i = i || c("#gritter-item-" + e), this._fade(i, e, t || {}, s)
        },
        _restoreItemIfFading: function(e, t) {
            clearTimeout(this["_int_id_" + t]), e.stop().css({
                opacity: "",
                height: ""
            })
        },
        _runSetup: function() {
            for (opt in c.gritter.options) this[opt] = c.gritter.options[opt];
            this._is_setup = 1
        },
        _setFadeTimer: function(e, t) {
            var i = this._custom_timer || this.time;
            this["_int_id_" + t] = setTimeout(function() {
                u._fade(e, t)
            }, i)
        },
        stop: function(e) {
            var t = c.isFunction(e.before_close) ? e.before_close : function() {},
                i = c.isFunction(e.after_close) ? e.after_close : function() {},
                e = c("#gritter-notice-wrapper");
            t(e), e.fadeOut(function() {
                c(this).remove(), i()
            })
        },
        _str_replace: function(e, t, i, s) {
            var n, a, o, r = 0,
                l = 0,
                d = "",
                c = [].concat(e),
                u = [].concat(t),
                h = i,
                p = u instanceof Array,
                e = h instanceof Array,
                h = [].concat(h);
            for (s && (this.window[s] = 0), r = 0, a = h.length; r < a; r++)
                if ("" !== h[r])
                    for (l = 0, o = c.length; l < o; l++) d = h[r] + "", n = p ? void 0 !== u[l] ? u[l] : "" : u[0], h[r] = d.split(c[l]).join(n), s && h[r] !== d && (this.window[s] += (d.length - h[r].length) / c[l].length);
            return e ? h : h[0]
        },
        _verifyWrapper: function() {
            c("body").hasClass("login-page") && 0 != c(".append-error").length && (c(".action-box.is-hidden #gritter-notice-wrapper").remove(), c(".action-box:not(.is-hidden) .append-error").append('<div id="gritter-notice-wrapper"></div>')), c("body").hasClass("js-inline-error-msg") && c(".append-error").append('<div id="gritter-notice-wrapper"></div>'), 0 == c("#gritter-notice-wrapper").length && c("body").append(this._tpl_wrap)
        }
    }
}(jQuery), ! function(e) {
    "function" == typeof define && define.amd && define.amd.jQuery ? define(["jquery"], e) : e("undefined" != typeof module && module.exports ? require("jquery") : jQuery)
}(function(re) {
    "use strict";

    function s(F, l) {
        function e(e) {
            if (!(!0 === E.data(De + "_intouch") || 0 < re(e.target).closest(l.excludedElements, E).length)) {
                var t, i, s, n = e.originalEvent || e;
                if (!n.pointerType || "mouse" != n.pointerType || 0 != l.fallbackToMouseEvents) return s = (i = n.touches) ? i[0] : n, A = Se, i ? P = i.length : !1 !== l.preventDefaultEvents && e.preventDefault(), S = b = y = null, k = 1, x = C = _ = w = v = 0, (e = {})[le] = r(le), e[de] = r(de), e[ce] = r(ce), e[ue] = r(ue), T = e, K(), h(0, s), !i || P === l.fingers || l.fingers === ke || c() ? (ae = p(), 2 == P && (h(1, i[1]), _ = C = te($[0].start, $[1].start)), (l.swipeStatus || l.pinchStatus) && (t = d(n, A))) : t = !1, !1 === t ? (d(n, A = Ae), t) : (l.hold && (j = setTimeout(re.proxy(function() {
                    E.trigger("hold", [n.target]), l.hold && (t = l.hold.call(E, n, n.target))
                }, this), l.longTapThreshold)), o(!0), null)
            }
        }

        function t(e) {
            var t = e.originalEvent || e;
            if (A !== Ee && A !== Ae && !u()) {
                var i, s = t.touches,
                    n = Q(s ? s[0] : t);
                if (M = p(), s && (P = s.length), l.hold && clearTimeout(j), A = Te, 2 == P && (0 == _ ? (h(1, s[1]), _ = C = te($[0].start, $[1].start)) : (Q(s[1]), C = te($[0].end, $[1].end), $[0].end, $[1].end, S = k < 1 ? pe : he), k = (C / _ * 1).toFixed(2), x = Math.abs(_ - C)), P === l.fingers || l.fingers === ke || !s || c()) {
                    y = ie(n.start, n.end), b = ie(n.last, n.end);
                    var a, o = e,
                        s = b;
                    if (!1 !== l.preventDefaultEvents)
                        if (l.allowPageScroll === fe) o.preventDefault();
                        else {
                            var r = l.allowPageScroll === me;
                            switch (s) {
                                case le:
                                    (l.swipeLeft && r || !r && l.allowPageScroll != _e) && o.preventDefault();
                                    break;
                                case de:
                                    (l.swipeRight && r || !r && l.allowPageScroll != _e) && o.preventDefault();
                                    break;
                                case ce:
                                    (l.swipeUp && r || !r && l.allowPageScroll != Ce) && o.preventDefault();
                                    break;
                                case ue:
                                    (l.swipeDown && r || !r && l.allowPageScroll != Ce) && o.preventDefault()
                            }
                        } e = n.start, s = n.end, v = Math.round(Math.sqrt(Math.pow(s.x - e.x, 2) + Math.pow(s.y - e.y, 2))), w = ee(), s = v, (e = y) != fe && (s = Math.max(s, Z(e)), T[e].distance = s), i = d(t, A), l.triggerOnTouchEnd && !l.triggerOnTouchLeave || (e = !0, l.triggerOnTouchLeave && (a = {
                        left: (a = (s = re(s = this)).offset()).left,
                        right: a.left + s.outerWidth(),
                        top: a.top,
                        bottom: a.top + s.outerHeight()
                    }, s = n.end, n = a, e = s.x > n.left && s.x < n.right && s.y > n.top && s.y < n.bottom), !l.triggerOnTouchEnd && e ? A = N(Te) : l.triggerOnTouchLeave && !e && (A = N(Ee)), A != Ae && A != Ee) || d(t, A)
                } else d(t, A = Ae);
                !1 === i && d(t, A = Ae)
            }
        }

        function i(e) {
            var t, i = e.originalEvent || e,
                s = i.touches;
            if (s) {
                if (s.length && !u()) return t = i, D = p(), oe = t.touches.length + 1, !0;
                if (s.length && u()) return !0
            }
            return u() && (P = oe), M = p(), w = ee(), B() || !R() ? d(i, A = Ae) : l.triggerOnTouchEnd || !1 === l.triggerOnTouchEnd && A === Te ? (!1 !== l.preventDefaultEvents && !1 !== e.cancelable && e.preventDefault(), d(i, A = Ee)) : !l.triggerOnTouchEnd && G() ? a(i, A = Ee, ye) : A === Te && d(i, A = Ae), o(!1), null
        }

        function n() {
            C = _ = ae = M = P = 0, K(), o(!(k = 1))
        }

        function O(e) {
            e = e.originalEvent || e;
            l.triggerOnTouchLeave && d(e, A = N(Ee))
        }

        function q() {
            E.unbind(f, e), E.unbind(g, n), E.unbind(se, t), E.unbind(ne, i), m && E.unbind(m, O), o(!1)
        }

        function N(e) {
            var t = e,
                i = U(),
                s = R(),
                n = B();
            return !i || n ? t = Ae : !s || e != Te || l.triggerOnTouchEnd && !l.triggerOnTouchLeave ? !s && e == Ee && l.triggerOnTouchLeave && (t = Ae) : t = Ee, t
        }

        function d(e, t) {
            var i, s = e.touches;
            return (H() && z() || z()) && (i = a(e, t, ge)), (V() && c() || c()) && !1 !== i && (i = a(e, t, ve)), J() && X() && !1 !== i ? i = a(e, t, be) : w > l.longTapThreshold && v < xe && l.longTap && !1 !== i ? i = a(e, t, we) : 1 !== P && Pe || !(isNaN(v) || v < l.threshold) || !G() || !1 === i || (i = a(e, t, ye)), t === Ae && n(), t !== Ee || s && s.length || n(), i
        }

        function a(e, t, i) {
            var s;
            if (i == ge) {
                if (E.trigger("swipeStatus", [t, y || null, v || 0, w || 0, P, $, b]), l.swipeStatus && !1 === (s = l.swipeStatus.call(E, e, t, y || null, v || 0, w || 0, P, $, b))) return !1;
                if (t == Ee && H()) {
                    if (clearTimeout(L), clearTimeout(j), E.trigger("swipe", [y, v, w, P, $, b]), l.swipe && !1 === (s = l.swipe.call(E, e, y, v, w, P, $, b))) return !1;
                    switch (y) {
                        case le:
                            E.trigger("swipeLeft", [y, v, w, P, $, b]), l.swipeLeft && (s = l.swipeLeft.call(E, e, y, v, w, P, $, b));
                            break;
                        case de:
                            E.trigger("swipeRight", [y, v, w, P, $, b]), l.swipeRight && (s = l.swipeRight.call(E, e, y, v, w, P, $, b));
                            break;
                        case ce:
                            E.trigger("swipeUp", [y, v, w, P, $, b]), l.swipeUp && (s = l.swipeUp.call(E, e, y, v, w, P, $, b));
                            break;
                        case ue:
                            E.trigger("swipeDown", [y, v, w, P, $, b]), l.swipeDown && (s = l.swipeDown.call(E, e, y, v, w, P, $, b))
                    }
                }
            }
            if (i == ve) {
                if (E.trigger("pinchStatus", [t, S || null, x || 0, w || 0, P, k, $]), l.pinchStatus && !1 === (s = l.pinchStatus.call(E, e, t, S || null, x || 0, w || 0, P, k, $))) return !1;
                if (t == Ee && V()) switch (S) {
                    case he:
                        E.trigger("pinchIn", [S || null, x || 0, w || 0, P, k, $]), l.pinchIn && (s = l.pinchIn.call(E, e, S || null, x || 0, w || 0, P, k, $));
                        break;
                    case pe:
                        E.trigger("pinchOut", [S || null, x || 0, w || 0, P, k, $]), l.pinchOut && (s = l.pinchOut.call(E, e, S || null, x || 0, w || 0, P, k, $))
                }
            }
            return i == ye ? t !== Ae && t !== Ee || (clearTimeout(L), clearTimeout(j), X() && !J() ? (I = p(), L = setTimeout(re.proxy(function() {
                I = null, E.trigger("tap", [e.target]), l.tap && (s = l.tap.call(E, e, e.target))
            }, this), l.doubleTapThreshold)) : (I = null, E.trigger("tap", [e.target]), l.tap && (s = l.tap.call(E, e, e.target)))) : i == be ? t !== Ae && t !== Ee || (clearTimeout(L), clearTimeout(j), I = null, E.trigger("doubletap", [e.target]), l.doubleTap && (s = l.doubleTap.call(E, e, e.target))) : i != we || t !== Ae && t !== Ee || (clearTimeout(L), I = null, E.trigger("longtap", [e.target]), l.longTap && (s = l.longTap.call(E, e, e.target))), s
        }

        function R() {
            var e = !0;
            return e = null !== l.threshold ? v >= l.threshold : e
        }

        function B() {
            var e = !1;
            return e = null !== l.cancelThreshold && null !== y ? Z(y) - v >= l.cancelThreshold : e
        }

        function U() {
            return !(l.maxTimeThreshold && w >= l.maxTimeThreshold)
        }

        function V() {
            var e = W(),
                t = Y(),
                i = null === l.pinchThreshold || x >= l.pinchThreshold;
            return e && t && i
        }

        function c() {
            return l.pinchStatus || l.pinchIn || l.pinchOut
        }

        function H() {
            var e = U(),
                t = R(),
                i = W(),
                s = Y();
            return !B() && s && i && t && e
        }

        function z() {
            return l.swipe || l.swipeStatus || l.swipeLeft || l.swipeRight || l.swipeUp || l.swipeDown
        }

        function W() {
            return P === l.fingers || l.fingers === ke || !Pe
        }

        function Y() {
            return 0 !== $[0].end.x
        }

        function G() {
            return l.tap
        }

        function X() {
            return !!l.doubleTap
        }

        function J() {
            var e;
            return null != I && (e = p(), X()) && e - I <= l.doubleTapThreshold
        }

        function K() {
            oe = D = 0
        }

        function u() {
            var e = !1;
            return e = D && p() - D <= l.fingerReleaseThreshold ? !0 : e
        }

        function o(e) {
            E && (!0 === e ? (E.bind(se, t), E.bind(ne, i), m && E.bind(m, O)) : (E.unbind(se, t, !1), E.unbind(ne, i, !1), m && E.unbind(m, O, !1)), E.data(De + "_intouch", !0 === e))
        }

        function h(e, t) {
            var i = {
                start: {
                    x: 0,
                    y: 0
                },
                last: {
                    x: 0,
                    y: 0
                },
                end: {
                    x: 0,
                    y: 0
                }
            };
            return i.start.x = i.last.x = i.end.x = t.pageX || t.clientX, i.start.y = i.last.y = i.end.y = t.pageY || t.clientY, $[e] = i
        }

        function Q(e) {
            var t = void 0 !== e.identifier ? e.identifier : 0,
                i = $[t] || null;
            return (i = null === i ? h(t, e) : i).last.x = i.end.x, i.last.y = i.end.y, i.end.x = e.pageX || e.clientX, i.end.y = e.pageY || e.clientY, i
        }

        function Z(e) {
            if (T[e]) return T[e].distance
        }

        function r(e) {
            return {
                direction: e,
                distance: 0
            }
        }

        function ee() {
            return M - ae
        }

        function te(e, t) {
            var i = Math.abs(e.x - t.x),
                e = Math.abs(e.y - t.y);
            return Math.round(Math.sqrt(i * i + e * e))
        }

        function ie(e, t) {
            var i, s;
            return i = t, (s = e).x == i.x && s.y == i.y ? fe : (s = t, t = (i = e).x - s.x, s = s.y - e.y, i = Math.atan2(s, t), s = (s = Math.round(180 * i / Math.PI)) < 0 ? 360 - Math.abs(s) : s, s <= 45 && 0 <= s || s <= 360 && 315 <= s ? le : 135 <= s && s <= 225 ? de : 45 < s && s < 135 ? ue : ce)
        }

        function p() {
            return (new Date).getTime()
        }
        var l = re.extend({}, l),
            s = Pe || Me || !l.fallbackToMouseEvents,
            f = s ? Me ? $e ? "MSPointerDown" : "pointerdown" : "touchstart" : "mousedown",
            se = s ? Me ? $e ? "MSPointerMove" : "pointermove" : "touchmove" : "mousemove",
            ne = s ? Me ? $e ? "MSPointerUp" : "pointerup" : "touchend" : "mouseup",
            m = !s || Me ? "mouseleave" : null,
            g = Me ? $e ? "MSPointerCancel" : "pointercancel" : "touchcancel",
            v = 0,
            y = null,
            b = null,
            w = 0,
            _ = 0,
            C = 0,
            k = 1,
            x = 0,
            S = 0,
            T = null,
            E = re(F),
            A = "start",
            P = 0,
            $ = {},
            ae = 0,
            M = 0,
            D = 0,
            oe = 0,
            I = 0,
            L = null,
            j = null;
        try {
            E.bind(f, e), E.bind(g, n)
        } catch (e) {
            re.error("events not supported " + f + "," + g + " on jQuery.swipe")
        }
        this.enable = function() {
            return this.disable(), E.bind(f, e), E.bind(g, n), E
        }, this.disable = function() {
            return q(), E
        }, this.destroy = function() {
            q(), E.data(De, null), E = null
        }, this.option = function(e, t) {
            if ("object" == typeof e) l = re.extend(l, e);
            else if (void 0 !== l[e]) {
                if (void 0 === t) return l[e];
                l[e] = t
            } else {
                if (!e) return l;
                re.error("Option " + e + " does not exist on jQuery.swipe.options")
            }
            return null
        }
    }
    var le = "left",
        de = "right",
        ce = "up",
        ue = "down",
        he = "in",
        pe = "out",
        fe = "none",
        me = "auto",
        ge = "swipe",
        ve = "pinch",
        ye = "tap",
        be = "doubletap",
        we = "longtap",
        _e = "horizontal",
        Ce = "vertical",
        ke = "all",
        xe = 10,
        Se = "start",
        Te = "move",
        Ee = "end",
        Ae = "cancel",
        Pe = "ontouchstart" in window,
        $e = window.navigator.msPointerEnabled && !window.navigator.pointerEnabled && !Pe,
        Me = (window.navigator.pointerEnabled || window.navigator.msPointerEnabled) && !Pe,
        De = "TouchSwipe";
    re.fn.swipe = function(e) {
        var t = re(this),
            i = t.data(De);
        if (i && "string" == typeof e) {
            if (i[e]) return i[e].apply(i, Array.prototype.slice.call(arguments, 1));
            re.error("Method " + e + " does not exist on jQuery.swipe")
        } else if (i && "object" == typeof e) i.option.apply(i, arguments);
        else if (!(i || "object" != typeof e && e)) return function(i) {
            return !i || void 0 !== i.allowPageScroll || void 0 === i.swipe && void 0 === i.swipeStatus || (i.allowPageScroll = fe), void 0 !== i.click && void 0 === i.tap && (i.tap = i.click), i = i || {}, i = re.extend({}, re.fn.swipe.defaults, i), this.each(function() {
                var e, t = re(this);
                t.data(De) || (e = new s(this, i), t.data(De, e))
            })
        }.apply(this, arguments);
        return t
    }, re.fn.swipe.version = "1.6.18", re.fn.swipe.defaults = {
        fingers: 1,
        threshold: 75,
        cancelThreshold: null,
        pinchThreshold: 20,
        maxTimeThreshold: null,
        fingerReleaseThreshold: 250,
        longTapThreshold: 500,
        doubleTapThreshold: 200,
        swipe: null,
        swipeLeft: null,
        swipeRight: null,
        swipeUp: null,
        swipeDown: null,
        swipeStatus: null,
        pinchIn: null,
        pinchOut: null,
        pinchStatus: null,
        click: null,
        tap: null,
        doubleTap: null,
        longTap: null,
        hold: null,
        triggerOnTouchEnd: !0,
        triggerOnTouchLeave: !1,
        allowPageScroll: "auto",
        fallbackToMouseEvents: !0,
        excludedElements: ".noSwipe",
        preventDefaultEvents: !0
    }, re.fn.swipe.phases = {
        PHASE_START: Se,
        PHASE_MOVE: Te,
        PHASE_END: Ee,
        PHASE_CANCEL: Ae
    }, re.fn.swipe.directions = {
        LEFT: le,
        RIGHT: de,
        UP: ce,
        DOWN: ue,
        IN: he,
        OUT: pe
    }, re.fn.swipe.pageScroll = {
        NONE: fe,
        HORIZONTAL: _e,
        VERTICAL: Ce,
        AUTO: me
    }, re.fn.swipe.fingers = {
        ONE: 1,
        TWO: 2,
        THREE: 3,
        FOUR: 4,
        FIVE: 5,
        ALL: ke
    }
}), ! function(o) {
    function t(e) {
        var t = e || window.event,
            i = [].slice.call(arguments, 1),
            s = 0,
            n = 0,
            a = 0;
        return (e = o.event.fix(t)).type = "mousewheel", t.wheelDelta && (s = t.wheelDelta / 120), a = s = t.detail ? -t.detail / 3 : s, void 0 !== t.axis && t.axis === t.HORIZONTAL_AXIS && (a = 0, n = -1 * s), void 0 !== t.wheelDeltaY && (a = t.wheelDeltaY / 120), void 0 !== t.wheelDeltaX && (n = -1 * t.wheelDeltaX / 120), i.unshift(e, s, n, a), (o.event.dispatch || o.event.handle).apply(this, i)
    }
    var i = ["DOMMouseScroll", "mousewheel"];
    if (o.event.fixHooks)
        for (var e = i.length; e;) o.event.fixHooks[i[--e]] = o.event.mouseHooks;
    o.event.special.mousewheel = {
        setup: function() {
            if (this.addEventListener)
                for (var e = i.length; e;) this.addEventListener(i[--e], t, !1);
            else this.onmousewheel = t
        },
        teardown: function() {
            if (this.removeEventListener)
                for (var e = i.length; e;) this.removeEventListener(i[--e], t, !1);
            else this.onmousewheel = null
        }
    }, o.fn.extend({
        mousewheel: function(e) {
            return e ? this.bind("mousewheel", e) : this.trigger("mousewheel")
        },
        unmousewheel: function(e) {
            return this.unbind("mousewheel", e)
        }
    })
}(jQuery), ! function(d, n, o) {
    var i = {
            drag: !0,
            drop: !0,
            exclude: "",
            nested: !0,
            vertical: !0
        },
        a = {
            afterMove: function(e, t, i) {},
            containerPath: "",
            containerSelector: "ol, ul",
            distance: 0,
            delay: 0,
            handle: "",
            itemPath: "",
            itemSelector: "li",
            isValidTarget: function(e, t) {
                return !0
            },
            onCancel: function(e, t, i, s) {},
            onDrag: function(e, t, i, s) {
                e.css(t)
            },
            onDragStart: function(e, t, i, s) {
                e.css({
                    height: e.height(),
                    width: e.width()
                }), e.addClass("dragged"), d("body").addClass("dragging")
            },
            onDrop: function(e, t, i, s) {
                e.removeClass("dragged").removeAttr("style"), d("body").removeClass("dragging")
            },
            onMousedown: function(e, t, i) {
                if (!i.target.nodeName.match(/^(input|select)$/i)) return i.preventDefault(), !0
            },
            placeholder: '<li class="placeholder"/>',
            pullPlaceholder: !0,
            serialize: function(e, t, i) {
                e = d.extend({}, e.data());
                return i ? [t] : (t[0] && (e.children = t), delete e.subContainers, delete e.sortable, e)
            },
            tolerance: 0
        },
        t = {},
        r = 0,
        c = {
            left: 0,
            top: 0,
            bottom: 0,
            right: 0
        },
        l = {
            start: "touchstart.sortable mousedown.sortable",
            drop: "touchend.sortable touchcancel.sortable mouseup.sortable",
            drag: "touchmove.sortable mousemove.sortable",
            scroll: "scroll.sortable"
        },
        u = "subContainers";

    function h(e, t) {
        return Math.max(0, e[0] - t[0], t[0] - e[1]) + Math.max(0, e[2] - t[1], t[1] - e[3])
    }

    function e(e, t, i, s) {
        var n = e.length,
            a = s ? "offset" : "position";
        for (i = i || 0; n--;) {
            var o = e[n].el || d(e[n]),
                r = o[a]();
            r.left += parseInt(o.css("margin-left"), 10), r.top += parseInt(o.css("margin-top"), 10), t[n] = [r.left - i, r.left + o.outerWidth() + i, r.top - i, r.top + o.outerHeight() + i]
        }
    }

    function p(e, t) {
        t = t.offset();
        return {
            left: e.left - t.left,
            top: e.top - t.top
        }
    }

    function f(e, t, i) {
        t = [t.left, t.top], i = i && [i.left, i.top];
        for (var s, n = e.length, a = []; n--;) s = e[n], a[n] = [n, h(s, t), i && h(s, i)];
        return a = a.sort(function(e, t) {
            return t[1] - e[1] || t[2] - e[2] || t[0] - e[0]
        })
    }

    function s(e) {
        this.options = d.extend({}, a, e), this.containers = [], this.options.rootGroup || (this.scrollProxy = d.proxy(this.scroll, this), this.dragProxy = d.proxy(this.drag, this), this.dropProxy = d.proxy(this.drop, this), this.placeholder = d(this.options.placeholder), e.isValidTarget) || (this.options.isValidTarget = o)
    }

    function m(e, t) {
        this.el = e, this.options = d.extend({}, i, t), this.group = s.get(this.options), this.rootGroup = this.options.rootGroup || this.group, this.handle = this.rootGroup.options.handle || this.rootGroup.options.itemSelector;
        e = this.rootGroup.options.itemPath;
        this.target = e ? this.el.find(e) : this.el, this.target.on(l.start, this.handle, d.proxy(this.dragInit, this)), this.options.drop && this.group.containers.push(this)
    }
    s.get = function(e) {
        return t[e.group] || (e.group === o && (e.group = r++), t[e.group] = new s(e)), t[e.group]
    }, s.prototype = {
        dragInit: function(e, t) {
            this.$document = d(t.el[0].ownerDocument), this.item = d(e.target).closest(this.options.itemSelector), this.itemContainer = t, !this.item.is(this.options.exclude) && this.options.onMousedown(this.item, a.onMousedown, e) && (this.setPointer(e), this.toggleListeners("on"), this.setupDelayTimer(), this.dragInitDone = !0)
        },
        drag: function(e) {
            if (!this.dragging) {
                if (!this.distanceMet(e) || !this.delayMet) return;
                this.options.onDragStart(this.item, this.itemContainer, a.onDragStart, e), this.item.before(this.placeholder), this.dragging = !0
            }
            this.setPointer(e), this.options.onDrag(this.item, p(this.pointer, this.item.offsetParent()), a.onDrag, e);
            var t = e.pageX || e.originalEvent.pageX,
                e = e.pageY || e.originalEvent.pageY,
                i = this.sameResultBox,
                s = this.options.tolerance;
            (!i || i.top - s > e || i.bottom + s < e || i.left - s > t || i.right + s < t) && !this.searchValidTarget() && this.placeholder.detach()
        },
        drop: function(e) {
            this.toggleListeners("off"), this.dragInitDone = !1, this.dragging && (this.placeholder.closest("html")[0] ? this.placeholder.before(this.item).detach() : this.options.onCancel(this.item, this.itemContainer, a.onCancel, e), this.options.onDrop(this.item, this.getContainer(this.item), a.onDrop, e), this.clearDimensions(), this.clearOffsetParent(), this.lastAppendedItem = this.sameResultBox = o, this.dragging = !1)
        },
        searchValidTarget: function(e, t) {
            e || (e = this.relativePointer || this.pointer, t = this.lastRelativePointer || this.lastPointer);
            for (var i = f(this.getContainerDimensions(), e, t), s = i.length; s--;) {
                var n = i[s][0];
                if (!i[s][1] || this.options.pullPlaceholder) {
                    var a, n = this.containers[n];
                    if (!n.disabled)
                        if (this.$getOffsetParent() || (e = p(e, a = n.getItemOffsetParent()), t = p(t, a)), n.searchValidTarget(e, t)) return !0
                }
            }
            this.sameResultBox && (this.sameResultBox = o)
        },
        movePlaceholder: function(e, t, i, s) {
            var n = this.lastAppendedItem;
            !s && n && n[0] === t[0] || (t[i](this.placeholder), this.lastAppendedItem = t, this.sameResultBox = s, this.options.afterMove(this.placeholder, e, t))
        },
        getContainerDimensions: function() {
            return this.containerDimensions || e(this.containers, this.containerDimensions = [], this.options.tolerance, !this.$getOffsetParent()), this.containerDimensions
        },
        getContainer: function(e) {
            return e.closest(this.options.containerSelector).data(n)
        },
        $getOffsetParent: function() {
            if (this.offsetParent === o) {
                var e = this.containers.length - 1,
                    t = this.containers[e].getItemOffsetParent();
                if (!this.options.rootGroup)
                    for (; e--;)
                        if (t[0] != this.containers[e].getItemOffsetParent()[0]) {
                            t = !1;
                            break
                        } this.offsetParent = t
            }
            return this.offsetParent
        },
        setPointer: function(e) {
            var t, e = this.getPointer(e);
            this.$getOffsetParent() && (t = p(e, this.$getOffsetParent()), this.lastRelativePointer = this.relativePointer, this.relativePointer = t), this.lastPointer = this.pointer, this.pointer = e
        },
        distanceMet: function(e) {
            e = this.getPointer(e);
            return Math.max(Math.abs(this.pointer.left - e.left), Math.abs(this.pointer.top - e.top)) >= this.options.distance
        },
        getPointer: function(e) {
            return {
                left: e.pageX || e.originalEvent.pageX,
                top: e.pageY || e.originalEvent.pageY
            }
        },
        setupDelayTimer: function() {
            var e = this;
            this.delayMet = !this.options.delay, this.delayMet || (clearTimeout(this._mouseDelayTimer), this._mouseDelayTimer = setTimeout(function() {
                e.delayMet = !0
            }, this.options.delay))
        },
        scroll: function(e) {
            this.clearDimensions(), this.clearOffsetParent()
        },
        toggleListeners: function(i) {
            var s = this;
            d.each(["drag", "drop", "scroll"], function(e, t) {
                s.$document[i](l[t], s[t + "Proxy"])
            })
        },
        clearOffsetParent: function() {
            this.offsetParent = o
        },
        clearDimensions: function() {
            this.traverse(function(e) {
                e._clearDimensions()
            })
        },
        traverse: function(e) {
            e(this);
            for (var t = this.containers.length; t--;) this.containers[t].traverse(e)
        },
        _clearDimensions: function() {
            this.containerDimensions = o
        },
        _destroy: function() {
            t[this.options.group] = o
        }
    };
    var g = {
        enable: function() {
            this.traverse(function(e) {
                e.disabled = !1
            })
        },
        disable: function() {
            this.traverse(function(e) {
                e.disabled = !0
            })
        },
        serialize: function() {
            return this._serialize(this.el, !0)
        },
        refresh: function() {
            this.traverse(function(e) {
                e._clearDimensions()
            })
        },
        destroy: function() {
            this.traverse(function(e) {
                e._destroy()
            })
        }
    };
    d.extend(m.prototype = {
        dragInit: function(e) {
            var t = this.rootGroup;
            !this.disabled && !t.dragInitDone && this.options.drag && this.isValidDrag(e) && t.dragInit(e, this)
        },
        isValidDrag: function(e) {
            return 1 == e.which || "touchstart" == e.type && 1 == e.originalEvent.touches.length
        },
        searchValidTarget: function(e, t) {
            var i = f(this.getItemDimensions(), e, t),
                s = i.length,
                n = this.rootGroup,
                a = !n.options.isValidTarget || n.options.isValidTarget(n.item, this);
            if (!s && a) return n.movePlaceholder(this, this.target, "append"), !0;
            for (; s--;) {
                var o = i[s][0],
                    r = i[s][1];
                if (!r && this.hasChildGroup(o)) {
                    if (this.getContainerGroup(o).searchValidTarget(e, t)) return !0
                } else if (a) return this.movePlaceholder(o, e), !0
            }
        },
        movePlaceholder: function(e, t) {
            var i, s = d(this.items[e]),
                n = this.itemDimensions[e],
                a = "after",
                o = s.outerWidth(),
                r = s.outerHeight(),
                l = s.offset(),
                l = {
                    left: l.left,
                    right: l.left + o,
                    top: l.top,
                    bottom: l.top + r
                };
            this.options.vertical ? (i = (n[2] + n[3]) / 2, t.top <= i ? (a = "before", l.bottom -= r / 2) : l.top += r / 2) : (i = (n[0] + n[1]) / 2, t.left <= i ? (a = "before", l.right -= o / 2) : l.left += o / 2), this.hasChildGroup(e) && (l = c), this.rootGroup.movePlaceholder(this, s, a, l)
        },
        getItemDimensions: function() {
            return this.itemDimensions || (this.items = this.$getChildren(this.el, "item").filter(":not(.placeholder, .dragged)").get(), e(this.items, this.itemDimensions = [], this.options.tolerance)), this.itemDimensions
        },
        getItemOffsetParent: function() {
            var e = this.el,
                e = "relative" === e.css("position") || "absolute" === e.css("position") || "fixed" === e.css("position") ? e : e.offsetParent();
            return e
        },
        hasChildGroup: function(e) {
            return this.options.nested && this.getContainerGroup(e)
        },
        getContainerGroup: function(e) {
            var t, i, s = d.data(this.items[e], u);
            return s === o && (s = !1, (t = this.$getChildren(this.items[e], "container"))[0] && (i = d.extend({}, this.options, {
                rootGroup: this.rootGroup,
                group: r++
            }), s = t[n](i).data(n).group), d.data(this.items[e], u, s)), s
        },
        $getChildren: function(e, t) {
            var i = this.rootGroup.options,
                s = i[t + "Path"],
                i = i[t + "Selector"];
            return e = d(e), (e = s ? e.find(s) : e).children(i)
        },
        _serialize: function(e, t) {
            var i = this,
                s = this.$getChildren(e, t ? "item" : "container").not(this.options.exclude).map(function() {
                    return i._serialize(d(this), !t)
                }).get();
            return this.rootGroup.options.serialize(e, s, t)
        },
        traverse: function(i) {
            d.each(this.items || [], function(e) {
                var t = d.data(this, u);
                t && t.traverse(i)
            }), i(this)
        },
        _clearDimensions: function() {
            this.itemDimensions = o
        },
        _destroy: function() {
            var t = this;
            this.target.off(l.start, this.handle), this.el.removeData(n), this.options.drop && (this.group.containers = d.grep(this.group.containers, function(e) {
                return e != t
            })), d.each(this.items || [], function() {
                d.removeData(this, u)
            })
        }
    }, g), d.fn[n] = function(i) {
        var s = Array.prototype.slice.call(arguments, 1);
        return this.map(function() {
            var e = d(this),
                t = e.data(n);
            return t && g[i] ? g[i].apply(t, s) || this : (t || i !== o && "object" != typeof i || e.data(n, new m(e, i)), this)
        })
    }
}(jQuery, (window, "sortable")), jQuery.easing.jswing = jQuery.easing.swing, jQuery.extend(jQuery.easing, {
        def: "easeOutQuad",
        swing: function(e, t, i, s, n) {
            return jQuery.easing[jQuery.easing.def](e, t, i, s, n)
        },
        easeInQuad: function(e, t, i, s, n) {
            return s * (t /= n) * t + i
        },
        easeOutQuad: function(e, t, i, s, n) {
            return -s * (t /= n) * (t - 2) + i
        },
        easeInOutQuad: function(e, t, i, s, n) {
            return (t /= n / 2) < 1 ? s / 2 * t * t + i : -s / 2 * (--t * (t - 2) - 1) + i
        },
        easeInCubic: function(e, t, i, s, n) {
            return s * (t /= n) * t * t + i
        },
        easeOutCubic: function(e, t, i, s, n) {
            return s * ((t = t / n - 1) * t * t + 1) + i
        },
        easeInOutCubic: function(e, t, i, s, n) {
            return (t /= n / 2) < 1 ? s / 2 * t * t * t + i : s / 2 * ((t -= 2) * t * t + 2) + i
        },
        easeInQuart: function(e, t, i, s, n) {
            return s * (t /= n) * t * t * t + i
        },
        easeOutQuart: function(e, t, i, s, n) {
            return -s * ((t = t / n - 1) * t * t * t - 1) + i
        },
        easeInOutQuart: function(e, t, i, s, n) {
            return (t /= n / 2) < 1 ? s / 2 * t * t * t * t + i : -s / 2 * ((t -= 2) * t * t * t - 2) + i
        },
        easeInQuint: function(e, t, i, s, n) {
            return s * (t /= n) * t * t * t * t + i
        },
        easeOutQuint: function(e, t, i, s, n) {
            return s * ((t = t / n - 1) * t * t * t * t + 1) + i
        },
        easeInOutQuint: function(e, t, i, s, n) {
            return (t /= n / 2) < 1 ? s / 2 * t * t * t * t * t + i : s / 2 * ((t -= 2) * t * t * t * t + 2) + i
        },
        easeInSine: function(e, t, i, s, n) {
            return -s * Math.cos(t / n * (Math.PI / 2)) + s + i
        },
        easeOutSine: function(e, t, i, s, n) {
            return s * Math.sin(t / n * (Math.PI / 2)) + i
        },
        easeInOutSine: function(e, t, i, s, n) {
            return -s / 2 * (Math.cos(Math.PI * t / n) - 1) + i
        },
        easeInExpo: function(e, t, i, s, n) {
            return 0 == t ? i : s * Math.pow(2, 10 * (t / n - 1)) + i
        },
        easeOutExpo: function(e, t, i, s, n) {
            return t == n ? i + s : s * (1 - Math.pow(2, -10 * t / n)) + i
        },
        easeInOutExpo: function(e, t, i, s, n) {
            return 0 == t ? i : t == n ? i + s : (t /= n / 2) < 1 ? s / 2 * Math.pow(2, 10 * (t - 1)) + i : s / 2 * (2 - Math.pow(2, -10 * --t)) + i
        },
        easeInCirc: function(e, t, i, s, n) {
            return -s * (Math.sqrt(1 - (t /= n) * t) - 1) + i
        },
        easeOutCirc: function(e, t, i, s, n) {
            return s * Math.sqrt(1 - (t = t / n - 1) * t) + i
        },
        easeInOutCirc: function(e, t, i, s, n) {
            return (t /= n / 2) < 1 ? -s / 2 * (Math.sqrt(1 - t * t) - 1) + i : s / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + i
        },
        easeInElastic: function(e, t, i, s, n) {
            var a = 1.70158,
                o = 0,
                r = s;
            return 0 == t ? i : 1 == (t /= n) ? i + s : (o = o || .3 * n, a = r < Math.abs(s) ? (r = s, o / 4) : o / (2 * Math.PI) * Math.asin(s / r), -(r * Math.pow(2, 10 * --t) * Math.sin((t * n - a) * (2 * Math.PI) / o)) + i)
        },
        easeOutElastic: function(e, t, i, s, n) {
            var a = 1.70158,
                o = 0,
                r = s;
            return 0 == t ? i : 1 == (t /= n) ? i + s : (o = o || .3 * n, a = r < Math.abs(s) ? (r = s, o / 4) : o / (2 * Math.PI) * Math.asin(s / r), r * Math.pow(2, -10 * t) * Math.sin((t * n - a) * (2 * Math.PI) / o) + s + i)
        },
        easeInOutElastic: function(e, t, i, s, n) {
            var a = 1.70158,
                o = 0,
                r = s;
            return 0 == t ? i : 2 == (t /= n / 2) ? i + s : (o = o || n * (.3 * 1.5), a = r < Math.abs(s) ? (r = s, o / 4) : o / (2 * Math.PI) * Math.asin(s / r), t < 1 ? r * Math.pow(2, 10 * --t) * Math.sin((t * n - a) * (2 * Math.PI) / o) * -.5 + i : r * Math.pow(2, -10 * --t) * Math.sin((t * n - a) * (2 * Math.PI) / o) * .5 + s + i)
        },
        easeInBack: function(e, t, i, s, n, a) {
            return s * (t /= n) * t * (((a = null == a ? 1.70158 : a) + 1) * t - a) + i
        },
        easeOutBack: function(e, t, i, s, n, a) {
            return s * ((t = t / n - 1) * t * (((a = null == a ? 1.70158 : a) + 1) * t + a) + 1) + i
        },
        easeInOutBack: function(e, t, i, s, n, a) {
            return null == a && (a = 1.70158), (t /= n / 2) < 1 ? s / 2 * (t * t * ((1 + (a *= 1.525)) * t - a)) + i : s / 2 * ((t -= 2) * t * ((1 + (a *= 1.525)) * t + a) + 2) + i
        },
        easeInBounce: function(e, t, i, s, n) {
            return s - jQuery.easing.easeOutBounce(e, n - t, 0, s, n) + i
        },
        easeOutBounce: function(e, t, i, s, n) {
            return (t /= n) < 1 / 2.75 ? s * (7.5625 * t * t) + i : t < 2 / 2.75 ? s * (7.5625 * (t -= 1.5 / 2.75) * t + .75) + i : t < 2.5 / 2.75 ? s * (7.5625 * (t -= 2.25 / 2.75) * t + .9375) + i : s * (7.5625 * (t -= 2.625 / 2.75) * t + .984375) + i
        },
        easeInOutBounce: function(e, t, i, s, n) {
            return t < n / 2 ? .5 * jQuery.easing.easeInBounce(e, 2 * t, 0, s, n) + i : .5 * jQuery.easing.easeOutBounce(e, 2 * t - n, 0, s, n) + .5 * s + i
        }
    }), ! function(o) {
        var i = 0,
            t = "iframe",
            s = "popup",
            e = "loose",
            n = "html5",
            a = {
                mode: t,
                standard: n,
                popHt: 500,
                popWd: 400,
                popX: 200,
                popY: 200,
                popTitle: "",
                popClose: !1,
                extraCss: "",
                extraHead: "",
                retainAttr: ["id", "class", "style"]
            },
            r = {},
            l = (o.fn.printArea = function(e) {
                o.extend(r, a, e), i++;
                var e = "printArea_",
                    e = (o("[id^=" + e + "]").remove(), r.id = e + i, o(this)),
                    t = l.getPrintWindow();
                l.write(t.doc, e), setTimeout(function() {
                    l.print(t)
                }, 1e3)
            }, {
                print: function(e) {
                    var t = e.win;
                    o(e.doc).ready(function() {
                        t.focus(), t.print(), r.mode == s && r.popClose && setTimeout(function() {
                            t.close()
                        }, 2e3)
                    })
                },
                write: function(e, t) {
                    e.open(), e.write(l.docType() + "<html>" + l.getHead() + l.getBody(t) + "</html>"), e.close()
                },
                docType: function() {
                    return r.mode == t ? "" : r.standard == n ? "<!DOCTYPE html>" : '<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01' + (r.standard == e ? " Transitional" : "") + '//EN" "http://www.w3.org/TR/html4/' + (r.standard == e ? "loose" : "strict") + '.dtd">'
                },
                getHead: function() {
                    var t = "",
                        i = "";
                    return r.extraHead && r.extraHead.replace(/([^,]+)/g, function(e) {
                        t += e
                    }), o(document).find("link").filter(function() {
                        var e = o(this).attr("rel");
                        return "undefined" === o.type(e) == 0 && "stylesheet" == e.toLowerCase()
                    }).filter(function() {
                        var e = o(this).attr("media");
                        return "undefined" === o.type(e) || "" == e || "print" == e.toLowerCase() || "all" == e.toLowerCase()
                    }).each(function() {
                        i += '<link type="text/css" rel="stylesheet" href="' + o(this).attr("href") + '" >'
                    }), r.extraCss && r.extraCss.replace(/([^,\s]+)/g, function(e) {
                        i += '<link type="text/css" rel="stylesheet" href="' + e + '">'
                    }), "<head><title>" + r.popTitle + "</title>" + t + i + "</head>"
                },
                getBody: function(e) {
                    var n = "",
                        a = r.retainAttr;
                    return e.each(function() {
                        for (var e = l.getFormData(o(this)), t = "", i = 0; i < a.length; i++) {
                            var s = o(e).attr(a[i]);
                            s && (t += (0 < t.length ? " " : "") + a[i] + "='" + s + "'")
                        }
                        n += "<div " + t + ">" + o(e).html() + "</div>"
                    }), "<body>" + n + "</body>"
                },
                getFormData: function(e) {
                    var t = e.clone(),
                        s = o("input,select,textarea", t);
                    return o("input,select,textarea", e).each(function(e) {
                        var t = o(this).attr("type"),
                            i = ("undefined" === o.type(t) && (t = o(this).is("select") ? "select" : o(this).is("textarea") ? "textarea" : ""), s.eq(e));
                        "radio" == t || "checkbox" == t ? i.attr("checked", o(this).is(":checked")) : "text" == t ? i.attr("value", o(this).val()) : "select" == t ? o(this).find("option").each(function(e) {
                            o(this).is(":selected") && o("option", i).eq(e).attr("selected", !0)
                        }) : "textarea" == t && i.text(o(this).val())
                    }), t
                },
                getPrintWindow: function() {
                    switch (r.mode) {
                        case t:
                            var e = new l.Iframe;
                            return {
                                win: e.contentWindow || e, doc: e.doc
                            };
                        case s:
                            e = new l.Popup;
                            return {
                                win: e, doc: e.doc
                            }
                    }
                },
                Iframe: function() {
                    var e, t = r.id;
                    try {
                        e = document.createElement("iframe"), document.body.appendChild(e), o(e).attr({
                            style: "border:0;position:absolute;width:0px;height:0px;right:0px;top:0px;",
                            id: t,
                            src: "#" + (new Date).getTime()
                        }), e.doc = null, e.doc = e.contentDocument || (e.contentWindow || e).document
                    } catch (e) {
                        throw e + ". iframes may not be supported in this browser."
                    }
                    if (null == e.doc) throw "Cannot find document.";
                    return e
                },
                Popup: function() {
                    var e = "location=yes,statusbar=no,directories=no,menubar=no,titlebar=no,toolbar=no,dependent=no",
                        e = (e = (e += ",width=" + r.popWd + ",height=" + r.popHt) + (",resizable=yes,screenX=" + r.popX + ",screenY=" + r.popY + ",personalbar=no,scrollbars=yes"), window.open("", "_blank", e));
                    return e.doc = e.document, e
                }
            })
    }(jQuery), ! function() {
        function e() {
            this.init()
        }
        e.prototype = {
            externalCdn: "https://cdn5.manyvids.com",
            externalCdnV2: "https://ods.manyvids.com",
            internalCdn: "https://cdn3.manyvids.com",
            profilePicBasePath: "https://cdn5.manyvids.com/php_uploads/profile/",
            canUseManymotes: !1,
            isLoggedIn: !1,
            isMobile: !1,
            isShowExplicitContent: !1,
            explicitContentCookieName: "showExplicitContent",
            lang: "en",
            country: "US",
            init: function() {
                this.userStatus = $("html").data("status") >> 0, this.tsgPopupActive = 0 < $(".tsg2-notificationPopup").length, this.announcement = $("html").data("mv-announcement"), this.announcementActive = !(!this.announcement || this.tsgPopupActive), this.canUseManymotes = this.userStatus >> 1, this.isLoggedIn = !!this.userStatus, this.isMobile = $("html").data("mobile") >> 0, this.isTablet = $("html").data("tablet") >> 0, this.isProd = 1 === $("html").data("pr"), this.updateExplicitContentFlag(), this.showExplicitContentWarningOnReady(), this.showSelectCountryModalOnReady()
            },
            formatBase: function(e, t, i, s, n, a) {
                return (e = (e = isNaN(e = parseFloat("" + e)) ? 0 : e).toFixed(void 0 !== t ? t : 2).split("."))[0] = e[0].replace(/(\d)(?=(\d{3})+\b)/g, "$1" + s), (n || "") + e.join(i) + (a || "")
            },
            format: function(e, t) {
                t = t || {};
                var i = "",
                    s = "",
                    n = String.fromCharCode(160),
                    a = t.lang || this.lang,
                    o = t.precision >> 0,
                    r = "fr" == a ? n : ",",
                    l = "fr" == a ? "," : ".";
                switch (t.comma && "." != t.comma && (l = t.comma), t.type) {
                    case "currency":
                        i = "fr" == a ? "" : "$", s = "fr" == a ? n + "$" : "";
                        break;
                    case "percentage":
                        s = "fr" == a ? n + "%" : "%"
                }
                return this.formatBase(e, o, l, r, i, s)
            },
            formatInteger: function(e) {
                return this.format(e, {
                    precision: 0
                })
            },
            formatNumber: function(e, t) {
                return this.format(e, {
                    precision: t
                })
            },
            formatMoney: function(e, t) {
                return this.format(e, {
                    precision: t,
                    type: "currency"
                })
            },
            isProd: function() {
                return this.isProd
            },
            formatFileSize: function(e) {
                e >>= 0;
                var t = Math.min(Math.floor(Math.log(e) / Math.log(1024)), 3);
                return (e / Math.pow(1024, t)).toFixed(2) + ["B", "KB", "MB", "GB"][t]
            },
            adaptiveFullDate: function(e) {
                return this.adaptiveDate(e, !0)
            },
            adaptiveShortDate: function(e) {
                return this.adaptiveDate(e)
            },
            adaptiveDate: function(e, t) {
                t = moment.duration(moment.utc(e).diff(moment())).days() ? this.formatDate(e, t) : this.timeSince(e);
                return t
            },
            timeSince: function(e) {
                return moment.duration(moment.utc(e).diff(moment())).humanize(!0)
            },
            formatShortDate: function(e) {
                return this.formatDate(e)
            },
            formatFullDate: function(e) {
                return this.formatDate(e, !0)
            },
            formatDate: function(e, t) {
                t = t ? "HH:mm A, MMM D" : "MMM D";
                return moment.utc(e).format(t)
            },
            getProfilePic: function(e, t, i, s) {
                return i = i || "model", e ? this.profilePicBasePath + t + "/image/thumbs/" + (s ? "thumb" + s + "_" : "") + e : "model" == i ? "/img/default_model.jpg" : "/img/default_user.jpg"
            },
            showSignupModal: function() {
                $("#LoginSignupModal2").modal("show")
            },
            getCookie: function(e) {
                return document.cookie.replace(new RegExp("(?:(?:^|.*;\\s*)" + e + "\\s*\\=\\s*([^;]*).*$)|^.*$"), "$1")
            },
            setCookie: function(e, t) {
                document.cookie = e + "=" + escape(t) + "; path=/ "
            },
            cleanTitleUrl: function(e) {
                return this.makeSortString(e).replace(/\s+/g, "-").replace(/[^A-ZÃƒâ‚¬-ÃƒÂ¿a-zÃƒ -ÃƒÂ¿0-9\-]/g, "").replace(/\-\-/g, "-")
            },
            makeSortString: function(e) {
                for (var t = [{
                        base: "A",
                        letters: /[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g
                    }, {
                        base: "AA",
                        letters: /[\uA732]/g
                    }, {
                        base: "AE",
                        letters: /[\u00C6\u01FC\u01E2]/g
                    }, {
                        base: "AO",
                        letters: /[\uA734]/g
                    }, {
                        base: "AU",
                        letters: /[\uA736]/g
                    }, {
                        base: "AV",
                        letters: /[\uA738\uA73A]/g
                    }, {
                        base: "AY",
                        letters: /[\uA73C]/g
                    }, {
                        base: "B",
                        letters: /[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g
                    }, {
                        base: "C",
                        letters: /[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g
                    }, {
                        base: "D",
                        letters: /[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g
                    }, {
                        base: "DZ",
                        letters: /[\u01F1\u01C4]/g
                    }, {
                        base: "Dz",
                        letters: /[\u01F2\u01C5]/g
                    }, {
                        base: "E",
                        letters: /[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g
                    }, {
                        base: "F",
                        letters: /[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g
                    }, {
                        base: "G",
                        letters: /[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g
                    }, {
                        base: "H",
                        letters: /[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g
                    }, {
                        base: "I",
                        letters: /[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g
                    }, {
                        base: "J",
                        letters: /[\u004A\u24BF\uFF2A\u0134\u0248]/g
                    }, {
                        base: "K",
                        letters: /[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g
                    }, {
                        base: "L",
                        letters: /[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g
                    }, {
                        base: "LJ",
                        letters: /[\u01C7]/g
                    }, {
                        base: "Lj",
                        letters: /[\u01C8]/g
                    }, {
                        base: "M",
                        letters: /[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g
                    }, {
                        base: "N",
                        letters: /[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g
                    }, {
                        base: "NJ",
                        letters: /[\u01CA]/g
                    }, {
                        base: "Nj",
                        letters: /[\u01CB]/g
                    }, {
                        base: "O",
                        letters: /[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g
                    }, {
                        base: "OI",
                        letters: /[\u01A2]/g
                    }, {
                        base: "OO",
                        letters: /[\uA74E]/g
                    }, {
                        base: "OU",
                        letters: /[\u0222]/g
                    }, {
                        base: "P",
                        letters: /[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g
                    }, {
                        base: "Q",
                        letters: /[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g
                    }, {
                        base: "R",
                        letters: /[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g
                    }, {
                        base: "S",
                        letters: /[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g
                    }, {
                        base: "T",
                        letters: /[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g
                    }, {
                        base: "TZ",
                        letters: /[\uA728]/g
                    }, {
                        base: "U",
                        letters: /[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g
                    }, {
                        base: "V",
                        letters: /[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g
                    }, {
                        base: "VY",
                        letters: /[\uA760]/g
                    }, {
                        base: "W",
                        letters: /[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g
                    }, {
                        base: "X",
                        letters: /[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g
                    }, {
                        base: "Y",
                        letters: /[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g
                    }, {
                        base: "Z",
                        letters: /[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g
                    }, {
                        base: "a",
                        letters: /[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g
                    }, {
                        base: "aa",
                        letters: /[\uA733]/g
                    }, {
                        base: "ae",
                        letters: /[\u00E6\u01FD\u01E3]/g
                    }, {
                        base: "ao",
                        letters: /[\uA735]/g
                    }, {
                        base: "au",
                        letters: /[\uA737]/g
                    }, {
                        base: "av",
                        letters: /[\uA739\uA73B]/g
                    }, {
                        base: "ay",
                        letters: /[\uA73D]/g
                    }, {
                        base: "b",
                        letters: /[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g
                    }, {
                        base: "c",
                        letters: /[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g
                    }, {
                        base: "d",
                        letters: /[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g
                    }, {
                        base: "dz",
                        letters: /[\u01F3\u01C6]/g
                    }, {
                        base: "e",
                        letters: /[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g
                    }, {
                        base: "f",
                        letters: /[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g
                    }, {
                        base: "g",
                        letters: /[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g
                    }, {
                        base: "h",
                        letters: /[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g
                    }, {
                        base: "hv",
                        letters: /[\u0195]/g
                    }, {
                        base: "i",
                        letters: /[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g
                    }, {
                        base: "j",
                        letters: /[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g
                    }, {
                        base: "k",
                        letters: /[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g
                    }, {
                        base: "l",
                        letters: /[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g
                    }, {
                        base: "lj",
                        letters: /[\u01C9]/g
                    }, {
                        base: "m",
                        letters: /[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g
                    }, {
                        base: "n",
                        letters: /[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g
                    }, {
                        base: "nj",
                        letters: /[\u01CC]/g
                    }, {
                        base: "o",
                        letters: /[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g
                    }, {
                        base: "oi",
                        letters: /[\u01A3]/g
                    }, {
                        base: "ou",
                        letters: /[\u0223]/g
                    }, {
                        base: "oo",
                        letters: /[\uA74F]/g
                    }, {
                        base: "p",
                        letters: /[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g
                    }, {
                        base: "q",
                        letters: /[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g
                    }, {
                        base: "r",
                        letters: /[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g
                    }, {
                        base: "s",
                        letters: /[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g
                    }, {
                        base: "t",
                        letters: /[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g
                    }, {
                        base: "tz",
                        letters: /[\uA729]/g
                    }, {
                        base: "u",
                        letters: /[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g
                    }, {
                        base: "v",
                        letters: /[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g
                    }, {
                        base: "vy",
                        letters: /[\uA761]/g
                    }, {
                        base: "w",
                        letters: /[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g
                    }, {
                        base: "x",
                        letters: /[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g
                    }, {
                        base: "y",
                        letters: /[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g
                    }, {
                        base: "z",
                        letters: /[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g
                    }], i = 0; i < t.length; i++) e = e.replace(t[i].letters, t[i].base);
                return e
            },
            showExplicitContentWarningOnReady: function() {
                var t = this;
                $(function() {
                    var e = $("#explicitContentWarningPopup");
                    e.length && !t.isShowExplicitContent && (e.find(".js-show-explicit-button").on("click", function() {
                        t.showExplicitContent()
                    }), e.on("shown.bs.modal", function() {
                        e.css("display", "flex")
                    }), e.modal({
                        backdrop: "static",
                        keyboard: !1
                    }).modal("show"))
                })
            },
            updateExplicitContentFlag: function(e) {
                void 0 !== e && this.setCookie(this.explicitContentCookieName, e), this.isShowExplicitContent = !!this.getCookie(this.explicitContentCookieName)
            },
            showExplicitContent: function() {
                var e = $("#explicitContentWarningPopup");
                e.find("input[name=remember]").prop("checked") && this.updateExplicitContentFlag(1), e.modal("hide"), $(".js-video-extreme").remove(), $("[data-video-extreme]").removeAttr("data-video-extreme")
            },
            showSelectCountryModalOnReady: function() {
                $(function() {
                    var e = $("#selectCountryModal");
                    e.length && e.modal("show")
                })
            },
            showZendeskWidget: function(s) {
                if (!window.zEmbed) {
                    var t, i, n, a = [],
                        o = document.createElement("iframe");
                    window.zEmbed = function() {
                        a.push(arguments)
                    }, window.zE = window.zE || window.zEmbed, o.src = "javascript:false", o.title = "", o.role = "presentation", (o.frameElement || o).style.cssText = "display: none", (n = (n = document.getElementsByTagName("script"))[n.length - 1]).parentNode.insertBefore(o, n), n = o.contentWindow.document;
                    try {
                        i = n
                    } catch (e) {
                        t = document.domain, o.src = 'javascript:var d=document.open();d.domain="' + t + '";void(0);', i = n
                    }
                    i.open()._l = function() {
                        var e = this.createElement("script");
                        t && (this.domain = t), e.id = "js-iframe-async", e.src = "https://assets.zendesk.com/embeddable_framework/main.js", this.t = +new Date, this.zendeskHost = "manyvids.zendesk.com", this.zEQueue = a, this.body.appendChild(e)
                    }, i.write('<body onload="document._l();">'), i.close()
                }
                s && zE(function() {
                    var e = s.stage_name,
                        t = s.email,
                        i = s.type;
                    zE.identify({
                        name: e,
                        email: t,
                        tags: i
                    })
                })
            }
        }, window.MV = new e
    }(), ! function() {
        function e() {}
        e.prototype = {
            $element: null,
            $dialog: null,
            $title: null,
            $body: null,
            $footer: null,
            deferred: null,
            defaultButton: {
                cssClass: "btn-primary btn-lg ",
                event: "ok",
                text: "Ok"
            },
            cssClass: {
                show: "-show"
            },
            addListeners: function() {
                $(document.body).on("keyup keypress", $.proxy(this.onKeyup, this)), this.$element.on("click", ".js-close-dialog", $.proxy(this.close, this)).on("click", "*[data-event]", $.proxy(this.onButtonClicked, this))
            },
            removeListeners: function() {
                $(document.body).off("keyup keypress", $.proxy(this.onKeyup, this)), this.$element && this.$element.off("click", ".js-close-dialog", $.proxy(this.close, this)).off("click", "*[data-event]", $.proxy(this.onButtonClicked, this))
            },
            onKeyup: function(e) {
                27 == e.which && this.close("Escape")
            },
            onButtonClicked: function(e) {
                e = $(e.currentTarget).data("event");
                "cancel" == e ? this.deferred.reject(e) : this.deferred.resolve(e), this.close()
            },
            createElement: function(e, t, i, s) {
                var n = "";
                if (i && i.length)
                    for (var a = 0, o = i.length; a < o; a++) {
                        var r = i[a];
                        n += '<button class="btn ' + r.cssClass + '" data-event="' + r.event + '">' + r.text + "</button>"
                    }
                this.$element = $('<div class="' + (s || "mv-dialog-container") + '"><div class="mv-dialog-bg js-close-dialog"></div><div class="mv-dialog js-dialog"><a href="javascript:;" class="modal-close js-close-dialog"><i class="icon medium x-icon"></i></a><div class="mv-dialog-header modal-header"><div class="mv-dialog-title js-dialog-title"></div></div><div class="mv-dialog-body js-dialog-body"></div><div class="mv-dialog-footer js-dialog-footer">' + n + "</div></div></div>"), this.$dialog = $(".js-dialog", this.$element), this.$title = $(".js-dialog-title", this.$element), this.$body = $(".js-dialog-body", this.$element), this.$footer = $(".js-dialog-footer", this.$element), this.$title.html(e), this.$body.html(t), this.addListeners(), $(document.body).append(this.$element);
                var l = this;
                return setTimeout(function() {
                    l.$dialog.addClass(l.cssClass.show)
                }, 30), this.deferred = $.Deferred(), {
                    dialog: this,
                    promise: this.deferred.promise()
                }
            },
            info: function(e, t) {
                return this.alert(e, t)
            },
            alert: function(e, t, i) {
                return this.message(t = t || "Alert", e, [{
                    text: i = i || "Ok",
                    cssClass: "btn-primary btn-lg",
                    event: "ok"
                }])
            },
            confirm: function(e, t, i, s) {
                return this.message(t = t || "Confirm", e, [{
                    text: s = s || "Cancel",
                    cssClass: "btn-secondary btn-lg",
                    event: "cancel"
                }, {
                    text: i = i || "Ok",
                    cssClass: "btn-primary btn-lg",
                    event: "ok"
                }])
            },
            endcontest: function(e, t, i, s) {
                return this.message(t = t || "End Contest?", e, [{
                    text: s = s || "Cancel",
                    cssClass: "btn-secondary btn-lg",
                    event: "cancel"
                }, {
                    text: i = i || "Yes",
                    cssClass: "btn-primary btn-lg",
                    event: "ok"
                }])
            },
            deleteMemberAccount: function(e, t, i, s) {
                return this.message(t = t || "Delete Account?", e, [{
                    text: s = s || "Cancel",
                    cssClass: "btn-secondary btn-lg",
                    event: "cancel"
                }, {
                    text: i = i || "Yes",
                    cssClass: "btn-primary btn-lg",
                    event: "ok"
                }])
            },
            deletemvcode: function(e, t, i, s) {
                return this.message(t = t || "Delete MV Link?", e, [{
                    text: s = s || "Cancel",
                    cssClass: "btn-secondary btn-lg",
                    event: "cancel"
                }, {
                    text: i = i || "Yes",
                    cssClass: "btn-primary btn-lg",
                    event: "ok"
                }])
            },
            changetypemvstars: function(e, t, i, s) {
                return this.message(t = t || "Convert user to...", e, [{
                    text: s = s || "Cancel",
                    cssClass: "btn-secondary btn-lg",
                    event: "cancel"
                }, {
                    text: i = i || "Next>",
                    cssClass: "btn-primary btn-lg js-convert-to-producers",
                    event: "ok"
                }])
            },
            producercontenttype: function(e, t, i, s) {
                return this.message(t = t || "Producer content type: ", e, [{
                    text: s = s || "Cancel",
                    cssClass: "btn-secondary btn-lg",
                    event: "cancel"
                }, {
                    text: i = i || "Next>",
                    cssClass: "btn-primary btn-lg js-convert-to-final-confirm",
                    event: "ok"
                }])
            },
            confirmconversion: function(e, t, i, s) {
                return this.message(t = t || "Confirm", e, [{
                    text: s = s || "Cancel",
                    cssClass: "btn-secondary btn-lg",
                    event: "cancel"
                }, {
                    text: i = i || "Save",
                    cssClass: "btn-primary btn-lg",
                    event: "ok"
                }])
            },
            forget1ClickCardInfo: function(e, t, i, s, n) {
                return this.message(t = t || "Forget my Credit Card?", e, [{
                    text: s = s || "Cancel",
                    cssClass: "btn-kiwi-cancel",
                    event: "cancel"
                }, {
                    text: i = i || "Yes",
                    cssClass: "btn-kiwi-confirm",
                    event: "ok"
                }], n = n || "mv-kiwi-dialog-container")
            },
            message: function(e, t, i, s) {
                return this.close(), this.createElement(e, t, i, s)
            },
            close: function() {
                this.deferred && (this.deferred.reject("close"), this.deferred = null), this.removeListeners(), this.$element && this.$element.remove()
            }
        }, window.MV.mvDialog = new e
    }(), ! function() {
        function e() {}
        e.prototype = {
            $element: null,
            $1cpBtnElement: null,
            $dialog: null,
            $3dsChallenge: null,
            deferred: null,
            cssClass: {
                show: "-show"
            },
            addListeners: function() {
                $(document.body).on("keyup keypress", $.proxy(this.onKeyup, this)), this.$element.on("click", ".js-close-dialog", $.proxy(this.close, this)).on("click", "*[data-event]", $.proxy(this.onButtonClicked, this))
            },
            removeListeners: function() {
                $(document.body).off("keyup keypress", $.proxy(this.onKeyup, this)), this.$element && this.$element.off("click", ".js-close-dialog", $.proxy(this.close, this)).off("click", "*[data-event]", $.proxy(this.onButtonClicked, this))
            },
            onKeyup: function(e) {
                27 == e.which && this.close("Escape")
            },
            onButtonClicked: function(e) {
                "pay" === $(e.currentTarget).data("event") ? "1" === $("#1cp-in-progress-feature-flag").val() && (this.$element.hide(), window.MV.MVDialogPleaseWaitProcessing.createElement(this.$1cpBtnElement)) : this.close()
            },
            createElement: function(e) {
                var t, i;
                this.$element || (this.$1cpBtnElement = e, t = "", "1" === $("#1cp-in-progress-feature-flag").val() && (t = 'data-redirect-after="30"'), t = '<div class="mv-dialog-processing-container"><div class="mv-dialog-processing-bg js-close-dialog"></div><div class="mv-dialog-processing js-dialog"><div class="mv-dialog-processing-header"><a href="javascript:;" class="modal-close js-close-dialog"><i class="icon medium x-icon"></i></a><div class="mv-dialog-processing-title">CONFIRM PURCHASE</div></div><div class="mv-dialog-processing-body js-dialog-body">You\'ll be charged $' + e.attr("amount") + " (" + e.attr("currency") + ')<div class="mv-dialog-processing-cc"><span><img alt="' + e.attr("ccBrand") + '"src="https://cdn3.manyvids.com/site_files/images/cc-brands/' + e.attr("ccBrand").toUpperCase() + '.png"onerror="this.onerror=null; this.src=\'https://cdn3.manyvids.com/site_files/images/cc_unknown.png\';"class="credit-card-brand-icon"></span><span class="mv-dialog-processing-cc-detail">' + e.attr("ccBrand") + " ending " + e.attr("ccLastFourDigits") + " (exp: " + e.attr("ccExpiryDate") + ')</span></div><button class="mv-dialog-processing-btn-cancel" data-event="cancel">CANCEL</button><a id="mvts-checkout-oneclick-rocketgate-btn"data-event="pay"data-event-category="Checkout"data-type="one-click"data-event-action="Credit Card (Checkout)"data-event-label="user"data-show-on-click="1"' + t + 'class="btn-checkout add-cart checkout-cart ignore show-overflow js-form-submit-checkout btn-one-click-payment payment-processing-modal"href="javascript:;"><span class="cart-wrapper cart-big"><i class="cart-icon"></i></span>PAY</a></div></div></div>', this.$element = $(t), this.$dialog = $(".js-dialog", this.$element), this.addListeners(), e.after(this.$element), i = this, setTimeout(function() {
                    i.$dialog.addClass(i.cssClass.show)
                }, 30))
            },
            close: function() {
                this.$3dsChallenge || (this.deferred && (this.deferred.reject("close"), this.deferred = null), this.removeListeners(), this.$element && (this.$element.remove(), this.$element = null))
            }
        }, window.MV.MvDialog1CP = new e
    }(), ! function() {
        function e() {}
        e.prototype = {
            $element: null,
            $dialog: null,
            cssClass: {
                show: "-show"
            },
            addListeners: function() {
                var e = $(".payment-processing-modal[data-event]"),
                    t = e.data("showOnSubmit"),
                    i = e.data("formSelector");
                e.data("showOnClick") && e.on("click", $.proxy(this.showModal.bind(this, e), this)), t && i && $(i).on("submit", $.proxy(this.showModal.bind(this, e), this))
            },
            show: function() {
                this.$dialog.addClass(this.cssClass.show)
            },
            showModal: function(e) {
                var t = e.data("event"),
                    i = e.data("redirectAfter");
                "pay" === t && window.MV.MVDialogPleaseWaitProcessing.createElement(e, i)
            },
            createElement: function(e, t) {
                this.$element || (this.$element = $('<div class="mv-dialog-processing-container"><div class="mv-dialog-processing-bg js-close-dialog"></div><div class="mv-dialog-processing js-dialog"><div class="mv-dialog-processing-header"><div class="mv-dialog-processing-title">PAYMENT IN PROGRESS...</div></div><div class="mv-dialog-processing-body js-dialog-body">Please do not refresh your browser.<br />We are currently processing your payment<br />and it can take up to 30 seconds.<img src="https://cdn3.manyvids.com/site_files/images/icons/loader-icon.png" alt="" class="loader-icon loading-anim loading"></div></div></div>'), this.$dialog = $(".js-dialog", this.$element), e.after(this.$element), setTimeout(function() {
                    window.MV.MVDialogPleaseWaitProcessing.show()
                }, 30), t && window.setTimeout(function() {
                    window.location.href = "/Payment-pending/"
                }, 1e3 * parseInt(t, 10)))
            }
        }, window.MV.MVDialogPleaseWaitProcessing = new e, MV.MVDialogPleaseWaitProcessing.addListeners()
    }(), ! function() {
        function e() {
            this.init()
        }
        e.prototype = {
            mv: window.MV,
            init: function() {
                this.$siteFixedWrapper = $("body > .container-fluid > .fixed-wrapper"), this.announcementActive = this.mv.announcementActive, this.announcement = this.mv.announcement, this.announcementActive && this.createAnnouncement(this.announcement), this.$announcementBox = $(".js-mv-announcement"), this.$announcementToken = String(this.$announcementBox.data("token")), this.addListeners()
            },
            addListeners: function() {
                this.$announcementBox.on("click", ".js-cancel-announcement", $.proxy(this.onClickCancelAnnouncement, this)), this.$announcementBox.on("click", ".js-read-announcement", $.proxy(this.onClickReadAnnouncement, this))
            },
            onClickCancelAnnouncement: function(e) {
                this.cancelAnnouncement(this.$announcementToken)
            },
            onClickReadAnnouncement: function(e) {
                e.preventDefault(), this.readAnnouncement(this.$announcementToken, $(e.currentTarget).attr("href"), "_blank" === $(e.currentTarget).attr("target"), e)
            },
            cancelAnnouncement: function(e) {
                this.createCookie(e), this.removeAnnouncementBox()
            },
            readAnnouncement: function(e, t, i, s) {
                this.createCookie(e), this.removeAnnouncementBox(), i ? window.open(t, "_blank") : window.location.href = t
            },
            removeAnnouncementBox: function() {
                this.$announcementBox.remove()
            },
            createCookie: function(e) {
                var t;
                $.cookie("mvAnnouncement") ? (t = decodeURIComponent($.cookie("mvAnnouncement")).split(":"), -1 === $.inArray(e, t) && (e = decodeURIComponent($.cookie("mvAnnouncement")) + ":" + e, $.cookie("mvAnnouncement", e, {
                    path: "/",
                    expires: 30
                }))) : $.cookie("mvAnnouncement", e, {
                    path: "/",
                    expires: 30
                })
            },
            createAnnouncement: function(e) {
                0 < e.announcement_img.length ? (e.image_col_resize = "col-7", e.announcement_img = '<div class="col-5"><img class="w100" src="' + e.announcement_img + '" alt="Announcement image"/></div>') : e.image_col_resize = "col";
                var t = "",
                    t = ("1" === e.announcement_newtab && (t = 'target="_blank"'), '<div class="mv-announcement js-mv-announcement" data-token="' + e.announcement_token + '"><div class="card mb-0"><div class="card-body row">' + e.announcement_img + '<div class="' + e.image_col_resize + '"><h2 class="h2">' + e.announcement_title + '</h2><p class="subtitle">' + e.announcement_subtitle + "</p><a " + t + ' class="btn btn-highlight btn-lg js-read-announcement" href="' + e.announcement_link + '" title="' + e.announcement_button_text + '">' + e.announcement_button_text + '</a></div></div><div class="card-footer p-0 tsg2-cardFooter"><div class="container-fluid py-1"><a href="javascript:;" class="btn-link btn-block js-cancel-announcement text-gray-link">' + e.announcement_opt_out_text + "</a></div></div></div></div>");
                this.$siteFixedWrapper.prepend(t)
            }
        }, jQuery(function() {
            window.MV.announcement = new e
        })
    }(), ! function() {
        function e() {
            this.announcementBanners = [{
                name: "mwwallet-february-video-promo",
                store: "mwwallet-february-video-promo",
                active: !0,
                visible: "all"
            }], this.init()
        }
        e.prototype = {
            mv: window.MV,
            init: function() {
                var t = this;
                this.announcementBanners.forEach(function(e) {
                    t.setupBanner(e)
                })
            },
            setupBanner: function(e) {
                var t = $("#" + e.name),
                    i = $("html").data("session-details"),
                    s = localStorage.getItem(e.store),
                    i = this.visibility(e, i);
                e.active ? i && 0 < t.length && (s || (i = t.find(".js-btn-confirm"), t.css("display", "flex"), t.fadeIn("fast"), i.on("click", function() {
                    t.fadeOut("slow", function() {
                        localStorage.setItem(e.store, !0)
                    })
                }))) : localStorage.removeItem(e.store)
            },
            visibility: function(e, t) {
                var i, s, n;
                return (!(s = e).hasOwnProperty("startDate") && !s.hasOwnProperty("endDate") || (s = e, i = (new Date).getTime(), n = !!s.startDate && i < s.startDate, i = !!s.endDate && i > s.endDate, !n && !i)) && (s = "all" === e.visible, n = !!t && e.visible === t.type, s || n)
            }
        }, jQuery(function() {
            window.MV.mvAnnouncementBanner = new e
        })
    }(), ! function() {
        var r, a, s, o, l = {}.hasOwnProperty;

        function i(e, t) {
            this.form_field = e, this.options = null != t ? t : {}, i.browser_is_supported() && (this.is_multiple = this.form_field.multiple, this.set_default_text(), this.set_default_values(), this.setup(), this.set_up_html(), this.register_observers(), this.on_ready())
        }

        function e() {
            this.options_index = 0, this.parsed = []
        }
        e.prototype.add_node = function(e) {
            return "OPTGROUP" === e.nodeName.toUpperCase() ? this.add_group(e) : this.add_option(e)
        }, e.prototype.add_group = function(e) {
            var t, i, s, n, a, o = this.parsed.length;
            for (this.parsed.push({
                    array_index: o,
                    group: !0,
                    label: this.escapeExpression(e.label),
                    title: e.title || void 0,
                    children: 0,
                    disabled: e.disabled,
                    classes: e.className
                }), a = [], i = 0, s = (n = e.childNodes).length; i < s; i++) t = n[i], a.push(this.add_option(t, o, e.disabled));
            return a
        }, e.prototype.add_option = function(e, t, i) {
            return "OPTION" === e.nodeName.toUpperCase() ? ("" !== e.text ? (null != t && (this.parsed[t].children += 1), this.parsed.push({
                array_index: this.parsed.length,
                options_index: this.options_index,
                value: e.value,
                text: e.text,
                html: e.innerHTML,
                title: e.title || void 0,
                selected: e.selected,
                disabled: !0 === i ? i : e.disabled,
                group_array_index: t,
                group_label: null != t ? this.parsed[t].label : null,
                classes: e.className,
                style: e.style.cssText
            })) : this.parsed.push({
                array_index: this.parsed.length,
                options_index: this.options_index,
                empty: !0
            }), this.options_index += 1) : void 0
        }, e.prototype.escapeExpression = function(e) {
            var t;
            return null == e || !1 === e ? "" : /[\&\<\>\"\'\`]/.test(e) ? (t = {
                "<": "&lt;",
                ">": "&gt;",
                '"': "&quot;",
                "'": "&#x27;",
                "`": "&#x60;"
            }, e.replace(/&(?!\w+;)|[\<\>\"\'\`]/g, function(e) {
                return t[e] || "&amp;"
            })) : e
        }, (o = e).select_to_array = function(e) {
            for (var t, i = new o, s = e.childNodes, n = 0, a = s.length; n < a; n++) t = s[n], i.add_node(t);
            return i.parsed
        }, i.prototype.set_default_values = function() {
            var t = this;
            return this.click_test_action = function(e) {
                return t.test_active_click(e)
            }, this.activate_action = function(e) {
                return t.activate_field(e)
            }, this.active_field = !1, this.mouse_on_container = !1, this.results_showing = !1, this.result_highlighted = null, this.allow_single_deselect = null != this.options.allow_single_deselect && null != this.form_field.options[0] && "" === this.form_field.options[0].text && this.options.allow_single_deselect, this.disable_search_threshold = this.options.disable_search_threshold || 0, this.disable_search = this.options.disable_search || !1, this.enable_split_word_search = null == this.options.enable_split_word_search || this.options.enable_split_word_search, this.group_search = null == this.options.group_search || this.options.group_search, this.search_contains = this.options.search_contains || !1, this.single_backstroke_delete = null == this.options.single_backstroke_delete || this.options.single_backstroke_delete, this.max_selected_options = this.options.max_selected_options || 1 / 0, this.inherit_select_classes = this.options.inherit_select_classes || !1, this.display_selected_options = null == this.options.display_selected_options || this.options.display_selected_options, this.display_disabled_options = null == this.options.display_disabled_options || this.options.display_disabled_options, this.include_group_label_in_selected = this.options.include_group_label_in_selected || !1
        }, i.prototype.set_default_text = function() {
            return this.default_text = this.form_field.getAttribute("data-placeholder") ? this.form_field.getAttribute("data-placeholder") : this.is_multiple ? this.options.placeholder_text_multiple || this.options.placeholder_text || i.default_multiple_text : this.options.placeholder_text_single || this.options.placeholder_text || i.default_single_text, this.results_none_found = this.form_field.getAttribute("data-no_results_text") || this.options.no_results_text || i.default_no_result_text
        }, i.prototype.choice_label = function(e) {
            return this.include_group_label_in_selected && null != e.group_label ? "<b class='group-name'>" + e.group_label + "</b>" + e.html : e.html
        }, i.prototype.mouse_enter = function() {
            return this.mouse_on_container = !0
        }, i.prototype.mouse_leave = function() {
            return this.mouse_on_container = !1
        }, i.prototype.input_focus = function() {
            var e = this;
            if (this.is_multiple) {
                if (!this.active_field) return setTimeout(function() {
                    return e.container_mousedown()
                }, 50)
            } else if (!this.active_field) return this.activate_field()
        }, i.prototype.input_blur = function() {
            var e = this;
            return this.mouse_on_container ? void 0 : (this.active_field = !1, setTimeout(function() {
                return e.blur_test()
            }, 100))
        }, i.prototype.results_option_build = function(e) {
            for (var t, i = "", s = this.results_data, n = 0, a = s.length; n < a; n++) i += (t = s[n]).group ? this.result_add_group(t) : this.result_add_option(t), null != e && e.first && (t.selected && this.is_multiple ? this.choice_build(t) : t.selected && !this.is_multiple && this.single_set_selected_text(this.choice_label(t)));
            return i
        }, i.prototype.result_add_option = function(e) {
            var t, i;
            return e.search_match && this.include_option_in_results(e) ? (t = [], e.disabled || e.selected && this.is_multiple || t.push("active-result"), !e.disabled || e.selected && this.is_multiple || t.push("disabled-result"), e.selected && t.push("result-selected"), null != e.group_array_index && t.push("group-option"), "" !== e.classes && t.push(e.classes), (i = document.createElement("li")).className = t.join(" "), i.style.cssText = e.style, i.setAttribute("data-option-array-index", e.array_index), i.innerHTML = e.search_text, e.title && (i.title = e.title), this.outerHTML(i)) : ""
        }, i.prototype.result_add_group = function(e) {
            var t, i;
            return (e.search_match || e.group_match) && 0 < e.active_options ? ((t = []).push("group-result"), e.classes && t.push(e.classes), (i = document.createElement("li")).className = t.join(" "), i.innerHTML = e.search_text, e.title && (i.title = e.title), this.outerHTML(i)) : ""
        }, i.prototype.results_update_field = function() {
            return this.set_default_text(), this.is_multiple || this.results_reset_cleanup(), this.result_clear_highlight(), this.results_build(), this.results_showing ? this.winnow_results() : void 0
        }, i.prototype.reset_single_select_options = function() {
            for (var e, t = this.results_data, i = [], s = 0, n = t.length; s < n; s++)(e = t[s]).selected ? i.push(e.selected = !1) : i.push(void 0);
            return i
        }, i.prototype.results_toggle = function() {
            return this.results_showing ? this.results_hide() : this.results_show()
        }, i.prototype.results_search = function() {
            return this.results_showing ? this.winnow_results() : this.results_show()
        }, i.prototype.winnow_results = function() {
            var e, t, i, s, n, a, o, r, l, d, c, u;
            for (this.no_results_clear(), s = 0, e = (a = this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&"), l = new RegExp(e, "i"), i = this.get_search_regex(e), d = 0, c = (u = this.results_data).length; d < c; d++)(t = u[d]).search_match = !1, n = null, this.include_option_in_results(t) && (t.group && (t.group_match = !1, t.active_options = 0), null != t.group_array_index && this.results_data[t.group_array_index] && (0 === (n = this.results_data[t.group_array_index]).active_options && n.search_match && (s += 1), n.active_options += 1), t.search_text = t.group ? t.label : t.html, !t.group || this.group_search) && (t.search_match = this.search_string_match(t.search_text, i), t.search_match && !t.group && (s += 1), t.search_match ? (a.length && (o = t.search_text.search(l), r = t.search_text.substr(0, o + a.length) + "</em>" + t.search_text.substr(o + a.length), t.search_text = r.substr(0, o) + "<em>" + r.substr(o)), null != n && (n.group_match = !0)) : null != t.group_array_index && this.results_data[t.group_array_index].search_match && (t.search_match = !0));
            return this.result_clear_highlight(), s < 1 && a.length ? (this.update_results_content(""), this.no_results(a)) : (this.update_results_content(this.results_option_build()), this.winnow_results_set_highlight())
        }, i.prototype.get_search_regex = function(e) {
            var t = this.search_contains ? "" : "^";
            return new RegExp(t + e, "i")
        }, i.prototype.search_string_match = function(e, t) {
            var i, s, n, a;
            if (t.test(e)) return !0;
            if (this.enable_split_word_search && (0 <= e.indexOf(" ") || 0 === e.indexOf("[")) && (s = e.replace(/\[|\]/g, "").split(" ")).length)
                for (n = 0, a = s.length; n < a; n++)
                    if (i = s[n], t.test(i)) return !0
        }, i.prototype.choices_count = function() {
            var e, t, i;
            if (null == this.selected_option_count)
                for (e = this.selected_option_count = 0, t = (i = this.form_field.options).length; e < t; e++) i[e].selected && (this.selected_option_count += 1);
            return this.selected_option_count
        }, i.prototype.choices_click = function(e) {
            return e.preventDefault(), this.results_showing || this.is_disabled ? void 0 : this.results_show()
        }, i.prototype.keyup_checker = function(e) {
            var t = null != (t = e.which) ? t : e.keyCode;
            switch (this.search_field_scale(), t) {
                case 8:
                    if (this.is_multiple && this.backstroke_length < 1 && 0 < this.choices_count()) return this.keydown_backstroke();
                    if (this.pending_backstroke) break;
                    return this.result_clear_highlight(), this.results_search();
                case 13:
                    if (e.preventDefault(), this.results_showing) return this.result_select(e);
                    break;
                case 27:
                    return this.results_showing && this.results_hide(), !0;
                case 9:
                case 38:
                case 40:
                case 16:
                case 91:
                case 17:
                    break;
                default:
                    return this.results_search()
            }
        }, i.prototype.clipboard_event_checker = function() {
            var e = this;
            return setTimeout(function() {
                return e.results_search()
            }, 50)
        }, i.prototype.container_width = function() {
            return null != this.options.width ? this.options.width : this.form_field.offsetWidth + "px"
        }, i.prototype.include_option_in_results = function(e) {
            return !(this.is_multiple && !this.display_selected_options && e.selected || !this.display_disabled_options && e.disabled || e.empty)
        }, i.prototype.search_results_touchstart = function(e) {
            return this.touch_started = !0, this.search_results_mouseover(e)
        }, i.prototype.search_results_touchmove = function(e) {
            return this.touch_started = !1, this.search_results_mouseout(e)
        }, i.prototype.search_results_touchend = function(e) {
            return this.touch_started ? this.search_results_mouseup(e) : void 0
        }, i.prototype.outerHTML = function(e) {
            var t;
            return e.outerHTML || ((t = document.createElement("div")).appendChild(e), t.innerHTML)
        }, i.browser_is_supported = function() {
            return "Microsoft Internet Explorer" === window.navigator.appName ? 8 <= document.documentMode : !(/iP(od|hone)/i.test(window.navigator.userAgent) || /Android/i.test(window.navigator.userAgent) && /Mobile/i.test(window.navigator.userAgent))
        }, i.default_multiple_text = "Select Some Options", i.default_single_text = "Select an Option", i.default_no_result_text = "No results match", a = i, (r = jQuery).fn.extend({
            chosen: function(i) {
                return a.browser_is_supported() ? this.each(function() {
                    var e = r(this),
                        t = e.data("chosen");
                    "destroy" === i && t instanceof s ? t.destroy() : t instanceof s || e.data("chosen", new s(this, i))
                }) : this
            }
        }), s = function() {
            function e() {
                return e.__super__.constructor.apply(this, arguments)
            }
            var t, i = e,
                s = a;

            function n() {
                this.constructor = i
            }
            for (t in s) l.call(s, t) && (i[t] = s[t]);
            return n.prototype = s.prototype, i.prototype = new n, i.__super__ = s.prototype, e.prototype.setup = function() {
                return this.form_field_jq = r(this.form_field), this.current_selectedIndex = this.form_field.selectedIndex, this.is_rtl = this.form_field_jq.hasClass("chosen-rtl")
            }, e.prototype.set_up_html = function() {
                var e = ["chosen-container"];
                return e.push("chosen-container-" + (this.is_multiple ? "multi" : "single")), this.inherit_select_classes && this.form_field.className && e.push(this.form_field.className), this.is_rtl && e.push("chosen-rtl"), e = {
                    class: e.join(" "),
                    style: "width: " + this.container_width() + ";",
                    title: this.form_field.title
                }, this.form_field.id.length && (e.id = this.form_field.id.replace(/[^\w]/g, "_") + "_chosen"), this.container = r("<div />", e), this.is_multiple ? this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="' + this.default_text + '" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>') : this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>' + this.default_text + '</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'), this.form_field_jq.hide().after(this.container), this.dropdown = this.container.find("div.chosen-drop").first(), this.search_field = this.container.find("input").first(), this.search_results = this.container.find("ul.chosen-results").first(), this.search_field_scale(), this.search_no_results = this.container.find("li.no-results").first(), this.is_multiple ? (this.search_choices = this.container.find("ul.chosen-choices").first(), this.search_container = this.container.find("li.search-field").first()) : (this.search_container = this.container.find("div.chosen-search").first(), this.selected_item = this.container.find(".chosen-single").first()), this.results_build(), this.set_tab_index(), this.set_label_behavior()
            }, e.prototype.on_ready = function() {
                return this.form_field_jq.trigger("chosen:ready", {
                    chosen: this
                })
            }, e.prototype.register_observers = function() {
                var t = this;
                return this.container.bind("touchstart.chosen", function(e) {
                    return t.container_mousedown(e), e.preventDefault()
                }), this.container.bind("touchend.chosen", function(e) {
                    return t.container_mouseup(e), e.preventDefault()
                }), this.container.bind("mousedown.chosen", function(e) {
                    t.container_mousedown(e)
                }), this.container.bind("mouseup.chosen", function(e) {
                    t.container_mouseup(e)
                }), this.container.bind("mouseenter.chosen", function(e) {
                    t.mouse_enter(e)
                }), this.container.bind("mouseleave.chosen", function(e) {
                    t.mouse_leave(e)
                }), this.search_results.bind("mouseup.chosen", function(e) {
                    t.search_results_mouseup(e)
                }), this.search_results.bind("mouseover.chosen", function(e) {
                    t.search_results_mouseover(e)
                }), this.search_results.bind("mouseout.chosen", function(e) {
                    t.search_results_mouseout(e)
                }), this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen", function(e) {
                    t.search_results_mousewheel(e)
                }), this.search_results.bind("touchstart.chosen", function(e) {
                    t.search_results_touchstart(e)
                }), this.search_results.bind("touchmove.chosen", function(e) {
                    t.search_results_touchmove(e)
                }), this.search_results.bind("touchend.chosen", function(e) {
                    t.search_results_touchend(e)
                }), this.form_field_jq.bind("chosen:updated.chosen", function(e) {
                    t.results_update_field(e)
                }), this.form_field_jq.bind("chosen:activate.chosen", function(e) {
                    t.activate_field(e)
                }), this.form_field_jq.bind("chosen:open.chosen", function(e) {
                    t.container_mousedown(e)
                }), this.form_field_jq.bind("chosen:close.chosen", function(e) {
                    t.input_blur(e)
                }), this.search_field.bind("blur.chosen", function(e) {
                    t.input_blur(e)
                }), this.search_field.bind("keyup.chosen", function(e) {
                    t.keyup_checker(e)
                }), this.search_field.bind("keydown.chosen", function(e) {
                    t.keydown_checker(e)
                }), this.search_field.bind("focus.chosen", function(e) {
                    t.input_focus(e)
                }), this.search_field.bind("cut.chosen", function(e) {
                    t.clipboard_event_checker(e)
                }), this.search_field.bind("paste.chosen", function(e) {
                    t.clipboard_event_checker(e)
                }), this.is_multiple ? this.search_choices.bind("click.chosen", function(e) {
                    t.choices_click(e)
                }) : this.container.bind("click.chosen", function(e) {
                    e.preventDefault()
                })
            }, e.prototype.destroy = function() {
                return r(this.container[0].ownerDocument).unbind("click.chosen", this.click_test_action), this.search_field[0].tabIndex && (this.form_field_jq[0].tabIndex = this.search_field[0].tabIndex), this.container.remove(), this.form_field_jq.removeData("chosen"), this.form_field_jq.show()
            }, e.prototype.search_field_disabled = function() {
                return this.is_disabled = this.form_field_jq[0].disabled, this.is_disabled ? (this.container.addClass("chosen-disabled"), this.search_field[0].disabled = !0, this.is_multiple || this.selected_item.unbind("focus.chosen", this.activate_action), this.close_field()) : (this.container.removeClass("chosen-disabled"), this.search_field[0].disabled = !1, this.is_multiple ? void 0 : this.selected_item.bind("focus.chosen", this.activate_action))
            }, e.prototype.container_mousedown = function(e) {
                return this.is_disabled || (e && "mousedown" === e.type && !this.results_showing && e.preventDefault(), null != e && r(e.target).hasClass("search-choice-close")) ? void 0 : (this.active_field ? this.is_multiple || !e || r(e.target)[0] !== this.selected_item[0] && !r(e.target).parents("a.chosen-single").length || (e.preventDefault(), this.results_toggle()) : (this.is_multiple && this.search_field.val(""), r(this.container[0].ownerDocument).bind("click.chosen", this.click_test_action), this.results_show()), this.activate_field())
            }, e.prototype.container_mouseup = function(e) {
                return "ABBR" !== e.target.nodeName || this.is_disabled ? void 0 : this.results_reset(e)
            }, e.prototype.search_results_mousewheel = function(e) {
                var t;
                return null != (t = e.originalEvent ? e.originalEvent.deltaY || -e.originalEvent.wheelDelta || e.originalEvent.detail : t) ? (e.preventDefault(), "DOMMouseScroll" === e.type && (t *= 40), this.search_results.scrollTop(t + this.search_results.scrollTop())) : void 0
            }, e.prototype.blur_test = function() {
                return !this.active_field && this.container.hasClass("chosen-container-active") ? this.close_field() : void 0
            }, e.prototype.close_field = function() {
                return r(this.container[0].ownerDocument).unbind("click.chosen", this.click_test_action), this.active_field = !1, this.results_hide(), this.container.removeClass("chosen-container-active"), this.clear_backstroke(), this.show_search_field_default(), this.search_field_scale()
            }, e.prototype.activate_field = function() {
                return this.container.addClass("chosen-container-active"), this.active_field = !0, this.search_field.val(this.search_field.val()), this.search_field.focus()
            }, e.prototype.test_active_click = function(e) {
                e = r(e.target).closest(".chosen-container");
                return e.length && this.container[0] === e[0] ? this.active_field = !0 : this.close_field()
            }, e.prototype.results_build = function() {
                return this.parsing = !0, this.selected_option_count = null, this.results_data = o.select_to_array(this.form_field), this.is_multiple ? this.search_choices.find("li.search-choice").remove() : this.is_multiple || (this.single_set_selected_text(), this.disable_search || this.form_field.options.length <= this.disable_search_threshold ? (this.search_field[0].readOnly = !0, this.container.addClass("chosen-container-single-nosearch")) : (this.search_field[0].readOnly = !1, this.container.removeClass("chosen-container-single-nosearch"))), this.update_results_content(this.results_option_build({
                    first: !0
                })), this.search_field_disabled(), this.show_search_field_default(), this.search_field_scale(), this.parsing = !1
            }, e.prototype.result_do_highlight = function(e) {
                var t, i, s;
                if (e.length) return this.result_clear_highlight(), this.result_highlight = e, this.result_highlight.addClass("highlighted"), (e = parseInt(this.search_results.css("maxHeight"), 10)) + (s = this.search_results.scrollTop()) <= (t = (i = this.result_highlight.position().top + this.search_results.scrollTop()) + this.result_highlight.outerHeight()) ? this.search_results.scrollTop(0 < t - e ? t - e : 0) : i < s ? this.search_results.scrollTop(i) : void 0
            }, e.prototype.result_clear_highlight = function() {
                return this.result_highlight && this.result_highlight.removeClass("highlighted"), this.result_highlight = null
            }, e.prototype.results_show = function() {
                return this.is_multiple && this.max_selected_options <= this.choices_count() ? (this.form_field_jq.trigger("chosen:maxselected", {
                    chosen: this
                }), !1) : (this.container.addClass("chosen-with-drop"), this.results_showing = !0, this.search_field.focus(), this.search_field.val(this.search_field.val()), this.winnow_results(), this.form_field_jq.trigger("chosen:showing_dropdown", {
                    chosen: this
                }))
            }, e.prototype.update_results_content = function(e) {
                return this.search_results.html(e)
            }, e.prototype.results_hide = function() {
                return this.results_showing && (this.result_clear_highlight(), this.container.removeClass("chosen-with-drop"), this.form_field_jq.trigger("chosen:hiding_dropdown", {
                    chosen: this
                })), this.results_showing = !1
            }, e.prototype.set_tab_index = function() {
                var e;
                return this.form_field.tabIndex ? (e = this.form_field.tabIndex, this.form_field.tabIndex = -1, this.search_field[0].tabIndex = e) : void 0
            }, e.prototype.set_label_behavior = function() {
                var t = this;
                return this.form_field_label = this.form_field_jq.parents("label"), !this.form_field_label.length && this.form_field.id.length && (this.form_field_label = r("label[for='" + this.form_field.id + "']")), 0 < this.form_field_label.length ? this.form_field_label.bind("click.chosen", function(e) {
                    return t.is_multiple ? t.container_mousedown(e) : t.activate_field()
                }) : void 0
            }, e.prototype.show_search_field_default = function() {
                return this.is_multiple && this.choices_count() < 1 && !this.active_field ? (this.search_field.val(this.default_text), this.search_field.addClass("default")) : (this.search_field.val(""), this.search_field.removeClass("default"))
            }, e.prototype.search_results_mouseup = function(e) {
                var t = r(e.target).hasClass("active-result") ? r(e.target) : r(e.target).parents(".active-result").first();
                return t.length ? (this.result_highlight = t, this.result_select(e), this.search_field.focus()) : void 0
            }, e.prototype.search_results_mouseover = function(e) {
                e = r(e.target).hasClass("active-result") ? r(e.target) : r(e.target).parents(".active-result").first();
                return e ? this.result_do_highlight(e) : void 0
            }, e.prototype.search_results_mouseout = function(e) {
                return r(e.target).hasClass("active-result") ? this.result_clear_highlight() : void 0
            }, e.prototype.choice_build = function(e) {
                var t = this,
                    i = r("<li />", {
                        class: "search-choice"
                    }).html("<span>" + this.choice_label(e) + "</span>");
                return e.disabled ? i.addClass("search-choice-disabled") : ((e = r("<a />", {
                    class: "search-choice-close",
                    "data-option-array-index": e.array_index
                })).bind("click.chosen", function(e) {
                    return t.choice_destroy_link_click(e)
                }), i.append(e)), this.search_container.before(i)
            }, e.prototype.choice_destroy_link_click = function(e) {
                return e.preventDefault(), e.stopPropagation(), this.is_disabled ? void 0 : this.choice_destroy(r(e.target))
            }, e.prototype.choice_destroy = function(e) {
                return this.result_deselect(e[0].getAttribute("data-option-array-index")) ? (this.show_search_field_default(), this.is_multiple && 0 < this.choices_count() && this.search_field.val().length < 1 && this.results_hide(), e.parents("li").first().remove(), this.search_field_scale()) : void 0
            }, e.prototype.results_reset = function() {
                return this.reset_single_select_options(), this.form_field.options[0].selected = !0, this.single_set_selected_text(), this.show_search_field_default(), this.results_reset_cleanup(), this.form_field_jq.trigger("change"), this.active_field ? this.results_hide() : void 0
            }, e.prototype.results_reset_cleanup = function() {
                return this.current_selectedIndex = this.form_field.selectedIndex, this.selected_item.find("abbr").remove()
            }, e.prototype.result_select = function(e) {
                var t;
                return this.result_highlight ? (t = this.result_highlight, this.result_clear_highlight(), this.is_multiple && this.max_selected_options <= this.choices_count() ? (this.form_field_jq.trigger("chosen:maxselected", {
                    chosen: this
                }), !1) : (this.is_multiple ? t.removeClass("active-result") : this.reset_single_select_options(), t.addClass("result-selected"), (t = this.results_data[t[0].getAttribute("data-option-array-index")]).selected = !0, this.form_field.options[t.options_index].selected = !0, this.selected_option_count = null, this.is_multiple ? this.choice_build(t) : this.single_set_selected_text(this.choice_label(t)), (e.metaKey || e.ctrlKey) && this.is_multiple || this.results_hide(), this.search_field.val(""), !this.is_multiple && this.form_field.selectedIndex === this.current_selectedIndex || this.form_field_jq.trigger("change", {
                    selected: this.form_field.options[t.options_index].value
                }), this.current_selectedIndex = this.form_field.selectedIndex, e.preventDefault(), this.search_field_scale())) : void 0
            }, e.prototype.single_set_selected_text = function(e) {
                return (e = null == e ? this.default_text : e) === this.default_text ? this.selected_item.addClass("chosen-default") : (this.single_deselect_control_build(), this.selected_item.removeClass("chosen-default")), this.selected_item.find("span").html(e)
            }, e.prototype.result_deselect = function(e) {
                e = this.results_data[e];
                return !this.form_field.options[e.options_index].disabled && (e.selected = !1, this.form_field.options[e.options_index].selected = !1, this.selected_option_count = null, this.result_clear_highlight(), this.results_showing && this.winnow_results(), this.form_field_jq.trigger("change", {
                    deselected: this.form_field.options[e.options_index].value
                }), this.search_field_scale(), !0)
            }, e.prototype.single_deselect_control_build = function() {
                return this.allow_single_deselect ? (this.selected_item.find("abbr").length || this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'), this.selected_item.addClass("chosen-single-with-deselect")) : void 0
            }, e.prototype.get_search_text = function() {
                return r("<div/>").text(r.trim(this.search_field.val())).html()
            }, e.prototype.winnow_results_set_highlight = function() {
                var e = this.is_multiple ? [] : this.search_results.find(".result-selected.active-result"),
                    e = (e.length ? e : this.search_results.find(".active-result")).first();
                return null != e ? this.result_do_highlight(e) : void 0
            }, e.prototype.no_results = function(e) {
                var t = r('<li class="no-results">' + this.results_none_found + ' "<span></span>"</li>');
                return t.find("span").first().html(e), this.search_results.append(t), this.form_field_jq.trigger("chosen:no_results", {
                    chosen: this
                })
            }, e.prototype.no_results_clear = function() {
                return this.search_results.find(".no-results").remove()
            }, e.prototype.keydown_arrow = function() {
                var e;
                return this.results_showing && this.result_highlight ? (e = this.result_highlight.nextAll("li.active-result").first()) ? this.result_do_highlight(e) : void 0 : this.results_show()
            }, e.prototype.keyup_arrow = function() {
                var e;
                return this.results_showing || this.is_multiple ? this.result_highlight ? (e = this.result_highlight.prevAll("li.active-result")).length ? this.result_do_highlight(e.first()) : (0 < this.choices_count() && this.results_hide(), this.result_clear_highlight()) : void 0 : this.results_show()
            }, e.prototype.keydown_backstroke = function() {
                var e;
                return this.pending_backstroke ? (this.choice_destroy(this.pending_backstroke.find("a").first()), this.clear_backstroke()) : (e = this.search_container.siblings("li.search-choice").last()).length && !e.hasClass("search-choice-disabled") ? (this.pending_backstroke = e, this.single_backstroke_delete ? this.keydown_backstroke() : this.pending_backstroke.addClass("search-choice-focus")) : void 0
            }, e.prototype.clear_backstroke = function() {
                return this.pending_backstroke && this.pending_backstroke.removeClass("search-choice-focus"), this.pending_backstroke = null
            }, e.prototype.keydown_checker = function(e) {
                var t = null != (t = e.which) ? t : e.keyCode;
                switch (this.search_field_scale(), 8 !== t && this.pending_backstroke && this.clear_backstroke(), t) {
                    case 8:
                        this.backstroke_length = this.search_field.val().length;
                        break;
                    case 9:
                        this.results_showing && !this.is_multiple && this.result_select(e), this.mouse_on_container = !1;
                        break;
                    case 13:
                        this.results_showing && e.preventDefault();
                        break;
                    case 32:
                        this.disable_search && e.preventDefault();
                        break;
                    case 38:
                        e.preventDefault(), this.keyup_arrow();
                        break;
                    case 40:
                        e.preventDefault(), this.keydown_arrow()
                }
            }, e.prototype.search_field_scale = function() {
                var e, t, i, s, n, a, o;
                if (this.is_multiple) {
                    for (i = "position:absolute; left: -1000px; top: -1000px; display:none;", a = n = 0, o = (s = ["font-size", "font-style", "font-weight", "font-family", "line-height", "text-transform", "letter-spacing"]).length; a < o; a++) i += (t = s[a]) + ":" + this.search_field.css(t) + ";";
                    return (e = r("<div />", {
                        style: i
                    })).text(this.search_field.val()), r("body").append(e), n = e.width() + 25, e.remove(), e = this.container.outerWidth(), this.search_field.css({
                        width: (n = e - 10 < n ? e - 10 : n) + "px"
                    })
                }
            }, e
        }()
    }.call(this), ! function(e) {
        "function" == typeof define && define.amd ? define(["jquery"], e) : e("object" == typeof exports ? require("jquery") : jQuery)
    }(function(_, C) {
        function k() {
            return new Date(Date.UTC.apply(Date, arguments))
        }

        function x() {
            var e = new Date;
            return k(e.getFullYear(), e.getMonth(), e.getDate())
        }

        function a(e, t) {
            return e.getUTCFullYear() === t.getUTCFullYear() && e.getUTCMonth() === t.getUTCMonth() && e.getUTCDate() === t.getUTCDate()
        }

        function e(e) {
            return function() {
                return this[e].apply(this, arguments)
            }
        }

        function S(e, t) {
            _.data(e, "datepicker", this), this._process_options(t), this.dates = new i, this.viewDate = this.o.defaultViewDate, this.focusDate = null, this.element = _(e), this.isInput = this.element.is("input"), this.inputField = this.isInput ? this.element : this.element.find("input"), this.component = !!this.element.hasClass("date") && this.element.find(".add-on, .input-group-addon, .btn"), this.component && 0 === this.component.length && (this.component = !1), this.isInline = !this.component && this.element.is("div"), this.picker = _(E.template), this._check_template(this.o.templates.leftArrow) && this.picker.find(".prev").html(this.o.templates.leftArrow), this._check_template(this.o.templates.rightArrow) && this.picker.find(".next").html(this.o.templates.rightArrow), this._buildEvents(), this._attachEvents(), this.isInline ? this.picker.addClass("datepicker-inline").appendTo(this.element) : this.picker.addClass("datepicker-dropdown dropdown-menu"), this.o.rtl && this.picker.addClass("datepicker-rtl"), this.o.calendarWeeks && this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan", function(e, t) {
                return Number(t) + 1
            }), this._allow_update = !1, this.setStartDate(this._o.startDate), this.setEndDate(this._o.endDate), this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled), this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted), this.setDatesDisabled(this.o.datesDisabled), this.setViewMode(this.o.startView), this.fillDow(), this.fillMonths(), this._allow_update = !0, this.update(), this.isInline && this.show()
        }

        function l(e, t) {
            _.data(e, "datepicker", this), this.element = _(e), this.inputs = _.map(t.inputs, function(e) {
                return e.jquery ? e[0] : e
            }), delete t.inputs, this.keepEmptyValues = t.keepEmptyValues, delete t.keepEmptyValues, n.call(_(this.inputs), t).on("changeDate", _.proxy(this.dateUpdated, this)), this.pickers = _.map(this.inputs, function(e) {
                return _.data(e, "datepicker")
            }), this.updateDates()
        }
        t = {
            get: function(e) {
                return this.slice(e)[0]
            },
            contains: function(e) {
                for (var t = e && e.valueOf(), i = 0, s = this.length; i < s; i++)
                    if (0 <= this[i].valueOf() - t && this[i].valueOf() - t < 864e5) return i;
                return -1
            },
            remove: function(e) {
                this.splice(e, 1)
            },
            replace: function(e) {
                e && (_.isArray(e) || (e = [e]), this.clear(), this.push.apply(this, e))
            },
            clear: function() {
                this.length = 0
            },
            copy: function() {
                var e = new i;
                return e.replace(this), e
            }
        };
        var t, i = function() {
                var e = [];
                return e.push.apply(e, arguments), _.extend(e, t), e
            },
            s = (S.prototype = {
                constructor: S,
                _resolveViewName: function(i) {
                    return _.each(E.viewModes, function(e, t) {
                        return i === e || -1 !== _.inArray(i, t.names) ? (i = e, !1) : void 0
                    }), i
                },
                _resolveDaysOfWeek: function(e) {
                    return _.isArray(e) || (e = e.split(/[,\s]*/)), _.map(e, Number)
                },
                _check_template: function(e) {
                    try {
                        return e === C || "" === e ? !1 : (e.match(/[<>]/g) || []).length <= 0 || 0 < _(e).length
                    } catch (e) {
                        return !1
                    }
                },
                _process_options: function(e) {
                    this._o = _.extend({}, this._o, e);
                    var t, i, s = this.o = _.extend({}, this._o),
                        e = s.language,
                        n = (T[e] || (e = e.split("-")[0], T[e]) || (e = d.language), s.language = e, s.startView = this._resolveViewName(s.startView), s.minViewMode = this._resolveViewName(s.minViewMode), s.maxViewMode = this._resolveViewName(s.maxViewMode), s.startView = Math.max(this.o.minViewMode, Math.min(this.o.maxViewMode, s.startView)), !0 !== s.multidate && (s.multidate = Number(s.multidate) || !1, !1 !== s.multidate) && (s.multidate = Math.max(0, s.multidate)), s.multidateSeparator = String(s.multidateSeparator), s.weekStart %= 7, s.weekEnd = (s.weekStart + 6) % 7, E.parseFormat(s.format)),
                        a = (s.startDate !== -1 / 0 && (s.startDate ? s.startDate instanceof Date ? s.startDate = this._local_to_utc(this._zero_time(s.startDate)) : s.startDate = E.parseDate(s.startDate, n, s.language, s.assumeNearbyYear) : s.startDate = -1 / 0), s.endDate !== 1 / 0 && (s.endDate ? s.endDate instanceof Date ? s.endDate = this._local_to_utc(this._zero_time(s.endDate)) : s.endDate = E.parseDate(s.endDate, n, s.language, s.assumeNearbyYear) : s.endDate = 1 / 0), s.daysOfWeekDisabled = this._resolveDaysOfWeek(s.daysOfWeekDisabled || []), s.daysOfWeekHighlighted = this._resolveDaysOfWeek(s.daysOfWeekHighlighted || []), s.datesDisabled = s.datesDisabled || [], _.isArray(s.datesDisabled) || (s.datesDisabled = s.datesDisabled.split(",")), s.datesDisabled = _.map(s.datesDisabled, function(e) {
                            return E.parseDate(e, n, s.language, s.assumeNearbyYear)
                        }), String(s.orientation).toLowerCase().split(/\s+/g)),
                        e = s.orientation.toLowerCase(),
                        a = _.grep(a, function(e) {
                            return /^auto|left|right|top|bottom$/.test(e)
                        });
                    if (s.orientation = {
                            x: "auto",
                            y: "auto"
                        }, e && "auto" !== e)
                        if (1 === a.length) switch (a[0]) {
                            case "top":
                            case "bottom":
                                s.orientation.y = a[0];
                                break;
                            case "left":
                            case "right":
                                s.orientation.x = a[0]
                        } else e = _.grep(a, function(e) {
                            return /^left|right$/.test(e)
                        }), s.orientation.x = e[0] || "auto", e = _.grep(a, function(e) {
                            return /^top|bottom$/.test(e)
                        }), s.orientation.y = e[0] || "auto";
                    s.defaultViewDate ? (e = s.defaultViewDate.year || (new Date).getFullYear(), t = s.defaultViewDate.month || 0, i = s.defaultViewDate.day || 1, s.defaultViewDate = k(e, t, i)) : s.defaultViewDate = x()
                },
                _events: [],
                _secondaryEvents: [],
                _applyEvents: function(e) {
                    for (var t, i, s, n = 0; n < e.length; n++) t = e[n][0], 2 === e[n].length ? (i = C, s = e[n][1]) : 3 === e[n].length && (i = e[n][1], s = e[n][2]), t.on(s, i)
                },
                _unapplyEvents: function(e) {
                    for (var t, i, s, n = 0; n < e.length; n++) t = e[n][0], 2 === e[n].length ? (s = C, i = e[n][1]) : 3 === e[n].length && (s = e[n][1], i = e[n][2]), t.off(i, s)
                },
                _buildEvents: function() {
                    var e = {
                        keyup: _.proxy(function(e) {
                            -1 === _.inArray(e.keyCode, [27, 37, 39, 38, 40, 32, 13, 9]) && this.update()
                        }, this),
                        keydown: _.proxy(this.keydown, this),
                        paste: _.proxy(this.paste, this)
                    };
                    !0 === this.o.showOnFocus && (e.focus = _.proxy(this.show, this)), this.isInput ? this._events = [
                        [this.element, e]
                    ] : this.component && this.inputField.length ? this._events = [
                        [this.inputField, e],
                        [this.component, {
                            click: _.proxy(this.show, this)
                        }]
                    ] : this._events = [
                        [this.element, {
                            click: _.proxy(this.show, this),
                            keydown: _.proxy(this.keydown, this)
                        }]
                    ], this._events.push([this.element, "*", {
                        blur: _.proxy(function(e) {
                            this._focused_from = e.target
                        }, this)
                    }], [this.element, {
                        blur: _.proxy(function(e) {
                            this._focused_from = e.target
                        }, this)
                    }]), this.o.immediateUpdates && this._events.push([this.element, {
                        "changeYear changeMonth": _.proxy(function(e) {
                            this.update(e.date)
                        }, this)
                    }]), this._secondaryEvents = [
                        [this.picker, {
                            click: _.proxy(this.click, this)
                        }],
                        [this.picker, ".prev, .next", {
                            click: _.proxy(this.navArrowsClick, this)
                        }],
                        [_(window), {
                            resize: _.proxy(this.place, this)
                        }],
                        [_(document), {
                            "mousedown touchstart": _.proxy(function(e) {
                                this.element.is(e.target) || this.element.find(e.target).length || this.picker.is(e.target) || this.picker.find(e.target).length || this.isInline || this.hide()
                            }, this)
                        }]
                    ]
                },
                _attachEvents: function() {
                    this._detachEvents(), this._applyEvents(this._events)
                },
                _detachEvents: function() {
                    this._unapplyEvents(this._events)
                },
                _attachSecondaryEvents: function() {
                    this._detachSecondaryEvents(), this._applyEvents(this._secondaryEvents)
                },
                _detachSecondaryEvents: function() {
                    this._unapplyEvents(this._secondaryEvents)
                },
                _trigger: function(e, t) {
                    t = t || this.dates.get(-1), t = this._utc_to_local(t);
                    this.element.trigger({
                        type: e,
                        date: t,
                        viewMode: this.viewMode,
                        dates: _.map(this.dates, this._utc_to_local),
                        format: _.proxy(function(e, t) {
                            0 === arguments.length ? (e = this.dates.length - 1, t = this.o.format) : "string" == typeof e && (t = e, e = this.dates.length - 1), t = t || this.o.format;
                            var i = this.dates.get(e);
                            return E.formatDate(i, t, this.o.language)
                        }, this)
                    })
                },
                show: function() {
                    return this.inputField.prop("disabled") || this.inputField.prop("readonly") && !1 === this.o.enableOnReadonly ? void 0 : (this.isInline || this.picker.appendTo(this.o.container), this.place(), this.picker.show(), this._attachSecondaryEvents(), this._trigger("show"), (window.navigator.msMaxTouchPoints || "ontouchstart" in document) && this.o.disableTouchKeyboard && _(this.element).blur(), this)
                },
                hide: function() {
                    return this.isInline || !this.picker.is(":visible") || (this.focusDate = null, this.picker.hide().detach(), this._detachSecondaryEvents(), this.setViewMode(this.o.startView), this.o.forceParse && this.inputField.val() && this.setValue(), this._trigger("hide")), this
                },
                destroy: function() {
                    return this.hide(), this._detachEvents(), this._detachSecondaryEvents(), this.picker.remove(), delete this.element.data().datepicker, this.isInput || delete this.element.data().date, this
                },
                paste: function(e) {
                    var t;
                    if (e.originalEvent.clipboardData && e.originalEvent.clipboardData.types && -1 !== _.inArray("text/plain", e.originalEvent.clipboardData.types)) t = e.originalEvent.clipboardData.getData("text/plain");
                    else {
                        if (!window.clipboardData) return;
                        t = window.clipboardData.getData("Text")
                    }
                    this.setDate(t), this.update(), e.preventDefault()
                },
                _utc_to_local: function(e) {
                    var t;
                    return e && ((t = new Date(e.getTime() + 6e4 * e.getTimezoneOffset())).getTimezoneOffset() !== e.getTimezoneOffset() ? new Date(e.getTime() + 6e4 * t.getTimezoneOffset()) : t)
                },
                _local_to_utc: function(e) {
                    return e && new Date(e.getTime() - 6e4 * e.getTimezoneOffset())
                },
                _zero_time: function(e) {
                    return e && new Date(e.getFullYear(), e.getMonth(), e.getDate())
                },
                _zero_utc_time: function(e) {
                    return e && k(e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDate())
                },
                getDates: function() {
                    return _.map(this.dates, this._utc_to_local)
                },
                getUTCDates: function() {
                    return _.map(this.dates, function(e) {
                        return new Date(e)
                    })
                },
                getDate: function() {
                    return this._utc_to_local(this.getUTCDate())
                },
                getUTCDate: function() {
                    var e = this.dates.get(-1);
                    return e !== C ? new Date(e) : null
                },
                clearDates: function() {
                    this.inputField.val(""), this.update(), this._trigger("changeDate"), this.o.autoclose && this.hide()
                },
                setDates: function() {
                    var e = _.isArray(arguments[0]) ? arguments[0] : arguments;
                    return this.update.apply(this, e), this._trigger("changeDate"), this.setValue(), this
                },
                setUTCDates: function() {
                    var e = _.isArray(arguments[0]) ? arguments[0] : arguments;
                    return this.setDates.apply(this, _.map(e, this._utc_to_local)), this
                },
                setDate: e("setDates"),
                setUTCDate: e("setUTCDates"),
                remove: e("destroy"),
                setValue: function() {
                    var e = this.getFormattedDate();
                    return this.inputField.val(e), this
                },
                getFormattedDate: function(t) {
                    t === C && (t = this.o.format);
                    var i = this.o.language;
                    return _.map(this.dates, function(e) {
                        return E.formatDate(e, t, i)
                    }).join(this.o.multidateSeparator)
                },
                getStartDate: function() {
                    return this.o.startDate
                },
                setStartDate: function(e) {
                    return this._process_options({
                        startDate: e
                    }), this.update(), this.updateNavArrows(), this
                },
                getEndDate: function() {
                    return this.o.endDate
                },
                setEndDate: function(e) {
                    return this._process_options({
                        endDate: e
                    }), this.update(), this.updateNavArrows(), this
                },
                setDaysOfWeekDisabled: function(e) {
                    return this._process_options({
                        daysOfWeekDisabled: e
                    }), this.update(), this
                },
                setDaysOfWeekHighlighted: function(e) {
                    return this._process_options({
                        daysOfWeekHighlighted: e
                    }), this.update(), this
                },
                setDatesDisabled: function(e) {
                    return this._process_options({
                        datesDisabled: e
                    }), this.update(), this
                },
                place: function() {
                    var e, t, i, s, n, a, o, r, l, d, c;
                    return this.isInline || (e = this.picker.outerWidth(), t = this.picker.outerHeight(), i = (d = _(this.o.container)).width(), s = ("body" === this.o.container ? _(document) : d).scrollTop(), d = d.offset(), n = [], this.element.parents().each(function() {
                        var e = _(this).css("z-index");
                        "auto" !== e && 0 !== e && n.push(parseInt(e))
                    }), a = Math.max.apply(Math, n) + this.o.zIndexOffset, c = (this.component ? this.component.parent() : this.element).offset(), o = this.component ? this.component.outerHeight(!0) : this.element.outerHeight(!1), r = this.component ? this.component.outerWidth(!0) : this.element.outerWidth(!1), l = c.left - d.left, d = c.top - d.top, "body" !== this.o.container && (d += s), this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"), "auto" !== this.o.orientation.x ? (this.picker.addClass("datepicker-orient-" + this.o.orientation.x), "right" === this.o.orientation.x && (l -= e - r)) : c.left < 0 ? (this.picker.addClass("datepicker-orient-left"), l -= c.left - 10) : i < l + e ? (this.picker.addClass("datepicker-orient-right"), l += r - e) : this.o.rtl ? this.picker.addClass("datepicker-orient-right") : this.picker.addClass("datepicker-orient-left"), "auto" === (c = this.o.orientation.y) && (c = -s + d - t < 0 ? "bottom" : "top"), this.picker.addClass("datepicker-orient-" + c), "top" === c ? d -= t + parseInt(this.picker.css("padding-top")) : d += o, this.o.rtl ? this.picker.css({
                        top: d,
                        right: i - (l + r),
                        zIndex: a
                    }) : this.picker.css({
                        top: d,
                        left: l,
                        zIndex: a
                    })), this
                },
                _allow_update: !0,
                update: function() {
                    var e, i, t;
                    return this._allow_update && (e = this.dates.copy(), t = !(i = []), arguments.length ? (_.each(arguments, _.proxy(function(e, t) {
                        t instanceof Date && (t = this._local_to_utc(t)), i.push(t)
                    }, this)), t = !0) : (i = (i = this.isInput ? this.element.val() : this.element.data("date") || this.inputField.val()) && this.o.multidate ? i.split(this.o.multidateSeparator) : [i], delete this.element.data().date), i = _.map(i, _.proxy(function(e) {
                        return E.parseDate(e, this.o.format, this.o.language, this.o.assumeNearbyYear)
                    }, this)), i = _.grep(i, _.proxy(function(e) {
                        return !this.dateWithinRange(e) || !e
                    }, this), !0), this.dates.replace(i), this.o.updateViewDate && (this.dates.length ? this.viewDate = new Date(this.dates.get(-1)) : this.viewDate < this.o.startDate ? this.viewDate = new Date(this.o.startDate) : this.viewDate > this.o.endDate ? this.viewDate = new Date(this.o.endDate) : this.viewDate = this.o.defaultViewDate), t ? (this.setValue(), this.element.change()) : this.dates.length && String(e) !== String(this.dates) && t && (this._trigger("changeDate"), this.element.change()), !this.dates.length && e.length && (this._trigger("clearDate"), this.element.change()), this.fill()), this
                },
                fillDow: function() {
                    var e = this.o.weekStart,
                        t = "<tr>";
                    for (this.o.calendarWeeks && (t += '<th class="cw">&#160;</th>'); e < this.o.weekStart + 7;) t += '<th class="dow', -1 !== _.inArray(e, this.o.daysOfWeekDisabled) && (t += " disabled"), t += '">' + T[this.o.language].daysMin[e++ % 7] + "</th>";
                    t += "</tr>", this.picker.find(".datepicker-days thead").append(t)
                },
                fillMonths: function() {
                    for (var e = this._utc_to_local(this.viewDate), t = "", i = 0; i < 12;) t += '<span class="month' + (e && e.getMonth() === i ? " focused" : "") + '">' + T[this.o.language].monthsShort[i++] + "</span>";
                    this.picker.find(".datepicker-months td").html(t)
                },
                setRange: function(e) {
                    e && e.length ? this.range = _.map(e, function(e) {
                        return e.valueOf()
                    }) : delete this.range, this.fill()
                },
                getClassNames: function(e) {
                    var t = [],
                        i = this.viewDate.getUTCFullYear(),
                        s = this.viewDate.getUTCMonth(),
                        n = x();
                    return e.getUTCFullYear() < i || e.getUTCFullYear() === i && e.getUTCMonth() < s ? t.push("old") : (e.getUTCFullYear() > i || e.getUTCFullYear() === i && e.getUTCMonth() > s) && t.push("new"), this.focusDate && e.valueOf() === this.focusDate.valueOf() && t.push("focused"), this.o.todayHighlight && a(e, n) && t.push("today"), -1 !== this.dates.contains(e) && t.push("active"), this.dateWithinRange(e) || t.push("disabled"), this.dateIsDisabled(e) && t.push("disabled", "disabled-date"), -1 !== _.inArray(e.getUTCDay(), this.o.daysOfWeekHighlighted) && t.push("highlighted"), this.range && (e > this.range[0] && e < this.range[this.range.length - 1] && t.push("range"), -1 !== _.inArray(e.valueOf(), this.range) && t.push("selected"), e.valueOf() === this.range[0] && t.push("range-start"), e.valueOf() === this.range[this.range.length - 1]) && t.push("range-end"), t
                },
                _fill_yearsView: function(e, t, i, s, n, a, o, r) {
                    var l, d, c, u, h, p = "",
                        e = this.picker.find(e),
                        n = parseInt(n / i, 10) * i,
                        f = parseInt(a / s, 10) * s,
                        m = parseInt(o / s, 10) * s,
                        g = _.map(this.dates, function(e) {
                            return parseInt(e.getUTCFullYear() / s, 10) * s
                        });
                    for (e.find(".datepicker-switch").text(n + "-" + (n + 9 * s)), l = n - s, d = -1; d < 11; d += 1) c = [t], u = null, -1 === d ? c.push("old") : 10 === d && c.push("new"), -1 !== _.inArray(l, g) && c.push("active"), (l < f || m < l) && c.push("disabled"), l === this.viewDate.getFullYear() && c.push("focused"), r !== _.noop && ((h = r(new Date(l, 0, 1))) === C ? h = {} : "boolean" == typeof h ? h = {
                        enabled: h
                    } : "string" == typeof h && (h = {
                        classes: h
                    }), !1 === h.enabled && c.push("disabled"), h.classes && (c = c.concat(h.classes.split(/\s+/))), h.tooltip) && (u = h.tooltip), p += '<span class="' + c.join(" ") + '"' + (u ? ' title="' + u + '"' : "") + ">" + l + "</span>", l += s;
                    e.find("td").html(p)
                },
                fill: function() {
                    var e, t = new Date(this.viewDate),
                        i = t.getUTCFullYear(),
                        s = t.getUTCMonth(),
                        n = this.o.startDate !== -1 / 0 ? this.o.startDate.getUTCFullYear() : -1 / 0,
                        a = this.o.startDate !== -1 / 0 ? this.o.startDate.getUTCMonth() : -1 / 0,
                        o = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCFullYear() : 1 / 0,
                        r = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCMonth() : 1 / 0,
                        l = T[this.o.language].today || T.en.today || "",
                        d = T[this.o.language].clear || T.en.clear || "",
                        c = T[this.o.language].titleFormat || T.en.titleFormat;
                    if (!isNaN(i) && !isNaN(s)) {
                        this.picker.find(".datepicker-days .datepicker-switch").text(E.formatDate(t, c, this.o.language)), this.picker.find("tfoot .today").text(l).toggle(!1 !== this.o.todayBtn), this.picker.find("tfoot .clear").text(d).toggle(!1 !== this.o.clearBtn), this.picker.find("thead .datepicker-title").text(this.o.title).toggle("" !== this.o.title), this.updateNavArrows(), this.fillMonths();
                        var u = k(i, s, 0),
                            t = u.getUTCDate(),
                            h = (u.setUTCDate(t - (u.getUTCDay() - this.o.weekStart + 7) % 7), new Date(u));
                        u.getUTCFullYear() < 100 && h.setUTCFullYear(u.getUTCFullYear()), h.setUTCDate(h.getUTCDate() + 42);
                        for (var p, f, m, h = h.valueOf(), g = []; u.valueOf() < h;)(m = u.getUTCDay()) === this.o.weekStart && (g.push("<tr>"), this.o.calendarWeeks) && (p = new Date(+u + (this.o.weekStart - m - 7) % 7 * 864e5), p = new Date(Number(p) + (11 - p.getUTCDay()) % 7 * 864e5), f = new Date(Number(f = k(p.getUTCFullYear(), 0, 1)) + (11 - f.getUTCDay()) % 7 * 864e5), g.push('<td class="cw">' + ((p - f) / 864e5 / 7 + 1) + "</td>")), (p = this.getClassNames(u)).push("day"), this.o.beforeShowDay !== _.noop && ((f = this.o.beforeShowDay(this._utc_to_local(u))) === C ? f = {} : "boolean" == typeof f ? f = {
                            enabled: f
                        } : "string" == typeof f && (f = {
                            classes: f
                        }), !1 === f.enabled && p.push("disabled"), f.classes && (p = p.concat(f.classes.split(/\s+/))), f.tooltip) && (e = f.tooltip), p = _.isFunction(_.uniqueSort) ? _.uniqueSort(p) : _.unique(p), g.push('<td class="' + p.join(" ") + '"' + (e ? ' title="' + e + '"' : "") + (this.o.dateCells ? ' data-date="' + u.getTime().toString() + '"' : "") + ">" + u.getUTCDate() + "</td>"), e = null, m === this.o.weekEnd && g.push("</tr>"), u.setUTCDate(u.getUTCDate() + 1);
                        this.picker.find(".datepicker-days tbody").html(g.join(""));
                        var v, c = T[this.o.language].monthsTitle || T.en.monthsTitle || "Months",
                            y = this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode < 2 ? c : i).end().find("tbody span").removeClass("active");
                        _.each(this.dates, function(e, t) {
                            t.getUTCFullYear() === i && y.eq(t.getUTCMonth()).addClass("active")
                        }), (i < n || o < i) && y.addClass("disabled"), i === n && y.slice(0, a).addClass("disabled"), i === o && y.slice(r + 1).addClass("disabled"), this.o.beforeShowMonth !== _.noop && (v = this, _.each(y, function(e, t) {
                            e = new Date(i, e, 1), e = v.o.beforeShowMonth(e);
                            e === C ? e = {} : "boolean" == typeof e ? e = {
                                enabled: e
                            } : "string" == typeof e && (e = {
                                classes: e
                            }), !1 !== e.enabled || _(t).hasClass("disabled") || _(t).addClass("disabled"), e.classes && _(t).addClass(e.classes), e.tooltip && _(t).prop("title", e.tooltip)
                        })), this._fill_yearsView(".datepicker-years", "year", 10, 1, i, n, o, this.o.beforeShowYear), this._fill_yearsView(".datepicker-decades", "decade", 100, 10, i, n, o, this.o.beforeShowDecade), this._fill_yearsView(".datepicker-centuries", "century", 1e3, 100, i, n, o, this.o.beforeShowCentury)
                    }
                },
                updateNavArrows: function() {
                    if (this._allow_update) {
                        var e, t, i = new Date(this.viewDate),
                            s = i.getUTCFullYear(),
                            n = i.getUTCMonth();
                        switch (this.viewMode) {
                            case 0:
                                e = this.o.startDate !== -1 / 0 && s <= this.o.startDate.getUTCFullYear() && n <= this.o.startDate.getUTCMonth(), t = this.o.endDate !== 1 / 0 && s >= this.o.endDate.getUTCFullYear() && n >= this.o.endDate.getUTCMonth();
                                break;
                            case 1:
                            case 2:
                            case 3:
                            case 4:
                                e = this.o.startDate !== -1 / 0 && s <= this.o.startDate.getUTCFullYear(), t = this.o.endDate !== 1 / 0 && s >= this.o.endDate.getUTCFullYear()
                        }
                        this.picker.find(".prev").toggleClass("disabled", e), this.picker.find(".next").toggleClass("disabled", t)
                    }
                },
                click: function(e) {
                    var t, i, s, n;
                    e.preventDefault(), e.stopPropagation(), (e = _(e.target)).hasClass("datepicker-switch") && this.viewMode !== this.o.maxViewMode && this.setViewMode(this.viewMode + 1), e.hasClass("today") && !e.hasClass("day") && (this.setViewMode(0), this._setDate(x(), "linked" === this.o.todayBtn ? null : "view")), e.hasClass("clear") && this.clearDates(), !e.hasClass("disabled") && (e.hasClass("day") && (i = Number(e.text()), s = this.viewDate.getUTCFullYear(), n = this.viewDate.getUTCMonth(), (e.hasClass("old") || e.hasClass("new")) && (n = (n + (t = e.hasClass("old") ? -1 : 1) + 12) % 12, (-1 == t && 11 === n || 1 == t && 0 === n) && (s += t, this.o.updateViewDate) && this._trigger("changeYear", this.viewDate), this.o.updateViewDate) && this._trigger("changeMonth", this.viewDate), this._setDate(k(s, n, i))), e.hasClass("month") || e.hasClass("year") || e.hasClass("decade") || e.hasClass("century")) && (this.viewDate.setUTCDate(1), (i = 1) === this.viewMode ? (n = e.parent().find("span").index(e), s = this.viewDate.getUTCFullYear(), this.viewDate.setUTCMonth(n)) : (n = 0, s = Number(e.text()), this.viewDate.setUTCFullYear(s)), this._trigger(E.viewModes[this.viewMode - 1].e, this.viewDate), this.viewMode === this.o.minViewMode ? this._setDate(k(s, n, i)) : (this.setViewMode(this.viewMode - 1), this.fill())), this.picker.is(":visible") && this._focused_from && this._focused_from.focus(), delete this._focused_from
                },
                navArrowsClick: function(e) {
                    e = _(e.target).hasClass("prev") ? -1 : 1;
                    0 !== this.viewMode && (e *= 12 * E.viewModes[this.viewMode].navStep), this.viewDate = this.moveMonth(this.viewDate, e), this._trigger(E.viewModes[this.viewMode].e, this.viewDate), this.fill()
                },
                _toggle_multidate: function(e) {
                    var t = this.dates.contains(e);
                    if (e || this.dates.clear(), -1 !== t ? (!0 === this.o.multidate || 1 < this.o.multidate || this.o.toggleActive) && this.dates.remove(t) : (!1 === this.o.multidate && this.dates.clear(), this.dates.push(e)), "number" == typeof this.o.multidate)
                        for (; this.dates.length > this.o.multidate;) this.dates.remove(0)
                },
                _setDate: function(e, t) {
                    t && "date" !== t || this._toggle_multidate(e && new Date(e)), (!t && this.o.updateViewDate || "view" === t) && (this.viewDate = e && new Date(e)), this.fill(), this.setValue(), t && "view" === t || this._trigger("changeDate"), this.inputField.trigger("change"), !this.o.autoclose || t && "date" !== t || this.hide()
                },
                moveDay: function(e, t) {
                    var i = new Date(e);
                    return i.setUTCDate(e.getUTCDate() + t), i
                },
                moveWeek: function(e, t) {
                    return this.moveDay(e, 7 * t)
                },
                moveMonth: function(e, t) {
                    if (!(i = e) || isNaN(i.getTime())) return this.o.defaultViewDate;
                    var i;
                    if (!t) return e;
                    var s, n, a = new Date(e.valueOf()),
                        o = a.getUTCDate(),
                        r = a.getUTCMonth(),
                        l = Math.abs(t);
                    if (t = 0 < t ? 1 : -1, 1 === l) n = -1 === t ? function() {
                        return a.getUTCMonth() === r
                    } : function() {
                        return a.getUTCMonth() !== s
                    }, s = r + t, a.setUTCMonth(s), s = (s + 12) % 12;
                    else {
                        for (var d = 0; d < l; d++) a = this.moveMonth(a, t);
                        s = a.getUTCMonth(), a.setUTCDate(o), n = function() {
                            return s !== a.getUTCMonth()
                        }
                    }
                    for (; n();) a.setUTCDate(--o), a.setUTCMonth(s);
                    return a
                },
                moveYear: function(e, t) {
                    return this.moveMonth(e, 12 * t)
                },
                moveAvailableDate: function(e, t, i) {
                    do {
                        if (e = this[i](e, t), !this.dateWithinRange(e)) return !1
                    } while (i = "moveDay", this.dateIsDisabled(e));
                    return e
                },
                weekOfDateIsDisabled: function(e) {
                    return -1 !== _.inArray(e.getUTCDay(), this.o.daysOfWeekDisabled)
                },
                dateIsDisabled: function(t) {
                    return this.weekOfDateIsDisabled(t) || 0 < _.grep(this.o.datesDisabled, function(e) {
                        return a(t, e)
                    }).length
                },
                dateWithinRange: function(e) {
                    return e >= this.o.startDate && e <= this.o.endDate
                },
                keydown: function(e) {
                    if (this.picker.is(":visible")) {
                        var t, i, s = !1,
                            n = this.focusDate || this.viewDate;
                        switch (e.keyCode) {
                            case 27:
                                this.focusDate ? (this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.fill()) : this.hide(), e.preventDefault(), e.stopPropagation();
                                break;
                            case 37:
                            case 38:
                            case 39:
                            case 40:
                                this.o.keyboardNavigation && 7 !== this.o.daysOfWeekDisabled.length && (t = 37 === e.keyCode || 38 === e.keyCode ? -1 : 1, 0 === this.viewMode ? e.ctrlKey ? (i = this.moveAvailableDate(n, t, "moveYear")) && this._trigger("changeYear", this.viewDate) : e.shiftKey ? (i = this.moveAvailableDate(n, t, "moveMonth")) && this._trigger("changeMonth", this.viewDate) : 37 === e.keyCode || 39 === e.keyCode ? i = this.moveAvailableDate(n, t, "moveDay") : this.weekOfDateIsDisabled(n) || (i = this.moveAvailableDate(n, t, "moveWeek")) : 1 === this.viewMode ? (38 !== e.keyCode && 40 !== e.keyCode || (t *= 4), i = this.moveAvailableDate(n, t, "moveMonth")) : 2 === this.viewMode && (38 !== e.keyCode && 40 !== e.keyCode || (t *= 4), i = this.moveAvailableDate(n, t, "moveYear")), i) && (this.focusDate = this.viewDate = i, this.setValue(), this.fill(), e.preventDefault());
                                break;
                            case 13:
                                this.o.forceParse && (n = this.focusDate || this.dates.get(-1) || this.viewDate, this.o.keyboardNavigation && (this._toggle_multidate(n), s = !0), this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.setValue(), this.fill(), this.picker.is(":visible")) && (e.preventDefault(), e.stopPropagation(), this.o.autoclose) && this.hide();
                                break;
                            case 9:
                                this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.fill(), this.hide()
                        }
                        s && (this.dates.length ? this._trigger("changeDate") : this._trigger("clearDate"), this.inputField.trigger("change"))
                    } else 40 !== e.keyCode && 27 !== e.keyCode || (this.show(), e.stopPropagation())
                },
                setViewMode: function(e) {
                    this.viewMode = e, this.picker.children("div").hide().filter(".datepicker-" + E.viewModes[this.viewMode].clsName).show(), this.updateNavArrows(), this._trigger("changeViewMode", new Date(this.viewDate))
                }
            }, l.prototype = {
                updateDates: function() {
                    this.dates = _.map(this.pickers, function(e) {
                        return e.getUTCDate()
                    }), this.updateRanges()
                },
                updateRanges: function() {
                    var i = _.map(this.dates, function(e) {
                        return e.valueOf()
                    });
                    _.each(this.pickers, function(e, t) {
                        t.setRange(i)
                    })
                },
                dateUpdated: function(e) {
                    if (!this.updating) {
                        this.updating = !0;
                        var i = _.data(e.target, "datepicker");
                        if (i !== C) {
                            var s = i.getUTCDate(),
                                n = this.keepEmptyValues,
                                e = _.inArray(e.target, this.inputs),
                                t = e - 1,
                                a = e + 1,
                                o = this.inputs.length;
                            if (-1 !== e) {
                                if (_.each(this.pickers, function(e, t) {
                                        t.getUTCDate() || t !== i && n || t.setUTCDate(s)
                                    }), s < this.dates[t])
                                    for (; 0 <= t && s < this.dates[t];) this.pickers[t--].setUTCDate(s);
                                else if (s > this.dates[a])
                                    for (; a < o && s > this.dates[a];) this.pickers[a++].setUTCDate(s);
                                this.updateDates(), delete this.updating
                            }
                        }
                    }
                },
                destroy: function() {
                    _.map(this.pickers, function(e) {
                        e.destroy()
                    }), _(this.inputs).off("changeDate", this.dateUpdated), delete this.element.data().datepicker
                },
                remove: e("destroy")
            }, _.fn.datepicker),
            n = function(a) {
                var o, r = Array.apply(null, arguments);
                if (r.shift(), this.each(function() {
                        var e, t, i = _(this),
                            s = i.data("datepicker"),
                            n = "object" == typeof a && a;
                        s || (e = function(e, t) {
                            function i(e, t) {
                                return t.toLowerCase()
                            }
                            var s, n, a = _(e).data(),
                                o = {},
                                r = new RegExp("^" + t.toLowerCase() + "([A-Z])");
                            for (n in t = new RegExp("^" + t.toLowerCase()), a) t.test(n) && (s = n.replace(r, i), o[s] = a[n]);
                            return o
                        }(this, "date"), t = function(e) {
                            var i, s = {};
                            if (T[e] || (e = e.split("-")[0], T[e])) return i = T[e], _.each(c, function(e, t) {
                                t in i && (s[t] = i[t])
                            }), s
                        }(_.extend({}, d, e, n).language), t = _.extend({}, d, t, e, n), s = new(i.hasClass("input-daterange") || t.inputs ? (_.extend(t, {
                            inputs: t.inputs || i.find("input").toArray()
                        }), l) : S)(this, t), i.data("datepicker", s)), "string" == typeof a && "function" == typeof s[a] && (o = s[a].apply(s, r))
                    }), o === C || o instanceof S || o instanceof l) return this;
                if (1 < this.length) throw new Error("Using only allowed for the collection of a single element (" + a + " function)");
                return o
            },
            d = (_.fn.datepicker = n, _.fn.datepicker.defaults = {
                assumeNearbyYear: !1,
                autoclose: !1,
                beforeShowDay: _.noop,
                beforeShowMonth: _.noop,
                beforeShowYear: _.noop,
                beforeShowDecade: _.noop,
                beforeShowCentury: _.noop,
                calendarWeeks: !1,
                clearBtn: !1,
                toggleActive: !1,
                daysOfWeekDisabled: [],
                daysOfWeekHighlighted: [],
                datesDisabled: [],
                endDate: 1 / 0,
                forceParse: !0,
                format: "mm/dd/yyyy",
                keepEmptyValues: !1,
                keyboardNavigation: !0,
                language: "en",
                minViewMode: 0,
                maxViewMode: 4,
                multidate: !1,
                multidateSeparator: ",",
                orientation: "auto",
                rtl: !1,
                startDate: -1 / 0,
                startView: 0,
                todayBtn: !1,
                todayHighlight: !1,
                updateViewDate: !0,
                weekStart: 0,
                disableTouchKeyboard: !1,
                enableOnReadonly: !0,
                showOnFocus: !0,
                zIndexOffset: 10,
                container: "body",
                immediateUpdates: !1,
                dateCells: !1,
                title: "",
                templates: {
                    leftArrow: "&#x00AB;",
                    rightArrow: "&#x00BB;"
                }
            }),
            c = _.fn.datepicker.locale_opts = ["format", "rtl", "weekStart"],
            T = (_.fn.datepicker.Constructor = S, _.fn.datepicker.dates = {
                en: {
                    days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                    daysShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                    daysMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
                    months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                    monthsShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                    today: "Today",
                    clear: "Clear",
                    titleFormat: "MM yyyy"
                }
            }),
            E = {
                viewModes: [{
                    names: ["days", "month"],
                    clsName: "days",
                    e: "changeMonth"
                }, {
                    names: ["months", "year"],
                    clsName: "months",
                    e: "changeYear",
                    navStep: 1
                }, {
                    names: ["years", "decade"],
                    clsName: "years",
                    e: "changeDecade",
                    navStep: 10
                }, {
                    names: ["decades", "century"],
                    clsName: "decades",
                    e: "changeCentury",
                    navStep: 100
                }, {
                    names: ["centuries", "millennium"],
                    clsName: "centuries",
                    e: "changeMillennium",
                    navStep: 1e3
                }],
                validParts: /dd?|DD?|mm?|MM?|yy(?:yy)?/g,
                nonpunctuation: /[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,
                parseFormat: function(e) {
                    if ("function" == typeof e.toValue && "function" == typeof e.toDisplay) return e;
                    var t = e.replace(this.validParts, "\0").split("\0"),
                        e = e.match(this.validParts);
                    if (t && t.length && e && 0 !== e.length) return {
                        separators: t,
                        parts: e
                    };
                    throw new Error("Invalid date format.")
                },
                parseDate: function(e, t, i, s) {
                    function n() {
                        var e = this.slice(0, a[b].length),
                            t = a[b].slice(0, e.length);
                        return e.toLowerCase() === t.toLowerCase()
                    }
                    if (!e) return C;
                    if (!(e instanceof Date)) {
                        if ((t = "string" == typeof t ? E.parseFormat(t) : t).toValue) return t.toValue(e, t, i);
                        var a, o, r, l, d = {
                                d: "moveDay",
                                m: "moveMonth",
                                w: "moveWeek",
                                y: "moveYear"
                            },
                            c = {
                                yesterday: "-1d",
                                today: "+0d",
                                tomorrow: "+1d"
                            };
                        if (/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(e = e in c ? c[e] : e)) {
                            for (a = e.match(/([\-+]\d+)([dmwy])/gi), e = new Date, b = 0; b < a.length; b++) o = a[b].match(/([\-+]\d+)([dmwy])/i), r = Number(o[1]), l = d[o[2].toLowerCase()], e = S.prototype[l](e, r);
                            return k(e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDate())
                        }
                        a = e && e.match(this.nonpunctuation) || [], e = new Date;
                        var u, h, p = {},
                            f = ["yyyy", "yy", "M", "MM", "m", "mm", "d", "dd"],
                            m = {
                                yyyy: function(e, t) {
                                    return e.setUTCFullYear(s ? (!0 === (e = s) && (e = 10), (i = t) < 100 && (i += 2e3) > (new Date).getFullYear() + e && (i -= 100), i) : t);
                                    var i
                                },
                                m: function(e, t) {
                                    if (!isNaN(e)) {
                                        for (--t; t < 0;) t += 12;
                                        for (e.setUTCMonth(t %= 12); e.getUTCMonth() !== t;) e.setUTCDate(e.getUTCDate() - 1)
                                    }
                                    return e
                                },
                                d: function(e, t) {
                                    return e.setUTCDate(t)
                                }
                            },
                            g = (m.yy = m.yyyy, m.M = m.MM = m.mm = m.m, m.dd = m.d, e = x(), t.parts.slice());
                        if (a.length !== g.length && (g = _(g).filter(function(e, t) {
                                return -1 !== _.inArray(t, f)
                            }).toArray()), a.length === g.length) {
                            for (var v, y, b = 0, w = g.length; b < w; b++) {
                                if (u = parseInt(a[b], 10), o = g[b], isNaN(u)) switch (o) {
                                    case "MM":
                                        h = _(T[i].months).filter(n), u = _.inArray(h[0], T[i].months) + 1;
                                        break;
                                    case "M":
                                        h = _(T[i].monthsShort).filter(n), u = _.inArray(h[0], T[i].monthsShort) + 1
                                }
                                p[o] = u
                            }
                            for (b = 0; b < f.length; b++)(y = f[b]) in p && !isNaN(p[y]) && (v = new Date(e), m[y](v, p[y]), isNaN(v) || (e = v))
                        }
                    }
                    return e
                },
                formatDate: function(e, t, i) {
                    if (!e) return "";
                    if ((t = "string" == typeof t ? E.parseFormat(t) : t).toDisplay) return t.toDisplay(e, t, i);
                    var s = {
                        d: e.getUTCDate(),
                        D: T[i].daysShort[e.getUTCDay()],
                        DD: T[i].days[e.getUTCDay()],
                        m: e.getUTCMonth() + 1,
                        M: T[i].monthsShort[e.getUTCMonth()],
                        MM: T[i].months[e.getUTCMonth()],
                        yy: e.getUTCFullYear().toString().substring(2),
                        yyyy: e.getUTCFullYear()
                    };
                    s.dd = (s.d < 10 ? "0" : "") + s.d, s.mm = (s.m < 10 ? "0" : "") + s.m, e = [];
                    for (var n = _.extend([], t.separators), a = 0, o = t.parts.length; a <= o; a++) n.length && e.push(n.shift()), e.push(s[t.parts[a]]);
                    return e.join("")
                },
                headTemplate: '<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',
                contTemplate: '<tbody><tr><td colspan="7"></td></tr></tbody>',
                footTemplate: '<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'
            };
        E.template = '<div class="datepicker"><div class="datepicker-days"><table class="table-sm">' + E.headTemplate + "<tbody></tbody>" + E.footTemplate + '</table></div><div class="datepicker-months"><table class="table-sm">' + E.headTemplate + E.contTemplate + E.footTemplate + '</table></div><div class="datepicker-years"><table class="table-sm">' + E.headTemplate + E.contTemplate + E.footTemplate + '</table></div><div class="datepicker-decades"><table class="table-sm">' + E.headTemplate + E.contTemplate + E.footTemplate + '</table></div><div class="datepicker-centuries"><table class="table-sm">' + E.headTemplate + E.contTemplate + E.footTemplate + "</table></div></div>", _.fn.datepicker.DPGlobal = E, _.fn.datepicker.noConflict = function() {
            return _.fn.datepicker = s, this
        }, _.fn.datepicker.version = "1.7.0-dev", _(document).on("focus.datepicker.data-api click.datepicker.data-api", '[data-provide="datepicker"]', function(e) {
            var t = _(this);
            t.data("datepicker") || (e.preventDefault(), n.call(t, "show"))
        }), _(function() {
            n.call(_('[data-provide="datepicker-inline"]'))
        })
    }), ! function(g) {
        function l(e, t, i) {
            switch (arguments.length) {
                case 2:
                    return null != e ? e : t;
                case 3:
                    return null != e ? e : null != t ? t : i;
                default:
                    throw new Error("Implement me")
            }
        }

        function o(e, t) {
            return ge.call(e, t)
        }

        function r() {
            return {
                empty: !1,
                unusedTokens: [],
                unusedInput: [],
                overflow: -2,
                charsLeftOver: 0,
                nullInput: !1,
                invalidMonth: null,
                invalidFormat: !1,
                userInvalidated: !1,
                iso: !1
            }
        }

        function F(e) {
            !1 === _.suppressDeprecationWarnings && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + e)
        }

        function t(e, t) {
            var i = !0;
            return c(function() {
                return i && (F(e), i = !1), t.apply(this, arguments)
            }, t)
        }

        function O(t, i) {
            return function(e) {
                return n(t.call(this, e), i)
            }
        }

        function q() {}

        function s(e, t) {
            !1 !== t && G(e), N(this, e), this._d = new Date(+e._d), !1 === Je && (Je = !0, _.updateOffset(this), Je = !1)
        }

        function d(e) {
            var e = H(e),
                t = e.year || 0,
                i = e.quarter || 0,
                s = e.month || 0,
                n = e.week || 0,
                a = e.day || 0,
                o = e.hour || 0,
                r = e.minute || 0,
                l = e.second || 0,
                e = e.millisecond || 0;
            this._milliseconds = +e + 1e3 * l + 6e4 * r + 36e5 * o, this._days = +a + 7 * n, this._months = +s + 3 * i + 12 * t, this._data = {}, this._locale = _.localeData(), this._bubble()
        }

        function c(e, t) {
            for (var i in t) o(t, i) && (e[i] = t[i]);
            return o(t, "toString") && (e.toString = t.toString), o(t, "valueOf") && (e.valueOf = t.valueOf), e
        }

        function N(e, t) {
            var i, s, n;
            if (void 0 !== t._isAMomentObject && (e._isAMomentObject = t._isAMomentObject), void 0 !== t._i && (e._i = t._i), void 0 !== t._f && (e._f = t._f), void 0 !== t._l && (e._l = t._l), void 0 !== t._strict && (e._strict = t._strict), void 0 !== t._tzm && (e._tzm = t._tzm), void 0 !== t._isUTC && (e._isUTC = t._isUTC), void 0 !== t._offset && (e._offset = t._offset), void 0 !== t._pf && (e._pf = t._pf), void 0 !== t._locale && (e._locale = t._locale), 0 < D.length)
                for (i in D) s = D[i], n = t[s], void 0 !== n && (e[s] = n);
            return e
        }

        function u(e) {
            return e < 0 ? Math.ceil(e) : Math.floor(e)
        }

        function n(e, t, i) {
            for (var s = "" + Math.abs(e), e = 0 <= e; s.length < t;) s = "0" + s;
            return (e ? i ? "+" : "" : "-") + s
        }

        function R(e, t) {
            var i = {
                milliseconds: 0,
                months: 0
            };
            return i.months = t.month() - e.month() + 12 * (t.year() - e.year()), e.clone().add(i.months, "M").isAfter(t) && --i.months, i.milliseconds = +t - +e.clone().add(i.months, "M"), i
        }

        function B(n, a) {
            return function(e, t) {
                var i, s;
                return null === t || isNaN(+t) || (s = "moment()." + (i = a) + "(period, number) is deprecated. Please use moment()." + a + "(number, period).", Ge[i] || (F(s), Ge[i] = !0), s = e, e = t, t = s), U(this, _.duration(e = "string" == typeof e ? +e : e, t), n), this
            }
        }

        function U(e, t, i, s) {
            var n = t._milliseconds,
                a = t._days,
                t = t._months;
            s = null == s || s, n && e._d.setTime(+e._d + n * i), a && ce(e, "Date", de(e, "Date") + a * i), t && le(e, de(e, "Month") + t * i), s && _.updateOffset(e, a || t)
        }

        function h(e) {
            return "[object Array]" === Object.prototype.toString.call(e)
        }

        function a(e) {
            return "[object Date]" === Object.prototype.toString.call(e) || e instanceof Date
        }

        function V(e, t, i) {
            for (var s = Math.min(e.length, t.length), n = Math.abs(e.length - t.length), a = 0, o = 0; o < s; o++)(i && e[o] !== t[o] || !i && v(e[o]) !== v(t[o])) && a++;
            return a + n
        }

        function p(e) {
            var t;
            return e && (t = e.toLowerCase().replace(/(.)s$/, "$1"), e = Ve[e] || He[t] || t), e
        }

        function H(e) {
            var t, i, s = {};
            for (i in e) o(e, i) && (t = p(i), t) && (s[t] = e[i]);
            return s
        }

        function v(e) {
            var e = +e,
                t = 0;
            return t = 0 != e && isFinite(e) ? 0 <= e ? Math.floor(e) : Math.ceil(e) : t
        }

        function f(e, t) {
            return new Date(Date.UTC(e, t + 1, 0)).getUTCDate()
        }

        function z(e, t, i) {
            return w(_([e, 11, 31 + t - i]), t, i).week
        }

        function W(e) {
            return Y(e) ? 366 : 365
        }

        function Y(e) {
            return e % 4 == 0 && e % 100 != 0 || e % 400 == 0
        }

        function G(e) {
            var t;
            e._a && -2 === e._pf.overflow && (t = e._a[S] < 0 || 11 < e._a[S] ? S : e._a[T] < 1 || e._a[T] > f(e._a[x], e._a[S]) ? T : e._a[E] < 0 || 24 < e._a[E] || 24 === e._a[E] && (0 !== e._a[A] || 0 !== e._a[P] || 0 !== e._a[$]) ? E : e._a[A] < 0 || 59 < e._a[A] ? A : e._a[P] < 0 || 59 < e._a[P] ? P : e._a[$] < 0 || 999 < e._a[$] ? $ : -1, e._pf._overflowDayOfYear && (t < x || T < t) && (t = T), e._pf.overflow = t)
        }

        function X(e) {
            return null == e._isValid && (e._isValid = !isNaN(e._d.getTime()) && e._pf.overflow < 0 && !e._pf.empty && !e._pf.invalidMonth && !e._pf.nullInput && !e._pf.invalidFormat && !e._pf.userInvalidated, e._strict) && (e._isValid = e._isValid && 0 === e._pf.charsLeftOver && 0 === e._pf.unusedTokens.length && e._pf.bigHour === g), e._isValid
        }

        function J(e) {
            return e && e.toLowerCase().replace("_", "-")
        }

        function K(e) {
            var t;
            if (!M[e] && ve) try {
                t = _.locale(), require("./locale/" + e), _.locale(t)
            } catch (e) {}
            return M[e]
        }

        function m(e, t) {
            var i;
            return t._isUTC ? (t = t.clone(), i = (_.isMoment(e) || a(e) ? +e : +_(e)) - +t, t._d.setTime(+t._d + i), _.updateOffset(t, !1), t) : _(e).local()
        }

        function i(e, t) {
            return e.isValid() ? (t = Q(t, e.localeData()), ze[t] || (ze[t] = function(i) {
                for (var e, s = i.match(_e), n = 0, a = s.length; n < a; n++) s[n] = j[s[n]] || ((e = s[n]).match(/\[[\s\S]/) ? e.replace(/^\[|\]$/g, "") : e.replace(/\\/g, ""));
                return function(e) {
                    var t = "";
                    for (n = 0; n < a; n++) t += s[n] instanceof Function ? s[n].call(e, i) : s[n];
                    return t
                }
            }(t)), ze[t](e)) : e.localeData().invalidDate()
        }

        function Q(e, t) {
            function i(e) {
                return t.longDateFormat(e) || e
            }
            var s = 5;
            for (I.lastIndex = 0; 0 <= s && I.test(e);) e = e.replace(I, i), I.lastIndex = 0, --s;
            return e
        }

        function y(e) {
            var e = (e = e || "").match(Ae) || [],
                e = ((e[e.length - 1] || []) + "").match(Be) || ["-", 0, 0],
                t = 60 * e[1] + v(e[2]);
            return "+" === e[0] ? t : -t
        }

        function Z(e) {
            var t, i, s, n, a, o, r = e._w;
            null != r.GG || null != r.W || null != r.E ? (i = 1, a = 4, t = l(r.GG, e._a[x], w(_(), 1, 4).year), s = l(r.W, 1), n = l(r.E, 1)) : (i = e._locale._week.dow, a = e._locale._week.doy, t = l(r.gg, e._a[x], w(_(), i, a).year), s = l(r.w, 1), null != r.d ? (n = r.d) < i && ++s : n = null != r.e ? r.e + i : i), r = s, s = n, n = a, a = i, o = ne(i = t, 0, 1).getUTCDay(), o = {
                year: 0 < (r = 7 * (r - 1) + ((s = null != s ? s : a) - a) + (a - (o = 0 === o ? 7 : o) + (n < o ? 7 : 0) - (o < a ? 7 : 0)) + 1) ? i : i - 1,
                dayOfYear: 0 < r ? r : W(i - 1) + r
            }, e._a[x] = o.year, e._dayOfYear = o.dayOfYear
        }

        function b(e) {
            var t, i, s, n, a = [];
            if (!e._d) {
                for (s = e, n = new Date, i = s._useUTC ? [n.getUTCFullYear(), n.getUTCMonth(), n.getUTCDate()] : [n.getFullYear(), n.getMonth(), n.getDate()], e._w && null == e._a[T] && null == e._a[S] && Z(e), e._dayOfYear && (s = l(e._a[x], i[x]), e._dayOfYear > W(s) && (e._pf._overflowDayOfYear = !0), n = ne(s, 0, e._dayOfYear), e._a[S] = n.getUTCMonth(), e._a[T] = n.getUTCDate()), t = 0; t < 3 && null == e._a[t]; ++t) e._a[t] = a[t] = i[t];
                for (; t < 7; t++) e._a[t] = a[t] = null == e._a[t] ? 2 === t ? 1 : 0 : e._a[t];
                24 === e._a[E] && 0 === e._a[A] && 0 === e._a[P] && 0 === e._a[$] && (e._nextDay = !0, e._a[E] = 0), e._d = (e._useUTC ? ne : se).apply(null, a), null != e._tzm && e._d.setUTCMinutes(e._d.getUTCMinutes() - e._tzm), e._nextDay && (e._a[E] = 24)
            }
        }

        function ee(e) {
            if (e._f === _.ISO_8601) return te(e);
            e._a = [], e._pf.empty = !0;
            for (var t, i, s, n, a, o = "" + e._i, r = o.length, l = 0, d = Q(e._f, e._locale).match(_e) || [], c = 0; c < d.length; c++)
                if (i = d[c], (t = (o.match(function(e, t) {
                        var i = t._strict;
                        switch (e) {
                            case "Q":
                                return De;
                            case "DDDD":
                                return Le;
                            case "YYYY":
                            case "GGGG":
                            case "gggg":
                                return i ? je : xe;
                            case "Y":
                            case "G":
                            case "g":
                                return Oe;
                            case "YYYYYY":
                            case "YYYYY":
                            case "GGGGG":
                            case "ggggg":
                                return i ? Fe : Se;
                            case "S":
                                if (i) return De;
                            case "SS":
                                if (i) return Ie;
                            case "SSS":
                                if (i) return Le;
                            case "DDD":
                                return ke;
                            case "MMM":
                            case "MMMM":
                            case "dd":
                            case "ddd":
                            case "dddd":
                                return Ee;
                            case "a":
                            case "A":
                                return t._locale._meridiemParse;
                            case "x":
                                return $e;
                            case "X":
                                return Me;
                            case "Z":
                            case "ZZ":
                                return Ae;
                            case "T":
                                return Pe;
                            case "SSSS":
                                return Te;
                            case "MM":
                            case "DD":
                            case "YY":
                            case "GG":
                            case "gg":
                            case "HH":
                            case "hh":
                            case "mm":
                            case "ss":
                            case "ww":
                            case "WW":
                                return i ? Ie : Ce;
                            case "M":
                            case "D":
                            case "d":
                            case "H":
                            case "h":
                            case "m":
                            case "s":
                            case "w":
                            case "W":
                            case "e":
                            case "E":
                                return Ce;
                            case "Do":
                                return i ? t._locale._ordinalParse : t._locale._ordinalParseLenient;
                            default:
                                return new RegExp(e.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function(e, t, i, s, n) {
                                    return t || i || s || n
                                }).replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&"))
                        }
                    }(i, e)) || [])[0]) && (0 < (s = o.substr(0, o.indexOf(t))).length && e._pf.unusedInput.push(s), o = o.slice(o.indexOf(t) + t.length), l += t.length), j[i]) {
                    t ? e._pf.empty = !1 : e._pf.unusedTokens.push(i), m = f = p = h = u = void 0;
                    var u = i,
                        h = t,
                        p = e,
                        f, m = p._a;
                    switch (u) {
                        case "Q":
                            null != h && (m[S] = 3 * (v(h) - 1));
                            break;
                        case "M":
                        case "MM":
                            null != h && (m[S] = v(h) - 1);
                            break;
                        case "MMM":
                        case "MMMM":
                            null != (f = p._locale.monthsParse(h, u, p._strict)) ? m[S] = f : p._pf.invalidMonth = h;
                            break;
                        case "D":
                        case "DD":
                            null != h && (m[T] = v(h));
                            break;
                        case "Do":
                            null != h && (m[T] = v(parseInt(h.match(/\d{1,2}/)[0], 10)));
                            break;
                        case "DDD":
                        case "DDDD":
                            null != h && (p._dayOfYear = v(h));
                            break;
                        case "YY":
                            m[x] = _.parseTwoDigitYear(h);
                            break;
                        case "YYYY":
                        case "YYYYY":
                        case "YYYYYY":
                            m[x] = v(h);
                            break;
                        case "a":
                        case "A":
                            p._meridiem = h;
                            break;
                        case "h":
                        case "hh":
                            p._pf.bigHour = !0;
                        case "H":
                        case "HH":
                            m[E] = v(h);
                            break;
                        case "m":
                        case "mm":
                            m[A] = v(h);
                            break;
                        case "s":
                        case "ss":
                            m[P] = v(h);
                            break;
                        case "S":
                        case "SS":
                        case "SSS":
                        case "SSSS":
                            m[$] = v(1e3 * ("0." + h));
                            break;
                        case "x":
                            p._d = new Date(v(h));
                            break;
                        case "X":
                            p._d = new Date(1e3 * parseFloat(h));
                            break;
                        case "Z":
                        case "ZZ":
                            p._useUTC = !0, p._tzm = y(h);
                            break;
                        case "dd":
                        case "ddd":
                        case "dddd":
                            null != (f = p._locale.weekdaysParse(h)) ? (p._w = p._w || {}, p._w.d = f) : p._pf.invalidWeekday = h;
                            break;
                        case "w":
                        case "ww":
                        case "W":
                        case "WW":
                        case "d":
                        case "e":
                        case "E":
                            u = u.substr(0, 1);
                        case "gggg":
                        case "GGGG":
                        case "GGGGG":
                            u = u.substr(0, 2), h && (p._w = p._w || {}, p._w[u] = v(h));
                            break;
                        case "gg":
                        case "GG":
                            p._w = p._w || {}, p._w[u] = _.parseTwoDigitYear(h)
                    }
                } else e._strict && !t && e._pf.unusedTokens.push(i);
            e._pf.charsLeftOver = r - l, 0 < o.length && e._pf.unusedInput.push(o), !0 === e._pf.bigHour && e._a[E] <= 12 && (e._pf.bigHour = g), e._a[E] = (r = e._locale, n = e._a[E], null == (a = e._meridiem) ? n : null != r.meridiemHour ? r.meridiemHour(n, a) : (null != r.isPM && ((r = r.isPM(a)) && n < 12 && (n += 12), r || 12 !== n || (n = 0)), n)), b(e), G(e)
        }

        function te(e) {
            var t, i, s = e._i,
                n = qe.exec(s);
            if (n) {
                for (e._pf.iso = !0, t = 0, i = Ne.length; t < i; t++)
                    if (Ne[t][1].exec(s)) {
                        e._f = Ne[t][0] + (n[6] || " ");
                        break
                    } for (t = 0, i = Re.length; t < i; t++)
                    if (Re[t][1].exec(s)) {
                        e._f += Re[t][0];
                        break
                    } s.match(Ae) && (e._f += "Z"), ee(e)
            } else e._isValid = !1
        }

        function ie(e) {
            var t, i, s = e._i;
            s === g ? e._d = new Date : a(s) ? e._d = new Date(+s) : null !== (i = ye.exec(s)) ? e._d = new Date(+i[1]) : "string" == typeof s ? (te(i = e), !1 === i._isValid && (delete i._isValid, _.createFromInputFallback(i))) : h(s) ? (e._a = function(e, t) {
                for (var i = [], s = 0; s < e.length; ++s) i.push(t(e[s], s));
                return i
            }(s.slice(0), function(e) {
                return parseInt(e, 10)
            }), b(e)) : "object" == typeof s ? (i = e)._d || (t = H(i._i), i._a = [t.year, t.month, t.day || t.date, t.hour, t.minute, t.second, t.millisecond], b(i)) : "number" == typeof s ? e._d = new Date(s) : _.createFromInputFallback(e)
        }

        function se(e, t, i, s, n, a, o) {
            t = new Date(e, t, i, s, n, a, o);
            return e < 1970 && t.setFullYear(e), t
        }

        function ne(e) {
            var t = new Date(Date.UTC.apply(null, arguments));
            return e < 1970 && t.setUTCFullYear(e), t
        }

        function ae(e, t, i) {
            var s = _.duration(e).abs(),
                n = k(s.as("s")),
                a = k(s.as("m")),
                o = k(s.as("h")),
                r = k(s.as("d")),
                l = k(s.as("M")),
                s = k(s.as("y")),
                n = (n < L.s ? ["s", n] : 1 === a && ["m"]) || (a < L.m ? ["mm", a] : 1 === o && ["h"]) || (o < L.h ? ["hh", o] : 1 === r && ["d"]) || (r < L.d ? ["dd", r] : 1 === l && ["M"]) || (l < L.M ? ["MM", l] : 1 === s && ["y"]) || ["yy", s];
            return n[2] = t, n[3] = 0 < +e, n[4] = i,
                function(e, t, i, s, n) {
                    return n.relativeTime(t || 1, !!i, e, s)
                }.apply({}, n)
        }

        function w(e, t, i) {
            var t = i - t,
                i = i - e.day();
            return t < i && (i -= 7), i < t - 7 && (i += 7), t = _(e).add(i, "d"), {
                week: Math.ceil(t.dayOfYear() / 7),
                year: t.year()
            }
        }

        function oe(e) {
            var t = e._i,
                i = e._f;
            return e._locale = e._locale || _.localeData(e._l), null === t || i === g && "" === t ? _.invalid({
                nullInput: !0
            }) : ("string" == typeof t && (e._i = t = e._locale.preparse(t)), _.isMoment(t) ? new s(t, !0) : ((i ? h(i) ? function(e) {
                var t, i, s, n, a;
                if (0 === e._f.length) return e._pf.invalidFormat = !0, e._d = new Date(NaN);
                for (n = 0; n < e._f.length; n++) a = 0, t = N({}, e), null != e._useUTC && (t._useUTC = e._useUTC), t._pf = r(), t._f = e._f[n], ee(t), X(t) && (a = (a += t._pf.charsLeftOver) + 10 * t._pf.unusedTokens.length, t._pf.score = a, null == s || a < s) && (s = a, i = t);
                c(e, i || t)
            } : ee : ie)(e), (t = new s(e))._nextDay && (t.add(1, "d"), t._nextDay = g), t))
        }

        function re(e, t) {
            var i, s;
            if (!(t = 1 === t.length && h(t[0]) ? t[0] : t).length) return _();
            for (i = t[0], s = 1; s < t.length; ++s) t[s][e](i) && (i = t[s]);
            return i
        }

        function le(e, t) {
            var i;
            return "string" == typeof t && "number" != typeof(t = e.localeData().monthsParse(t)) || (i = Math.min(e.date(), f(e.year(), t)), e._d["set" + (e._isUTC ? "UTC" : "") + "Month"](t, i)), e
        }

        function de(e, t) {
            return e._d["get" + (e._isUTC ? "UTC" : "") + t]()
        }

        function ce(e, t, i) {
            "Month" === t ? le(e, i) : e._d["set" + (e._isUTC ? "UTC" : "") + t](i)
        }

        function e(t, i) {
            return function(e) {
                return null != e ? (ce(this, t, e), _.updateOffset(this, i), this) : de(this, t)
            }
        }

        function ue(e) {
            return 400 * e / 146097
        }

        function he(e) {
            return 146097 * e / 400
        }

        function pe(e) {
            "undefined" == typeof ender && (fe = me.moment, me.moment = e ? t("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.", _) : _)
        }
        for (var _, fe, C, me = "undefined" == typeof global || "undefined" != typeof window && window !== global.window ? this : global, k = Math.round, ge = Object.prototype.hasOwnProperty, x = 0, S = 1, T = 2, E = 3, A = 4, P = 5, $ = 6, M = {}, D = [], ve = "undefined" != typeof module && module && module.exports, ye = /^\/?Date\((\-?\d+)/i, be = /(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/, we = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/, _e = /(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g, I = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, Ce = /\d\d?/, ke = /\d{1,3}/, xe = /\d{1,4}/, Se = /[+\-]?\d{1,6}/, Te = /\d+/, Ee = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i, Ae = /Z|[\+\-]\d\d:?\d\d/gi, Pe = /T/i, $e = /[\+\-]?\d+/, Me = /[\+\-]?\d+(\.\d{1,3})?/, De = /\d/, Ie = /\d\d/, Le = /\d{3}/, je = /\d{4}/, Fe = /[+-]?\d{6}/, Oe = /[+-]?\d+/, qe = /^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, Ne = [
                ["YYYYYY-MM-DD", /[+-]\d{6}-\d{2}-\d{2}/],
                ["YYYY-MM-DD", /\d{4}-\d{2}-\d{2}/],
                ["GGGG-[W]WW-E", /\d{4}-W\d{2}-\d/],
                ["GGGG-[W]WW", /\d{4}-W\d{2}/],
                ["YYYY-DDD", /\d{4}-\d{3}/]
            ], Re = [
                ["HH:mm:ss.SSSS", /(T| )\d\d:\d\d:\d\d\.\d+/],
                ["HH:mm:ss", /(T| )\d\d:\d\d:\d\d/],
                ["HH:mm", /(T| )\d\d:\d\d/],
                ["HH", /(T| )\d\d/]
            ], Be = /([\+\-]|\d\d)/gi, Ue = ("Date|Hours|Minutes|Seconds|Milliseconds".split("|"), {
                Milliseconds: 1,
                Seconds: 1e3,
                Minutes: 6e4,
                Hours: 36e5,
                Days: 864e5,
                Months: 2592e6,
                Years: 31536e6
            }), Ve = {
                ms: "millisecond",
                s: "second",
                m: "minute",
                h: "hour",
                d: "day",
                D: "date",
                w: "week",
                W: "isoWeek",
                M: "month",
                Q: "quarter",
                y: "year",
                DDD: "dayOfYear",
                e: "weekday",
                E: "isoWeekday",
                gg: "weekYear",
                GG: "isoWeekYear"
            }, He = {
                dayofyear: "dayOfYear",
                isoweekday: "isoWeekday",
                isoweek: "isoWeek",
                weekyear: "weekYear",
                isoweekyear: "isoWeekYear"
            }, ze = {}, L = {
                s: 45,
                m: 45,
                h: 22,
                d: 26,
                M: 11
            }, We = "DDD w W M D d".split(" "), Ye = "M D H h m s w W".split(" "), j = {
                M: function() {
                    return this.month() + 1
                },
                MMM: function(e) {
                    return this.localeData().monthsShort(this, e)
                },
                MMMM: function(e) {
                    return this.localeData().months(this, e)
                },
                D: function() {
                    return this.date()
                },
                DDD: function() {
                    return this.dayOfYear()
                },
                d: function() {
                    return this.day()
                },
                dd: function(e) {
                    return this.localeData().weekdaysMin(this, e)
                },
                ddd: function(e) {
                    return this.localeData().weekdaysShort(this, e)
                },
                dddd: function(e) {
                    return this.localeData().weekdays(this, e)
                },
                w: function() {
                    return this.week()
                },
                W: function() {
                    return this.isoWeek()
                },
                YY: function() {
                    return n(this.year() % 100, 2)
                },
                YYYY: function() {
                    return n(this.year(), 4)
                },
                YYYYY: function() {
                    return n(this.year(), 5)
                },
                YYYYYY: function() {
                    var e = this.year();
                    return (0 <= e ? "+" : "-") + n(Math.abs(e), 6)
                },
                gg: function() {
                    return n(this.weekYear() % 100, 2)
                },
                gggg: function() {
                    return n(this.weekYear(), 4)
                },
                ggggg: function() {
                    return n(this.weekYear(), 5)
                },
                GG: function() {
                    return n(this.isoWeekYear() % 100, 2)
                },
                GGGG: function() {
                    return n(this.isoWeekYear(), 4)
                },
                GGGGG: function() {
                    return n(this.isoWeekYear(), 5)
                },
                e: function() {
                    return this.weekday()
                },
                E: function() {
                    return this.isoWeekday()
                },
                a: function() {
                    return this.localeData().meridiem(this.hours(), this.minutes(), !0)
                },
                A: function() {
                    return this.localeData().meridiem(this.hours(), this.minutes(), !1)
                },
                H: function() {
                    return this.hours()
                },
                h: function() {
                    return this.hours() % 12 || 12
                },
                m: function() {
                    return this.minutes()
                },
                s: function() {
                    return this.seconds()
                },
                S: function() {
                    return v(this.milliseconds() / 100)
                },
                SS: function() {
                    return n(v(this.milliseconds() / 10), 2)
                },
                SSS: function() {
                    return n(this.milliseconds(), 3)
                },
                SSSS: function() {
                    return n(this.milliseconds(), 3)
                },
                Z: function() {
                    var e = this.utcOffset(),
                        t = "+";
                    return e < 0 && (e = -e, t = "-"), t + n(v(e / 60), 2) + ":" + n(v(e) % 60, 2)
                },
                ZZ: function() {
                    var e = this.utcOffset(),
                        t = "+";
                    return e < 0 && (e = -e, t = "-"), t + n(v(e / 60), 2) + n(v(e) % 60, 2)
                },
                z: function() {
                    return this.zoneAbbr()
                },
                zz: function() {
                    return this.zoneName()
                },
                x: function() {
                    return this.valueOf()
                },
                X: function() {
                    return this.unix()
                },
                Q: function() {
                    return this.quarter()
                }
            }, Ge = {}, Xe = ["months", "monthsShort", "weekdays", "weekdaysShort", "weekdaysMin"], Je = !1; We.length;) C = We.pop(), j[C + "o"] = function(t, i) {
            return function(e) {
                return this.localeData().ordinal(t.call(this, e), i)
            }
        }(j[C], C);
        for (; Ye.length;) C = Ye.pop(), j[C + C] = O(j[C], 2);
        for (j.DDDD = O(j.DDD, 3), c(q.prototype, {
                set: function(e) {
                    var t, i;
                    for (i in e) t = e[i], "function" == typeof t ? this[i] = t : this["_" + i] = t;
                    this._ordinalParseLenient = new RegExp(this._ordinalParse.source + "|" + /\d{1,2}/.source)
                },
                _months: "January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
                months: function(e) {
                    return this._months[e.month()]
                },
                _monthsShort: "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),
                monthsShort: function(e) {
                    return this._monthsShort[e.month()]
                },
                monthsParse: function(e, t, i) {
                    var s, n;
                    for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), s = 0; s < 12; s++) {
                        if (n = _.utc([2e3, s]), i && !this._longMonthsParse[s] && (this._longMonthsParse[s] = new RegExp("^" + this.months(n, "").replace(".", "") + "$", "i"), this._shortMonthsParse[s] = new RegExp("^" + this.monthsShort(n, "").replace(".", "") + "$", "i")), i || this._monthsParse[s] || (n = "^" + this.months(n, "") + "|^" + this.monthsShort(n, ""), this._monthsParse[s] = new RegExp(n.replace(".", ""), "i")), i && "MMMM" === t && this._longMonthsParse[s].test(e)) return s;
                        if (i && "MMM" === t && this._shortMonthsParse[s].test(e)) return s;
                        if (!i && this._monthsParse[s].test(e)) return s
                    }
                },
                _weekdays: "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
                weekdays: function(e) {
                    return this._weekdays[e.day()]
                },
                _weekdaysShort: "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
                weekdaysShort: function(e) {
                    return this._weekdaysShort[e.day()]
                },
                _weekdaysMin: "Su_Mo_Tu_We_Th_Fr_Sa".split("_"),
                weekdaysMin: function(e) {
                    return this._weekdaysMin[e.day()]
                },
                weekdaysParse: function(e) {
                    var t, i;
                    for (this._weekdaysParse || (this._weekdaysParse = []), t = 0; t < 7; t++)
                        if (this._weekdaysParse[t] || (i = _([2e3, 1]).day(t), i = "^" + this.weekdays(i, "") + "|^" + this.weekdaysShort(i, "") + "|^" + this.weekdaysMin(i, ""), this._weekdaysParse[t] = new RegExp(i.replace(".", ""), "i")), this._weekdaysParse[t].test(e)) return t
                },
                _longDateFormat: {
                    LTS: "h:mm:ss A",
                    LT: "h:mm A",
                    L: "MM/DD/YYYY",
                    LL: "MMMM D, YYYY",
                    LLL: "MMMM D, YYYY LT",
                    LLLL: "dddd, MMMM D, YYYY LT"
                },
                longDateFormat: function(e) {
                    var t = this._longDateFormat[e];
                    return !t && this._longDateFormat[e.toUpperCase()] && (t = this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g, function(e) {
                        return e.slice(1)
                    }), this._longDateFormat[e] = t), t
                },
                isPM: function(e) {
                    return "p" === (e + "").toLowerCase().charAt(0)
                },
                _meridiemParse: /[ap]\.?m?\.?/i,
                meridiem: function(e, t, i) {
                    return 11 < e ? i ? "pm" : "PM" : i ? "am" : "AM"
                },
                _calendar: {
                    sameDay: "[Today at] LT",
                    nextDay: "[Tomorrow at] LT",
                    nextWeek: "dddd [at] LT",
                    lastDay: "[Yesterday at] LT",
                    lastWeek: "[Last] dddd [at] LT",
                    sameElse: "L"
                },
                calendar: function(e, t, i) {
                    e = this._calendar[e];
                    return "function" == typeof e ? e.apply(t, [i]) : e
                },
                _relativeTime: {
                    future: "in %s",
                    past: "%s ago",
                    s: "a few seconds",
                    m: "a minute",
                    mm: "%d minutes",
                    h: "an hour",
                    hh: "%d hours",
                    d: "a day",
                    dd: "%d days",
                    M: "a month",
                    MM: "%d months",
                    y: "a year",
                    yy: "%d years"
                },
                relativeTime: function(e, t, i, s) {
                    var n = this._relativeTime[i];
                    return "function" == typeof n ? n(e, t, i, s) : n.replace(/%d/i, e)
                },
                pastFuture: function(e, t) {
                    e = this._relativeTime[0 < e ? "future" : "past"];
                    return "function" == typeof e ? e(t) : e.replace(/%s/i, t)
                },
                ordinal: function(e) {
                    return this._ordinal.replace("%d", e)
                },
                _ordinal: "%d",
                _ordinalParse: /\d{1,2}/,
                preparse: function(e) {
                    return e
                },
                postformat: function(e) {
                    return e
                },
                week: function(e) {
                    return w(e, this._week.dow, this._week.doy).week
                },
                _week: {
                    dow: 0,
                    doy: 6
                },
                firstDayOfWeek: function() {
                    return this._week.dow
                },
                firstDayOfYear: function() {
                    return this._week.doy
                },
                _invalidDate: "Invalid date",
                invalidDate: function() {
                    return this._invalidDate
                }
            }), (_ = function(e, t, i, s) {
                var n;
                return "boolean" == typeof i && (s = i, i = g), (n = {
                    _isAMomentObject: !0
                })._i = e, n._f = t, n._l = i, n._strict = s, n._isUTC = !1, n._pf = r(), oe(n)
            }).suppressDeprecationWarnings = !1, _.createFromInputFallback = t("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.", function(e) {
                e._d = new Date(e._i + (e._useUTC ? " UTC" : ""))
            }), _.min = function() {
                return re("isBefore", [].slice.call(arguments, 0))
            }, _.max = function() {
                return re("isAfter", [].slice.call(arguments, 0))
            }, _.utc = function(e, t, i, s) {
                var n;
                return "boolean" == typeof i && (s = i, i = g), (n = {
                    _isAMomentObject: !0,
                    _useUTC: !0,
                    _isUTC: !0
                })._l = i, n._i = e, n._f = t, n._strict = s, n._pf = r(), oe(n).utc()
            }, _.unix = function(e) {
                return _(1e3 * e)
            }, _.duration = function(e, t) {
                var i, s, n, a = e;
                return _.isDuration(e) ? a = {
                    ms: e._milliseconds,
                    d: e._days,
                    M: e._months
                } : "number" == typeof e ? (a = {}, t ? a[t] = e : a.milliseconds = e) : (t = be.exec(e)) ? (i = "-" === t[1] ? -1 : 1, a = {
                    y: 0,
                    d: v(t[T]) * i,
                    h: v(t[E]) * i,
                    m: v(t[A]) * i,
                    s: v(t[P]) * i,
                    ms: v(t[$]) * i
                }) : (t = we.exec(e)) ? (i = "-" === t[1] ? -1 : 1, a = {
                    y: (s = function(e) {
                        e = e && parseFloat(e.replace(",", "."));
                        return (isNaN(e) ? 0 : e) * i
                    })(t[2]),
                    M: s(t[3]),
                    d: s(t[4]),
                    h: s(t[5]),
                    m: s(t[6]),
                    s: s(t[7]),
                    w: s(t[8])
                }) : null == a ? a = {} : "object" == typeof a && ("from" in a || "to" in a) && (s = _(a.from), t = m(t = _(a.to), s), s.isBefore(t) ? n = R(s, t) : ((n = R(t, s)).milliseconds = -n.milliseconds, n.months = -n.months), t = n, (a = {}).ms = t.milliseconds, a.M = t.months), n = new d(a), _.isDuration(e) && o(e, "_locale") && (n._locale = e._locale), n
            }, _.version = "2.9.0", _.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ", _.ISO_8601 = function() {}, _.momentProperties = D, _.updateOffset = function() {}, _.relativeTimeThreshold = function(e, t) {
                return L[e] !== g && (t === g ? L[e] : (L[e] = t, !0))
            }, _.lang = t("moment.lang is deprecated. Use moment.locale instead.", function(e, t) {
                return _.locale(e, t)
            }), _.locale = function(e, t) {
                return e && (t = void 0 !== t ? _.defineLocale(e, t) : _.localeData(e)) && (_.duration._locale = _._locale = t), _._locale._abbr
            }, _.defineLocale = function(e, t) {
                return null !== t ? (t.abbr = e, M[e] || (M[e] = new q), M[e].set(t), _.locale(e), M[e]) : (delete M[e], null)
            }, _.langData = t("moment.langData is deprecated. Use moment.localeData instead.", function(e) {
                return _.localeData(e)
            }), _.localeData = function(e) {
                var t;
                if (!(e = e && e._locale && e._locale._abbr ? e._locale._abbr : e)) return _._locale;
                if (!h(e)) {
                    if (t = K(e)) return t;
                    e = [e]
                }
                for (var i, s, n, a, o = e, r = 0; r < o.length;) {
                    for (i = (a = J(o[r]).split("-")).length, s = (s = J(o[r + 1])) ? s.split("-") : null; 0 < i;) {
                        if (n = K(a.slice(0, i).join("-"))) return n;
                        if (s && s.length >= i && V(a, s, !0) >= i - 1) break;
                        i--
                    }
                    r++
                }
                return null
            }, _.isMoment = function(e) {
                return e instanceof s || null != e && o(e, "_isAMomentObject")
            }, _.isDuration = function(e) {
                return e instanceof d
            }, C = Xe.length - 1; 0 <= C; --C) ! function(o) {
            var r, l;
            if (0 === o.indexOf("week")) r = 7, l = "day";
            else {
                if (0 !== o.indexOf("month")) return;
                r = 12, l = "month"
            }
            _[o] = function(t, e) {
                var i, s, n = _._locale[o],
                    a = [];
                if ("number" == typeof t && (e = t, t = g), s = function(e) {
                        e = _().utc().set(l, e);
                        return n.call(_._locale, e, t || "")
                    }, null != e) return s(e);
                for (i = 0; i < r; i++) a.push(s(i));
                return a
            }
        }(Xe[C]);
        for (C in _.normalizeUnits = p, _.invalid = function(e) {
                var t = _.utc(NaN);
                return null != e ? c(t._pf, e) : t._pf.userInvalidated = !0, t
            }, _.parseZone = function() {
                return _.apply(null, arguments).parseZone()
            }, _.parseTwoDigitYear = function(e) {
                return v(e) + (68 < v(e) ? 1900 : 2e3)
            }, _.isDate = a, c(_.fn = s.prototype, {
                clone: function() {
                    return _(this)
                },
                valueOf: function() {
                    return +this._d - 6e4 * (this._offset || 0)
                },
                unix: function() {
                    return Math.floor(+this / 1e3)
                },
                toString: function() {
                    return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")
                },
                toDate: function() {
                    return this._offset ? new Date(+this) : this._d
                },
                toISOString: function() {
                    var e = _(this).utc();
                    return 0 < e.year() && e.year() <= 9999 ? "function" == typeof Date.prototype.toISOString ? this.toDate().toISOString() : i(e, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : i(e, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")
                },
                toArray: function() {
                    return [this.year(), this.month(), this.date(), this.hours(), this.minutes(), this.seconds(), this.milliseconds()]
                },
                isValid: function() {
                    return X(this)
                },
                isDSTShifted: function() {
                    return !!this._a && this.isValid() && 0 < V(this._a, (this._isUTC ? _.utc(this._a) : _(this._a)).toArray())
                },
                parsingFlags: function() {
                    return c({}, this._pf)
                },
                invalidAt: function() {
                    return this._pf.overflow
                },
                utc: function(e) {
                    return this.utcOffset(0, e)
                },
                local: function(e) {
                    return this._isUTC && (this.utcOffset(0, e), this._isUTC = !1, e) && this.subtract(this._dateUtcOffset(), "m"), this
                },
                format: function(e) {
                    e = i(this, e || _.defaultFormat);
                    return this.localeData().postformat(e)
                },
                add: B(1, "add"),
                subtract: B(-1, "subtract"),
                diff: function(e, t, i) {
                    var s, n, a, o, e = m(e, this),
                        r = 6e4 * (e.utcOffset() - this.utcOffset());
                    return "year" === (t = p(t)) || "month" === t || "quarter" === t ? (s = this, a = 12 * ((n = e).year() - s.year()) + (n.month() - s.month()), o = s.clone().add(a, "months"), n = n - o < 0 ? (n - o) / (o - s.clone().add(a - 1, "months")) : (n - o) / (s.clone().add(1 + a, "months") - o), s = -(a + n), "quarter" === t ? s /= 3 : "year" === t && (s /= 12)) : (o = this - e, s = "second" === t ? o / 1e3 : "minute" === t ? o / 6e4 : "hour" === t ? o / 36e5 : "day" === t ? (o - r) / 864e5 : "week" === t ? (o - r) / 6048e5 : o), i ? s : u(s)
                },
                from: function(e, t) {
                    return _.duration({
                        to: this,
                        from: e
                    }).locale(this.locale()).humanize(!t)
                },
                fromNow: function(e) {
                    return this.from(_(), e)
                },
                calendar: function(e) {
                    var e = e || _(),
                        t = m(e, this).startOf("day"),
                        t = this.diff(t, "days", !0),
                        t = t < -6 ? "sameElse" : t < -1 ? "lastWeek" : t < 0 ? "lastDay" : t < 1 ? "sameDay" : t < 2 ? "nextDay" : t < 7 ? "nextWeek" : "sameElse";
                    return this.format(this.localeData().calendar(t, this, _(e)))
                },
                isLeapYear: function() {
                    return Y(this.year())
                },
                isDST: function() {
                    return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset()
                },
                day: function(e) {
                    var t = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
                    return null != e ? (e = function(e, t) {
                        if ("string" == typeof e)
                            if (isNaN(e)) {
                                if ("number" != typeof(e = t.weekdaysParse(e))) return null
                            } else e = parseInt(e, 10);
                        return e
                    }(e, this.localeData()), this.add(e - t, "d")) : t
                },
                month: e("Month", !0),
                startOf: function(e) {
                    switch (e = p(e)) {
                        case "year":
                            this.month(0);
                        case "quarter":
                        case "month":
                            this.date(1);
                        case "week":
                        case "isoWeek":
                        case "day":
                            this.hours(0);
                        case "hour":
                            this.minutes(0);
                        case "minute":
                            this.seconds(0);
                        case "second":
                            this.milliseconds(0)
                    }
                    return "week" === e ? this.weekday(0) : "isoWeek" === e && this.isoWeekday(1), "quarter" === e && this.month(3 * Math.floor(this.month() / 3)), this
                },
                endOf: function(e) {
                    return (e = p(e)) === g || "millisecond" === e ? this : this.startOf(e).add(1, "isoWeek" === e ? "week" : e).subtract(1, "ms")
                },
                isAfter: function(e, t) {
                    return "millisecond" === (t = p(void 0 !== t ? t : "millisecond")) ? +(e = _.isMoment(e) ? e : _(e)) < +this : (_.isMoment(e) ? +e : +_(e)) < +this.clone().startOf(t)
                },
                isBefore: function(e, t) {
                    return "millisecond" === (t = p(void 0 !== t ? t : "millisecond")) ? +this < +(e = _.isMoment(e) ? e : _(e)) : (e = _.isMoment(e) ? +e : +_(e), +this.clone().endOf(t) < e)
                },
                isBetween: function(e, t, i) {
                    return this.isAfter(e, i) && this.isBefore(t, i)
                },
                isSame: function(e, t) {
                    return "millisecond" === (t = p(t || "millisecond")) ? +this == +(e = _.isMoment(e) ? e : _(e)) : (e = +_(e), +this.clone().startOf(t) <= e && e <= +this.clone().endOf(t))
                },
                min: t("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548", function(e) {
                    return (e = _.apply(null, arguments)) < this ? this : e
                }),
                max: t("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548", function(e) {
                    return this < (e = _.apply(null, arguments)) ? this : e
                }),
                zone: t("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779", function(e, t) {
                    return null != e ? (this.utcOffset(e = "string" != typeof e ? -e : e, t), this) : -this.utcOffset()
                }),
                utcOffset: function(e, t) {
                    var i, s = this._offset || 0;
                    return null != e ? ("string" == typeof e && (e = y(e)), Math.abs(e) < 16 && (e *= 60), !this._isUTC && t && (i = this._dateUtcOffset()), this._offset = e, this._isUTC = !0, null != i && this.add(i, "m"), s !== e && (!t || this._changeInProgress ? U(this, _.duration(e - s, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, _.updateOffset(this, !0), this._changeInProgress = null)), this) : this._isUTC ? s : this._dateUtcOffset()
                },
                isLocal: function() {
                    return !this._isUTC
                },
                isUtcOffset: function() {
                    return this._isUTC
                },
                isUtc: function() {
                    return this._isUTC && 0 === this._offset
                },
                zoneAbbr: function() {
                    return this._isUTC ? "UTC" : ""
                },
                zoneName: function() {
                    return this._isUTC ? "Coordinated Universal Time" : ""
                },
                parseZone: function() {
                    return this._tzm ? this.utcOffset(this._tzm) : "string" == typeof this._i && this.utcOffset(y(this._i)), this
                },
                hasAlignedHourOffset: function(e) {
                    return e = e ? _(e).utcOffset() : 0, (this.utcOffset() - e) % 60 == 0
                },
                daysInMonth: function() {
                    return f(this.year(), this.month())
                },
                dayOfYear: function(e) {
                    var t = k((_(this).startOf("day") - _(this).startOf("year")) / 864e5) + 1;
                    return null == e ? t : this.add(e - t, "d")
                },
                quarter: function(e) {
                    return null == e ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (e - 1) + this.month() % 3)
                },
                weekYear: function(e) {
                    var t = w(this, this.localeData()._week.dow, this.localeData()._week.doy).year;
                    return null == e ? t : this.add(e - t, "y")
                },
                isoWeekYear: function(e) {
                    var t = w(this, 1, 4).year;
                    return null == e ? t : this.add(e - t, "y")
                },
                week: function(e) {
                    var t = this.localeData().week(this);
                    return null == e ? t : this.add(7 * (e - t), "d")
                },
                isoWeek: function(e) {
                    var t = w(this, 1, 4).week;
                    return null == e ? t : this.add(7 * (e - t), "d")
                },
                weekday: function(e) {
                    var t = (this.day() + 7 - this.localeData()._week.dow) % 7;
                    return null == e ? t : this.add(e - t, "d")
                },
                isoWeekday: function(e) {
                    return null == e ? this.day() || 7 : this.day(this.day() % 7 ? e : e - 7)
                },
                isoWeeksInYear: function() {
                    return z(this.year(), 1, 4)
                },
                weeksInYear: function() {
                    var e = this.localeData()._week;
                    return z(this.year(), e.dow, e.doy)
                },
                get: function(e) {
                    return this[e = p(e)]()
                },
                set: function(e, t) {
                    if ("object" == typeof e)
                        for (var i in e) this.set(i, e[i]);
                    else "function" == typeof this[e = p(e)] && this[e](t);
                    return this
                },
                locale: function(e) {
                    return e === g ? this._locale._abbr : (null != (e = _.localeData(e)) && (this._locale = e), this)
                },
                lang: t("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function(e) {
                    return e === g ? this.localeData() : this.locale(e)
                }),
                localeData: function() {
                    return this._locale
                },
                _dateUtcOffset: function() {
                    return 15 * -Math.round(this._d.getTimezoneOffset() / 15)
                }
            }), _.fn.millisecond = _.fn.milliseconds = e("Milliseconds", !1), _.fn.second = _.fn.seconds = e("Seconds", !1), _.fn.minute = _.fn.minutes = e("Minutes", !1), _.fn.hour = _.fn.hours = e("Hours", !0), _.fn.date = e("Date", !0), _.fn.dates = t("dates accessor is deprecated. Use date instead.", e("Date", !0)), _.fn.year = e("FullYear", !0), _.fn.years = t("years accessor is deprecated. Use year instead.", e("FullYear", !0)), _.fn.days = _.fn.day, _.fn.months = _.fn.month, _.fn.weeks = _.fn.week, _.fn.isoWeeks = _.fn.isoWeek, _.fn.quarters = _.fn.quarter, _.fn.toJSON = _.fn.toISOString, _.fn.isUTC = _.fn.isUtc, c(_.duration.fn = d.prototype, {
                _bubble: function() {
                    var e = this._milliseconds,
                        t = this._days,
                        i = this._months,
                        s = this._data;
                    s.milliseconds = e % 1e3, e = u(e / 1e3), s.seconds = e % 60, e = u(e / 60), s.minutes = e % 60, e = u(e / 60), s.hours = e % 24, t += u(e / 24), e = u(ue(t)), t -= u(he(e)), i += u(t / 30), t %= 30, e += u(i / 12), i %= 12, s.days = t, s.months = i, s.years = e
                },
                abs: function() {
                    return this._milliseconds = Math.abs(this._milliseconds), this._days = Math.abs(this._days), this._months = Math.abs(this._months), this._data.milliseconds = Math.abs(this._data.milliseconds), this._data.seconds = Math.abs(this._data.seconds), this._data.minutes = Math.abs(this._data.minutes), this._data.hours = Math.abs(this._data.hours), this._data.months = Math.abs(this._data.months), this._data.years = Math.abs(this._data.years), this
                },
                weeks: function() {
                    return u(this.days() / 7)
                },
                valueOf: function() {
                    return this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * v(this._months / 12)
                },
                humanize: function(e) {
                    var t = ae(this, !e, this.localeData());
                    return e && (t = this.localeData().pastFuture(+this, t)), this.localeData().postformat(t)
                },
                add: function(e, t) {
                    e = _.duration(e, t);
                    return this._milliseconds += e._milliseconds, this._days += e._days, this._months += e._months, this._bubble(), this
                },
                subtract: function(e, t) {
                    e = _.duration(e, t);
                    return this._milliseconds -= e._milliseconds, this._days -= e._days, this._months -= e._months, this._bubble(), this
                },
                get: function(e) {
                    return this[(e = p(e)).toLowerCase() + "s"]()
                },
                as: function(e) {
                    var t, i;
                    if ("month" === (e = p(e)) || "year" === e) return t = this._days + this._milliseconds / 864e5, i = this._months + 12 * ue(t), "month" === e ? i : i / 12;
                    switch (t = this._days + Math.round(he(this._months / 12)), e) {
                        case "week":
                            return t / 7 + this._milliseconds / 6048e5;
                        case "day":
                            return t + this._milliseconds / 864e5;
                        case "hour":
                            return 24 * t + this._milliseconds / 36e5;
                        case "minute":
                            return 24 * t * 60 + this._milliseconds / 6e4;
                        case "second":
                            return 24 * t * 60 * 60 + this._milliseconds / 1e3;
                        case "millisecond":
                            return Math.floor(24 * t * 60 * 60 * 1e3) + this._milliseconds;
                        default:
                            throw new Error("Unknown unit " + e)
                    }
                },
                lang: _.fn.lang,
                locale: _.fn.locale,
                toIsoString: t("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", function() {
                    return this.toISOString()
                }),
                toISOString: function() {
                    var e = Math.abs(this.years()),
                        t = Math.abs(this.months()),
                        i = Math.abs(this.days()),
                        s = Math.abs(this.hours()),
                        n = Math.abs(this.minutes()),
                        a = Math.abs(this.seconds() + this.milliseconds() / 1e3);
                    return this.asSeconds() ? (this.asSeconds() < 0 ? "-" : "") + "P" + (e ? e + "Y" : "") + (t ? t + "M" : "") + (i ? i + "D" : "") + (s || n || a ? "T" : "") + (s ? s + "H" : "") + (n ? n + "M" : "") + (a ? a + "S" : "") : "P0D"
                },
                localeData: function() {
                    return this._locale
                },
                toJSON: function() {
                    return this.toISOString()
                }
            }), _.duration.fn.toString = _.duration.fn.toISOString, Ue) o(Ue, C) && function(e) {
            _.duration.fn[e] = function() {
                return this._data[e]
            }
        }(C.toLowerCase());
        _.duration.fn.asMilliseconds = function() {
            return this.as("ms")
        }, _.duration.fn.asSeconds = function() {
            return this.as("s")
        }, _.duration.fn.asMinutes = function() {
            return this.as("m")
        }, _.duration.fn.asHours = function() {
            return this.as("h")
        }, _.duration.fn.asDays = function() {
            return this.as("d")
        }, _.duration.fn.asWeeks = function() {
            return this.as("weeks")
        }, _.duration.fn.asMonths = function() {
            return this.as("M")
        }, _.duration.fn.asYears = function() {
            return this.as("y")
        }, _.locale("en", {
            ordinalParse: /\d{1,2}(th|st|nd|rd)/,
            ordinal: function(e) {
                var t = e % 10;
                return e + (1 === v(e % 100 / 10) ? "th" : 1 == t ? "st" : 2 == t ? "nd" : 3 == t ? "rd" : "th")
            }
        }), ve ? module.exports = _ : "function" == typeof define && define.amd ? (define(function(e, t, i) {
            return i.config && i.config() && !0 === i.config().noGlobal && (me.moment = fe), _
        }), pe(!0)) : pe()
    }.call(this), ! function(e, t) {
        "object" == typeof exports && exports && "string" != typeof exports.nodeName ? t(exports) : "function" == typeof define && define.amd ? define(["exports"], t) : (e.Mustache = {}, t(e.Mustache))
    }(this, function(E) {
        var t = Object.prototype.toString,
            A = Array.isArray || function(e) {
                return "[object Array]" === t.call(e)
            };

        function d(e) {
            return "function" == typeof e
        }

        function P(e) {
            return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
        }

        function r(e, t) {
            return null != e && "object" == typeof e && t in e
        }
        var i = RegExp.prototype.test;
        var s = /\S/;

        function $(e) {
            return !i.call(s, e)
        }
        var n = {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#39;",
            "/": "&#x2F;",
            "`": "&#x60;",
            "=": "&#x3D;"
        };
        var M = /\s*/,
            D = /\s+/,
            I = /\s*=/,
            L = /\s*\}/,
            j = /#|\^|\/|>|\{|&|=|!/;

        function a(e, t) {
            if (!e) return [];
            var i, s, n, a = [],
                o = [],
                r = [],
                l = !1,
                d = !1;

            function c(e) {
                if ("string" == typeof e && (e = e.split(D, 2)), !A(e) || 2 !== e.length) throw new Error("Invalid tags: " + e);
                i = new RegExp(P(e[0]) + "\\s*"), s = new RegExp("\\s*" + P(e[1])), n = new RegExp("\\s*" + P("}" + e[1]))
            }
            c(t || E.tags);
            for (var u, h, p, f, m, g, v = new F(e); !v.eos();) {
                if (u = v.pos, p = v.scanUntil(i))
                    for (var y = 0, b = p.length; y < b; ++y)
                        if ($(f = p.charAt(y)) ? r.push(o.length) : d = !0, o.push(["text", f, u, u + 1]), u += 1, "\n" === f) {
                            if (l && !d)
                                for (; r.length;) delete o[r.pop()];
                            else r = [];
                            d = l = !1
                        } if (!v.scan(i)) break;
                if (l = !0, h = v.scan(j) || "name", v.scan(M), "=" === h ? (p = v.scanUntil(I), v.scan(I), v.scanUntil(s)) : "{" === h ? (p = v.scanUntil(n), v.scan(L), v.scanUntil(s), h = "&") : p = v.scanUntil(s), !v.scan(s)) throw new Error("Unclosed tag at " + v.pos);
                if (m = [h, p, u, v.pos], o.push(m), "#" === h || "^" === h) a.push(m);
                else if ("/" === h) {
                    if (!(g = a.pop())) throw new Error('Unopened section "' + p + '" at ' + u);
                    if (g[1] !== p) throw new Error('Unclosed section "' + g[1] + '" at ' + u)
                } else "name" === h || "{" === h || "&" === h ? d = !0 : "=" === h && c(p)
            }
            if (g = a.pop()) throw new Error('Unclosed section "' + g[1] + '" at ' + v.pos);
            for (var w, _ = function(e) {
                    for (var t, i, s = [], n = 0, a = e.length; n < a; ++n)(t = e[n]) && ("text" === t[0] && i && "text" === i[0] ? (i[1] += t[1], i[3] = t[3]) : (s.push(t), i = t));
                    return s
                }(o), C = [], k = C, x = [], S = 0, T = _.length; S < T; ++S) switch ((w = _[S])[0]) {
                case "#":
                case "^":
                    k.push(w), x.push(w), k = w[4] = [];
                    break;
                case "/":
                    x.pop()[5] = w[2], k = 0 < x.length ? x[x.length - 1][4] : C;
                    break;
                default:
                    k.push(w)
            }
            return C
        }

        function F(e) {
            this.string = e, this.tail = e, this.pos = 0
        }

        function o(e, t) {
            this.view = e, this.cache = {
                ".": this.view
            }, this.parent = t
        }

        function e() {
            this.cache = {}
        }
        F.prototype.eos = function() {
            return "" === this.tail
        }, F.prototype.scan = function(e) {
            var e = this.tail.match(e);
            return e && 0 === e.index ? (e = e[0], this.tail = this.tail.substring(e.length), this.pos += e.length, e) : ""
        }, F.prototype.scanUntil = function(e) {
            var t, i = this.tail.search(e);
            switch (i) {
                case -1:
                    t = this.tail, this.tail = "";
                    break;
                case 0:
                    t = "";
                    break;
                default:
                    t = this.tail.substring(0, i), this.tail = this.tail.substring(i)
            }
            return this.pos += t.length, t
        }, o.prototype.push = function(e) {
            return new o(e, this)
        }, o.prototype.lookup = function(e) {
            var t, i = this.cache;
            if (i.hasOwnProperty(e)) t = i[e];
            else {
                for (var s, n, a = this, o = !1; a;) {
                    if (0 < e.indexOf("."))
                        for (t = a.view, s = e.split("."), n = 0; null != t && n < s.length;) n === s.length - 1 && (o = r(t, s[n])), t = t[s[n++]];
                    else t = a.view[e], o = r(a.view, e);
                    if (o) break;
                    a = a.parent
                }
                i[e] = t
            }
            return t = d(t) ? t.call(this.view) : t
        }, e.prototype.clearCache = function() {
            this.cache = {}
        }, e.prototype.parse = function(e, t) {
            var i = this.cache,
                s = i[e];
            return s = null == s ? i[e] = a(e, t) : s
        }, e.prototype.render = function(e, t, i) {
            var s = this.parse(e),
                t = t instanceof o ? t : new o(t);
            return this.renderTokens(s, t, i, e)
        }, e.prototype.renderTokens = function(e, t, i, s) {
            for (var n, a, o, r = "", l = 0, d = e.length; l < d; ++l) o = void 0, "#" === (a = (n = e[l])[0]) ? o = this.renderSection(n, t, i, s) : "^" === a ? o = this.renderInverted(n, t, i, s) : ">" === a ? o = this.renderPartial(n, t, i, s) : "&" === a ? o = this.unescapedValue(n, t) : "name" === a ? o = this.escapedValue(n, t) : "text" === a && (o = this.rawValue(n)), void 0 !== o && (r += o);
            return r
        }, e.prototype.renderSection = function(e, t, i, s) {
            var n = this,
                a = "",
                o = t.lookup(e[1]);
            if (o) {
                if (A(o))
                    for (var r = 0, l = o.length; r < l; ++r) a += this.renderTokens(e[4], t.push(o[r]), i, s);
                else if ("object" == typeof o || "string" == typeof o || "number" == typeof o) a += this.renderTokens(e[4], t.push(o), i, s);
                else if (d(o)) {
                    if ("string" != typeof s) throw new Error("Cannot use higher-order sections without the original template");
                    null != (o = o.call(t.view, s.slice(e[3], e[5]), function(e) {
                        return n.render(e, t, i)
                    })) && (a += o)
                } else a += this.renderTokens(e[4], t, i, s);
                return a
            }
        }, e.prototype.renderInverted = function(e, t, i, s) {
            var n = t.lookup(e[1]);
            if (!n || A(n) && 0 === n.length) return this.renderTokens(e[4], t, i, s)
        }, e.prototype.renderPartial = function(e, t, i) {
            return i && null != (e = d(i) ? i(e[1]) : i[e[1]]) ? this.renderTokens(this.parse(e), t, i, e) : void 0
        }, e.prototype.unescapedValue = function(e, t) {
            t = t.lookup(e[1]);
            if (null != t) return t
        }, e.prototype.escapedValue = function(e, t) {
            t = t.lookup(e[1]);
            if (null != t) return E.escape(t)
        }, e.prototype.rawValue = function(e) {
            return e[1]
        }, E.name = "mustache.js", E.version = "2.3.0", E.tags = ["{{", "}}"];
        var l = new e;
        return E.clearCache = function() {
            return l.clearCache()
        }, E.parse = function(e, t) {
            return l.parse(e, t)
        }, E.render = function(e, t, i) {
            if ("string" != typeof e) throw new TypeError('Invalid template! Template should be a "string" but "' + (A(s = e) ? "array" : typeof s) + '" was given as the first argument for mustache#render(template, view, partials)');
            var s;
            return l.render(e, t, i)
        }, E.to_html = function(e, t, i, s) {
            e = E.render(e, t, i);
            if (!d(s)) return e;
            s(e)
        }, E.escape = function(e) {
            return String(e).replace(/[&<>"'`=\/]/g, function(e) {
                return n[e]
            })
        }, E.Scanner = F, E.Context = o, E.Writer = e, E
    }), ! function(e, t) {
        "object" == typeof exports && "undefined" != typeof module ? t(require("jquery"), require("window")) : "function" == typeof define && define.amd ? define("isInViewport", ["jquery", "window"], t) : t(e.$, e.window)
    }(this, function(d, c) {
        "use strict";

        function u(e, t) {
            var e = e.getBoundingClientRect(),
                i = e.top,
                s = e.bottom,
                n = e.left,
                e = e.right,
                t = d.extend({
                    tolerance: 0,
                    viewport: c
                }, t),
                a = t.viewport.jquery ? t.viewport : d(t.viewport),
                o = (a.length || (console.warn("isInViewport: The viewport selector you have provided matches no element on page."), console.warn("isInViewport: Defaulting to viewport as window"), a = d(c)), a.height()),
                r = a.width(),
                l = a[0].toString();
            return a[0] !== c && "[object Window]" !== l && "[object DOMWindow]" !== l && (i -= (l = a[0].getBoundingClientRect()).top, s -= l.top, n -= l.left, e -= l.left, r -= u.scrollBarWidth = u.scrollBarWidth || (l = a, a = d("<div></div>").css({
                width: "100%"
            }), l.append(a), l = l.width() - a.width(), a.remove(), l)), t.tolerance = ~~Math.round(parseFloat(t.tolerance)), t.tolerance < 0 && (t.tolerance = o + t.tolerance), !(e <= 0 || r <= n) && (t.tolerance ? i <= t.tolerance && s >= t.tolerance : 0 < s && i <= o)
        }

        function s(e) {
            return e ? (1 === (e = e.split(",")).length && isNaN(e[0]) && (e[1] = e[0], e[0] = void 0), {
                tolerance: e[0] ? e[0].trim() : void 0,
                viewport: e[1] ? d(e[1].trim()) : void 0
            }) : {}
        }
        d = "default" in d ? d.default : d, c = "default" in c ? c.default : c, d.extend(d.expr[":"], {
            "in-viewport": d.expr.createPseudo ? d.expr.createPseudo(function(t) {
                return function(e) {
                    return u(e, s(t))
                }
            }) : function(e, t, i) {
                return u(e, s(i[3]))
            }
        }), d.fn.isInViewport = function(i) {
            return this.filter(function(e, t) {
                return u(t, i)
            })
        }, d.fn.run = function(e) {
            var i = this;
            1 === arguments.length && "function" == typeof e && (e = [e]);
            if (e instanceof Array) return e.forEach(function(t) {
                "function" != typeof t ? (console.warn("isInViewport: Argument(s) passed to .do/.run should be a function or an array of functions"), console.warn("isInViewport: Ignoring non-function values in array and moving on")) : [].slice.call(i).forEach(function(e) {
                    return t.call(d(e))
                })
            }), this;
            throw new SyntaxError("isInViewport: Argument(s) passed to .do/.run should be a function or an array of functions")
        }
    }), ! function(n) {
        n.fn.niceSelect = function(e) {
            function s(e) {
                e.after(n("<div></div>").addClass("nice-select").addClass(e.attr("class") || "").addClass(e.attr("disabled") ? "disabled" : "").attr("tabindex", e.attr("disabled") ? null : "0").html('<span class="current"></span><ul class="list"></ul>'));
                var s = e.next(),
                    t = e.find("option"),
                    e = e.find("option:selected");
                s.find(".current").html(e.data("display") || e.text()), t.each(function(e) {
                    var t = n(this),
                        i = t.data("display");
                    s.find("ul").append(n("<li></li>").attr("data-value", t.val()).attr("data-display", i || null).addClass("option" + (t.is(":selected") ? " selected" : "") + (t.is(":disabled") ? " disabled" : "")).html(t.text()))
                })
            }
            return "string" == typeof e ? "update" == e ? this.each(function() {
                var e = n(this),
                    t = n(this).next(".nice-select"),
                    i = t.hasClass("open");
                t.length && (t.remove(), s(e), i) && e.next().trigger("click")
            }) : "destroy" == e ? (this.each(function() {
                var e = n(this),
                    t = n(this).next(".nice-select");
                t.length && (t.remove(), e.css("display", ""))
            }), 0 == n(".nice-select").length && n(document).off(".nice_select")) : console.log('Method "' + e + '" does not exist.') : (this.hide(), this.each(function() {
                var e = n(this);
                e.next().hasClass("nice-select") || s(e)
            }), n(document).off(".nice_select"), n(document).on("click.nice_select", ".nice-select", function(e) {
                var t = n(this);
                n(".nice-select").not(t).removeClass("open"), t.toggleClass("open"), t.hasClass("open") ? (t.find(".option"), t.find(".focus").removeClass("focus"), t.find(".selected").addClass("focus")) : t.focus()
            }), n(document).on("click.nice_select", function(e) {
                0 === n(e.target).closest(".nice-select").length && n(".nice-select").removeClass("open").find(".option")
            }), n(document).on("click.nice_select", ".nice-select .option:not(.disabled)", function(e) {
                var t = n(this),
                    i = t.closest(".nice-select"),
                    s = (i.find(".selected").removeClass("selected"), t.addClass("selected"), t.data("display") || t.text());
                i.find(".current").text(s), i.prev("select").val(t.data("value")).trigger("change")
            }), n(document).on("keydown.nice_select", ".nice-select", function(e) {
                var t, i = n(this),
                    s = n(i.find(".focus") || i.find(".list .option.selected"));
                if (32 == e.keyCode || 13 == e.keyCode) return (i.hasClass("open") ? s : i).trigger("click"), !1;
                if (40 == e.keyCode) return i.hasClass("open") ? 0 < (t = s.nextAll(".option:not(.disabled)").first()).length && (i.find(".focus").removeClass("focus"), t.addClass("focus")) : i.trigger("click"), !1;
                if (38 == e.keyCode) return i.hasClass("open") ? 0 < (t = s.prevAll(".option:not(.disabled)").first()).length && (i.find(".focus").removeClass("focus"), t.addClass("focus")) : i.trigger("click"), !1;
                if (27 == e.keyCode) i.hasClass("open") && i.trigger("click");
                else if (9 == e.keyCode && i.hasClass("open")) return !1
            }), (e = document.createElement("a").style).cssText = "pointer-events:auto", "auto" !== e.pointerEvents && n("html").addClass("no-csspointerevents")), this
        }
    }(jQuery), ! function(l) {
        function i(e) {
            this.$container = e, this.$input = this.$container.find(".global-search-input"), this.$categoryListItems = this.$container.find("li[data-search-category]"), this.$categoryDisplay = this.$container.find(".dropdown-search"), this.$searchButtons = this.$container.find(".global-search-button"), this.$clearSearchButton = this.$container.find(".js-global-search-clear"), this.$searchInputWrapper = this.$container.find(".global-search-input-wrapper"), this.isMobile = this.$container.hasClass(".global-search-mobile"), this.$allSortSelects = l("select[data-target=sort]"), this.$mobileSortSelect = l("#sort"), this.hasFocus = !1, this.$basicAdvancedSearchForm = l("form.search-filter"), this.init()
        }
        l.fn.mvGlobalSearch = function() {
            return this.each(function() {
                var e = l(this),
                    t = e.data("mv-global-search");
                t ? t.init() : (t = new i(e), e.data("mv-global-search", t))
            }), this
        }, i.prototype = {
            minLength: 1,
            maxLength: 60,
            init: function() {
                this.reset(), this.createDropdown(), this.addListeners(), this.initialValue = this.$input.val(), this.refreshBanneWordsList(), this.originalCategory = this.selectedCategory = this.$input.data("search-category"), this.uid = this.$input.data("uid"), this.stagename = this.$input.data("stagename"), this.$input.val(this.sanitizeHtml(this.$input.val())), this.ajaxConfig = {
                    method: "POST",
                    url: "/includes/filterSearch.php",
                    cache: "false",
                    data: {
                        type: "search",
                        uid: this.uid
                    },
                    dataType: "json",
                    beforeSend: function(e) {
                        l("#loadingDiv,#loadingOverlay").hide()
                    },
                    success: l.proxy(this.requestSuccess, this),
                    error: l.proxy(this.requestError, this)
                }
            },
            createDropdown: function() {
                this.$dropdown || (this.$dropdown = l('<ul class="dropdown-menu dropdown-menu-global-search" id="mvts-nav-search-results-list"></ul> '), this.$input.after(this.$dropdown))
            },
            resetResults: function() {
                this.cancelRequest(), this.activeIndex = -1, this.maxIndex = -1, this.results = [], this.$items = l(), this.$dropdown && (this.closeDropdown(), this.$dropdown.empty())
            },
            reset: function() {
                this.isOpen = !1, this.lastCategory = "", this.lastQuery = "", this.query = this.$input.val(), this.resetResults(), this.updateButtonAndInputStyles()
            },
            addListeners: function() {
                this.removeListeners(), this.$input.bind("keyup", l.proxy(this.onKeyup, this)).bind("focus", l.proxy(this.onFocus, this)).bind("blur", l.proxy(this.onBlur, this)).bind("change paste cut drop", l.proxy(this.onChange, this));
                var t = this;
                this.$dropdown.on("mousedown", function(e) {
                    e.preventDefault(), t.$input.focus()
                }).on("click", "li span.pic-wrapper,li span.result-label", l.proxy(this.listItemClicked, this)), this.$searchButtons.on("click", l.proxy(this.searchButtonsClicked, this)), this.$clearSearchButton.on("click", l.proxy(this.clearSearchButtonClicked, this)), this.$container.on("click", "li[data-search-category]", l.proxy(this.onCategoryChange, this))
            },
            removeListeners: function() {
                this.$input.unbind("keyup", this.onKeyup).unbind("focus", this.onFocus).unbind("blur", this.onBlur).unbind("change paste cut drop", this.onChange), this.$dropdown.off("mousedown").off("click", "li span.pic-wrapper,li span.result-label", this.listItemClicked), this.$searchButtons.off("click", this.searchButtonsClicked), this.$container.off("click", "li[data-search-category]", this.onCategoryChange)
            },
            onKeyup: function(e) {
                var t = e.which;
                if (!(e.ctrlKey || e.altKey || e.shiftKey)) switch (this.updateButtonAndInputStyles(), t) {
                    case 40:
                        this.isOpen ? (this.setActiveIndex(this.activeIndex + 1), e.preventDefault()) : this.getResults();
                        break;
                    case 38:
                        this.setActiveIndex(this.activeIndex - 1), e.preventDefault();
                        break;
                    case 13:
                        1 < window.location.href.indexOf("forward") ? e.preventDefault() : this.selectItem(this.results[this.activeIndex]);
                        break;
                    default:
                        this.getResults()
                }
            },
            onChange: function(e) {
                var t = this;
                setTimeout(function() {
                    t.updateButtonAndInputStyles(), t.$input.val().length < t.minLength ? t.reset() : "drop" == e.type ? t.$input[0].focus() : "change" != e.type && t.getResults()
                }, 0)
            },
            onFocus: function() {
                this.hasFocus = !0, this.getResults()
            },
            onBlur: function() {
                this.hasFocus = !1, this.cancelClose()
            },
            cancelClose: function() {
                this.cancelRequest(), this.closeDropdown()
            },
            listItemClicked: function(e) {
                1 < window.location.href.indexOf("forward") && e.preventDefault()
            },
            onCategoryChange: function(e) {
                var e = l(e.currentTarget),
                    t = e.data("search-category"),
                    e = e.text();
                this.$categoryListItems.filter(".active").removeClass("active"), this.$categoryListItems.filter("[data-search-category=" + t + "]").addClass("active"), this.selectedCategory = t, this.$categoryDisplay.text(e)
            },
            clearSearchButtonClicked: function() {
                this.$input.val(""), this.reset()
            },
            searchButtonsClicked: function() {
                1 < window.location.href.indexOf("forward") ? e.preventDefault() : this.selectItem()
            },
            updateButtonAndInputStyles: function() {
                var e = "" !== this.$input.val();
                this.$searchInputWrapper.toggleClass("search-ready", e), this.$input.toggleClass("-is-not-empty", e)
            },
            openDropdown: function() {
                this.hasFocus && (this.isOpen = !0, this.$dropdown.addClass("-active"))
            },
            closeDropdown: function() {
                this.isOpen = !1, this.$dropdown.removeClass("-active")
            },
            setActiveIndex: function(e) {
                -1 !== this.maxIndex && (e < 0 ? e = this.maxIndex : e > this.maxIndex && (e = 0), this.activeIndex = e, this.$dropdown.find("li.active").removeClass("active"), this.$items.eq(this.activeIndex).addClass("active"), this.setActiveItem(this.results[e]))
            },
            getResults: function(e) {
                var t = this.sanitizeHtml(this.$input.val());
                t.length < this.minLength ? this.reset() : (t.length > this.maxLength && (t = t.substr(this.maxLength), this.$input.val(t)), t === this.lastQuery && this.lastCategory === this.selectedCategory ? this.results.length && this.openDropdown() : this.sendRequest())
            },
            sendRequest: function() {
                var e = this;
                this.lastCategory = this.selectedCategory, this.query = this.sanitizeHtml(this.$input.val()), this.ajaxConfig.data.search = this.query, this.ajaxConfig.data.category = this.selectedCategory, e.resetResults(), this.searchTimeout = setTimeout(function() {
                    e.searchXhr = l.ajax(e.ajaxConfig)
                }, 300)
            },
            cancelRequest: function() {
                clearTimeout(this.searchTimeout), this.searchXhr && this.searchXhr.abort()
            },
            requestError: function() {
                this.results = [], this.render()
            },
            requestSuccess: function(e) {
                if (!e.error) {
                    if (this.lastQuery = this.ajaxConfig.data.search, this.results = [], (e.model || e.studio || e.video || e.store || e.stars) && (this.results = this.results.concat(e.model || [], e.studio || [], e.stars || [], e.video || [], e.store || [])), !e.queries || !e.queries.length) switch (this.selectedCategory) {
                        case "all":
                            e.queries = [{
                                type: "category",
                                label: this.query,
                                categoryLabel: " in Vids",
                                category: "video"
                            }, {
                                type: "category",
                                label: this.query,
                                categoryLabel: " in MV Stars",
                                category: "stars"
                            }, {
                                type: "category",
                                label: this.query,
                                categoryLabel: " in Store",
                                category: "store"
                            }];
                            break;
                        case "video":
                            e.queries = [{
                                type: "category",
                                label: this.query,
                                categoryLabel: " in Vids",
                                category: "video"
                            }];
                            break;
                        case "stars":
                            e.queries = [{
                                type: "category",
                                label: this.query,
                                categoryLabel: " in MV Stars",
                                category: "stars"
                            }];
                            break;
                        case "store":
                            e.queries = [{
                                type: "category",
                                label: this.query,
                                categoryLabel: " in Store",
                                category: "store"
                            }]
                    }
                    e.queries && e.queries.length && (this.results.length && (this.results[0].separator = !0), this.results = e.queries.concat(this.results)), this.maxIndex = this.results.length - 1, this.render()
                }
            },
            render: function() {
                var t = this;
                this.activeIndex = -1, this.highlightRegExp = new RegExp("(" + this.query.split(" ").join("|") + ")", "ig"), this.$items = l(this.results.map(function(e) {
                    return t.renderItem(e)
                }).join("")), this.$dropdown.html(this.$items), this.openDropdown()
            },
            renderItem: function(e) {
                var t = this.getSelectedItemHref(e),
                    i = this.getSelectedItemHref(e, !0),
                    s = "query" == e.type,
                    n = "",
                    a = "",
                    o = this.sanitizeHtml(e.label);
                try {
                    o = o.replace(this.highlightRegExp, '<span class="result-highlight">$1</span>')
                } catch (e) {}
                e.separator && (n += " separator"), s || (n += " result-with-image");
                var r = "";
                return a += '<li class="' + n + '"><a ' + (r = "studio" == e.type && (void 0 === (n = l.cookie && l.cookie("userPreferredContent")) && "1" !== e.content_type_id || void 0 !== n && -1 === n.search(e.content_type_id)) ? 'class="different-type"' : r) + ' href="' + t + '" >', s ? a += '<span class="result-label">' + o + "</span>" : "category" == e.type ? a += '<span class="result-label">' + o + ' <span class="result-category">' + this.sanitizeHtml(e.categoryLabel) + "</span></span>" : (a += '<span class="result-image text-center mr-2">', a = "model" === e.type || "studio" === e.type ? a + ('<span data-href="' + t + '" class="pic-wrapper square-size-2 ' + ("true" === e.studio || "studio" === e.type ? "orange" : "") + '"><img alt="image" src="' + e.img) + '"></span></span><span data-href="' + i + '" class="result-label">' + o + "</span></a></li>" : a + ('<span class="mv-icon mv-icon-' + e.type) + '"></span></span><span class="result-label">' + o + "</span></a></li>"), a
            },
            setInputValue: function(e) {
                this.$input.val(e)
            },
            setActiveItem: function(e) {
                "query" == e.type && this.setInputValue(e.label)
            },
            selectItem: function(e) {
                var t, i, s;
                "" !== this.$input.val() && (this.$input.blur(), this.isMobile && this.hideContainerOnMobile(), e = e || {
                    type: "query",
                    label: this.query
                }, "" === (s = this.cleanForbiddenWords(this.query)) ? e.category = "All" : (this.$input.val(s), e.label = s), "query" == e.type || "category" == e.type ? ("profile" != (s = e.category || this.selectedCategory) && "results" != s || (s = "profile", t = this.uid, i = this.stagename), this.originalCategory == s && this.$basicAdvancedSearchForm[0] ? this.$basicAdvancedSearchForm.trigger("submit", {
                    origin: "global"
                }) : window.location.href = this.getSearchHref(e.label.toLowerCase(), s, t, i)) : e.id && (s = this.getSelectedItemHref(e), this.notifyCounter(s), window.location.href = s))
            },
            notifyCounter: function(e) {
                l.ajax("/includes/search/count/counter.php", {
                    method: "POST",
                    beforeSend: function() {
                        l("#loadingDiv,#loadingOverlay").hide()
                    },
                    data: {
                        page: window.location.href,
                        keywords: this.query,
                        category: this.selectedCategory,
                        uid: this.uid,
                        destination: e
                    }
                })
            },
            hideContainerOnMobile: function() {
                this.$container.hide(), l(".search-phone").removeClass("active")
            },
            getSearchHref: function(e, t, i, s) {
                var n = "";
                return "video" === t ? n = "/Vids/?keywords=" + e + "&page=1&search_type=0&sort=10" + (-1 < window.location.href.indexOf("MV-tube") ? "&other=mvtube" : "") : "model" === t || "stars" === t ? n = "/MVGirls/?keywords=" + e + "&search_type=0&sort=10" : "studio" === t ? n = "/Producers/?keywords=" + e + "&search_type=0&sort=10" : (n = "/results.php?keywords=" + e, i && (n += "&uid=" + i), s && (n += "&stagename=" + s), "stars" === t && (n += "&juststars=1")), n
            },
            getSelectedItemHref: function(e, t) {
                var i = "",
                    s = e.label.replace(/\s+/g, "-");
                return "model" === e.type || "studio" === e.type ? i = "/Profile/" + e.id + "/" + s + "/" : "video" == e.type ? i = "/Video/" + e.id + "/" + window.MV.cleanTitleUrl(s) + "/" : "store" === e.type ? i = "/StoreItem/" + e.id + "/" + s + "/" : "category" == e.type && (i = this.getSearchHref(e.label.toLowerCase(), e.category, "", "")), i
            },
            sanitizeHtml: function(e) {
                return e.replace(/[<>'"]/g, "")
            },
            cleanForbiddenWords: function(e) {
                if (window.bannedKeywords && 0 < window.bannedKeywords.length)
                    for (var t = e.split(" "), i = 0; i < t.length; i++) - 1 < window.bannedKeywords.indexOf(t[i].toLowerCase()) && (e = e.replace(new RegExp(t[i], "gi"), ""));
                return e.trim()
            },
            refreshBanneWordsList: function() {
                var t = this,
                    e = (new Date).getTime(),
                    i = null === localStorage.getItem("bannedKeywordsCache") ? 0 : localStorage.getItem("bannedKeywordsCache");
                !localStorage.getItem("bannedKeywords") || 0 === i || 864e5 <= e - i ? l.ajax({
                    url: "/banned-words/list/",
                    type: "GET",
                    success: function(e) {
                        window.bannedKeywords = e.bannedWords, localStorage.setItem("bannedKeywords", e.bannedWords.join(",")), localStorage.setItem("bannedKeywordsCache", (new Date).getTime()), t.validateInitialSearch()
                    }
                }) : (this.validateInitialSearch(), window.bannedKeywords = localStorage.getItem("bannedKeywords").split(","))
            },
            validateInitialSearch: function() {
                var e = this.cleanForbiddenWords(this.initialValue);
                e !== this.$input.val() && (window.location.href = window.location.href.replace("keywords=" + encodeURI(this.initialValue), "keywords=" + encodeURI(e)))
            }
        }
    }(jQuery), ! function s(n, a, o) {
        function r(t, e) {
            if (!a[t]) {
                if (!n[t]) {
                    var i = "function" == typeof require && require;
                    if (!e && i) return i(t, !0);
                    if (l) return l(t, !0);
                    e = new Error("Cannot find module '" + t + "'");
                    throw e.code = "MODULE_NOT_FOUND", e
                }
                i = a[t] = {
                    exports: {}
                };
                n[t][0].call(i.exports, function(e) {
                    return r(n[t][1][e] || e)
                }, i, i.exports, s, n, a, o)
            }
            return a[t].exports
        }
        for (var l = "function" == typeof require && require, e = 0; e < o.length; e++) r(o[e]);
        return r
    }({
        1: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var r = n(e("../fw/fw")),
                a = n(e("../fw/env")),
                l = n(e("../core/ui/core-ui")),
                s = n(e("../core/utils/error"));

            function n(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function o(e) {
                e && ("mousedown" === e.type ? (this.dragStart.x = r.default.getPosX(e), this.dragStart.y = r.default.getPosY(e)) : "touchstart" === e.type && (e.preventDefault(), this.dragStart.x = r.default.getPosXTouch(e), this.dragStart.y = r.default.getPosYTouch(e)), r.default.addClass(this.canvas360, "rmp-canvas-360-grabbing"), this.mouseDown = !0)
            }

            function d() {
                r.default.removeClass(this.canvas360, "rmp-canvas-360-grabbing"), this.mouseDown = !1
            }

            function c(e) {
                var t, i, s;
                !this.progressiveMoveInprogress && this.mouseDown && (s = i = void 0, "mousemove" === e.type ? (i = r.default.getPosX(e), s = r.default.getPosY(e)) : "touchmove" === e.type && (i = r.default.getPosXTouch(e), s = r.default.getPosYTouch(e)), e = this.dragStart.x - i, t = this.dragStart.y - s, this.dragStart.x = i, this.dragStart.y = s, i = this.getPlayerWidth() / this.getPlayerHeight(), s = 1, r.default.hasClass(this.dom.container, "rmp-extrasmall") ? s = 2 : r.default.hasClass(this.dom.container, "rmp-small") && (s = 1.5), this.lon += .1 * e * s, this.lat += .1 * t * i * s)
            }

            function u() {
                this.camera360 && (this.fov > this.video360MaxFocalLength ? this.fov = this.video360MaxFocalLength : this.fov < this.video360MinFocalLength && (this.fov = this.video360MinFocalLength), this.camera360.fov = this.fov, this.camera360.updateProjectionMatrix())
            }

            function h() {
                this.onReadyMain360 = function() {
                    var t = this,
                        e = (this.dom.container.removeEventListener("ready", this.onReadyMain360), this.onPlayingUpdate360UI = function() {
                            this.dom.container.removeEventListener("playing", this.onPlayingUpdate360UI);
                            var e = this.dom.container.querySelector(".rmp-360-ui-text"),
                                e = (null !== e && r.default.removeElement(e), r.default.show(this.dom.ui360), document.createElement("div")),
                                e = (e.className = "rmp-360-ui-button rmp-360-ui-top rmp-i rmp-i-up", r.default.addEvent(["touchend", "click"], e, p.setCamLatLongFov.bind(this, 20, 0, 0, !1)), this.dom.ui360.appendChild(e), document.createElement("div")),
                                e = (e.className = "rmp-360-ui-button rmp-360-ui-bottom rmp-i rmp-i-down", r.default.addEvent(["touchend", "click"], e, p.setCamLatLongFov.bind(this, -20, 0, 0, !1)), this.dom.ui360.appendChild(e), document.createElement("div")),
                                e = (e.className = "rmp-360-ui-button rmp-360-ui-left rmp-i rmp-i-left", r.default.addEvent(["touchend", "click"], e, p.setCamLatLongFov.bind(this, 0, -20, 0, !1)), this.dom.ui360.appendChild(e), document.createElement("div")),
                                e = (e.className = "rmp-360-ui-button rmp-360-ui-right rmp-i rmp-i-right", r.default.addEvent(["touchend", "click"], e, p.setCamLatLongFov.bind(this, 0, 20, 0, !1)), this.dom.ui360.appendChild(e), document.createElement("div")),
                                e = (e.className = "rmp-360-ui-button rmp-360-ui-plus rmp-i rmp-i-plus-360", r.default.addEvent(["touchend", "click"], e, p.setCamLatLongFov.bind(this, 0, 0, 10, !1)), this.dom.ui360.appendChild(e), document.createElement("div")),
                                e = (e.className = "rmp-360-ui-button rmp-360-ui-minus rmp-i rmp-i-minus-360", r.default.addEvent(["touchend", "click"], e, p.setCamLatLongFov.bind(this, 0, 0, -10, !1)), this.dom.ui360.appendChild(e), document.createElement("div"));
                            e.className = "rmp-360-ui-button rmp-360-ui-reset rmp-i rmp-i-reset-360", r.default.addEvent(["touchend", "click"], e, p.setCamLatLongFov.bind(this, this.video360InitialLat, this.video360InitialLon, this.video360FocalLength, !0)), this.dom.ui360.appendChild(e)
                        }.bind(this), this.dom.container.addEventListener("playing", this.onPlayingUpdate360UI), this.getPlayerWidth()),
                        i = this.getPlayerHeight(),
                        s = e / i,
                        s = (this.lat = this.video360InitialLat, this.lon = this.video360InitialLon, this.fov = this.video360FocalLength, this.camera360 = new THREE.PerspectiveCamera(this.video360FocalLength, s, 1, 1100), this.camera360.target = new THREE.Vector3(0, 0, 0), this.scene360 = new THREE.Scene, 2 * Math.round(60 / s / 2)),
                        s = new THREE.SphereBufferGeometry(500, 60, s),
                        n = (s.scale(-1, 1, 1), this.texture360 = new THREE.VideoTexture(this.dom.video), new THREE.MeshBasicMaterial({
                            map: this.texture360
                        })),
                        s = (this.texture360.minFilter = THREE.LinearFilter, this.texture360.format = THREE.RGBFormat, this.mesh360 = new THREE.Mesh(s, n), this.scene360.add(this.mesh360), this.renderer360 = new THREE.WebGLRenderer, this.renderer360.setPixelRatio(a.default.devicePixelRatio), this.renderer360.setSize(e, i), this.canvas360 = this.renderer360.domElement, this.canvas360.className = "rmp-canvas-360", this.dom.content.insertBefore(this.canvas360, this.dom.poster), r.default.hide(this.dom.video), this.dom.ui360 = document.createElement("div"), r.default.addEvent(["touchend", "click"], this.dom.ui360, function(e) {
                            e && (e.stopPropagation(), "touchend" === e.type) && e.preventDefault(), l.default.showChrome.call(this)
                        }.bind(this)), a.default.isMobile || (this.dom.ui360.addEventListener("mouseenter", function(e) {
                            e && e.stopPropagation(), t.forceResetTimer = !0
                        }), this.dom.ui360.addEventListener("mouseleave", function(e) {
                            e && e.stopPropagation(), t.forceResetTimer = !1
                        })), this.dom.ui360.className = "rmp-360-ui rmp-color-bg", r.default.hide(this.dom.ui360), this.dom.container.appendChild(this.dom.ui360), document.createElement("div"));
                    s.className = "rmp-360-ui-text rmp-color-bg", s.textContent = "360", this.dom.container.appendChild(s), f.call(this), this.animate360 = function() {
                        this.requestAnimation360 = window.requestAnimationFrame(this.animate360), this.lat = Math.max(-85, Math.min(85, this.lat));
                        var e = THREE.Math.degToRad(90 - this.lat),
                            t = THREE.Math.degToRad(this.lon),
                            i = 50 * Math.sin(e);
                        this.camera360.position.x = i * Math.cos(t), this.camera360.position.y = 50 * Math.cos(e), this.camera360.position.z = i * Math.sin(t), this.camera360.lookAt(this.camera360.target), this.renderer360.render(this.scene360, this.camera360)
                    }.bind(this), this.animate360()
                }.bind(this), this.get5Ready() ? this.onReadyMain360() : this.dom.container.addEventListener("ready", this.onReadyMain360)
            }
            var p = {},
                f = (p.destroy = function() {
                    this.dom.container && (this.dom.container.removeEventListener("ready", this.onReadyMain360), this.dom.container.removeEventListener("playing", this.onPlayingUpdate360UI));
                    try {
                        this.requestAnimation360 && window.cancelAnimationFrame(this.requestAnimation360), this.texture360 && this.texture360.dispose(), this.scene360 && this.mesh360 && this.scene360.remove(this.mesh360)
                    } catch (e) {
                        r.default.trace(e)
                    }
                    r.default.removeElement(this.canvas360)
                }, p.resize = function() {
                    var e, t, i;
                    this.renderer360 && this.camera360 && (t = e = -1, this.isInFullscreen ? this.hasNativeFullscreenSupport ? (e = r.default.getScreenWidth(), t = r.default.getScreenHeight()) : this.fullWindowMode && -1 < (i = a.default.getViewportSize()).width && -1 < i.height && (e = i.width, t = i.height) : (e = this.width, t = this.height), 0 < e) && 0 < t && (this.renderer360.setSize(e, t), this.camera360.aspect = e / t, this.camera360.updateProjectionMatrix())
                }, function() {
                    this.dom.content.addEventListener("mousedown", o.bind(this)), this.dom.content.addEventListener("mouseup", d.bind(this)), this.dom.content.addEventListener("mouseleave", d.bind(this)), this.dom.content.addEventListener("mousemove", c.bind(this)), this.dom.content.addEventListener("wheel", function(e) {
                        e && (e.stopPropagation(), e.preventDefault()), this.progressiveMoveInprogress || e && e.wheelDeltaY && (0 < e.wheelDeltaY ? this.fov -= 10 : this.fov += 10, u.call(this))
                    }.bind(this)), this.dom.content.addEventListener("touchstart", o.bind(this)), this.dom.content.addEventListener("touchend", d.bind(this)), this.dom.content.addEventListener("touchmove", c.bind(this), !!a.default.hasPassiveEventListeners && {
                        passive: !0
                    })
                });
            p.setCamLatLongFov = function(e, t, i, s, n) {
                var a, o = this;
                this.progressiveMoveInprogress || (this.progressiveMoveInprogress = !0, n && (n.stopPropagation(), "touchend" === n.type) && n.preventDefault(), l.default.showChrome.call(this), s ? (this.lon = t, this.lat = e, this.fov = i, u.call(this), this.progressiveMoveInprogress = !1) : (0 !== t && (this.lon += t / 20), 0 !== e && (this.lat -= e / 20), 0 !== i && (this.fov -= i / 20, u.call(this)), a = 1, r.default.clearInterval(this.progressiveInterval), this.progressiveInterval = setInterval(function() {
                    0 !== t && (o.lon += t / 20), 0 !== e && (o.lat -= e / 20), 0 !== i && (o.fov -= i / 20, u.call(o)), 20 == ++a && (o.progressiveMoveInprogress = !1, r.default.clearInterval(o.progressiveInterval))
                }, 20)))
            };
            p.load = function() {
                var e;
                "undefined" != typeof THREE ? h.call(this) : (e = this.pathToRmpFiles + "three/three.min.js", r.default.getScript(e, h.bind(this), s.default.fatal.bind(this, "failed to load required lib three.js (360 video)", 500, null)))
            }, i.default = p
        }, {
            "../core/ui/core-ui": 41,
            "../core/utils/error": 44,
            "../fw/env": 52,
            "../fw/fw": 53
        }],
        2: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            }), s(e("../fw/fw"));
            var l = s(e("../core/utils/error"));

            function s(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function d(e, t, i) {
                i.addEventListener(e, function() {
                    t(arguments[0])
                })
            }

            function c(e) {
                e = e || null, l.default.warning.call(this, "FPS decryption key error was encountered", 6e3, e)
            }

            function u(e) {}

            function n(e) {
                e = e || null, l.default.warning.call(this, "FPS video playback error occured", 6001, e)
            }

            function a(e, t) {
                var i, s, n, a, o, t = t.initData,
                    r = this.fpsDrm.extractContentId(t);
                i = t, e = e, "string" == typeof(s = r) && (s = function(e) {
                    for (var t = new ArrayBuffer(2 * e.length), i = new Uint16Array(t), s = 0, n = e.length; s < n; s++) i[s] = e.charCodeAt(s);
                    return i
                }(s)), n = 0, a = new ArrayBuffer(i.byteLength + 4 + s.byteLength + 4 + e.byteLength), o = new DataView(a), new Uint8Array(a, 0, i.byteLength).set(i), n += i.byteLength, o.setUint32(n, s.byteLength, !0), n += 4, (i = new Uint16Array(a, n, s.length)).set(s), n += i.byteLength, o.setUint32(n, e.byteLength, !0), n += 4, new Uint8Array(a, n, e.byteLength).set(e), t = new Uint8Array(a, 0, a.byteLength), this.dom.video.webkitKeys || (function() {
                    window.WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0", "video/mp4") ? h = "com.apple.fps.1_0" : l.default.fatal.call(this, "FPS key System not supported", 601, null)
                }(), this.dom.video.webkitSetMediaKeys(new window.WebKitMediaKeys(h))), this.dom.video.webkitKeys ? (s = this.dom.video.webkitKeys.createSession("video/mp4", t)) ? (s.contentId = r, d("webkitkeymessage", function(e) {
                    var t = e.target,
                        e = e.message,
                        i = new XMLHttpRequest,
                        e = (i.responseType = this.fpsDrm.licenseResponseType, i.session = t, i.addEventListener("load", this.fpsDrm.licenseRequestLoaded.bind(this), !1), i.addEventListener("error", function(e) {
                            e = e || null;
                            l.default.fatal.call(this, "FPS license request failed", 604, e)
                        }.bind(this), !1), this.fpsDrm.licenseRequestMessage(e, t));
                    i.open("POST", this.fpsDrm.processSpcPath, !0);
                    for (var s = 0, n = this.fpsDrm.licenseRequestHeaders.length; s < n; s++) "string" == typeof this.fpsDrm.licenseRequestHeaders[s].name && "" !== this.fpsDrm.licenseRequestHeaders[s].name && "string" == typeof this.fpsDrm.licenseRequestHeaders[s].value && "" !== this.fpsDrm.licenseRequestHeaders[s].value && i.setRequestHeader(this.fpsDrm.licenseRequestHeaders[s].name, this.fpsDrm.licenseRequestHeaders[s].value);
                    i.send(e)
                }.bind(this), s), d("webkitkeyadded", u, s), d("webkitkeyerror", c, s)) : l.default.fatal.call(this, "FPS could not create key session", 603, null) : l.default.fatal.call(this, "FPS could not create MediaKeys", 602, null)
            }
            var e = {},
                h = void 0;
            e.filterDrm = function() {
                var e;
                return "string" == typeof this.fpsDrm.certificatePath && "" !== this.fpsDrm.certificatePath && "string" == typeof this.fpsDrm.processSpcPath && "" !== this.fpsDrm.processSpcPath && (e = "text", "string" == typeof this.fpsDrm.licenseResponseType && -1 < ["blob", "json", "text", "arraybuffer"].indexOf(this.fpsDrm.licenseResponseType) && (e = this.fpsDrm.licenseResponseType), this.fpsDrm.licenseResponseType = e, e = [], Array.isArray(this.fpsDrm.licenseRequestHeaders) && (e = this.fpsDrm.licenseRequestHeaders), this.fpsDrm.licenseRequestHeaders = e, e = [{
                    name: "Pragma",
                    value: "Cache-Control: no-cache"
                }, {
                    name: "Cache-Control",
                    value: "max-age=0"
                }], Array.isArray(this.fpsDrm.certificateRequestHeaders) && (e = this.fpsDrm.certificateRequestHeaders), this.fpsDrm.certificateRequestHeaders = e, e = function(e) {
                    e = new Uint16Array(e.buffer);
                    var e = String.fromCharCode.apply(null, e),
                        t = document.createElement("a");
                    return t.href = e, t.hostname
                }, "function" == typeof this.fpsDrm.extractContentId && (e = this.fpsDrm.extractContentId), this.fpsDrm.extractContentId = e, e = function(e, t) {
                    return "spc=" + function(e) {
                        for (var t, i, s, n, a = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", o = "", r = void 0, l = void 0, d = 0; d < e.length;) s = (t = e[d++]) >> 2, n = (3 & t) << 4 | (t = d < e.length ? e[d++] : Number.NaN) >> 4, r = (15 & t) << 2 | (i = d < e.length ? e[d++] : Number.NaN) >> 6, l = 63 & i, Number.isNaN(t) ? r = l = 64 : Number.isNaN(i) && (l = 64), o += a.charAt(s) + a.charAt(n) + a.charAt(r) + a.charAt(l);
                        return o
                    }(e) + "&assetId=" + encodeURIComponent(t.contentId)
                }, "function" == typeof this.fpsDrm.licenseRequestMessage && (e = this.fpsDrm.licenseRequestMessage), this.fpsDrm.licenseRequestMessage = e, e = function(e) {
                    var e = e.target,
                        t = e.session,
                        e = e.responseText.trim(),
                        e = function(e) {
                            for (var t = window.atob(e), i = t.length, s = new Uint8Array(new ArrayBuffer(i)), n = 0; n < i; n++) s[n] = t.charCodeAt(n);
                            return s
                        }(e = "<ckc>" === e.substr(0, 5) && "</ckc>" === e.substr(-6) ? e.slice(5, -6) : e);
                    t.update(e)
                }, "function" == typeof this.fpsDrm.licenseRequestLoaded && (e = this.fpsDrm.licenseRequestLoaded), this.fpsDrm.licenseRequestLoaded = e, !0)
            };
            e.init = function() {
                var e = new XMLHttpRequest;
                e.responseType = "arraybuffer", e.addEventListener("load", function(e) {
                    e = e.target, e = new Uint8Array(e.response);
                    this.dom.video.addEventListener("webkitneedkey", a.bind(this, e)), this.dom.video.addEventListener("error", n), this.dom.video.src = this.startingBitratePath
                }.bind(this)), e.addEventListener("error", function(e) {
                    e = e || null;
                    l.default.fatal.call(this, "FPS failed to retrieve the FPS server certificate", 600, e)
                }.bind(this)), e.open("GET", this.fpsDrm.certificatePath, !0);
                for (var t = 0, i = this.fpsDrm.certificateRequestHeaders.length; t < i; t++) "string" == typeof this.fpsDrm.certificateRequestHeaders[t].name && "" !== this.fpsDrm.certificateRequestHeaders[t].name && "string" == typeof this.fpsDrm.certificateRequestHeaders[t].value && "" !== this.fpsDrm.certificateRequestHeaders[t].value && e.setRequestHeader(this.fpsDrm.certificateRequestHeaders[t].name, this.fpsDrm.certificateRequestHeaders[t].value);
                e.send()
            }, i.default = e
        }, {
            "../core/utils/error": 44,
            "../fw/fw": 53
        }],
        3: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var m = r(e("../fw/fw")),
                g = r(e("../fw/env")),
                v = r(e("../core/ui/core-ui")),
                y = r(e("../core/utils/error")),
                b = r(e("../core/modules/quality")),
                w = r(e("../vtt/captions")),
                s = r(e("../core/utils/utils")),
                _ = r(e("../core/modules/modules")),
                C = r(e("../../../../rmp-connection/js/rmp-connection")),
                n = r(e("../cast/cast")),
                a = r(e("../ads/ima-dai")),
                o = r(e("../analytics/mux"));

            function r(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function l(e, t) {
                t && (t.stopPropagation(), "touchend" === t.type) && t.preventDefault(), this.setBitrate(e - 1)
            }

            function d() {
                var e = void 0;
                this.hlsJS && this.hlsJS.subtitleTracks && 0 < this.hlsJS.subtitleTracks.length ? (e = this.hlsJS.subtitleTracks, this.hlsJS.subtitleDisplay = !0) : this.dom.video && this.dom.video.textTracks && 0 < this.dom.video.textTracks.length && (e = this.dom.video.textTracks, this.hlsJSCEA = !0), e && (this.textTracks = e, this.textTracks = m.default.filterTextTracks(this.textTracks), 0 < this.textTracks.length) && (m.default.clearInterval(this.hlsJSCCInterval), w.default.appendUI.call(this))
            }

            function c() {
                var e, o, r, l, d, c, u, h, p, f = this;
                "undefined" == typeof Hls ? y.default.fatal.call(this, "failed to load required lib hls.js", 200, null) : (e = function() {
                    this.hasCC && (this.hlsJSEnableCaptions = !1);
                    var e = C.default.getBandwidthEstimate(),
                        t = (e <= 0 && (e = g.default.fallbackArbitraryBWEstimate), {
                            capLevelToPlayerSize: this.hlsJSCapLevelToPlayerSize,
                            debug: !1,
                            maxBufferLength: this.hlsJSMaxBufferLength,
                            autoStartLoad: !0,
                            maxBufferSize: this.hlsJSMaxBufferSize,
                            minAutoBitrate: this.hlsJSMinAutoBitrate,
                            liveSyncDuration: this.hlsJSLiveSyncDuration,
                            maxAudioFramesDrift: this.hlsJSMaxAudioFramesDrift,
                            enableCEA708Captions: this.hlsJSEnableCaptions,
                            enableWebVTT: this.hlsJSEnableCaptions,
                            abrEwmaDefaultEstimate: e,
                            abrBandWidthFactor: this.hlsJSAbrBandWidthFactor,
                            abrBandWidthUpFactor: this.hlsJSAbrBandWidthUpFactor
                        });
                    if ("mp4a.40.2" !== this.hlsJSDefaultAudioCodec && "mp4a.40.5" !== this.hlsJSDefaultAudioCodec || (t.defaultAudioCodec = this.hlsJSDefaultAudioCodec), this.isVod && (t.levelLoadingMaxRetry = 2, t.fragLoadingMaxRetry = 3), this.hlsJSXhrWithCredentials && (t.xhrSetup = function(e) {
                            e.withCredentials = !0
                        }), null !== this.hlsJSXhrSetup && (t.xhrSetup = this.hlsJSXhrSetup), this.hlsJSAppleAppStoreCompliance && (t.minAutoBitrate = 192001, this.hlsJSStartLevel = -1), !m.default.isEmptyObject(this.hlsJSCustomConfig))
                        for (var i = Object.keys(this.hlsJSCustomConfig), s = 0, n = i.length; s < n; s++) {
                            var a = i[s];
                            t[a] = this.hlsJSCustomConfig[a]
                        }
                    return t
                }.call(this), this.hlsJS = new Hls(e), this.hasStreamroot && "undefined" != typeof HlsjsDnaWrapper && (this.streamrootWrapper = new HlsjsDnaWrapper(this.hlsJS, this.streamrootConfig.streamrootKey, this.streamrootConfig.dnaConfig)), this.hlsJSStartLevel < 0 ? this.hlsJS.startLevel = -1 : this.hlsJS.startLevel = parseInt(this.hlsJSStartLevel), this.hlsManifestParsed = T.bind(this), this.hlsJS.on(Hls.Events.MANIFEST_PARSED, this.hlsManifestParsed), this.hlsJSStopDownloadWhilePaused && (this.hlsOnFirstPlaying = function() {
                    this.dom.container.removeEventListener("playing", this.hlsOnFirstPlaying), this.hlsOnPauseStopLoad = function() {
                        this.hlsStopLoad()
                    }.bind(this), this.dom.container.addEventListener("pause", this.hlsOnPauseStopLoad), this.hlsOnPlayStartLoad = function() {
                        this.hlsStartLoad()
                    }.bind(this), this.dom.container.addEventListener("play", this.hlsOnPlayStartLoad)
                }.bind(this), this.dom.container.addEventListener("playing", this.hlsOnFirstPlaying)), this.hlsJS.on(Hls.Events.FRAG_LOADED, function(e, t) {
                    t && void 0 !== t.frag && (f.hlsFragmentData = t.frag, m.default.createStdEvent("hlsfragmentloaded", f.dom.container))
                }), E.call(this), m.default.clearInterval(this.hlsJSAbrInterval), this.hlsJSAbrInterval = setInterval(E.bind(this), 1e3), this.hlsJS.on(Hls.Events.LEVEL_SWITCHING, function() {
                    m.default.createStdEvent("hlslevelswitching", f.dom.container)
                }), this.hlsJS.on(Hls.Events.LEVEL_SWITCHED, function() {
                    m.default.createStdEvent("hlslevelswitched", f.dom.container)
                }), this.hlsJS.on(Hls.Events.LEVEL_LOADED, function(e, t) {
                    void 0 !== t.details && (f.hlsLevelData = t.details, m.default.createStdEvent("hlslevelloaded", f.dom.container), f.hlsLevelData.fragments) && f.hlsLevelData.fragments[0] && (t = f.hlsLevelData.fragments[0]).programDateTime && "function" == typeof t.programDateTime.getTime && (f.hlsEpochProgramDateTime = t.programDateTime.getTime(), t.rawProgramDateTime && (f.hlsRawProgramDateTime = t.rawProgramDateTime), m.default.createStdEvent("hlsprogramdatetimeavailable", f.dom.container))
                }), this.hlsJS.on(Hls.Events.MANIFEST_LOADED, function(e, t) {
                    void 0 !== t.levels && (f.hlsManifestData = t.levels, m.default.createStdEvent("hlsmanifestloaded", f.dom.container))
                }), this.hlsJS.on(Hls.Events.FRAG_PARSING_METADATA, function(e, t) {
                    t && t.samples ? (f.hlsID3TagData = t.samples, m.default.createStdEvent("hlsid3tagparsingcompleted", f.dom.container)) : f.hlsID3TagData = null
                }), this.hlsJS.on(Hls.Events.FRAG_CHANGED, function(e, t) {
                    t && void 0 !== t.frag && (f.hlsFragmentBeingPlayed = t.frag, m.default.createStdEvent("hlsfragmentbeingplayedchanged", f.dom.container))
                }), this.hlsJS.on(Hls.Events.AUDIO_TRACK_SWITCHING, function() {
                    m.default.createStdEvent("hlsaudiotrackswitching", f.dom.container)
                }), this.hlsJS.on(Hls.Events.AUDIO_TRACK_SWITCHED, function() {
                    m.default.createStdEvent("hlsaudiotrackswitched", f.dom.container)
                }), this.hlsJSAttachMultiAudio = function() {
                    this.hlsJS.off(Hls.Events.AUDIO_TRACKS_UPDATED, this.hlsJSAttachMultiAudio);
                    var e = this.hlsJS.audioTracks;
                    if (Array.isArray(e) && 1 < e.length) {
                        _.default.append.call(this, "audio"), _.default.appendOverlay.call(this, "audio"), _.default.deferredShow.call(this, "audio");
                        var t;
                        if (1 === e.filter(function(e) {
                                return !0 === e.default
                            }).length)
                            for (var i = 0; i < e.length; i++) {
                                var s = void 0;
                                (s = "AUDIO" === e[i].type && !0 === e[i].default && 0 !== i ? e.splice(i, 1) : s) && s[0] && e.unshift(s[0])
                            }
                        for (var n = 0; n < e.length; n++) "AUDIO" === e[n].type && (t = document.createElement("div"), 0 === n ? m.default.setClass(t, "rmp-overlay-level rmp-color-bg rmp-overlay-level-active") : m.default.setClass(t, "rmp-overlay-level rmp-color-bg"), this.hlsJSUseManifestRenditionName && "string" == typeof e[n].name && "" !== e[n].name ? m.default.setText(t, e[n].name) : "string" == typeof e[n].lang && "" !== e[n].lang ? m.default.setText(t, e[n].lang) : m.default.setText(t, "Audio " + n), m.default.addEvent(["touchend", "click"], t, x.bind(this, n)), this.dom.audioOverlayLevelsArea.appendChild(t))
                    }
                }.bind(this), this.hlsJS.on(Hls.Events.AUDIO_TRACKS_UPDATED, this.hlsJSAttachMultiAudio), this.isLiveDvr && this.hlsJS.on(Hls.Events.LEVEL_LOADED, function(e, t) {
                    t && t.details && "number" == typeof t.details.totalduration && (f.hlsJSLevelDuration = t.details.totalduration)
                }), this.hlsJS.on(Hls.Events.FRAG_BUFFERED, function(e, t) {
                    t && m.default.isObject(t.stats) && "number" == typeof(t = t.stats).bwEstimate && 0 < t.bwEstimate && (f.bwEstimate = Math.round(t.bwEstimate))
                }), (this.adImaDai ? a.default.init : (l = r = o = 0, d = null, this.hlsJSUnstalledBuffer = function() {
                    this.dom.container.removeEventListener("playing", this.hlsJSUnstalledBuffer), v.default.hideLoadingSpin.call(this), m.default.createStdEvent("buffernotstalledanymore", this.dom.container)
                }.bind(this), c = [Hls.ErrorDetails.MANIFEST_LOAD_ERROR, Hls.ErrorDetails.MANIFEST_LOAD_TIMEOUT], u = [Hls.ErrorDetails.LEVEL_LOAD_ERROR, Hls.ErrorDetails.LEVEL_LOAD_TIMEOUT, Hls.ErrorDetails.FRAG_LOAD_ERROR, Hls.ErrorDetails.FRAG_LOAD_TIMEOUT], h = 0, p = null, this.hlsJS.on(Hls.Events.ERROR, function(e, t) {
                    if (m.default.isObject(t) && "boolean" == typeof t.fatal && t.details && t.type) {
                        var i = t.fatal,
                            s = t.type,
                            n = t.details;
                        if (i || n !== Hls.ErrorDetails.BUFFER_STALLED_ERROR)
                            if (i)
                                if (s === Hls.ErrorTypes.NETWORK_ERROR) {
                                    var i = -1 < c.indexOf(n),
                                        a = -1 < u.indexOf(n);
                                    if ((f.isLive || f.isLiveDvr && f.dvrLiveMode) && (i || a))
                                        if (h < f.liveRetries) {
                                            if (null === p && (p = function() {
                                                    this.hlsJS.off(Hls.Events.LEVEL_LOADED, this.hlsJSOnLiveRetriesSuccess), this.hlsJS.off(Hls.Events.MANIFEST_LOADED, this.hlsJSOnLiveRetriesSuccess), this.hlsJS.off(Hls.Events.FRAG_LOADED, this.hlsJSOnLiveRetriesSuccess), h = 0, p = null
                                                }, f.hlsJSOnLiveRetriesSuccess = p.bind(f), f.hlsJS.on(Hls.Events.LEVEL_LOADED, f.hlsJSOnLiveRetriesSuccess), f.hlsJS.on(Hls.Events.MANIFEST_LOADED, f.hlsJSOnLiveRetriesSuccess), f.hlsJS.on(Hls.Events.FRAG_LOADED, f.hlsJSOnLiveRetriesSuccess)), i) {
                                                if (!f.hasLoadedMetadata) return void S.call(f, t);
                                                m.default.clearTimeout(f.hlsJSErrorRetryTimeout), f.hlsJSErrorRetryTimeout = setTimeout(function() {
                                                    f.dom.quality && b.default.destroy.call(f), f.dom.audio && _.default.destroy.call(f, "audio"), f.dom.captions && w.default.destroy.call(f), f.hlsJS.loadSource(f.startingBitratePath)
                                                }, 400)
                                            } else m.default.clearTimeout(f.hlsJSErrorRetryTimeout), f.hlsJSErrorRetryTimeout = setTimeout(function() {
                                                f.hlsJS.startLoad()
                                            }, 400);
                                            h++
                                        } else S.call(f, t);
                                    else i || n === Hls.ErrorDetails.MANIFEST_PARSING_ERROR ? S.call(f, t) : a ? (i = f.getBitrates(), (n !== Hls.ErrorDetails.LEVEL_LOAD_ERROR || 1 !== i.length) && l < 3 ? (0 === l && null === d && (d = function() {
                                        0 < l && (l = 0)
                                    }, f.hlsJS.on(Hls.Events.LEVEL_LOADED, d)), l++, a = m.default.getRandomInt(0, i.length), f.hlsJS.currentLevel = a) : (l = 0, S.call(f, t))) : (m.default.clearTimeout(f.hlsJSErrorRetryTimeout), f.hlsJSErrorRetryTimeout = setTimeout(function() {
                                        f.hlsJS.startLoad()
                                    }, 400))
                                } else s !== Hls.ErrorTypes.MEDIA_ERROR || n === Hls.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR ? S.call(f, t) : (i = m.default.getNow(), 0 === o || 3e3 < i - o ? (o = m.default.getNow(), f.hlsJS.recoverMediaError()) : 0 === r || 3e3 < i - r ? (r = m.default.getNow(), f.hlsJS.swapAudioCodec(), f.hlsJS.recoverMediaError()) : S.call(f, t));
                        else m.default.createCustomEvent("hlswarning", f.dom.container, t), y.default.warning.call(f, "hls.js warning", 2e3, t);
                        else v.default.showLoadingSpin.call(f), f.dom.container.addEventListener("playing", f.hlsJSUnstalledBuffer), m.default.createStdEvent("bufferstalled", f.dom.container)
                    }
                }), k.initFinised)).call(this))
            }

            function u() {
                var e;
                "undefined" != typeof Hls ? c.call(this) : (e = this.pathToRmpFiles + "hls/hls.min.js", m.default.getScript(e, c.bind(this), y.default.fatal.bind(this, "failed to load required lib hls.js", 200, null)))
            }
            var k = {
                    destroy: function() {
                        try {
                            this.hlsJS && (this.hlsJS.destroy(), this.hlsJS.bufferTimer = void 0, m.default.clearInterval(this.hlsJS.bufferTimer)), m.default.clearInterval(this.hlsJSAbrInterval), m.default.clearTimeout(this.hlsJSErrorRetryTimeout)
                        } catch (e) {
                            m.default.trace(e)
                        }
                    }
                },
                x = function(e, t) {
                    t && (t.stopPropagation(), "touchend" === t.type) && t.preventDefault(), this.hlsJS.audioTrack = e, _.default.setActiveLevel.call(this, "audio", e), this.googleCast && n.default.setAudioTrack.call(this, e)
                },
                S = function(e) {
                    m.default.createCustomEvent("hlserror", this.dom.container, e), y.default.fatal.call(this, "hls.js error - cannot recover", 201, e)
                },
                T = function() {
                    this.hlsJS.off(Hls.Events.MANIFEST_PARSED, this.hlsManifestParsed),
                        function() {
                            var e = this.hlsJS.levels;
                            if (Array.isArray(e) && 0 < e.length && (b.default.setUpAbrUI.call(this), this.dom.qualityAuto)) {
                                m.default.addEvent(["touchend", "click"], this.dom.qualityAuto, l.bind(this, 0));
                                for (var t = 0, i = e.length; t < i; t++) {
                                    var s = document.createElement("div"),
                                        n = (m.default.setClass(s, "rmp-overlay-level rmp-color-bg rmp-q" + (t + 1)), "");
                                    e[t] && (this.hlsJSUseManifestRenditionName && "string" == typeof e[t].name && "" !== e[t].name ? n += e[t].name : (e[t].bitrate || e[t].height) && (e[t].height && 0 < e[t].height && (n += e[t].height + "p", e[t].bitrate) && 1e4 < e[t].bitrate && (n += " " + this.uiSeparator + " "), e[t].bitrate) && 1e4 < e[t].bitrate && (n += Math.round(e[t].bitrate / 1e3).toString() + " kbps")), "" === n && (n += "Level " + (t + 1)), m.default.setText(s, n), m.default.addEvent(["touchend", "click"], s, l.bind(this, t + 1)), this.dom.qualityOverlayLevelsArea.appendChild(s)
                                }
                            }
                        }.call(this), this.hlsJSEnableCaptions && function() {
                            var e = this;
                            d.call(this), m.default.clearInterval(this.hlsJSCCInterval), this.hlsJSCCInterval = setInterval(d.bind(this), 1e3), this.hlsJS.on(Hls.Events.SUBTITLE_TRACK_SWITCH, function() {
                                m.default.createStdEvent("hlssubtitletrackswitch", e.dom.container)
                            })
                        }.call(this), m.default.createStdEvent("hlsmanifestparsed", this.dom.container)
                },
                E = function() {
                    var e = -1;
                    try {
                        e = this.hlsJS.currentLevel
                    } catch (e) {
                        m.default.trace(e)
                    }
                    if (-1 < e && this.dom.qualityOverlayLevelsArea) {
                        var t = this.dom.qualityOverlayLevelsArea.querySelectorAll(".rmp-overlay-level");
                        if (0 < t.length) {
                            for (var i = 0, s = t.length; i < s; i++) m.default.removeClass(t[i], "rmp-abr-active");
                            m.default.addClass(t[e + 1], "rmp-abr-active")
                        }
                    }
                };
            k.initFinised = function() {
                this.initHLSJS = function() {
                    this.hlsJS.loadSource(this.startingBitratePath)
                }.bind(this), this.hlsJS.attachMedia(this.dom.video), this.readingHlsHevc ? s.default.checkStreams.call(this, this.initHLSJS, this.backupSrc, "hlsHevc") : s.default.checkStreams.call(this, this.initHLSJS, this.backupSrc, "hls"), this.msePreloadCompleted = !0, this.muxData && !this.muxDataHlsJSMonitored && o.default.initHlsJS.call(this), m.default.createStdEvent("hlsinstancecreated", this.dom.container)
            };
            k.init = function() {
                this.msePreloadRequested ? this.msePreloadRequested = !1 : m.default.isEmptyObject(this.streamrootConfig) || !this.streamrootConfig.streamrootKey || "hlsjs" !== this.streamrootConfig.type || (this.hasStreamroot = !0, "undefined" != typeof HlsjsDnaWrapper) ? u.call(this) : m.default.getScript("https://cdn.streamroot.io/hlsjs-dna-wrapper/1/stable/hlsjs-dna-wrapper.js", u.bind(this), u.bind(this))
            }, i.default = k
        }, {
            "../../../../rmp-connection/js/rmp-connection": 253,
            "../ads/ima-dai": 8,
            "../analytics/mux": 13,
            "../cast/cast": 22,
            "../core/modules/modules": 30,
            "../core/modules/quality": 31,
            "../core/ui/core-ui": 41,
            "../core/utils/error": 44,
            "../core/utils/utils": 46,
            "../fw/env": 52,
            "../fw/fw": 53,
            "../vtt/captions": 57
        }],
        4: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var h = p(e("../fw/fw")),
                s = p(e("../core/modules/quality")),
                n = p(e("../vtt/captions")),
                a = p(e("./shaka/configuration")),
                o = p(e("../core/ui/core-ui")),
                r = p(e("../core/utils/utils")),
                l = p(e("../core/utils/error")),
                d = p(e("../core/modules/modules")),
                c = p(e("../cast/cast")),
                u = p(e("../api/offline"));

            function p(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function f(e, t) {
                t && (t.stopPropagation(), "touchend" === t.type) && t.preventDefault(), o.default.showChrome.call(this), this.setBitrate(e - 1)
            }

            function m(e, t) {
                t && (t.stopPropagation(), "touchend" === t.type) && t.preventDefault(), o.default.showChrome.call(this), this.setAudioTrack(e), this.googleCast && c.default.setAudioTrack.call(this, e)
            }

            function g() {
                var e = this.shakaPlayer.getVariantTracks(),
                    t = e.find(function(e) {
                        return !0 === e.active
                    });
                return (t || e[0]).language
            }

            function v() {
                var e = this.shakaPlayer.getVariantTracks();
                if (0 < e.length && this.dom.qualityOverlayLevelsArea) {
                    var t = this.dom.qualityOverlayLevelsArea.querySelectorAll(".rmp-overlay-level");
                    if (0 < t.length) {
                        for (var i = 0, s = t.length; i < s; i++) h.default.removeClass(t[i], "rmp-abr-active");
                        for (var n = 0, a = e.length; n < a; n++) {
                            var o = e[n];
                            if (o.active) {
                                var r = this.shakaCurrentLevel;
                                this.audioOnly ? o.audioBandwidth ? this.shakaCurrentLevel = o.audioBandwidth : o.bandwidth && (this.shakaCurrentLevel = o.bandwidth) : o.videoBandwidth ? this.shakaCurrentLevel = o.videoBandwidth : o.bandwidth && (this.shakaCurrentLevel = o.bandwidth), null !== r && this.shakaCurrentLevel === r || h.default.createStdEvent("shakalevelswitching", this.dom.container);
                                for (var l = 0, d = t.length; l < d; l++) {
                                    var c = t[l],
                                        u = c.getAttribute("data-track-id");
                                    if (u && parseInt(u) === o.id) {
                                        h.default.addClass(c, "rmp-abr-active");
                                        break
                                    }
                                }
                                break
                            }
                        }
                    }
                }
            }

            function y() {
                "undefined" != typeof shaka && (shaka.polyfill.installAll(), shaka.Player.isBrowserSupported()) ? this.readingDash ? r.default.checkStreams.call(this, C.bind(this), this.backupSrc, "dash") : this.readingHlsShaka && (this.readingHlsHevc ? r.default.checkStreams.call(this, C.bind(this), this.backupSrc, "hlsHevc") : r.default.checkStreams.call(this, C.bind(this), this.backupSrc, "hls")) : l.default.fatal.call(this, "failed to load required lib Shaka player", 300, null)
            }

            function b() {
                var e;
                "undefined" != typeof shaka ? y.call(this) : (e = this.pathToRmpFiles + "dash/shaka-player.compiled.js", h.default.getScript(e, y.bind(this), l.default.fatal.bind(this, "failed to load required lib Shaka player", 300, null)))
            }
            var w = {},
                _ = (w.setUpVideoRenditions = function() {
                    this.shakaVideoRenditions = [];
                    for (var t = g.call(this), e = this.variantsPerLng.filter(function(e) {
                            return Object.keys(e)[0] === t
                        }), i = 0, s = (e = void 0 !== e[0][t] ? e[0][t] : []).length; i < s; i++) {
                        var n = e[i],
                            a = document.createElement("div"),
                            o = (h.default.setClass(a, "rmp-overlay-level rmp-color-bg rmp-q" + (i + 1)), a.setAttribute("data-track-id", n.id), this.shakaVideoRenditions.push(n.id), ""),
                            r = n.height,
                            r = (r && (o += r + "p"), Math.round(n.bandwidth / 1e3));
                        10 < r && (o += " " + this.uiSeparator + " " + r.toString() + " kbps"), o || (o += "Level " + (i + 1)), h.default.setText(a, o), this.dom.qualityOverlayLevelsArea.appendChild(a)
                    }(function() {
                        if (this.dom.qualityOverlayLevelsArea)
                            for (var e = this.dom.qualityOverlayLevelsArea.querySelectorAll(".rmp-overlay-level"), t = 0, i = e.length; t < i; t++) h.default.addEvent(["touchend", "click"], e[t], f.bind(this, t))
                    }).call(this), v.call(this)
                }, 0),
                C = (w.destroy = function() {
                    this.shakaPlayer && (this.shakaPlayer.removeEventListener("error", this.shakaError), this.shakaPlayer.removeEventListener("adaptation", this.shakaAdaptationChanged), this.shakaPlayer.removeEventListener("buffering", this.shakaBuffering), this.shakaPlayer.removeEventListener("trackschanged", this.shakaTracksChanged), this.shakaPlayer.removeEventListener("buffering", this.shakaUnstalledBuffer)), this.dom.container && this.dom.container.removeEventListener("playing", this.shakaOnPlayingResetRetriesCount)
                }, function() {
                    this.shakaPlayer = new shaka.Player(this.dom.video), this.hasStreamroot && "undefined" != typeof ShakaPlayerDnaWrapper && (this.streamrootWrapper = new ShakaPlayerDnaWrapper(this.shakaPlayer, this.streamrootConfig.streamrootKey, this.streamrootConfig.dnaConfig));
                    var e = h.default.isEmptyObject(this.shakaCustomConfig) ? a.default.initial.call(this) : this.shakaCustomConfig;
                    this.shakaPlayer.configure(e), null !== this.shakaCustomRequestFilter ? this.shakaPlayer.getNetworkingEngine().registerRequestFilter(this.shakaCustomRequestFilter) : h.default.isEmptyObject(this.shakaRequestConfiguration) || a.default.request.call(this), this.shakaError = function(e) {
                        var t;
                        e && (t = (t = e) && e.detail ? e.detail : t) && "number" == typeof t.severity && (2 === t.severity ? (h.default.createCustomEvent("shakaerror", this.dom.container, t), l.default.fatal.call(this, "Shaka player error - cannot recover", 301, t)) : 1 === t.severity && (1 === t.category && this.isLive && this.hasLoadedMetadata ? _ < this.liveRetries ? (0 === _ && (this.shakaOnPlayingResetRetriesCount = function() {
                            this.dom.container.removeEventListener("playing", this.shakaOnPlayingResetRetriesCount), _ = 0
                        }.bind(this), this.dom.container.addEventListener("playing", this.shakaOnPlayingResetRetriesCount)), _++) : (this.dom.container.removeEventListener("playing", this.shakaOnPlayingResetRetriesCount), h.default.createCustomEvent("shakaerror", this.dom.container, t), l.default.fatal.call(this, "Shaka player error - cannot recover", 301, t)) : (h.default.createStdEvent("shakawarning", this.dom.container, t), l.default.warning.call(this, "Shaka player warning", 3e3, t))))
                    }.bind(this), this.shakaPlayer.addEventListener("error", this.shakaError), this.shakaAdaptationChanged = function() {
                        this.shakaPlayer.getConfiguration().abr.enabled && v.call(this)
                    }.bind(this), this.shakaPlayer.addEventListener("adaptation", this.shakaAdaptationChanged), this.shakaBuffering = function(e) {
                        e && "buffering" === e.type && e.buffering && (this.firstBufferStalledEvent || (o.default.showLoadingSpin.call(this), this.shakaPlayer.addEventListener("buffering", this.shakaUnstalledBuffer), h.default.createStdEvent("bufferstalled", this.dom.container)), this.firstBufferStalledEvent = !1)
                    }.bind(this), this.shakaUnstalledBuffer = function(e) {
                        this.shakaPlayer.removeEventListener("buffering", this.shakaUnstalledBuffer), e && "buffering" === e.type && !e.buffering && (o.default.hideLoadingSpin.call(this), h.default.createStdEvent("buffernotstalledanymore", this.dom.container))
                    }.bind(this), this.shakaPlayer.addEventListener("buffering", this.shakaBuffering), this.shakaTracksChanged = function() {
                        this.dom.quality && s.default.destroy.call(this), this.dom.audio && d.default.destroy.call(this, "audio"), this.hasCC || this.dom.captions && n.default.destroy.call(this),
                            function() {
                                (function() {
                                    var s = this,
                                        n = (this.variantsAudioLng = this.shakaPlayer.getAudioLanguages(), this.shakaPlayer.getVariantTracks());
                                    this.variantsPerLng = [], this.variantsAudioLng.forEach(function(t) {
                                        var e = n.filter(function(e) {
                                                return e.language === t
                                            }),
                                            i = (e.sort(function(e, t) {
                                                return e.bandwidth - t.bandwidth
                                            }), {});
                                        i[t] = e, s.variantsPerLng.push(i)
                                    }), this.hasCC || (this.shakaTextTracks = this.shakaPlayer.getTextTracks())
                                }).call(this), 0 < this.variantsPerLng.length && (s.default.setUpAbrUI.call(this), w.setUpVideoRenditions.call(this), 1 < this.variantsPerLng.length && function() {
                                    d.default.append.call(this, "audio"), d.default.appendOverlay.call(this, "audio"), d.default.deferredShow.call(this, "audio");
                                    for (var e = g.call(this), t = 0; t < this.variantsAudioLng.length; t++) {
                                        var i = this.variantsAudioLng[t],
                                            s = document.createElement("div"),
                                            n = (i === e ? h.default.setClass(s, "rmp-overlay-level rmp-color-bg rmp-overlay-level-active") : h.default.setClass(s, "rmp-overlay-level rmp-color-bg"), "Audio " + t);
                                        h.default.setText(s, n = "und" !== i ? i : n), h.default.addEvent(["touchend", "click"], s, m.bind(this, t)), this.dom.audioOverlayLevelsArea.appendChild(s)
                                    }
                                }.call(this), !this.hasCC) && 0 < this.shakaTextTracks.length && (this.textTracks = h.default.filterTextTracks(this.shakaTextTracks), 0 < this.textTracks.length) && n.default.appendUI.call(this)
                            }.call(this), h.default.createStdEvent("shakatrackschanged", this.dom.container)
                    }.bind(this), this.shakaPlayer.addEventListener("trackschanged", this.shakaTracksChanged), this.shakaOffline && this.isVod && (this.hasDownloadSupport() ? u.default.init.call(this) : l.default.warning.call(this, "offline storage is not supported in this environment", 3007, null)), this.shakaPlayer.load(this.startingBitratePath).catch(this.shakaError), this.msePreloadCompleted = !0, h.default.createStdEvent("shakainstancecreated", this.dom.container)
                });
            w.init = function() {
                this.msePreloadRequested ? this.msePreloadRequested = !1 : h.default.isEmptyObject(this.streamrootConfig) || !this.streamrootConfig.streamrootKey || "shakaplayer" !== this.streamrootConfig.type || (this.hasStreamroot = !0, "undefined" != typeof ShakaPlayerDnaWrapper) ? b.call(this) : h.default.getScript("https://cdn.streamroot.io/shakaplayer-dna-wrapper/1/stable/shakaplayer-dna-wrapper.js", b.bind(this), b.bind(this))
            }, i.default = w
        }, {
            "../api/offline": 19,
            "../cast/cast": 22,
            "../core/modules/modules": 30,
            "../core/modules/quality": 31,
            "../core/ui/core-ui": 41,
            "../core/utils/error": 44,
            "../core/utils/utils": 46,
            "../fw/fw": 53,
            "../vtt/captions": 57,
            "./shaka/configuration": 5
        }],
        5: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var u = s(e("../../fw/fw")),
                a = s(e("../../fw/env")),
                o = s(e("../../../../../rmp-connection/js/rmp-connection"));

            function s(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function r(e) {
                (i = a.default.devicePixelRatio) <= 1 && !this.getFullscreen() && (i = 1.25);
                var t = this.getPlayerWidth() * i,
                    i = this.getPlayerHeight() * i;
                return 0 < t && 0 < i ? (t = {
                    maxWidth: t,
                    maxHeight: i
                }, e ? (e.abr.restrictions = t, e) : {
                    abr: {
                        restrictions: t
                    }
                }) : null
            }
            e = {};
            e.initial = function() {
                var e = {
                        abr: {},
                        drm: {},
                        manifest: {},
                        restrictions: {},
                        streaming: {}
                    },
                    t = {},
                    i = {},
                    s = this.shakaStartLevel,
                    n = null;
                return s < 0 && 0 < (n = o.default.getBandwidthEstimate()) && (s = Math.round(1e3 * n * 1e3)), null === n && (s = a.default.fallbackArbitraryBWEstimate), e.abr.defaultBandwidthEstimate = s, e.abr.bandwidthDowngradeTarget = this.shakaBandwidthDowngradeTarget, e.abr.bandwidthUpgradeTarget = this.shakaBandwidthUpgradeTarget, this.shakaCapLevelToPlayerSize && ((n = r.call(this, e)) && (e = n), this.configureShakaCapLevelToPlayerSize = function() {
                    var e = r.call(this, null);
                    e && this.shakaPlayer.configure(e)
                }.bind(this, null), this.dom.container.addEventListener("resize", this.configureShakaCapLevelToPlayerSize)), e.preferredAudioLanguage = this.shakaPreferredAudioLanguage, e.streaming.bufferBehind = this.shakaStreamingBufferBehind, e.streaming.bufferingGoal = this.shakaStreamingBufferingGoal, e.streaming.rebufferingGoal = this.shakaStreamingRebufferingGoal, e.streaming.ignoreTextStreamFailures = this.shakaStreamingIgnoreTextStreamFailures, e.streaming.jumpLargeGaps = this.shakaJumpLargeGaps, e.streaming.smallGapLimit = this.shakaSmallGapLimit, 10 !== this.shakaManifestDashDefaultPresentationDelay && (e.manifest.dash = {}, e.manifest.dash.defaultPresentationDelay = this.shakaManifestDashDefaultPresentationDelay), u.default.isEmptyObject(this.shakaRetryParameters) ? (e.manifest.retryParameters = {
                    maxAttempts: 3
                }, e.streaming.retryParameters = {
                    maxAttempts: 4
                }) : ("number" == typeof this.shakaRetryParameters.maxAttempts && (t.maxAttempts = this.shakaRetryParameters.maxAttempts), "number" == typeof this.shakaRetryParameters.baseDelay && (t.baseDelay = this.shakaRetryParameters.baseDelay), "number" == typeof this.shakaRetryParameters.backoffFactor && (t.backoffFactor = this.shakaRetryParameters.backoffFactor), "number" == typeof this.shakaRetryParameters.fuzzFactor && (t.fuzzFactor = this.shakaRetryParameters.fuzzFactor), "number" == typeof this.shakaRetryParameters.timeout && (t.timeout = this.shakaRetryParameters.timeout), u.default.isEmptyObject(t) || (e.drm.retryParameters = t, e.manifest.retryParameters = t, e.streaming.retryParameters = t)), u.default.isEmptyObject(this.shakaDrm) || (u.default.isObject(this.shakaDrm.servers) && (e.drm.servers = this.shakaDrm.servers), u.default.isObject(this.shakaDrm.clearKeys) && (e.drm.clearKeys = this.shakaDrm.clearKeys), u.default.isObject(this.shakaDrm.advanced) && (e.drm.advanced = this.shakaDrm.advanced)), u.default.isEmptyObject(this.shakaRestrictions) || ("number" == typeof this.shakaRestrictions.minWidth && (i.minWidth = this.shakaRestrictions.minWidth), "number" == typeof this.shakaRestrictions.maxWidth && (i.maxWidth = this.shakaRestrictions.maxWidth), "number" == typeof this.shakaRestrictions.minHeight && (i.minHeight = this.shakaRestrictions.minHeight), "number" == typeof this.shakaRestrictions.maxHeight && (i.maxHeight = this.shakaRestrictions.maxHeight), "number" == typeof this.shakaRestrictions.minPixels && (i.minPixels = this.shakaRestrictions.minPixels), "number" == typeof this.shakaRestrictions.maxPixels && (i.maxPixels = this.shakaRestrictions.maxPixels), "number" == typeof this.shakaRestrictions.minAudioBandwidth && (i.minAudioBandwidth = this.shakaRestrictions.minAudioBandwidth), "number" == typeof this.shakaRestrictions.maxAudioBandwidth && (i.maxAudioBandwidth = this.shakaRestrictions.maxAudioBandwidth), "number" == typeof this.shakaRestrictions.minVideoBandwidth && (i.minVideoBandwidth = this.shakaRestrictions.minVideoBandwidth), "number" == typeof this.shakaRestrictions.maxVideoBandwidth && (i.maxVideoBandwidth = this.shakaRestrictions.maxVideoBandwidth), u.default.isEmptyObject(i)) || (e.restrictions = i), u.default.isEmptyObject(e.drm) && delete e.drm, u.default.isEmptyObject(e.manifest) && delete e.manifest, u.default.isEmptyObject(e.restrictions) && delete e.restrictions, e
            }, e.request = function() {
                var o = {},
                    r = !1,
                    l = "",
                    d = (u.default.isObject(this.shakaRequestConfiguration.license) && (u.default.isObject(this.shakaRequestConfiguration.license.headers) && (o = this.shakaRequestConfiguration.license.headers), "boolean" == typeof this.shakaRequestConfiguration.license.credentials && (r = this.shakaRequestConfiguration.license.credentials), "string" == typeof this.shakaRequestConfiguration.license.parameters) && (l = this.shakaRequestConfiguration.license.parameters), !1),
                    c = (u.default.isObject(this.shakaRequestConfiguration.manifest) && "boolean" == typeof this.shakaRequestConfiguration.manifest.credentials && (d = this.shakaRequestConfiguration.manifest.credentials), !1);
                u.default.isObject(this.shakaRequestConfiguration.segment) && "boolean" == typeof this.shakaRequestConfiguration.segment.credentials && (c = this.shakaRequestConfiguration.segment.credentials), this.shakaPlayer.getNetworkingEngine().registerRequestFilter(function(e, t) {
                    if (e === shaka.net.NetworkingEngine.RequestType.LICENSE) {
                        if (!u.default.isEmptyObject(o))
                            for (var i = Object.keys(o), s = 0, n = i.length; s < n; s++) {
                                var a = i[s];
                                t.headers[a] = o[a]
                            }
                        "" !== l && (t.uris[0] += l), r && (t.allowCrossSiteCredentials = !0)
                    }
                    e === shaka.net.NetworkingEngine.RequestType.MANIFEST && d && (t.allowCrossSiteCredentials = !0), e === shaka.net.NetworkingEngine.RequestType.SEGMENT && c && (t.allowCrossSiteCredentials = !0)
                })
            }, i.default = e
        }, {
            "../../../../../rmp-connection/js/rmp-connection": 253,
            "../../fw/env": 52,
            "../../fw/fw": 53
        }],
        6: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var a = c(e("../fw/fw")),
                o = c(e("../fw/env")),
                s = c(e("../core/ui/core-ui")),
                n = c(e("./ima-ads")),
                r = c(e("./rmp-vast")),
                l = c(e("../core/modules/modules")),
                d = c(e("../core/accessible/accessible"));

            function c(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function u(e) {
                if (Array.isArray(e)) {
                    for (var t = 0, i = Array(e.length); t < e.length; t++) i[t] = e[t];
                    return i
                }
                return Array.from(e)
            }

            function h() {
                var e = this.getAdCurrentTime();
                e > 1e3 * this.adSkipOffset ? (a.default.clearInterval(this.adSkipInterval), this.dom.adSkipWaiting.style.display = "none", this.dom.adSkipMessage.style.display = "block", this.dom.skipIcon.style.display = "block") : -1 < e && 0 < (e = Math.round((1e3 * this.adSkipOffset - e) / 1e3)) && (this.dom.adSkipWaiting.textContent = this.labels.ads.skipWaitingMessage + " " + e + "s")
            }

            function p() {
                a.default.removeClass(this.dom.outline, "rmp-no-display"), s.default.enableCentralUI.call(this)
            }

            function f() {
                a.default.addClass(this.dom.outline, "rmp-no-display"), s.default.disableCentralUI.call(this)
            }

            function m() {
                var e = -1;
                if ("ima" === this.adParser) try {
                    e = this.adsManager.getRemainingTime()
                } catch (e) {
                    a.default.trace(e)
                } else e = (this.getAdDuration() - this.getAdCurrentTime()) / 1e3;
                "number" == typeof e && 0 <= e && (e = a.default.readableTime(Math.round(e)), a.default.setText(this.dom.adCountdown, "(" + e + ")"))
            }
            var g = {
                destroy: function() {
                    a.default.removeEvent("ended", this.dom.container, this.onEndedWaitForPlay), a.default.removeEvent("play", this.dom.container, this.onRePlayLoadAdTag), a.default.removeEvent("adloaded", this.dom.container, this.onAdLoadedAfterReload)
                }
            };
            g.onEndedReloadAdTag = function() {
                this.onEndedWaitForPlay = function() {
                    this.dom.container.removeEventListener("ended", this.onEndedWaitForPlay), this.onRePlayLoadAdTag = function() {
                        this.dom.container.removeEventListener("play", this.onRePlayLoadAdTag), this.adTagWaterfall = [].concat(u(this.originalAdTagWaterfall)), this.adTagUrl = this.originalAdTagUrl, "ima" === this.adParser ? this.contentCompleteCalled = !1 : this.rmpVast.setContentPlayerCompleted(!1), this.loadAds(this.adTagUrl), this.dom.container.addEventListener("ended", this.onEndedWaitForPlay)
                    }.bind(this), this.dom.container.addEventListener("play", this.onRePlayLoadAdTag)
                }.bind(this), this.dom.container.addEventListener("ended", this.onEndedWaitForPlay)
            }, g.endedOutStreamUI = function() {
                "" !== this.endOfVideoPoster && this.setPoster(this.endOfVideoPoster), "" !== this.poster && a.default.show(this.dom.poster), a.default.hide(this.dom.outline), this.adTagReloadOnEnded ? (a.default.removeClass(this.dom.overlayButtonIcon, "rmp-i-play"), a.default.addClass(this.dom.overlayButtonIcon, "rmp-i-replay"), s.default.showCentralPlay.call(this), this.onInteractionReloadAdTag = function(e) {
                    e && (e.stopPropagation(), "touchend" === e.type) && e.preventDefault(), a.default.removeEvent(["touchend", "click"], this.dom.overlayButton, this.onInteractionReloadAdTag), o.default.isMobile && a.default.removeEvent(["touchend", "click"], this.dom.centralMobileUI, this.onInteractionReloadAdTag), this.adTagWaterfall = [].concat(u(this.originalAdTagWaterfall)), this.adTagUrl = this.originalAdTagUrl, this.loadAds(this.adTagUrl), this.onAdLoadedAfterReload = function() {
                        this.dom.container.removeEventListener("adloaded", this.onAdLoadedAfterReload), a.default.removeClass(this.dom.overlayButtonIcon, "rmp-i-replay"), a.default.addClass(this.dom.overlayButtonIcon, "rmp-i-play"), o.default.isMobile && (a.default.removeClass(this.dom.centralMobileUIIcon, "rmp-i-replay"), a.default.removeClass(this.dom.centralMobileUI, "rmp-mobile-show-play"), a.default.addClass(this.dom.centralMobileUIIcon, "rmp-i-pause")), a.default.show(this.dom.outline)
                    }.bind(this), this.dom.container.addEventListener("adloaded", this.onAdLoadedAfterReload)
                }.bind(this), a.default.addEvent(["touchend", "click"], this.dom.overlayButton, this.onInteractionReloadAdTag), o.default.isMobile && (a.default.removeClass(this.dom.centralMobileUIIcon, "rmp-i-play"), a.default.removeClass(this.dom.centralMobileUIIcon, "rmp-i-pause"), a.default.addClass(this.dom.centralMobileUIIcon, "rmp-i-replay"), a.default.addClass(this.dom.centralMobileUI, "rmp-mobile-show-play"), a.default.addEvent(["touchend", "click"], this.dom.centralMobileUI, this.onInteractionReloadAdTag))) : (s.default.hideCentralPlay.call(this), s.default.hideLoadingSpin.call(this), a.default.removeEvent(["touchend", "click"], this.dom.playPause, this.initiatePlayback), a.default.removeEvent(["touchend", "click"], this.dom.overlayButton, this.initiatePlayback), o.default.isMobile && (a.default.hide(this.dom.centralMobileUI), a.default.removeEvent(["touchend", "click"], this.dom.centralMobileUI, this.initiatePlayback)))
            }, g.createControlBarAdInfo = function() {
                this.dom.adInfo = document.createElement("div"), a.default.setClass(this.dom.adInfo, "rmp-ad-info"), a.default.hide(this.dom.adInfo), !o.default.isMobile || "ima" !== this.adParser || "s3" !== this.skin && "s4" !== this.skin || a.default.addClass(this.dom.adInfo, "rmp-no-display"), this.dom.outline.appendChild(this.dom.adInfo), "" !== this.labels.ads.controlBarCustomMessage && (this.dom.adMessage = document.createElement("span"), a.default.setClass(this.dom.adMessage, "rmp-ad-info-message"), a.default.setText(this.dom.adMessage, this.labels.ads.controlBarCustomMessage), this.dom.adInfo.appendChild(this.dom.adMessage))
            }, g.setAdUI = function(e) {
                var t;
                e && !this.hasAdUI ? (!this.adOutStream && (l.default.closeAll.call(this), l.default.hide.call(this), a.default.hide([this.dom.seekBar, this.dom.duration, this.dom.timeElapsed]), this.dom.logoImg && a.default.hide(this.dom.logoImg), this.dom.quickRewind && a.default.hide(this.dom.quickRewind), this.hasRelated && a.default.hide(this.dom.relatedSkip), this.hasPlaylist && (a.default.hide(this.dom.playlistLeftArrow), a.default.hide(this.dom.playlistRightArrow)), this.video360) && (null !== (t = this.dom.container.querySelector(".rmp-360-ui-text")) && a.default.removeElement(t), a.default.hide(this.dom.ui360), a.default.show(this.dom.adContainer)), a.default.addClass(this.dom.contentTitle, "rmp-no-display"), this.dom.adInfo || g.createControlBarAdInfo.call(this), !1 === this.adCountDown && "" === this.labels.ads.controlBarCustomMessage || a.default.show(this.dom.adInfo), this.adSkipButton && "ima" !== this.adParser && function() {
                    var e;
                    this.rmpVast.getIsSkippableAd() || this.isVpaidCreative() || (void 0 === this.dom.adSkipButton && (this.dom.adSkipButton = document.createElement("div"), this.dom.adSkipButton.className = "rmp-ad-skip", d.default.makeAccessible.call(this, this.dom.adSkipButton, "Ad skip button", !0), this.dom.adSkipWaiting = document.createElement("div"), this.dom.adSkipWaiting.className = "rmp-ad-skip-waiting", this.dom.adSkipMessage = document.createElement("div"), this.dom.adSkipMessage.className = "rmp-ad-skip-message", this.dom.adSkipMessage.textContent = this.labels.ads.skipMessage, this.dom.skipIcon = document.createElement("div"), this.dom.skipIcon.className = "rmp-ad-skip-icon", a.default.addEvent(["touchend", "click"], this.dom.adSkipButton, function(e) {
                        e && (e.stopPropagation(), "touchend" === e.type) && e.preventDefault(), this.getAdCurrentTime() > 1e3 * this.adSkipOffset && this.stopAds()
                    }.bind(this)), this.dom.adSkipButton.appendChild(this.dom.adSkipWaiting), this.dom.adSkipButton.appendChild(this.dom.adSkipMessage), this.dom.adSkipButton.appendChild(this.dom.skipIcon), "ima" === this.adParser ? this.dom.adContainer.appendChild(this.dom.adSkipButton) : null !== (e = this.dom.container.querySelector(".rmp-ad-container")) && e.appendChild(this.dom.adSkipButton)), this.dom.adSkipButton.style.display = "block", this.adSkipOffset <= 0 ? (this.dom.adSkipWaiting.style.display = "none", this.dom.adSkipMessage.style.display = "block", this.dom.skipIcon.style.display = "block") : (this.dom.adSkipWaiting.style.display = "block", this.dom.adSkipMessage.style.display = "none", this.dom.skipIcon.style.display = "none"), 0 < this.adSkipOffset && (h.call(this), a.default.clearInterval(this.adSkipInterval), this.adSkipInterval = setInterval(h.bind(this), 1e3)))
                }.call(this), this.isVPAID && g.setVPAIDUI.call(this, !0), function() {
                    /adsense/i.test(this.adSystem) && /(text|image\/)/i.test(this.adContentType) && f.call(this)
                }.call(this), s.default.showChrome.call(this), this.hasAdUI = !0) : !e && this.hasAdUI && (this.adOutStream || (l.default.show.call(this), this.isLive ? a.default.setText(this.dom.timeElapsedText, this.labels.hint.live) : a.default.show([this.dom.seekBar, this.dom.duration]), a.default.show(this.dom.timeElapsed), this.dom.quickRewind && a.default.show(this.dom.quickRewind), this.hasRelated && a.default.show(this.dom.relatedSkip), this.hasPlaylist && (a.default.show(this.dom.playlistLeftArrow), a.default.show(this.dom.playlistRightArrow)), this.video360 && (a.default.hide(this.dom.adContainer), a.default.show(this.dom.ui360))), a.default.hide(this.dom.adInfo), this.isVPAID && g.setVPAIDUI.call(this, !1), a.default.removeClass(this.dom.contentTitle, "rmp-no-display"), this.dom.logoImg && a.default.show(this.dom.logoImg), p.call(this), a.default.clearInterval(this.adCountdownInterval), this.adSkipButton && "ima" !== this.adParser && function() {
                    a.default.clearInterval(this.adSkipInterval), this.dom.adSkipButton && (this.dom.adSkipButton.style.display = "none")
                }.call(this), this.hasAdUI = !1)
            }, g.updateVPAIDStatus = function(e) {
                var t = this.getAdContentType();
                /\/javascript/i.test(t) && (this.isVPAID = !0, e) && g.setVPAIDUI.call(this, !0)
            }, g.setVPAIDUI = function(e) {
                e ? this.adVpaidControls ? this.dom.outline.style.zIndex = "9999" : f.call(this) : this.adVpaidControls ? "9999" === this.dom.outline.style.zIndex && (this.dom.outline.style.zIndex = "auto") : p.call(this)
            }, g.udpatePlayPause = function() {
                (this.getAdPaused() ? (a.default.addClass(this.dom.playPause, "rmp-i-play"), a.default.removeClass(this.dom.playPause, "rmp-i-pause"), o.default.isMobile && (a.default.removeClass(this.dom.centralMobileUIIcon, "rmp-i-pause"), a.default.addClass(this.dom.centralMobileUIIcon, "rmp-i-play"), a.default.addClass(this.dom.centralMobileUI, "rmp-mobile-show-play")), s.default.showChrome.call(this), s.default.showCentralPlay) : (a.default.removeClass(this.dom.playPause, "rmp-i-play"), a.default.addClass(this.dom.playPause, "rmp-i-pause"), o.default.isMobile && (a.default.removeClass(this.dom.centralMobileUIIcon, "rmp-i-play"), a.default.removeClass(this.dom.centralMobileUI, "rmp-mobile-show-play"), a.default.addClass(this.dom.centralMobileUIIcon, "rmp-i-pause")), s.default.hideCentralPlay)).call(this)
            }, g.playPause = function() {
                ("ima" === this.adParser ? this.getAdPaused() ? n.default.resumeAds : n.default.pauseAds : this.getAdPaused() ? r.default.resumeAds : r.default.pauseAds).call(this)
            };
            g.addCountDown = function() {
                this.dom.adCountdown || (this.dom.adCountdown = document.createElement("span"), a.default.setClass(this.dom.adCountdown, "rmp-ad-info-countdown"), this.dom.adInfo.appendChild(this.dom.adCountdown)), m.call(this), a.default.clearInterval(this.adCountdownInterval), this.adCountdownInterval = setInterval(m.bind(this), 1e3)
            }, g.onAdBlockDetection = function() {
                var e = this;
                a.default.addClass(this.dom.container, "rmp-ad-block-detected"), this.googleCast = !1, this.airplay = !1, this.dom.container.addEventListener("playing", function() {
                        e.pause(), e.showPoster()
                    }),
                    function() {
                        var e = document.createElement("div"),
                            t = (e.className = "rmp-ad-block-container", e.addEventListener("click", function(e) {
                                e.preventDefault(), e.stopPropagation()
                            }), document.createElement("div"));
                        t.className = "rmp-ad-block-text", t.textContent = this.adBlockerDetectedMessage, e.appendChild(t), this.dom.container.appendChild(e), a.default.fadeIn(e), a.default.show(this.dom.poster)
                    }.call(this)
            }, g.replaceAdTagVar = function(e) {
                var i = e;
                if (/__.+__/i.test(i)) {
                    var s = [],
                        e = "",
                        e = (window.location && window.location.hostname && (e = window.location.hostname.toLowerCase()), s.push(a.default.RFC3986EncodeURIComponent(e)), this.height),
                        e = (("number" != typeof(e = this.isInFullscreen ? a.default.getScreenHeight() : e) || e <= 0) && (e = ""), s.push(a.default.RFC3986EncodeURIComponent(Math.round(e).toString())), this.width);
                    ("number" != typeof(e = this.isInFullscreen ? a.default.getScreenWidth() : e) || e <= 0) && (e = ""), s.push(a.default.RFC3986EncodeURIComponent(Math.round(e).toString()));
                    for (var t = "", n = 0; n < 12; n++) t += a.default.getRandomInt(0, 9).toString();
                    s.push(a.default.RFC3986EncodeURIComponent(t));
                    e = "", e = (document.URL && (e = document.URL), s.push(a.default.RFC3986EncodeURIComponent(e)), Date.now()), e = (s.push(a.default.RFC3986EncodeURIComponent((e = "number" != typeof e || e <= 0 ? "" : e).toString())), ""), e = (document.referrer && (e = document.referrer), s.push(a.default.RFC3986EncodeURIComponent(e)), ""), e = (o.default.isMobile && (e = "mobile"), s.push(a.default.RFC3986EncodeURIComponent(e)), ""), e = ("ima" === this.adParser && (e = this.adParser), s.push(a.default.RFC3986EncodeURIComponent(e)), ""), e = ("" !== this.contentTitle && (e = this.contentTitle), s.push(a.default.RFC3986EncodeURIComponent(e)), "");
                    "" !== this.contentDescription && (e = this.contentDescription), s.push(a.default.RFC3986EncodeURIComponent(e));
                    e = -1 !== (e = this.getDuration()) && this.isVod ? Math.round(e / 1e3).toString() : "";
                    s.push(a.default.RFC3986EncodeURIComponent(e));
                    e = -1 !== (e = this.getCurrentTime()) && this.isVod ? Math.round(e / 1e3).toString() : "";
                    s.push(a.default.RFC3986EncodeURIComponent(e)), ["__domain__", "__player-height__", "__player-width__", "__random-number__", "__page-url__", "__timestamp__", "__referrer__", "__mobile__", "__ima__", "__item-title__", "__item-description__", "__item-duration__", "__current-time__"].forEach(function(e, t) {
                        i = i.replace(e, s[t])
                    })
                }
                return i
            }, i.default = g
        }, {
            "../core/accessible/accessible": 23,
            "../core/modules/modules": 30,
            "../core/ui/core-ui": 41,
            "../fw/env": 52,
            "../fw/fw": 53,
            "./ima-ads": 7,
            "./rmp-vast": 9
        }],
        7: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var n = u(e("../fw/fw")),
                a = u(e("../fw/env")),
                s = u(e("../core/ready")),
                o = u(e("../core/volume/volume")),
                r = u(e("../core/resize/resize")),
                l = u(e("../core/ui/core-ui")),
                d = u(e("../core/utils/utils")),
                c = u(e("./ads-helpers"));

            function u(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function h() {
                if (null !== this.adsManager && "function" == typeof this.adsManager.destroy) try {
                    this.adsManager.destroy()
                } catch (e) {
                    n.default.trace(e)
                }
            }

            function p() {
                this.adShowRemainingTime && (n.default.hide(this.dom.adCurrentTime), n.default.clearInterval(this.adRemainingTimeBarInterval)), this.isVod && this.dom.video.addEventListener("ended", this.ended), this.readingPDorNative && this.dom.video.addEventListener("error", this.generateError, !0), c.default.setAdUI.call(this, !1)
            }

            function f() {
                if (this.adPaused = !1, this.adOnStage = !1, p.call(this), this.adOutStream) c.default.endedOutStreamUI.call(this);
                else if (!this.contentCompleteCalled) {
                    if (this.firstPreroll && (this.firstPreroll = !1, this.adAutoplayOnlyPreroll)) return n.default.show(this.dom.poster), void l.default.restorePlayUI.call(this);
                    d.default.playPromise.call(this)
                }
                n.default.createStdEvent("adcontentresumerequested", this.dom.container)
            }

            function m(e) {
                void 0 !== (e = e.getError()) && (this.adErrorCode = e.getErrorCode(), this.adErrorMessage = e.getMessage(), this.adErrorType = e.getType(), this.adVastErrorCode = e.getVastErrorCode(), -1 < x.indexOf(this.adVastErrorCode)) || (l.default.hideLoadingSpin.call(this), n.default.createStdEvent("aderror", this.dom.container), void 0 !== e && (this.adErrorType === google.ima.AdError.Type.AD_LOAD ? n.default.createStdEvent("adloaderror", this.dom.container) : this.adErrorType === google.ima.AdError.Type.AD_PLAY && n.default.createStdEvent("adplayerror", this.dom.container)), k.call(this))
            }

            function g(e) {
                this.adOnStage = !0, this.isVPAID = !1, l.default.hideLoadingSpin.call(this), l.default.showChrome.call(this), r.default.resizeAds.call(this), n.default.removeClass(this.dom.adContainer, "rmp-ad-overlay");
                var t = e.isLinear();
                "boolean" == typeof t && (this.isLinear = !!t), this.adID = e.getAdId(), this.adCreativeAdId = e.getCreativeAdId(), this.adCreativeId = e.getCreativeId(), this.adDealId = e.getDealId(), this.adSystem = e.getAdSystem(), this.adAdvertiserName = e.getAdvertiserName(), this.adMediaUrl = e.getMediaUrl(), this.adSurveyUrl = e.getSurveyUrl(), this.adUniversalAdIdRegistry = e.getUniversalAdIdRegistry(), this.adUniversalAdIdValue = e.getUniversalAdIdValue(), this.adApiFramework = e.getApiFramework(), this.adContentType = e.getContentType(), this.adDescription = e.getDescription(), this.adDuration = e.getDuration(), this.adTraffickingParameters = e.getTraffickingParameters(), this.adTraffickingParametersString = e.getTraffickingParametersString(), this.adNonLinearHeight = e.getHeight(), this.adNonLinearWidth = e.getWidth(), this.adTitle = e.getTitle(), this.adWrapperAdIds = e.getWrapperAdIds(), this.adWrapperAdSystems = e.getWrapperAdSystems(), this.adWrapperCreativeIds = e.getWrapperCreativeIds(), this.currentAdForCompanion = e, this.isLinear && (this.muted ? o.default.setVolumeAds.call(this, 0) : o.default.setVolumeAds.call(this, this.currentVolume))
            }

            function v(e) {
                if (n.default.isObject(e)) {
                    var t = e.getAd();
                    if (n.default.isObject(t) && e.type) switch (e.type) {
                        case google.ima.AdEvent.Type.LOADED:
                            ! function(e) {
                                g.call(this, e), n.default.createStdEvent("adloaded", this.dom.container)
                            }.call(this, t);
                            break;
                        case google.ima.AdEvent.Type.STARTED:
                            ! function(e) {
                                g.call(this, e), this.googleCast && this.castConnected || this.video360 && !this.isLinear ? (this.video360 && n.default.hide(this.dom.adContainer), this.stopAds(), this.play()) : (c.default.updateVPAIDStatus.call(this, this.isLinear), this.isLinear ? (this.adPaused = !1, c.default.udpatePlayPause.call(this), this.adCountDown && this.dom.adInfo && c.default.addCountDown.call(this), function(e) {
                                    var t;
                                    this.adPodInfo = e.getAdPodInfo(), this.dom.adPod && n.default.setText(this.dom.adPod, ""), this.adPodInfo && this.dom.adInfo && "number" == typeof(e = this.adPodInfo.getTotalAds()) && 1 < e && (this.dom.adPod || (this.dom.adPod = document.createElement("span"), n.default.setClass(this.dom.adPod, "rmp-ad-info-pod"), this.dom.adCountdown ? this.dom.adInfo.insertBefore(this.dom.adPod, this.dom.adCountdown) : this.dom.adInfo.appendChild(this.dom.adPod)), "number" == typeof(t = this.adPodInfo.getAdPosition())) && n.default.setText(this.dom.adPod, t + "/" + e)
                                }.call(this, e), n.default.hide(this.dom.poster)) : (this.adOutStream ? (this.stopAds(), k) : (this.adNonLinearHeight + 40 < this.height && n.default.addClass(this.dom.adContainer, "rmp-ad-overlay"), this.adAutoAlign || n.default.addClass(this.dom.adContainer, "rmp-ad-no-auto-align"), d.default.playPromise)).call(this), n.default.createStdEvent("adstarted", this.dom.container))
                            }.call(this, t);
                            break;
                        case google.ima.AdEvent.Type.COMPLETE:
                            ! function() {
                                this.isLive || n.default.setText(this.dom.timeElapsedText, n.default.readableTime(n.default.getMediaCurrentTime(this.dom.video))), n.default.createStdEvent("adcomplete", this.dom.container)
                            }.call(this);
                            break;
                        case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:
                            ! function() {
                                n.default.createStdEvent("adalladscompleted", this.dom.container), this.contentCompleteCalled && (this.contentCompleteCalled = !1, this.loop || (n.default.show(this.dom.poster), l.default.restorePlayUI.call(this)), !this.adDisableCustomPlaybackForIOS10Plus) && a.default.isIos[0] && this.dom.video.src !== this.currentiOSSrc && (this.srcChangeAutoplay = !1, this.setSrc(this.currentiOSSrc)), this.adOutStream && a.default.isIphone && f.call(this)
                            }.call(this);
                            break;
                        case google.ima.AdEvent.Type.RESUMED:
                            ! function() {
                                this.adPaused = !1, c.default.udpatePlayPause.call(this), n.default.createStdEvent("adresumed", this.dom.container)
                            }.call(this);
                            break;
                        case google.ima.AdEvent.Type.PAUSED:
                            ! function() {
                                this.adPaused = !0, c.default.udpatePlayPause.call(this), n.default.createStdEvent("adpaused", this.dom.container)
                            }.call(this);
                            break;
                        case google.ima.AdEvent.Type.CLICK:
                            ! function() {
                                !this.adPauseOnClick || this.isVpaidCreative() || this.getAdPaused() || this.pause(), n.default.createStdEvent("adclick", this.dom.container)
                            }.call(this);
                            break;
                        case google.ima.AdEvent.Type.AD_BREAK_READY:
                            n.default.createStdEvent("adbreakready", this.dom.container);
                            break;
                        case google.ima.AdEvent.Type.AD_METADATA:
                            n.default.createStdEvent("admetadata", this.dom.container);
                            break;
                        case google.ima.AdEvent.Type.DURATION_CHANGE:
                            n.default.createStdEvent("addurationchange", this.dom.container);
                            break;
                        case google.ima.AdEvent.Type.FIRST_QUARTILE:
                            n.default.createStdEvent("adfirstquartile", this.dom.container);
                            break;
                        case google.ima.AdEvent.Type.MIDPOINT:
                            n.default.createStdEvent("admidpoint", this.dom.container);
                            break;
                        case google.ima.AdEvent.Type.THIRD_QUARTILE:
                            n.default.createStdEvent("adthirdquartile", this.dom.container);
                            break;
                        case google.ima.AdEvent.Type.IMPRESSION:
                            n.default.createStdEvent("adimpression", this.dom.container);
                            break;
                        case google.ima.AdEvent.Type.INTERACTION:
                            n.default.createStdEvent("adinteraction", this.dom.container);
                            break;
                        case google.ima.AdEvent.Type.LINEAR_CHANGED:
                            ! function() {
                                n.default.createStdEvent("adlinearchanged", this.dom.container)
                            }.call(this);
                            break;
                        case google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED:
                            n.default.createStdEvent("adskippablestatechanged", this.dom.container);
                            break;
                        case google.ima.AdEvent.Type.SKIPPED:
                            n.default.createStdEvent("adskipped", this.dom.container);
                            break;
                        case google.ima.AdEvent.Type.USER_CLOSE:
                            n.default.createStdEvent("aduserclose", this.dom.container);
                            break;
                        case google.ima.AdEvent.Type.VOLUME_CHANGED:
                            n.default.createStdEvent("advolumechanged", this.dom.container);
                            break;
                        case google.ima.AdEvent.Type.VOLUME_MUTED:
                            n.default.createStdEvent("advolumemuted", this.dom.container);
                            break;
                        case google.ima.AdEvent.Type.LOG:
                            ! function(e) {
                                var e = e.getAdData();
                                n.default.isObject(e) && e.adError && (e = e.adError, this.adErrorCode = e.getErrorCode(), this.adErrorMessage = e.getMessage(), this.adErrorType = e.getType(), this.vastError = e.getVastErrorCode(), n.default.createStdEvent("adlog", this.dom.container))
                            }.call(this, e)
                    }
                }
            }

            function y() {
                if (this.adsManager && this.dom.adCurrentTime) {
                    var e = -1,
                        t = -1;
                    try {
                        e = this.adsManager.getRemainingTime(), t = this.getAdDuration()
                    } catch (e) {
                        n.default.trace(e)
                    }
                    0 < e && 0 < t && ((t = Math.floor(100 * (1 - 1e3 * e / t))) < 0 && (t = 0), this.dom.adCurrentTime) && (this.dom.adCurrentTime.style.width = t + "%")
                }
            }

            function b(e) {
                var t = new google.ima.AdsRenderingSettings,
                    i = t.restoreCustomPlaybackStateOnAdBreakComplete = !0;
                (a.default.isIos[0] || a.default.isAndroid[0] && a.default.isAndroid[1] < 4) && (i = !1), this.adEnablePreloading && i ? t.enablePreloading = !0 : t.enablePreloading = !1, 0 < this.adLoadMediaTimeout && (t.loadVideoTimeout = this.adLoadMediaTimeout), this.adAutoAlign || (t.autoAlign = this.adAutoAlign), this.adUseStyledNonLinearAds && (t.useStyledNonLinearAds = !0), a.default.isMobile && this.adOutStreamSkin && (t.uiElements = []), this.adsManager = e.getAdsManager(this.dom.video, t), S.call(this, this.adsManager)
            }

            function w() {
                if (n.default.clearTimeout(this.imaLoadTimeout), !this.imaLoadCancel) {
                    if ("undefined" != typeof google && void 0 !== google.ima) {
                        if (this.adImaDai) return this.adParserLoaded = !0, c.default.createControlBarAdInfo.call(this), void s.default.fire.call(this);
                        if (this.adParserLoaded = !0, this.dom.adContainer && this.dom.video) {
                            google.ima.settings.setLocale(this.adLocale), google.ima.settings.setNumRedirects(this.adMaxNumRedirects), "enabled" === this.adVpaidMode ? google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED) : "insecure" === this.adVpaidMode ? google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.INSECURE) : google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.DISABLED), a.default.isIphone && google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.adDisableCustomPlaybackForIOS10Plus), google.ima.settings.setPlayerType("radiantmediaplayer"), google.ima.settings.setPlayerVersion(this.playerVersion);
                            try {
                                this.adDisplayContainer = new google.ima.AdDisplayContainer(this.dom.adContainer, this.dom.video), this.adsLoader = new google.ima.AdsLoader(this.adDisplayContainer), this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED, function(e) {
                                    var t = this;
                                    this.hasLoadedMetadata ? b.call(this, e) : (n.default.clearInterval(this.runAdsManagerInterval), this.runAdsManagerInterval = setInterval(function() {
                                        t.hasLoadedMetadata && (n.default.clearInterval(t.runAdsManagerInterval), b.call(t, e))
                                    }, 10)), n.default.createStdEvent("adadsmanagerloaded", this.dom.container)
                                }.bind(this)), this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, m.bind(this))
                            } catch (e) {
                                return n.default.trace(e), void s.default.fire.call(this)
                            }
                            c.default.createControlBarAdInfo.call(this)
                        }
                    }
                    s.default.fire.call(this)
                }
            }

            function _() {
                n.default.clearTimeout(this.imaLoadTimeout), this.imaLoadCancel || (this.adParserLoadError = !0, this.ads = !1, this.adAutoplayOnlyPreroll && d.default.autoplayFailureRestorePlayUI.call(this), n.default.createStdEvent("adloadererror", this.dom.container), s.default.fire.call(this), this.adOutStream && c.default.endedOutStreamUI.call(this))
            }
            var C = {},
                k = (C.contentCompleteAds = function() {
                    if (null !== this.adsLoader && "function" == typeof this.adsLoader.contentComplete) try {
                        this.adsLoader.contentComplete()
                    } catch (e) {
                        n.default.trace(e)
                    }
                }, C.resetAdsForNewRequest = function() {
                    this.adOnStage = !1, this.adPaused = !1, this.isVPAID = !1, this.getAdOnStage() && this.getAdLinear() && p.call(this), h.call(this)
                }, C.requestAds = function(e) {
                    if (this.get5Ready() && this.ads && this.adParserLoaded && "string" == typeof e && null !== this.adsLoader) {
                        l.default.showLoadingSpin.call(this);
                        try {
                            var t = e.trim(),
                                i = new google.ima.AdsRequest;
                            /^<\?xml.+\?>/i.test(t) ? i.adsResponse = t : i.adTagUrl = t, i.linearAdSlotWidth = this.width, i.linearAdSlotHeight = this.height, i.nonLinearAdSlotWidth = this.width, i.nonLinearAdSlotHeight = this.height, i.vastLoadTimeout = this.adLoadVastTimeout, this.adForceNonLinearFullSlot && (i.forceNonLinearFullSlot = !0), 0 < this.adContentDuration && (i.contentDuration = this.adContentDuration), "" !== this.adContentKeywords && (i.contentKeywords = this.adContentKeywords), "" !== this.adContentTitle && (i.contentTitle = this.adContentTitle), i.setAdWillAutoPlay(this.autoplay), i.setAdWillPlayMuted(this.muted), this.adsLoader.requestAds(i)
                        } catch (e) {
                            n.default.trace(e), this.play()
                        }
                    } else this.play()
                }, function() {
                    Array.isArray(this.adTagWaterfall) && "string" == typeof this.adTagWaterfall[0] && "" !== this.adTagWaterfall[0] ? (this.adTagUrl = c.default.replaceAdTagVar.call(this, this.adTagWaterfall[0]), 0 < this.adTagWaterfall.length && this.adTagWaterfall.shift(), C.resetAdsForNewRequest.call(this), C.requestAds.call(this, this.adTagUrl), n.default.createStdEvent("adclientsidewaterfallrequested", this.dom.container)) : (h.call(this), f.call(this))
                }),
                x = [201, 202, 203, 600, 601, 603, 604],
                S = function(e) {
                    if (void 0 !== e) {
                        for (var t = [google.ima.AdEvent.Type.AD_METADATA, google.ima.AdEvent.Type.LOG, google.ima.AdEvent.Type.ALL_ADS_COMPLETED, google.ima.AdEvent.Type.CLICK, google.ima.AdEvent.Type.COMPLETE, google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED, google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED, google.ima.AdEvent.Type.DURATION_CHANGE, google.ima.AdEvent.Type.FIRST_QUARTILE, google.ima.AdEvent.Type.IMPRESSION, google.ima.AdEvent.Type.INTERACTION, google.ima.AdEvent.Type.LINEAR_CHANGED, google.ima.AdEvent.Type.LOADED, google.ima.AdEvent.Type.MIDPOINT, google.ima.AdEvent.Type.PAUSED, google.ima.AdEvent.Type.RESUMED, google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED, google.ima.AdEvent.Type.SKIPPED, google.ima.AdEvent.Type.STARTED, google.ima.AdEvent.Type.THIRD_QUARTILE, google.ima.AdEvent.Type.USER_CLOSE, google.ima.AdEvent.Type.VOLUME_CHANGED, google.ima.AdEvent.Type.VOLUME_MUTED], i = 0, s = t.length; i < s; i++) e.addEventListener(t[i], v.bind(this));
                        e.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED, function() {
                            !this.adDisableCustomPlaybackForIOS10Plus && a.default.isIos[0] && this.dom.video.src && (this.currentiOSSrc = this.dom.video.src), this.adShowRemainingTime && (void 0 === this.dom.adCurrentTime && (this.dom.adCurrentTime = document.createElement("div"), this.dom.adCurrentTime.className = "rmp-ad-current-time", this.dom.outline.appendChild(this.dom.adCurrentTime)), n.default.show(this.dom.adCurrentTime), this.dom.adCurrentTime.style.width = 0, y.call(this), n.default.clearInterval(this.adRemainingTimeBarInterval), this.adRemainingTimeBarInterval = setInterval(y.bind(this), 250)), this.isVod && n.default.removeEvent("ended", this.dom.video, this.ended), this.readingPDorNative && this.dom.video.removeEventListener("error", this.generateError, !0), c.default.setAdUI.call(this, !0), this.adOutStream || this.dom.video.paused || this.dom.video.pause(), n.default.createStdEvent("adcontentpauserequested", this.dom.container)
                        }.bind(this)), e.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED, f.bind(this)), e.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, m.bind(this));
                        try {
                            e.init(this.width, this.height, google.ima.ViewMode.NORMAL), e.start()
                        } catch (e) {
                            n.default.trace(e), this.play()
                        }
                    }
                };
            C.init = function() {
                var e, t = this;
                "undefined" != typeof google && void 0 !== google.ima ? w.call(this) : (e = void 0, e = this.adImaTest ? "https://imasdk.googleapis.com/js/sdkloader/ima3_test.js" : this.adImaDai ? "https://imasdk.googleapis.com/js/sdkloader/ima3_dai.js" : "https://imasdk.googleapis.com/js/sdkloader/ima3.js", n.default.getScript(e, w.bind(this), _.bind(this)), n.default.clearTimeout(this.imaLoadTimeout), this.imaLoadTimeout = setTimeout(function() {
                    _.call(t), t.imaLoadCancel = !0
                }, this.ajaxInternalTimeout))
            }, C.resumeAds = function() {
                if (this.adsManager) try {
                    this.adsManager.resume()
                } catch (e) {
                    n.default.trace(e)
                }
            }, C.pauseAds = function() {
                if (this.adsManager) try {
                    this.adsManager.pause()
                } catch (e) {
                    n.default.trace(e)
                }
            }, i.default = C
        }, {
            "../core/ready": 35,
            "../core/resize/resize": 36,
            "../core/ui/core-ui": 41,
            "../core/utils/utils": 46,
            "../core/volume/volume": 48,
            "../fw/env": 52,
            "../fw/fw": 53,
            "./ads-helpers": 6
        }],
        8: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var o = r(e("../fw/fw")),
                s = r(e("../abr/hls")),
                n = r(e("./ads-helpers")),
                a = r(e("../core/utils/error"));

            function r(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function l() {
                this.adImaDaiBackupStream ? (this.startingBitratePath = this.adImaDaiBackupStream, s.default.initFinised.call(this)) : a.default.fatal.call(this, "IMA DAI backup stream not provided - cannot recover", 202, null)
            }
            var d = {};
            d.init = function() {
                var i = this;
                "undefined" != typeof google && void 0 !== google.ima && void 0 !== google.ima.dai ? this.adParserLoadError ? l.call(this) : (this.dom.imaDaiClickElement = document.createElement("div"), this.dom.imaDaiClickElement.className = "rmp-ima-dai-click-area", this.dom.content.appendChild(this.dom.imaDaiClickElement), this.imaDaiStreamManager = new google.ima.dai.api.StreamManager(this.dom.video), this.imaDaiStreamManager.setClickElement(this.dom.imaDaiClickElement), this.imaDaiStreamManager.addEventListener([google.ima.dai.api.StreamEvent.Type.STREAM_INITIALIZED, google.ima.dai.api.StreamEvent.Type.LOADED, google.ima.dai.api.StreamEvent.Type.ERROR, google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED, google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED, google.ima.dai.api.StreamEvent.Type.AD_PROGRESS, google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED, google.ima.dai.api.StreamEvent.Type.CLICK, google.ima.dai.api.StreamEvent.Type.STARTED, google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE, google.ima.dai.api.StreamEvent.Type.MIDPOINT, google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE, google.ima.dai.api.StreamEvent.Type.COMPLETE], function(e) {
                    if (e && e.type) switch (e.type) {
                        case google.ima.dai.api.StreamEvent.Type.STREAM_INITIALIZED:
                            o.default.createStdEvent("adstreaminitialized", this.dom.container);
                            break;
                        case google.ima.dai.api.StreamEvent.Type.LOADED:
                            this.startingBitratePath = e.getStreamData().url, s.default.initFinised.call(this), o.default.createStdEvent("adloaded", this.dom.container);
                            break;
                        case google.ima.dai.api.StreamEvent.Type.ERROR:
                            o.default.createStdEvent("aderror", this.dom.container), this.adImaDaiBackupStream ? (this.startingBitratePath = this.adImaDaiBackupStream, s.default.initFinised.call(this)) : a.default.fatal.call(this, "IMA DAI backup stream not provided - cannot recover", 202, e);
                            break;
                        case google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED:
                            this.adOnStage = !0, this.isLinear = !0, n.default.setAdUI.call(this, !0), this.dom.imaDaiClickElement.style.display = "block", o.default.createStdEvent("adbreakstarted", this.dom.container);
                            break;
                        case google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED:
                            this.isLinear = !1, this.adOnStage = !1, n.default.setAdUI.call(this, !1), this.dom.imaDaiClickElement.style.display = "none", o.default.createStdEvent("adbreakended", this.dom.container);
                            break;
                        case google.ima.dai.api.StreamEvent.Type.AD_PROGRESS:
                            (function(e) {
                                var t, i, s;
                                e && "function" == typeof e.getStreamData && (t = (e = e.getStreamData().adProgressData).adPosition, i = e.totalAds, s = e.currentTime, this.imaDaiAdCurrentTime = s, e = e.duration, e = Math.floor(e - s), this.adCountDown && 0 <= e && (e = o.default.readableTime(e), o.default.setText(this.dom.adCountdown, "(" + e + ")")), "number" == typeof i) && 1 < i && (this.dom.adPod || (this.dom.adPod = document.createElement("span"), o.default.setClass(this.dom.adPod, "rmp-ad-info-pod"), this.dom.adCountdown ? this.dom.adInfo.insertBefore(this.dom.adPod, this.dom.adCountdown) : this.dom.adInfo.appendChild(this.dom.adPod)), "number" == typeof t) && o.default.setText(this.dom.adPod, t + "/" + i)
                            }).call(this, e), o.default.createStdEvent("adprogress", this.dom.container);
                            break;
                        case google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED:
                            o.default.createStdEvent("adcuepointschanged", this.dom.container);
                            break;
                        case google.ima.dai.api.StreamEvent.Type.CLICK:
                            this.adPauseOnClick && !this.getAdPaused() && this.pause(), o.default.createStdEvent("adclick", this.dom.container);
                            break;
                        case google.ima.dai.api.StreamEvent.Type.STARTED:
                            (function(e) {
                                e && (this.adCountDown && this.dom.adInfo && (this.dom.adCountdown || (this.dom.adCountdown = document.createElement("span"), o.default.setClass(this.dom.adCountdown, "rmp-ad-info-countdown"), this.dom.adInfo.appendChild(this.dom.adCountdown))), "function" == typeof e.getAd) && (e = e.getAd(), this.adID = e.getAdId(), this.adPodInfo = e.getAdPodInfo(), this.adSystem = e.getAdSystem(), this.adAdvertiserName = e.getAdvertiserName(), this.adApiFramework = e.getApiFramework(), this.adCreativeAdId = e.getCreativeAdId(), this.adCreativeId = e.getCreativeId(), this.adDealId = e.getDealId(), this.adDescription = e.getDescription(), this.adDuration = e.getDuration(), this.adTitle = e.getTitle(), this.adWrapperAdIds = e.getWrapperAdIds(), this.adWrapperAdSystems = e.getWrapperAdSystems(), this.adWrapperCreativeIds = e.getWrapperCreativeIds(), this.currentAdForCompanion = e)
                            }).call(this, e), o.default.createStdEvent("adstarted", this.dom.container);
                            break;
                        case google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE:
                            o.default.createStdEvent("adfirstquartile", this.dom.container);
                            break;
                        case google.ima.dai.api.StreamEvent.Type.MIDPOINT:
                            o.default.createStdEvent("admidpoint", this.dom.container);
                            break;
                        case google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE:
                            o.default.createStdEvent("adthirdquartile", this.dom.container);
                            break;
                        case google.ima.dai.api.StreamEvent.Type.COMPLETE:
                            o.default.createStdEvent("adcomplete", this.dom.container)
                    }
                }.bind(this), !1), this.hlsJS.on(Hls.Events.FRAG_PARSING_METADATA, function(e, t) {
                    i.imaDaiStreamManager && t && t.samples.forEach(function(e) {
                        i.imaDaiStreamManager.processMetadata("ID3", e.data, e.pts)
                    })
                }), this.imaDaiLive ? function(e, t, i, s) {
                    var n = new google.ima.dai.api.LiveStreamRequest;
                    n.assetKey = e, t && (n.apiKey = t), o.default.isEmptyObject(i) || (n.adTagParameters = i), s && (n.streamActivityMonitorId = s), this.imaDaiStreamManager.requestStream(n)
                }.call(this, this.adImaDaiLiveAssetKey, this.adImaDaiApiKey, this.adImaDaiAdTagParameters, this.adImaDaiStreamActivityMonitorId) : this.imaDaiVod && function(e, t, i, s, n) {
                    var a = new google.ima.dai.api.VODStreamRequest;
                    a.contentSourceId = e, a.videoId = t, i && (a.apiKey = i), o.default.isEmptyObject(s) || (a.adTagParameters = s), n && (a.streamActivityMonitorId = n), this.imaDaiStreamManager.requestStream(a)
                }.call(this, this.adImaDaiVodContentSourceId, this.adImaDaiVodVideoId, this.adImaDaiApiKey, this.adImaDaiAdTagParameters, this.adImaDaiStreamActivityMonitorId)) : setTimeout(function() {
                    (i.adParserLoadError ? l : d.init).call(i)
                }, 100)
            }, i.default = d
        }, {
            "../abr/hls": 3,
            "../core/utils/error": 44,
            "../fw/fw": 53,
            "./ads-helpers": 6
        }],
        9: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var s = u(e("../fw/fw")),
                n = u(e("../fw/env")),
                a = u(e("../core/ready")),
                o = u(e("../core/volume/volume")),
                r = u(e("../core/ui/core-ui")),
                l = u(e("../core/resize/resize")),
                d = u(e("./ads-helpers")),
                c = u(e("../../../../rmp-vast/js/src/module"));

            function u(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            var h = {};
            h.restoreContentUI = function() {
                (function() {
                    this.rmpVast.getIsUsingContentPlayerForAds() || (s.default.removeEvent("adresumed", this.dom.container, this.onRmpVastAdPlayPause), s.default.removeEvent("adpaused", this.dom.container, this.onRmpVastAdPlayPause)), s.default.removeEvent("adstarted", this.dom.container, this.onRmpVastAdStarted), s.default.removeEvent("addestroyed", this.dom.container, this.onRmpVastAdDestroyed), s.default.removeEvent("aderror", this.dom.container, this.onRmpVastAdError), s.default.removeEvent("adinteraction", this.dom.container, this.onRmpVastAdInteraction), s.default.removeEvent("adlinearchange", this.dom.container, this.onRmpVastAdLinearChanged)
                }).call(this), r.default.hideLoadingSpin.call(this), d.default.setAdUI.call(this, !1), this.isVod && s.default.addEvent("ended", this.dom.video, this.ended)
            }, h.wireAdEvents = function() {
                this.rmpVast.getIsUsingContentPlayerForAds() || (this.onRmpVastAdPlayPause = function() {
                    d.default.udpatePlayPause.call(this)
                }.bind(this), s.default.addEvent("adresumed", this.dom.container, this.onRmpVastAdPlayPause), s.default.addEvent("adpaused", this.dom.container, this.onRmpVastAdPlayPause)), this.onRmpVastAdStarted = function() {
                    var e, t;
                    s.default.removeEvent("adstarted", this.dom.container, this.onRmpVastAdStarted), r.default.hideLoadingSpin.call(this), this.googleCast && this.castConnected ? (this.stopAds(), this.play()) : (l.default.resizeAds.call(this), null !== (e = this.dom.container.querySelector(".rmp-ad-container")) && s.default.removeClass(e, "rmp-ad-overlay"), t = this.getAdLinear(), d.default.updateVPAIDStatus.call(this, t), t ? (this.isVod && s.default.removeEvent("ended", this.dom.video, this.ended), d.default.udpatePlayPause.call(this), d.default.setAdUI.call(this, !0), this.adCountDown && this.dom.adInfo && d.default.addCountDown.call(this), null === this.adPodInfo && function() {
                        var e, t;
                        this.adPodInfo = this.rmpVast.getAdPodInfo(), this.dom.adPod && s.default.setText(this.dom.adPod, ""), this.adPodInfo && this.dom.adInfo && "number" == typeof(e = this.adPodInfo.adPodLength) && 1 < e && (this.dom.adPod || (this.dom.adPod = document.createElement("span"), s.default.setClass(this.dom.adPod, "rmp-ad-info-pod"), this.dom.adCountdown ? this.dom.adInfo.insertBefore(this.dom.adPod, this.dom.adCountdown) : this.dom.adInfo.appendChild(this.dom.adPod)), "number" == typeof(t = this.adPodInfo.adPodCurrentIndex)) && s.default.setText(this.dom.adPod, t + 1 + "/" + e)
                    }.call(this), this.muted ? o.default.setVolumeAds.call(this, 0) : o.default.setVolumeAds.call(this, this.currentVolume)) : -1 < (t = this.getAdMediaHeight()) && t + 40 < this.height && e && s.default.addClass(e, "rmp-ad-overlay"))
                }.bind(this), s.default.addEvent("adstarted", this.dom.container, this.onRmpVastAdStarted), this.onRmpVastAdDestroyed = function() {
                    var e, t;
                    this.adPodInfo = this.rmpVast.getAdPodInfo(), this.adPodInfo && this.adPodInfo.adPodCurrentIndex + 1 !== this.adPodInfo.adPodLength ? (e = this.adPodInfo.adPodCurrentIndex, t = this.adPodInfo.adPodLength, "number" == typeof e && "number" == typeof t && s.default.setText(this.dom.adPod, e + 2 + "/" + t), s.default.addEvent("adstarted", this.dom.container, this.onRmpVastAdStarted)) : (this.adPodInfo = null, this.adErrorDetected && (this.adErrorDetected = !1, Array.isArray(this.adTagWaterfall)) && "string" == typeof this.adTagWaterfall[0] && "" !== this.adTagWaterfall[0] ? (this.adTagUrl = d.default.replaceAdTagVar.call(this, this.adTagWaterfall[0]), 0 < this.adTagWaterfall.length && this.adTagWaterfall.shift(), this.loadAds(this.adTagUrl), s.default.createStdEvent("adclientsidewaterfallrequested", this.dom.container)) : (this.adOutStream ? d.default.endedOutStreamUI : (this.readingPDorNative && this.dom.video.addEventListener("error", this.generateError, !0), h.restoreContentUI)).call(this))
                }.bind(this), s.default.addEvent("addestroyed", this.dom.container, this.onRmpVastAdDestroyed), this.onRmpVastAdError = function() {
                    var e = this.getAdErrorType();
                    e && ("adLoadError" === e ? s.default.createStdEvent("adloaderror", this.dom.container) : "adPlayError" === e && s.default.createStdEvent("adplayerror", this.dom.container)), this.adErrorDetected = !0
                }.bind(this), s.default.addEvent("aderror", this.dom.container, this.onRmpVastAdError), this.onRmpVastAdInteraction = function() {
                    s.default.createStdEvent("adinteraction", this.dom.container)
                }.bind(this), s.default.addEvent("adinteraction", this.dom.container, this.onRmpVastAdInteraction), this.onRmpVastAdLinearChanged = function() {
                    s.default.createStdEvent("adlinearchanged", this.dom.container)
                }.bind(this), s.default.addEvent("adlinearchange", this.dom.container, this.onRmpVastAdLinearChanged)
            }, h.loadAds = function(e) {
                this.isVPAID = !1, r.default.showLoadingSpin.call(this), this.onAdTagStartLoading = function() {
                    this.dom.container.removeEventListener("adtagstartloading", this.onAdTagStartLoading), this.readingPDorNative && this.dom.video.removeEventListener("error", this.generateError, !0), h.wireAdEvents.call(this)
                }.bind(this), this.dom.container.addEventListener("adtagstartloading", this.onAdTagStartLoading);
                e = e.trim();
                this.rmpVast.loadAds(e)
            }, h.init = function() {
                this.adParserLoaded = !0;
                var e, t, i = {
                    ajaxTimeout: this.adLoadVastTimeout,
                    creativeLoadTimeout: this.adLoadMediaTimeout,
                    ajaxWithCredentials: this.adAjaxWithCredentials,
                    maxNumRedirects: this.adMaxNumRedirects,
                    pauseOnClick: this.adPauseOnClick,
                    skipMessage: this.labels.ads.skipMessage,
                    skipWaitingMessage: this.labels.ads.skipWaitingMessage,
                    textForClickUIOnMobile: this.labels.ads.textForClickUIOnMobile,
                    outstream: this.adOutStream
                };
                this.adRmpVastEnableVpaid && (i.enableVpaid = this.adRmpVastEnableVpaid, e = "normal", this.isInFullscreen && (e = "fullscreen"), t = 500, n.default.isMobile || (t = 750), i.vpaidSettings = {
                    width: this.width,
                    height: this.height,
                    viewMode: e,
                    desiredBitrate: t
                }), this.rmpVast = new c.default(this.id, i), d.default.createControlBarAdInfo.call(this), a.default.fire.call(this)
            }, h.resumeAds = function() {
                this.rmpVast && "function" == typeof this.rmpVast.play && this.rmpVast.play()
            }, h.pauseAds = function() {
                this.rmpVast && "function" == typeof this.rmpVast.pause && this.rmpVast.pause()
            }, i.default = h
        }, {
            "../../../../rmp-vast/js/src/module": 262,
            "../core/ready": 35,
            "../core/resize/resize": 36,
            "../core/ui/core-ui": 41,
            "../core/volume/volume": 48,
            "../fw/env": 52,
            "../fw/fw": 53,
            "./ads-helpers": 6
        }],
        10: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var s = n(e("../fw/fw")),
                r = n(e("./ads-helpers"));

            function n(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function a() {
                var e, t, i, s, n, a = void 0,
                    o = (this.isVod ? -1 < (o = this.getCurrentTime()) && (a = Math.round(o / 100) / 10) : a = this.liveAdSchedulerCheckerIndex, void 0);
                Array.isArray(this.adSchedule.midroll) && Array.isArray(this.adSchedule.midroll[0]) && (e = this.adSchedule.midroll[0][0], o = this.adSchedule.midroll[0][1], "number" == typeof e) && "number" == typeof a && e < a && "string" == typeof o && "" !== o && (this.adTagUrl = r.default.replaceAdTagVar.call(this, o), this.isVod && (this.dom.container.removeEventListener("timeupdate", this.adSchedulerChecker), n = i = t = void 0, n = function() {
                    this.dom.container.removeEventListener("adstarted", n), this.getAdLinear() || this.dom.container.addEventListener("timeupdate", this.adSchedulerChecker)
                }.bind(this), this.dom.container.addEventListener("adstarted", n), "ima" === this.adParser ? (t = function() {
                    this.dom.container.removeEventListener("adstarted", n), this.dom.container.removeEventListener("aderror", i), this.dom.container.removeEventListener("adcontentresumerequested", t), this.dom.container.addEventListener("timeupdate", this.adSchedulerChecker)
                }.bind(this), this.dom.container.addEventListener("adcontentresumerequested", t), i = function() {
                    this.dom.container.removeEventListener("adstarted", n), this.dom.container.removeEventListener("aderror", i), this.dom.container.removeEventListener("adcontentresumerequested", t), this.dom.container.addEventListener("timeupdate", this.adSchedulerChecker)
                }.bind(this), this.dom.container.addEventListener("aderror", i)) : (s = function() {
                    this.dom.container.removeEventListener("adstarted", n), this.dom.container.removeEventListener("addestroyed", s), this.dom.container.addEventListener("timeupdate", this.adSchedulerChecker)
                }.bind(this), this.dom.container.addEventListener("addestroyed", s))), this.loadAds(this.adTagUrl), this.adSchedule.midroll.shift())
            }
            e = {};
            e.destroy = function() {
                this.dom.container && (this.isVod && (this.dom.container.removeEventListener("timeupdate", this.adSchedulerChecker), this.dom.container.removeEventListener("ended", this.adSchedulerEnded)), this.dom.container.removeEventListener("play", this.playScheduler), this.dom.container.removeEventListener("pause", this.pauseScheduler))
            }, e.init = function() {
                this.adScheduleInput && this.ads && (this.adSchedulerChecker = a.bind(this), this.isVod ? (this.dom.container.addEventListener("timeupdate", this.adSchedulerChecker), this.adSchedulerEnded = function() {
                    s.default.removeEvent("ended", this.dom.container, this.adSchedulerEnded), this.adSchedule.postroll && (this.adTagUrl = r.default.replaceAdTagVar.call(this, this.adSchedule.postroll), this.loadAds(this.adTagUrl))
                }.bind(this), this.dom.container.addEventListener("ended", this.adSchedulerEnded)) : (this.playScheduler = function() {
                    var e = this;
                    s.default.clearInterval(this.liveAdSchedulerChecker), this.liveAdSchedulerChecker = setInterval(function() {
                        e.getAdOnStage() && (!e.getAdOnStage() || e.getAdLinear()) || (e.liveAdSchedulerCheckerIndex++, a.call(e))
                    }, 1e3)
                }.bind(this), this.dom.container.addEventListener("play", this.playScheduler), this.pauseScheduler = function() {
                    s.default.clearInterval(this.liveAdSchedulerChecker)
                }.bind(this), this.dom.container.addEventListener("pause", this.pauseScheduler)))
            }, i.default = e
        }, {
            "../fw/fw": 53,
            "./ads-helpers": 6
        }],
        11: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var e = e("../fw/fw"),
                o = e && e.__esModule ? e : {
                    default: e
                },
                e = {};
            e.reset = function() {
                o.default.clearInterval(this.analyticsInterval), this.dom.container && (this.dom.container.removeEventListener("playing", this.analyticsPlay), this.dom.container.removeEventListener("pause", this.analyticsPause), this.dom.container.removeEventListener("waiting", this.analyticsPause), this.dom.container.removeEventListener("ready", this.logGaReady), this.dom.container.removeEventListener("playing", this.logGaPlayerStart), this.dom.container.removeEventListener("srcchanged", this.logGaSrcChanged), this.dom.container.removeEventListener("error", this.logGaError), this.ads && (this.dom.container.removeEventListener("adloaded", this.logGaPlayerStart), this.dom.container.removeEventListener("adimpression", this.logGaAdImpression), this.dom.container.removeEventListener("adloadererror", this.logGaAdLoaderError), this.dom.container.removeEventListener("aderror", this.logGaAdError), this.dom.container.removeEventListener("adloaderror", this.logGaAdLoadError), this.dom.container.removeEventListener("adplayerror", this.logGaAdPlayError), this.dom.container.removeEventListener("adclick", this.logGaAdClick), this.dom.container.removeEventListener("adclientsidewaterfallrequested", this.logGaAdClientSideWaterfallRequested)), this.dom.container.removeEventListener("enterfullscreen", this.logGaFullscreen), this.isVod && (this.dom.container.removeEventListener("ended", this.logGaEnded), this.dom.container.removeEventListener("seeking", this.logGaSeeking)), this.heatMap) && this.dom.container.removeEventListener("timeupdate", this.updateHeatMap)
            }, e.init = function() {
                if (this.analyticsPlay = function() {
                        var e = this;
                        o.default.clearInterval(this.analyticsInterval), this.analyticsInterval = setInterval(function() {
                            e.changingSrc || e.getAdOnStage() && e.getAdLinear() || (e.analyticsSecondsPlayed = e.analyticsSecondsPlayed + .25)
                        }, 250)
                    }.bind(this), this.dom.container.addEventListener("playing", this.analyticsPlay), this.analyticsPause = function() {
                        o.default.clearInterval(this.analyticsInterval)
                    }.bind(this), this.dom.container.addEventListener("pause", this.analyticsPause), this.dom.container.addEventListener("waiting", this.analyticsPause), "" !== this.gaTrackingId && function() {
                        var e, t, i, s, n, a = this;
                        "undefined" == typeof ga && (e = window, t = document, e.GoogleAnalyticsObject = "ga", e.ga = e.ga || function() {
                            (e.ga.q = e.ga.q || []).push(arguments)
                        }, e.ga.l = +new Date, i = t.createElement("script"), t = t.getElementsByTagName("script")[0], i.async = 1, i.src = "https://www.google-analytics.com/analytics.js", t.parentNode.insertBefore(i, t)), "undefined" != typeof ga && (this.gaAnonymizeIp && ga("set", "anonymizeIp", !0), "" !== this.gaNamedTracker ? (ga("create", this.gaTrackingId, "auto", this.gaNamedTracker), this.gaCommand = this.gaNamedTracker + ".send") : ga("create", this.gaTrackingId, "auto"), 0 === this.gaEvents.length && (this.gaEvents = ["context", "ready", "playerstart", "error", "adimpression", "adloadererror", "aderror"]), i = this.gaEvents, s = ["context", "ready", "playerstart", "error", "adimpression", "adloadererror", "aderror", "adloaderror", "adplayerror", "enterfullscreen", "ended", "seeking", "adclick", "adclientsidewaterfallrequested"], n = [], i.forEach(function(e) {
                            -1 < s.indexOf(e) && n.push(e)
                        }), n.forEach(function(e) {
                            switch (e) {
                                case "context":
                                    a.gaContext = !0;
                                    break;
                                case "ready":
                                    a.logGaReady = function() {
                                        var e, t;
                                        this.dom.container.removeEventListener("ready", this.logGaReady), ga(this.gaCommand, "event", this.gaCategory, "ready", this.gaLabel, {
                                            nonInteraction: this.gaNonInteractionEvents
                                        }), this.gaContext && (t = this.getPlayerMode(), e = this.getStreamType(), "" === t || "" === e && "nosupport" !== t || ("nosupport" !== (t = t) && (t += "-" + e), ga(this.gaCommand, "event", this.gaCategory, t, this.gaLabel, {
                                            nonInteraction: this.gaNonInteractionEvents
                                        })))
                                    }.bind(a), a.dom.container.addEventListener("ready", a.logGaReady);
                                    break;
                                case "playerstart":
                                    a.logGaPlayerStart = function() {
                                        this.dom.container.removeEventListener("playing", this.logGaPlayerStart), this.dom.container.removeEventListener("adloaded", this.logGaPlayerStart), ga(this.gaCommand, "event", this.gaCategory, "playerstart", this.gaLabel, {
                                            nonInteraction: this.gaNonInteractionEvents
                                        })
                                    }.bind(a), a.dom.container.addEventListener("playing", a.logGaPlayerStart), a.ads && a.dom.container.addEventListener("adloaded", a.logGaPlayerStart), a.logGaSrcChanged = function() {
                                        this.dom.container.removeEventListener("playing", this.logGaPlayerStart), this.dom.container.removeEventListener("adloaded", this.logGaPlayerStart), this.dom.container.addEventListener("playing", this.logGaPlayerStart), this.dom.container.addEventListener("adloaded", this.logGaPlayerStart)
                                    }.bind(a), a.dom.container.addEventListener("srcchanged", a.logGaSrcChanged);
                                    break;
                                case "error":
                                    a.logGaError = function() {
                                        ga(this.gaCommand, "event", this.gaCategory, "error", this.gaLabel, {
                                            nonInteraction: this.gaNonInteractionEvents
                                        })
                                    }.bind(a), a.dom.container.addEventListener("error", a.logGaError);
                                    break;
                                case "adimpression":
                                    a.ads && (a.logGaAdImpression = function() {
                                        ga(this.gaCommand, "event", this.gaCategory, "adimpression", this.gaLabel, {
                                            nonInteraction: this.gaNonInteractionEvents
                                        })
                                    }.bind(a), a.dom.container.addEventListener("adimpression", a.logGaAdImpression));
                                    break;
                                case "adloadererror":
                                    a.ads && (a.logGaAdLoaderError = function() {
                                        this.dom.container.removeEventListener("adloadererror", this.logGaAdLoaderError), ga(this.gaCommand, "event", this.gaCategory, "adloadererror", this.gaLabel, {
                                            nonInteraction: this.gaNonInteractionEvents
                                        })
                                    }.bind(a), a.dom.container.addEventListener("adloadererror", a.logGaAdLoaderError));
                                    break;
                                case "aderror":
                                    a.ads && (a.logGaAdError = function() {
                                        ga(this.gaCommand, "event", this.gaCategory, "aderror", this.gaLabel, {
                                            nonInteraction: this.gaNonInteractionEvents
                                        })
                                    }.bind(a), a.dom.container.addEventListener("aderror", a.logGaAdError));
                                    break;
                                case "adloaderror":
                                    a.ads && (a.logGaAdLoadError = function() {
                                        ga(this.gaCommand, "event", this.gaCategory, "adloaderror", this.gaLabel, {
                                            nonInteraction: this.gaNonInteractionEvents
                                        })
                                    }.bind(a), a.dom.container.addEventListener("adloaderror", a.logGaAdLoadError));
                                    break;
                                case "adplayerror":
                                    a.ads && (a.logGaAdPlayError = function() {
                                        ga(this.gaCommand, "event", this.gaCategory, "adplayerror", this.gaLabel, {
                                            nonInteraction: this.gaNonInteractionEvents
                                        })
                                    }.bind(a), a.dom.container.addEventListener("adplayerror", a.logGaAdPlayError));
                                    break;
                                case "enterfullscreen":
                                    a.logGaFullscreen = function() {
                                        ga(this.gaCommand, "event", this.gaCategory, "enterfullscreen", this.gaLabel, {
                                            nonInteraction: this.gaNonInteractionEvents
                                        })
                                    }.bind(a), a.dom.container.addEventListener("enterfullscreen", a.logGaFullscreen);
                                    break;
                                case "ended":
                                    a.isVod && (a.logGaEnded = function() {
                                        ga(this.gaCommand, "event", this.gaCategory, "ended", this.gaLabel, {
                                            nonInteraction: this.gaNonInteractionEvents
                                        })
                                    }.bind(a), a.dom.container.addEventListener("ended", a.logGaEnded));
                                    break;
                                case "seeking":
                                    a.isVod && (a.logGaSeeking = function() {
                                        var e = this;
                                        this.isVod && !this.gaSeekingSending && (this.gaSeekingSending = !0, o.default.clearTimeout(this.logGaSeekingTimeout), this.logGaSeekingTimeout = setTimeout(function() {
                                            e.gaSeekingSending = !1
                                        }, 400), ga(this.gaCommand, "event", this.gaCategory, "seeking", this.gaLabel, {
                                            nonInteraction: this.gaNonInteractionEvents
                                        }))
                                    }.bind(a), a.dom.container.addEventListener("seeking", a.logGaSeeking));
                                    break;
                                case "adclick":
                                    a.ads && (a.logGaAdClick = function() {
                                        ga(this.gaCommand, "event", this.gaCategory, "adclick", this.gaLabel, {
                                            nonInteraction: this.gaNonInteractionEvents
                                        })
                                    }.bind(a), a.dom.container.addEventListener("adclick", a.logGaAdClick));
                                    break;
                                case "adclientsidewaterfallrequested":
                                    a.ads && (a.logGaAdClientSideWaterfallRequested = function() {
                                        ga(this.gaCommand, "event", this.gaCategory, "adclientsidewaterfallrequested", this.gaLabel, {
                                            nonInteraction: this.gaNonInteractionEvents
                                        })
                                    }.bind(a), a.dom.container.addEventListener("adclientsidewaterfallrequested", a.logGaAdClientSideWaterfallRequested))
                            }
                        }))
                    }.call(this), this.isVod && this.heatMap) {
                    100 < this.heatMapAccuracy ? this.heatMapAccuracy = 100 : this.heatMapAccuracy < 1 && (this.heatMapAccuracy = 1);
                    for (var e = 0; e < this.heatMapAccuracy; e++) this.heatMapArray[e] = 0;
                    this.updateHeatMap = function() {
                        var e = this.getDuration(),
                            t = this.getCurrentTime();
                        if (-1 < t && -1 < e)
                            for (var i = 100 * t / e, s = 100 / this.heatMapAccuracy, n = 0; n < this.heatMapAccuracy; n++) n * s <= i && i < (n + 1) * s && (this.heatMapArray[n] = this.heatMapArray[n] + 1)
                    }.bind(this), this.dom.container.addEventListener("timeupdate", this.updateHeatMap)
                }
            }, i.default = e
        }, {
            "../fw/fw": 53
        }],
        12: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var s = a(e("../fw/env")),
                n = a(e("../fw/fw"));

            function a(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function o(e) {
                var t = e.match(/(http:\/\/|https:\/\/|\/\/)/i),
                    i = void 0;
                return (i = "string" == typeof t[1] && "" !== t[1] && (t = t[1], "string" == typeof(e = e.split(t))[1]) && "" !== e[1] && "string" == typeof(t = e[1].split("/"))[0] && "" !== t[0] ? t[0] : i) && /^.+\..+$/i.test(i) ? i : null
            }

            function r(s, n, a) {
                return new Promise(function(e, t) {
                    var i;
                    "undefined" != typeof XMLHttpRequest ? ((i = new XMLHttpRequest).open("POST", n, !0), i.timeout = a, i.onloadend = function() {
                        ("number" == typeof i.status && 200 <= i.status && i.status < 300 ? e : t)()
                    }, i.ontimeout = function() {
                        t()
                    }, i.send(s)) : t()
                })
            }

            function l() {
                var e, t = 0;
                return t = "plus" === this.licType && s.default.localStorage(this.allowLocalStorage) && null !== (e = window.localStorage.getItem("rmpBacklog")) && (e = JSON.parse(e)).value ? parseInt(e.value) : t
            }
            var d = {},
                c = "https://www.rmp-data.com/ls/increment.php",
                u = ["a2VpdWR5dHNobEAxNDg4ODkxNTQy", "dW9wY2N0dmtpZ0AxNDkxMzg5"];
            d.destroy = function() {
                this.dom.container && (this.dom.container.removeEventListener("srcchanged", this.runLogsOnSrcChanged), this.dom.container.removeEventListener("playing", this.runLogs), this.dom.container.removeEventListener("adloaded", this.runLogs))
            }, d.init = function() {
                if (this.ragnarok !== this.originLocal && this.ragnarok !== this.altLocal) {
                    var e = Math.floor(10 * Math.random() + 1);
                    if ("plus" === this.licType && (4 === e || 5 === e) || 5 === e) {
                        this.runLogs = function() {
                            d.destroy.call(this), this.dom.container.addEventListener("srcchanged", this.runLogsOnSrcChanged), this.appendFormDataAndSendLog()
                        }.bind(this), this.runLogsOnSrcChanged = function() {
                            this.dom.container.removeEventListener("srcchanged", this.runLogsOnSrcChanged), this.dom.container.addEventListener("playing", this.runLogs), this.dom.container.addEventListener("adloaded", this.runLogs)
                        }.bind(this), this.appendFormDataAndSendLog = function() {
                            var e, t = this;
                            if (s.default.isOnline()) s.default.formData() && ((e = new FormData).append("licType", this.licType), e.append("licenseKey", this.licenseKey), "file:" === s.default.getProtocol ? (i = "app", this.appName && (i = i + "." + this.appName.replace(/\s/g, "-").toLowerCase()), e.append("hostname", i)) : s.default.isInIframe && -1 < u.indexOf(this.licenseKey) && "string" == typeof document.referrer && "" !== document.referrer && null !== o(document.referrer) ? e.append("hostname", o(document.referrer)) : e.append("hostname", this.ragnarok), e.append("version", this.playerVersion), e.append("cs", function(e) {
                                e = e.split(".");
                                if (3 === e.length) {
                                    var e = parseInt(e[0]) + parseInt(e[1]) + parseInt(e[2]),
                                        t = [89, 251, 307, 523, 907, 1171, 1423],
                                        i = Math.floor(Math.random() * t.length);
                                    if ("number" == typeof t[i]) return e * t[i]
                                }
                                return 0
                            }(this.playerVersion)), r(e, c, this.ajaxInternalTimeout).then(function() {}).catch(function() {
                                n.default.clearTimeout(t.logRetryTimeout), t.logRetryTimeout = setTimeout(function() {
                                    r(e, c, t.ajaxInternalTimeout).then(function() {}).catch(function() {})
                                }, 1e4)
                            }));
                            else {
                                var i = l.call(this);
                                try {
                                    window.localStorage.setItem("rmpBacklog", JSON.stringify({
                                        value: (i + 1).toString()
                                    }))
                                } catch (t) {
                                    n.default.trace(t)
                                }
                            }
                        }.bind(this), this.dom.container.addEventListener("playing", this.runLogs), this.dom.container.addEventListener("adloaded", this.runLogs);
                        var t = l.call(this);
                        if ("plus" === this.licType && 0 < t && s.default.isOnline()) {
                            for (var i = 0; i < t; i++) this.appendFormDataAndSendLog();
                            if (s.default.localStorage(this.allowLocalStorage)) try {
                                window.localStorage.setItem("rmpBacklog", JSON.stringify({
                                    value: "0"
                                }))
                            } catch (e) {
                                n.default.trace(e)
                            }
                        }
                    }
                }
            }, i.default = d
        }, {
            "../fw/env": 52,
            "../fw/fw": 53
        }],
        13: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var e = e("../fw/fw"),
                s = e && e.__esModule ? e : {
                    default: e
                },
                e = {
                    destroy: function() {
                        this.dom.container.removeEventListener("error", this.onHlsjsErrorEmitMuxError), window.mux.removeHLSJS("#" + this.id + " .rmp-video")
                    },
                    detect: function() {
                        void 0 === window.mux || s.default.isEmptyObject(this.muxDataSettings) || s.default.isEmptyObject(this.muxDataSettings.data) || "string" != typeof this.muxDataSettings.data.env_key || "" === this.muxDataSettings.data.env_key || (this.muxData = !0, this.muxDataSettings.data.player_init_time = Date.now(), this.muxDataSettings.data.player_name = "radiantmediaplayer", this.muxDataSettings.data.player_version = this.playerVersion)
                    },
                    initHlsJS: function() {
                        this.muxDataHlsJSMonitored = !0;
                        var e = {};
                        e.hlsjs = this.hlsJS, e.Hls = window.Hls, this.onHlsjsErrorEmitMuxError = function() {
                            window.mux.emit("#" + this.id + " .rmp-video", "error", {
                                player_error_code: this.errorData.code,
                                player_error_message: this.errorData.message
                            })
                        }.bind(this), this.dom.container.addEventListener("error", this.onHlsjsErrorEmitMuxError), window.mux.addHLSJS("#" + this.id + " .rmp-video", e)
                    },
                    initHTML5: function() {
                        window.mux.monitor("#" + this.id + " .rmp-video", this.muxDataSettings)
                    }
                };
            i.default = e
        }, {
            "../fw/fw": 53
        }],
        14: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var s = r(e("../fw/fw")),
                n = r(e("../ads/ima-ads")),
                a = r(e("../ads/rmp-vast")),
                o = r(e("../ads/ads-helpers"));

            function r(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            e = {
                attach: function(e) {
                    e.prototype.getAdLinear = function() {
                        if (this.getAdOnStage()) {
                            if ("ima" === this.adParser) return this.isLinear;
                            if ("rmp-vast" === this.adParser && this.rmpVast) return this.rmpVast.getAdLinear()
                        }
                        return !1
                    }, e.prototype.getAdSystem = function() {
                        if (this.getAdOnStage()) {
                            if ("ima" === this.adParser && "string" == typeof this.adSystem) return this.adSystem;
                            if ("rmp-vast" === this.adParser && this.rmpVast) return this.rmpVast.getAdSystem()
                        }
                        return ""
                    }, e.prototype.getAdContentType = function() {
                        if (this.getAdOnStage()) {
                            if ("ima" === this.adParser && "string" == typeof this.adContentType) return this.adContentType;
                            if ("rmp-vast" === this.adParser && this.rmpVast) return this.rmpVast.getAdContentType()
                        }
                        return ""
                    }, e.prototype.getAdTitle = function() {
                        if (this.getAdOnStage()) {
                            if ("ima" === this.adParser && "string" == typeof this.adTitle) return this.adTitle;
                            if ("rmp-vast" === this.adParser && this.rmpVast) return this.rmpVast.getAdTitle()
                        }
                        return ""
                    }, e.prototype.getAdDescription = function() {
                        if (this.getAdOnStage()) {
                            if ("ima" === this.adParser && "string" == typeof this.adDescription) return this.adDescription;
                            if ("rmp-vast" === this.adParser && this.rmpVast) return this.rmpVast.getAdDescription()
                        }
                        return ""
                    }, e.prototype.getAdMediaUrl = function() {
                        if (this.getAdOnStage()) {
                            if ("ima" === this.adParser && "string" == typeof this.adMediaUrl) return this.adMediaUrl;
                            if ("rmp-vast" === this.adParser && this.rmpVast) return this.rmpVast.getAdMediaUrl()
                        }
                        return ""
                    }, e.prototype.getAdMediaHeight = function() {
                        if (this.getAdOnStage())
                            if ("ima" === this.adParser) {
                                var e;
                                if ("number" == typeof(e = this.getAdLinear() ? this.getPlayerHeight() : this.adNonLinearHeight)) return e
                            } else if ("rmp-vast" === this.adParser && this.rmpVast) return this.rmpVast.getAdMediaHeight();
                        return -1
                    }, e.prototype.getAdMediaWidth = function() {
                        if (this.getAdOnStage())
                            if ("ima" === this.adParser) {
                                var e;
                                if ("number" == typeof(e = this.getAdLinear() ? this.getPlayerWidth() : this.adNonLinearWidth)) return e
                            } else if ("rmp-vast" === this.adParser && this.rmpVast) return this.rmpVast.getAdMediaWidth();
                        return -1
                    }, e.prototype.getAdCurrentTime = function() {
                        if (this.getAdOnStage() && this.getAdLinear())
                            if ("ima" === this.adParser)
                                if (this.adImaDai) {
                                    if (0 <= this.imaDaiAdCurrentTime) return Math.round(1e3 * this.imaDaiAdCurrentTime)
                                } else {
                                    var e = this.getAdDuration(),
                                        t = this.adsManager.getRemainingTime();
                                    if (s.default.isNumber(t) && 0 <= t && 0 <= e) return Math.round(e - 1e3 * t)
                                }
                        else if ("rmp-vast" === this.adParser && this.rmpVast) return this.rmpVast.getAdCurrentTime();
                        return -1
                    }, e.prototype.getAdDuration = function() {
                        if (this.getAdOnStage() && this.getAdLinear()) {
                            if ("ima" === this.adParser && s.default.isNumber(this.adDuration) && 0 <= this.adDuration) return 1e3 * this.adDuration;
                            if ("rmp-vast" === this.adParser && this.rmpVast) return this.rmpVast.getAdDuration()
                        }
                        return -1
                    }, e.prototype.getAdOnStage = function() {
                        if (this.ads && this.get5Ready()) {
                            if ("ima" === this.adParser) return this.adOnStage;
                            if ("rmp-vast" === this.adParser && this.rmpVast) return this.rmpVast.getAdOnStage()
                        }
                        return !1
                    }, e.prototype.getAdPaused = function() {
                        if (this.getAdOnStage() && this.getAdLinear()) {
                            if ("ima" === this.adParser) return this.adImaDai ? this.getPaused() : this.adPaused;
                            if ("rmp-vast" === this.adParser && this.rmpVast) return this.rmpVast.getAdPaused()
                        }
                        return !1
                    }, e.prototype.getAdTagUrl = function() {
                        if (this.ads && this.get5Ready()) {
                            if (this.adScheduleInput && this.adSchedule.preroll && !this.getPlayerInitialized()) return o.default.replaceAdTagVar.call(this, this.adSchedule.preroll);
                            if ("" !== this.adTagUrl) return this.adTagUrl
                        }
                        return ""
                    }, e.prototype.loadAds = function(e) {
                        var t = this;
                        this.ads && this.get5Ready() && ("string" != typeof e || this.googleCast && this.castConnected || (this.adTagUrl = o.default.replaceAdTagVar.call(this, e), this.adTagUrl = this.adTagUrl.trim(), "ima" === this.adParser ? this.adDCInitialized && (this.onContentResumeRequestedLoadAds = function() {
                            this.dom.container.removeEventListener("adcontentresumerequested", this.onContentResumeRequestedLoadAds), n.default.resetAdsForNewRequest.call(this), n.default.requestAds.call(this, this.adTagUrl)
                        }.bind(this), this.getAdOnStage() && this.getAdLinear() ? (this.dom.container.addEventListener("adcontentresumerequested", this.onContentResumeRequestedLoadAds), this.stopAds()) : this.onContentResumeRequestedLoadAds()) : "rmp-vast" === this.adParser && this.rmpVast && this.rmpVast.getInitialized() && (a.default.restoreContentUI.call(this), setTimeout(function() {
                            a.default.loadAds.call(t, t.adTagUrl)
                        }, 1))))
                    }, e.prototype.stopAds = function() {
                        if (this.ads && this.get5Ready())
                            if ("ima" === this.adParser) {
                                if (this.adsManager) {
                                    this.adOnStage = !1;
                                    try {
                                        this.adsManager.stop()
                                    } catch (e) {
                                        s.default.trace(e)
                                    }
                                }
                            } else "rmp-vast" === this.adParser && this.rmpVast && (this.rmpVast.stopAds(), a.default.restoreContentUI.call(this))
                    }, e.prototype.getAdUI = function() {
                        return this.hasAdUI
                    }, e.prototype.setAdUI = function(e) {
                        "boolean" == typeof e && this.get5Ready() && o.default.setAdUI.call(this, e)
                    }, e.prototype.getAdErrorMessage = function() {
                        if (this.get5Ready()) {
                            if ("ima" === this.adParser && this.adErrorMessage) return this.adErrorMessage;
                            if ("rmp-vast" === this.adParser && this.rmpVast) return this.rmpVast.getAdErrorMessage()
                        }
                        return ""
                    }, e.prototype.getAdVastErrorCode = function() {
                        if (this.get5Ready()) {
                            if ("ima" === this.adParser && s.default.isNumber(this.adVastErrorCode)) return this.adVastErrorCode;
                            if ("rmp-vast" === this.adParser && this.rmpVast) return this.rmpVast.getAdVastErrorCode()
                        }
                        return -1
                    }, e.prototype.getAdErrorType = function() {
                        if (this.get5Ready()) {
                            if ("ima" === this.adParser && this.adErrorType) return this.adErrorType;
                            if ("rmp-vast" === this.adParser && this.rmpVast) return this.rmpVast.getAdErrorType()
                        }
                        return ""
                    }, e.prototype.getAdPodInfo = function() {
                        if (this.getAdOnStage()) {
                            if ("ima" === this.adParser && s.default.isObject(this.adPodInfo)) return this.adPodInfo;
                            if ("rmp-vast" === this.adParser) return this.rmpVast.getAdPodInfo()
                        }
                        return null
                    }, e.prototype.getAdID = function() {
                        return this.getAdOnStage() && "string" == typeof this.adID ? this.adID : ""
                    }, e.prototype.getAdCreativeAdId = function() {
                        return this.getAdOnStage() && "string" == typeof this.adCreativeAdId ? this.adCreativeAdId : ""
                    }, e.prototype.getAdCreativeId = function() {
                        return this.getAdOnStage() && "string" == typeof this.adCreativeId ? this.adCreativeId : ""
                    }, e.prototype.getAdDealId = function() {
                        return this.getAdOnStage() && "string" == typeof this.adDealId ? this.adDealId : ""
                    }, e.prototype.getAdSurveyUrl = function() {
                        return this.getAdOnStage() && "string" == typeof this.adSurveyUrl ? this.adSurveyUrl : ""
                    }, e.prototype.getAdUniversalAdIdRegistry = function() {
                        return this.getAdOnStage() && "string" == typeof this.adUniversalAdIdRegistry ? this.adUniversalAdIdRegistry : ""
                    }, e.prototype.getAdUniversalAdIdValue = function() {
                        return this.getAdOnStage() && "string" == typeof this.adUniversalAdIdValue ? this.adUniversalAdIdValue : ""
                    }, e.prototype.getAdvertiserName = function() {
                        return this.getAdOnStage() && "string" == typeof this.adAdvertiserName ? this.adAdvertiserName : ""
                    }, e.prototype.getAdApiFramework = function() {
                        return this.getAdOnStage() && "string" == typeof this.adApiFramework ? this.adApiFramework : ""
                    }, e.prototype.getAdTraffickingParameters = function() {
                        return this.getAdOnStage() && s.default.isObject(this.adTraffickingParameters) ? this.adTraffickingParameters : null
                    }, e.prototype.getAdTraffickingParametersString = function() {
                        return this.getAdOnStage() && "string" == typeof this.adTraffickingParametersString ? this.adTraffickingParametersString : ""
                    }, e.prototype.getAdWrapperAdIds = function() {
                        return this.getAdOnStage() && Array.isArray(this.adWrapperAdIds) ? this.adWrapperAdIds : null
                    }, e.prototype.getAdWrapperAdSystems = function() {
                        return this.getAdOnStage() && Array.isArray(this.adWrapperAdSystems) ? this.adWrapperAdSystems : null
                    }, e.prototype.getAdWrapperCreativeIds = function() {
                        return this.getAdOnStage() && Array.isArray(this.adWrapperCreativeIds) ? this.adWrapperCreativeIds : null
                    }, e.prototype.getCompanionAds = function(e, t, i) {
                        if (this.ads && this.get5Ready() && "ima" === this.adParser)
                            if (this.adImaDai) {
                                if ("function" == typeof this.currentAdForCompanion.getCompanionAds) return this.currentAdForCompanion.getCompanionAds()
                            } else {
                                e = this.currentAdForCompanion.getCompanionAds(e, t, i);
                                if (Array.isArray(e) && 0 < e.length) return e
                            } return null
                    }, e.prototype.getAdErrorCode = function() {
                        return s.default.isNumber(this.adErrorCode) ? this.adErrorCode : -1
                    }, e.prototype.getAdParser = function() {
                        return this.adParser
                    }, e.prototype.getAdParserBlocked = function() {
                        return this.adParserLoadError
                    }, e.prototype.getAdBlockerDetected = function() {
                        return "boolean" == typeof window.rmpGlobals.adBlockerDetected && window.rmpGlobals.adBlockerDetected
                    }, e.prototype.isVpaidCreative = function() {
                        return this.isVPAID
                    }
                }
            };
            i.default = e
        }, {
            "../ads/ads-helpers": 6,
            "../ads/ima-ads": 7,
            "../ads/rmp-vast": 9,
            "../fw/fw": 53
        }],
        15: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var n = _(e("../fw/fw")),
                s = _(e("../fw/env")),
                a = _(e("../fw/defaults/input-defaults")),
                o = _(e("../core/volume/volume")),
                r = _(e("../core/resize/resize")),
                l = _(e("../ads/ima-ads")),
                d = _(e("../ads/rmp-vast")),
                c = _(e("../core/ui/core-ui")),
                u = _(e("../core/ui/logo")),
                h = _(e("../playlist/playlist")),
                p = _(e("../playlist/related")),
                f = _(e("../core/dvr/dvr")),
                m = _(e("../core/seek/seek")),
                g = _(e("../360/360")),
                v = _(e("../cast/cast")),
                y = _(e("../vtt/captions")),
                b = _(e("../vtt/thumbnails")),
                w = _(e("../core/modules/modules"));

            function _(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            e = {
                attach: function(e) {
                    e.prototype.getReady = function() {
                        return this.playerReady
                    }, e.prototype.get5Ready = function() {
                        return this.isHTML5 && this.playerReady
                    }, e.prototype.getEnvironment = function() {
                        return s.default
                    }, e.prototype.getFramework = function() {
                        return n.default
                    }, e.prototype.getPlayerSettings = function() {
                        return a.default
                    }, e.prototype.isStandalone = function() {
                        return s.default.isStandalone
                    }, e.prototype.isWebView = function() {
                        return s.default.isWebView
                    }, e.prototype.getPlayerVersion = function() {
                        return this.playerVersion
                    }, e.prototype.getAutoplayRequested = function() {
                        return !!this.getReady() && this.autoplay
                    }, e.prototype.getPreload = function() {
                        return this.getReady() ? this.preload : ""
                    }, e.prototype.getPaused = function() {
                        if (this.get5Ready()) {
                            if (v.default.castingAPIAvailable.call(this)) return this.remotePlayer.isPaused;
                            if ("boolean" == typeof this.dom.video.paused) return this.dom.video.paused
                        }
                        return !1
                    }, e.prototype.getCurrentTime = function() {
                        var e;
                        return this.isLive ? -1 : this.isLiveDvr ? !this.dvrLiveMode && 0 <= this.dvrCurrentTime ? 1e3 * this.dvrCurrentTime : -1 : this.get5Ready() && v.default.castingAPIAvailable.call(this) ? v.default.getCurrentTime.call(this) : !(this.getAdOnStage() && this.getAdLinear() && (s.default.isIos[0] || "rmp-vast" === this.adParser && s.default.isMacosSafari[0])) && 0 <= (e = n.default.getMediaCurrentTime(this.dom.video)) ? Math.round(1e3 * e) : -1
                    }, e.prototype.getDuration = function() {
                        var e;
                        return this.isLive ? -1 : this.isLiveDvr ? 0 <= this.hlsJSLevelDuration ? Math.round(1e3 * this.hlsJSLevelDuration) : -1 : this.get5Ready() && v.default.castingAPIAvailable.call(this) ? v.default.getDuration.call(this) : !(this.getAdOnStage() && this.getAdLinear() && (s.default.isIos[0] || "rmp-vast" === this.adParser && s.default.isMacosSafari[0])) && 0 <= (e = n.default.getMediaDuration(this.dom.video)) ? Math.round(1e3 * e) : -1
                    }, e.prototype.getPlayerMode = function() {
                        return this.playerReady ? this.isHTML5 ? "html5" : "nosupport" : ""
                    }, e.prototype.getStreamType = function() {
                        var e = "";
                        return this.get5Ready() && (this.readingDash ? e = "dash" : this.readingHlsHevc ? e = "hlsHevc" : this.readingHlsJS || this.readingHls || this.readingHlsShaka ? e = "hls" : this.readingMp4Hevc && this.readingMp4 ? e = "mp4Hevc" : this.readingMp4 && !this.readingWebM ? e = "mp4" : this.readingMp4 && this.readingWebM ? e = "webm" : this.readingM4a ? e = "m4a" : this.readingMp3 ? e = "mp3" : this.readingOgg ? e = "ogg" : this.readingOutstream && (e = "outstream")), e
                    }, e.prototype.getBufferLength = function(e) {
                        if ("string" == typeof e && ("behind" === e || "ahead" === e) && this.get5Ready()) {
                            var t = this.getCurrentTime();
                            if (-1 < t && void 0 !== this.dom.video.buffered && "function" == typeof this.dom.video.buffered.start && "function" == typeof this.dom.video.buffered.end)
                                for (var i = this.dom.video.buffered, s = 0; s < i.length; ++s) {
                                    var n = 1e3 * i.start(s),
                                        a = 1e3 * i.end(s);
                                    if (n <= t && t <= a) return "behind" === e ? Math.round(t - n) : Math.round(a - t)
                                }
                        }
                        return -1
                    }, e.prototype.getLoop = function() {
                        return !(!this.get5Ready() || "boolean" != typeof this.dom.video.loop) && this.dom.video.loop
                    }, e.prototype.setLoop = function(e) {
                        !this.isVod || this.ads && s.default.isIos[0] || "boolean" == typeof e && this.dom.video && (this.dom.video.loop = e)
                    }, e.prototype.getControls = function() {
                        return !!this.get5Ready() && this.controls
                    }, e.prototype.setControls = function(e) {
                        "boolean" == typeof e && this.get5Ready() && (e ? c.default.protoShowControls : c.default.protoHideControls).call(this)
                    }, e.prototype.getControlsVisible = function() {
                        if (this.get5Ready() && !this.hideControls) {
                            if (n.default.hasClass(this.dom.container, "rmp-chrome")) return !0;
                            if (n.default.hasClass(this.dom.container, "rmp-no-chrome"));
                        }
                        return !1
                    }, e.prototype.setControlsVisible = function(e) {
                        "boolean" == typeof e && this.get5Ready() && !this.hideControls && (e ? c.default.showChrome : c.default.hideChrome).call(this)
                    }, e.prototype.getFullscreen = function() {
                        return !!this.get5Ready() && this.isInFullscreen
                    }, e.prototype.setFullscreen = function(e) {
                        var t;
                        !this.get5Ready() || "boolean" != typeof e || (t = this.getFullscreen()) && e || !t && !e || r.default.fullscreenInteraction.call(this)
                    }, e.prototype.play = function() {
                        this.get5Ready() && (v.default.castingAPIAvailable.call(this) ? this.remotePlayer.isPaused && this.remotePlayerController.playOrPause() : this.getAdOnStage() && this.getAdLinear() ? ("ima" === this.adParser ? l : d).default.resumeAds.call(this) : this.getPaused() && this.initiatePlayback())
                    }, e.prototype.pause = function() {
                        this.get5Ready() && (v.default.castingAPIAvailable.call(this) ? this.remotePlayer.isPaused || this.remotePlayerController.playOrPause() : this.getAdOnStage() && this.getAdLinear() && !this.adImaDai ? ("ima" === this.adParser ? l : d).default.pauseAds.call(this) : this.getPaused() || this.initiatePlayback())
                    }, e.prototype.stop = function() {
                        this.get5Ready() && (v.default.castingAPIAvailable.call(this) ? (this.remotePlayer.isPaused || this.remotePlayerController.playOrPause(), this.isVod && (this.remotePlayer.currentTime = 0, this.remotePlayerController.seek(), this.dom.current.style.width = 0, this.dom.handle.style.left = 0, this.dom.timeElapsedText.textContent = "00:00"), n.default.createStdEvent("stopcompleted", this.dom.container)) : (null === this.postStop && (this.postStop = function() {
                            this.ads && null !== this.postStop && ("ima" === this.adParser ? this.dom.container.removeEventListener("adalladscompleted", this.postStop) : "rmp-vast" === this.adParser && this.rmpVast && this.dom.container.removeEventListener("addestroyed", this.postStop)), this.getPaused() || this.pause(), this.isVod && this.seekTo(0), this.showPoster(), n.default.createStdEvent("stopcompleted", this.dom.container)
                        }.bind(this)), this.getAdOnStage() ? "ima" === this.adParser ? this.getAdLinear() ? (this.dom.container.addEventListener("adalladscompleted", this.postStop), this.stopAds()) : (this.stopAds(), this.postStop()) : "rmp-vast" === this.adParser && this.rmpVast && (this.dom.container.addEventListener("addestroyed", this.postStop), this.stopAds()) : this.postStop()))
                    }, e.prototype.seekTo = function(e) {
                        !this.get5Ready() || !n.default.isNumber(e) || this.isLive || this.isLiveDvr || this.getAdOnStage() && this.getAdLinear() || 0 <= e && (e = Math.round(e / 1e3 * 100) / 100, v.default.castingAPIAvailable.call(this) ? (this.remotePlayer.currentTime = e, this.remotePlayerController.seek()) : n.default.setMediaCurrentTime(this.dom.video, e))
                    }, e.prototype.dvrSeekTo = function(e) {
                        this.isLiveDvr && this.get5Ready() && (!n.default.isNumber(e) || this.getAdOnStage() && this.getAdLinear() || 1 <= (e = (e = e < 1e4 ? 1e4 : e) / this.getDuration()) || m.default.do.call(this, e))
                    }, e.prototype.dvrJumpToLive = function() {
                        this.isLiveDvr && this.get5Ready() && f.default.setLiveMode.call(this, null)
                    }, e.prototype.dvrIsLive = function() {
                        return !(!this.get5Ready() || !this.isLiveDvr) && this.dvrLiveMode
                    }, e.prototype.getVolume = function() {
                        if (this.get5Ready()) {
                            if (v.default.castingAPIAvailable.call(this)) return this.remotePlayer.volumeLevel;
                            var e = this.getAdOnStage() && this.getAdLinear() ? o.default.getVolumeAds.call(this) : this.dom.video.volume;
                            if (n.default.isNumber(e) && -2 !== e) return e
                        }
                        return -1
                    }, e.prototype.setVolume = function(e) {
                        n.default.isNumber(e) && this.get5Ready() && (this.currentVolume = e < 0 ? 0 : 1 < e ? 1 : e, this.getMute() && this.setMute(!1), v.default.castingAPIAvailable.call(this) ? (this.remotePlayer.volumeLevel = this.currentVolume, this.remotePlayerController.setVolumeLevel(), o.default.change.call(this)) : (this.dom.video.volume = this.currentVolume, this.getAdOnStage() && this.getAdLinear() && o.default.setVolumeAds.call(this, this.currentVolume)))
                    }, e.prototype.getMute = function() {
                        return !!this.playerReady && (v.default.castingAPIAvailable.call(this) ? this.remotePlayer.isMuted : this.muted)
                    }, e.prototype.setMute = function(e) {
                        this.get5Ready() && (e ? o.default.protoMute : o.default.protoUnmute).call(this)
                    }, e.prototype.getPlaybackRate = function() {
                        return this.dom.video && "number" == typeof this.dom.video.playbackRate ? this.dom.video.playbackRate : -1
                    }, e.prototype.setPlaybackRate = function(e) {
                        var t;
                        this.get5Ready() && n.default.isNumber(e) && (!(t = this.getPaused()) && s.default.isIos[0] && this.pause(), this.dom.video.playbackRate = e, !t) && s.default.isIos[0] && this.play()
                    }, e.prototype.getContentTitle = function() {
                        return this.contentTitle
                    }, e.prototype.setContentTitle = function(e) {
                        "string" == typeof e && (this.contentTitle = e), this.dom.container && this.dom.container.setAttribute("aria-label", this.contentTitle), this.sharing && (e = this.labels.hint.sharing + " " + this.uiSeparator + " " + this.contentTitle, n.default.setText(this.dom.sharingTitleWrapper, e)), n.default.setText(this.dom.contentTitle, this.contentTitle)
                    }, e.prototype.getContentDescription = function() {
                        return this.contentDescription
                    }, e.prototype.setContentDescription = function(e) {
                        "string" == typeof title && (this.contentDescription = e), n.default.setText(this.dom.contentDescription, this.contentDescription)
                    }, e.prototype.getContentID = function() {
                        return this.contentID
                    }, e.prototype.setContentID = function(e) {
                        "string" == typeof e && (this.contentID = e)
                    }, e.prototype.getVideoTitle = function() {
                        return this.videoTitle
                    }, e.prototype.setVideoTitle = function(e) {
                        this.useVideoTitle && "string" == typeof e && (this.videoTitle = e, this.dom.video) && this.dom.video.setAttribute("title", this.videoTitle)
                    }, e.prototype.getAppName = function() {
                        return this.appName
                    }, e.prototype.showCaptions = function(e) {
                        "string" == typeof e && this.get5Ready() && y.default.menuItemInteraction.call(this, e)
                    }, e.prototype.hideCaptions = function() {
                        this.get5Ready() && y.default.menuItemInteraction.call(this, "off")
                    }, e.prototype.getCCVisibleLanguage = function() {
                        if (this.get5Ready() && this.dom.captionsOverlayLevelsArea)
                            for (var e = this.dom.captionsOverlayLevelsArea.querySelectorAll(".rmp-overlay-level"), t = 0, i = e.length; t < i; t++) {
                                var s = e[t];
                                if (n.default.hasClass(s, "rmp-overlay-level-active")) return s.getAttribute("lang")
                            }
                        return ""
                    }, e.prototype.getCaptionsData = function() {
                        return this.get5Ready() ? y.default.getData.call(this) : null
                    }, e.prototype.getCaptionsList = function() {
                        return this.get5Ready() && this.hasCC && this.ccFilesReady ? this.loadedCCFiles : null
                    }, e.prototype.setCaptionsList = function(e) {
                        this.get5Ready() && n.default.isValidTextTracksSet(e) && (this.ccFiles = e, this.hasCC || y.default.prepare.call(this), y.default.destroy.call(this), y.default.initVttJS.call(this))
                    }, e.prototype.getPoster = function() {
                        return this.playerReady ? this.poster : ""
                    }, e.prototype.setPoster = function(e) {
                        "string" == typeof e && this.dom.posterImg && (this.dom.posterImg.removeEventListener("load", this.onPosterLoad), this.dom.posterImg.removeEventListener("error", this.onPosterError), this.dom.posterImg.addEventListener("load", this.onPosterLoad), this.dom.posterImg.addEventListener("error", this.onPosterError), this.poster = e, this.dom.posterImg.src = this.poster)
                    }, e.prototype.showPoster = function() {
                        this.get5Ready() && n.default.show(this.dom.poster)
                    }, e.prototype.hidePoster = function() {
                        this.get5Ready() && n.default.hide(this.dom.poster)
                    }, e.prototype.resize = function() {
                        this.playerReady && r.default.resize.call(this)
                    }, e.prototype.getPlayerWidth = function() {
                        return n.default.getWidth(this.dom.container)
                    }, e.prototype.getPlayerHeight = function() {
                        return n.default.getHeight(this.dom.container)
                    }, e.prototype.setPlayerSize = function(e, t) {
                        "number" != typeof e || e <= 0 || "number" != typeof t || t <= 0 || this.isInFullscreen && !this.fullWindowMode || this.iframeMode || this.autoHeightMode || !this.playerReady || (this.width = e, this.height = t, this.audioOnly && (this.height = 40), n.default.setStyle(this.dom.container, {
                            width: e + "px",
                            height: t + "px"
                        }), r.default.auxResize.call(this, e))
                    }, e.prototype.getPlayerInitialized = function() {
                        return this.playerInitialized
                    }, e.prototype.getTimeViewed = function() {
                        return this.get5Ready() && n.default.isNumber(this.analyticsSecondsPlayed) ? Math.round(1e3 * this.analyticsSecondsPlayed) : -1
                    }, e.prototype.getPercentViewed = function() {
                        if (this.get5Ready() && this.isVod && n.default.isNumber(this.analyticsSecondsPlayed)) {
                            var e = this.getDuration();
                            if (-1 < e) return Math.round(1e3 * this.analyticsSecondsPlayed * 100 / e)
                        }
                        return -1
                    }, e.prototype.getTimeReady = function() {
                        return this.playerReady && n.default.isNumber(this.timeReady) && 0 < this.timeReady ? this.timeReady : -1
                    }, e.prototype.getStartUpTime = function() {
                        return this.get5Ready() ? this.startUpTime : -1
                    }, e.prototype.getRawHeatMap = function() {
                        return this.get5Ready() && this.isVod && this.heatMap ? this.heatMapArray : null
                    }, e.prototype.getGALabel = function() {
                        return "string" == typeof this.gaLabel && "" !== this.gaLabel ? this.gaLabel : ""
                    }, e.prototype.setGALabel = function(e) {
                        "string" == typeof e && "" !== e && (this.gaLabel = e)
                    }, e.prototype.getGACategory = function() {
                        return "string" == typeof this.gaCategory && "" !== this.gaCategory ? this.gaCategory : ""
                    }, e.prototype.setGACategory = function(e) {
                        "string" == typeof e && "" !== e && (this.gaCategory = e)
                    }, e.prototype.sendGAEvent = function(e) {
                        this.get5Ready() && "undefined" != typeof ga && "string" == typeof e && "" !== e && ga(this.gaCommand, "event", this.gaCategory, e, this.gaLabel, {
                            nonInteraction: this.gaNonInteractionEvents
                        })
                    }, e.prototype.getLogo = function() {
                        var e, t;
                        return this.logoAppended ? {
                            img: e = (t = e = "") !== this.logo ? this.logo : e,
                            loc: t = "" !== this.logoLoc ? this.logoLoc : t
                        } : null
                    }, e.prototype.setLogo = function(e) {
                        n.default.isEmptyObject(e) || "string" != typeof e.img || ("string" == typeof e.loc && (this.logoLoc = e.loc), this.logo = e.img, "" === this.logo ? this.logoAppended && n.default.hide(this.dom.logoImg) : (n.default.show(this.dom.logoImg), (this.logoAppended ? u.default.update : (u.default.init.call(this), u.default.append)).call(this)))
                    }, e.prototype.getThumbnails = function() {
                        return this.seekBarThumbnailsLoc
                    }, e.prototype.setThumbnails = function(e) {
                        "string" == typeof e && "" !== e && (b.default.destroy.call(this), this.seekBarThumbnailsLoc = e, b.default.init.call(this))
                    }, e.prototype.getWaitingUI = function() {
                        return !!n.default.hasClass(this.dom.container, "rmp-waiting")
                    }, e.prototype.setWaitingUI = function(e) {
                        this.get5Ready() && "boolean" == typeof e && (e && !this.getWaitingUI() ? c.default.showLoadingSpin.call(this) : !e && this.getWaitingUI() && c.default.hideLoadingSpin.call(this))
                    }, e.prototype.getCurrentPlaylistItemIndex = function() {
                        return this.currentPlaylistIndex
                    }, e.prototype.setPlaylistItem = function(e) {
                        this.get5Ready() && "number" == typeof e && 0 <= e && h.default.load.call(this, e, null)
                    }, e.prototype.isPlaylist = function() {
                        return this.hasPlaylist
                    }, e.prototype.getPlaylistData = function() {
                        return this.isPlaylist() && 0 < this.playlistList.length && n.default.isObject(this.playlistList[0]) ? this.playlistList : null
                    }, e.prototype.setPlaylistData = function(e) {
                        this.isPlaylist() && ("string" == typeof e && "" !== e || Array.isArray(e) && n.default.isObject(e[0])) && h.default.setData.call(this, e, !1)
                    }, e.prototype.getCurrentRelatedItemIndex = function() {
                        return this.currentRelatedIndex
                    }, e.prototype.setRelatedItem = function(e) {
                        this.get5Ready() && "number" == typeof e && 0 <= e && p.default.load.call(this, e, null)
                    }, e.prototype.isRelated = function() {
                        return this.hasRelated
                    }, e.prototype.getRelatedData = function() {
                        return this.isRelated() && 0 < this.relatedList.length && n.default.isObject(this.relatedList[0]) ? this.relatedList : null
                    }, e.prototype.setRelatedData = function(e) {
                        this.isRelated() && ("string" == typeof e && "" !== e || Array.isArray(e) && n.default.isObject(e[0])) && p.default.setData.call(this, e, !1)
                    }, e.prototype.getCamLat = function() {
                        return this.lat
                    }, e.prototype.getCamLon = function() {
                        return this.lon
                    }, e.prototype.getCamFov = function() {
                        return this.fov
                    }, e.prototype.setCamLatLongFov = function(e, t, i) {
                        this.get5Ready() && "number" == typeof e && "number" == typeof t && "number" == typeof i && g.default.setCamLatLongFov.call(this, e, t, i, !0)
                    }, e.prototype.resetCamLatLongFov = function() {
                        this.get5Ready() && g.default.setCamLatLongFov.call(this, this.video360InitialLat, this.video360InitialLon, this.video360FocalLength, !0)
                    }, e.prototype.getChapters = function() {
                        return this.get5Ready() && 0 < this.chaptersArray.length ? this.chaptersArray : null
                    }, e.prototype.seekToChapter = function(e) {
                        this.get5Ready() && 0 < this.chaptersArray.length && "number" == typeof e && -1 < e && null !== this.getChapters() && void 0 !== this.chaptersArray[e] && this.seekTo(this.chaptersArray[e].start)
                    }, e.prototype.getCastMediaLoaded = function() {
                        return this.castMediaLoaded
                    }, e.prototype.getCastConnected = function() {
                        return this.castConnected
                    }, e.prototype.getCastUrl = function() {
                        return this.castUrl
                    }, e.prototype.getHlsManifestData = function() {
                        return this.get5Ready() && this.readingHlsJS ? this.hlsManifestData : null
                    }, e.prototype.getHlsLevelData = function() {
                        return this.get5Ready() && this.readingHlsJS ? this.hlsLevelData : null
                    }, e.prototype.getHlsFragmentData = function() {
                        return this.get5Ready() && this.readingHlsJS ? this.hlsFragmentData : null
                    }, e.prototype.getHlsFragmentBeingPlayedData = function() {
                        return this.get5Ready() && this.readingHlsJS ? this.hlsFragmentBeingPlayed : null
                    }, e.prototype.getHlsEpochProgramDateTime = function() {
                        return this.hlsEpochProgramDateTime
                    }, e.prototype.getHlsRawProgramDateTime = function() {
                        return this.get5Ready() && this.readingHlsJS ? this.hlsRawProgramDateTime : null
                    }, e.prototype.getHlsId3TagSamples = function() {
                        return this.get5Ready() && this.readingHlsJS ? this.hlsID3TagData : null
                    }, e.prototype.getHlsBwEstimate = function() {
                        return this.bwEstimate
                    }, e.prototype.hlsStartLoad = function() {
                        null !== this.hlsJS && this.hlsJS.startLoad()
                    }, e.prototype.hlsStopLoad = function() {
                        null !== this.hlsJS && this.hlsJS.stopLoad()
                    }, e.prototype.getHlsJSInstance = function() {
                        return this.hlsJS
                    }, e.prototype.getShakaPlayerInstance = function() {
                        return this.shakaPlayer
                    }, e.prototype.getHtmlMediaElement = function() {
                        return this.dom.video || null
                    }, e.prototype.getErrorData = function() {
                        return this.errorData
                    }, e.prototype.setModuleOverlayVisible = function(e, t) {
                        "boolean" == typeof t && "string" == typeof e && -1 < w.default.types.indexOf(e) && this.dom[e + "Overlay"] && (t && !n.default.isVisible(this.dom[e + "Overlay"]) ? w.default.open.call(this, e, null) : !t && n.default.isVisible(this.dom[e + "Overlay"]) && w.default.close.call(this, e, 400, null))
                    }, e.prototype.getModuleOverlayVisible = function(e) {
                        return !!("string" == typeof e && -1 < w.default.types.indexOf(e) && this.dom[e + "Overlay"]) && n.default.isVisible(this.dom[e + "Overlay"])
                    }
                }
            };
            i.default = e
        }, {
            "../360/360": 1,
            "../ads/ima-ads": 7,
            "../ads/rmp-vast": 9,
            "../cast/cast": 22,
            "../core/dvr/dvr": 26,
            "../core/modules/modules": 30,
            "../core/resize/resize": 36,
            "../core/seek/seek": 39,
            "../core/ui/core-ui": 41,
            "../core/ui/logo": 43,
            "../core/volume/volume": 48,
            "../fw/defaults/input-defaults": 51,
            "../fw/env": 52,
            "../fw/fw": 53,
            "../playlist/playlist": 55,
            "../playlist/related": 56,
            "../vtt/captions": 57,
            "../vtt/thumbnails": 58
        }],
        16: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var c = s(e("../fw/fw")),
                u = s(e("../abr/shaka")),
                h = s(e("../core/modules/modules"));

            function s(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            i.default = {
                attach: function(e) {
                    e.prototype.getAudioTracks = function() {
                        var i, s, e, t, n;
                        return this.get5Ready() ? (i = [], this.readingHlsJS && this.hlsJS && Array.isArray(this.hlsJS.audioTracks) && 0 < this.hlsJS.audioTracks.length ? (s = this.hlsJS.audioTrack, this.hlsJS.audioTracks.forEach(function(e, t) {
                            e.id === s ? i.push({
                                language: e.lang,
                                active: !0,
                                id: t
                            }) : i.push({
                                language: e.lang,
                                active: !1,
                                id: t
                            })
                        }), i) : (this.readingDash || this.readingHlsShaka) && this.shakaPlayer ? (e = this.shakaPlayer.getAudioLanguages(), (t = this.shakaPlayer.getVariantTracks().find(function(e) {
                            return !0 === e.active
                        })) && (n = t.language, e.forEach(function(e, t) {
                            i.push(e === n ? {
                                language: e,
                                active: !0,
                                id: t
                            } : {
                                language: e,
                                active: !1,
                                id: t
                            })
                        })), i) : null) : null
                    }, e.prototype.setAudioTrack = function(t) {
                        if (this.get5Ready() && "number" == typeof t)
                            if (this.readingHlsJS && this.hlsJS && Array.isArray(this.hlsJS.audioTracks) && 1 < this.hlsJS.audioTracks.length && c.default.isObject(this.hlsJS.audioTracks[t])) this.hlsJS.audioTrack = t, h.default.setActiveLevel.call(this, "audio", t);
                            else if ((this.readingDash || this.readingHlsShaka) && this.shakaPlayer) {
                            var e = this.getAudioTracks().find(function(e) {
                                return e.id === t
                            });
                            if (e) {
                                if (this.shakaPlayer.selectAudioLanguage(e.language), this.abrAutoMode = !0, this.shakaPlayer.configure({
                                        abr: {
                                            enabled: !0
                                        }
                                    }), h.default.setActiveLevel.call(this, "audio", t), this.dom.qualityOverlayLevelsArea) {
                                    for (var i = this.dom.qualityOverlayLevelsArea.querySelectorAll(".rmp-overlay-level"), s = [], n = 0, a = i.length; n < a; n++) {
                                        var o = i[n];
                                        c.default.hasClass(o, "rmp-q0") ? c.default.addClass(o, "rmp-overlay-level-active") : s.push(o)
                                    }
                                    s.forEach(function(e) {
                                        c.default.removeElement(e)
                                    }), 0 < this.variantsPerLng.length && u.default.setUpVideoRenditions.call(this)
                                }
                                if (!this.hasCC && 0 < this.shakaTextTracks.length && this.dom.captionsOverlayLevelsArea) {
                                    this.defaultTrack = 0;
                                    for (var r = this.dom.captionsOverlayLevelsArea.querySelectorAll(".rmp-overlay-level"), l = 0, d = r.length; l < d; l++) c.default.removeClass(r[l], "rmp-overlay-level-active");
                                    e = this.dom.container.querySelector(".captions-off");
                                    null !== e && c.default.addClass(e, "rmp-overlay-level-active"), this.shakaPlayer.setTextTrackVisibility(!1)
                                }
                                c.default.createStdEvent("shakaaudiotrackswitching", this.dom.container)
                            }
                        }
                    }
                }
            }
        }, {
            "../abr/shaka": 4,
            "../core/modules/modules": 30,
            "../fw/fw": 53
        }],
        17: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var o = s(e("../fw/fw")),
                r = s(e("../core/modules/quality")),
                l = s(e("../core/modules/modules"));

            function s(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            i.default = {
                attach: function(e) {
                    e.prototype.getBitrates = function() {
                        var a = this;
                        if (this.get5Ready()) {
                            var s, n, o = [];
                            if ((this.readingDash || this.readingHlsShaka) && this.shakaPlayer) return this.shakaPlayer.getVariantTracks().forEach(function(e) {
                                for (var t = {}, i = 0, s = a.shakaVideoRenditions.length; i < s; i++) {
                                    var n = a.shakaVideoRenditions[i];
                                    if (e.id === n) {
                                        t.id = i, t.active = !1, e.active && (t.active = !0), e.bandwidth && (t.bandwidth = e.bandwidth), e.width && (t.width = e.width), e.height && (t.height = e.height), e.videoCodec && (t.videoCodec = e.videoCodec), e.audioCodec && (t.audioCodec = e.audioCodec), o.push(t);
                                        break
                                    }
                                }
                            }), o;
                            if (this.readingHlsJS && this.hlsJS) {
                                if (Array.isArray(this.hlsJS.levels) && 0 < this.hlsJS.levels.length) return s = this.hlsJS.currentLevel, this.hlsJS.levels.forEach(function(e, t) {
                                    var i = {};
                                    i.id = t, i.active = !1, t === s && (i.active = !0), e.bitrate && (i.bitrate = e.bitrate), e.width && (i.width = e.width), e.height && (i.height = e.height), e.videoCodec && (i.videoCodec = e.videoCodec), e.audioCodec && (i.audioCodec = e.audioCodec), o.push(i)
                                }), o
                            } else {
                                if (this.readingMp4) return n = this.getCurrentBitrateIndex(), this.src.mp4.forEach(function(e, t) {
                                    var i = t === n ? !0 : !1;
                                    o.push({
                                        active: i,
                                        id: t
                                    })
                                }), o;
                                if (this.readingM4a || this.readingMp3 || this.readingOgg) return o.push({
                                    active: !0,
                                    id: 0
                                }), o
                            }
                        }
                        return null
                    }, e.prototype.setBitrate = function(e) {
                        if ("number" == typeof e && this.get5Ready() && (!this.getAdOnStage() || !this.getAdLinear())) {
                            var t, i = this.getBitrates();
                            if (!(-1 !== e && void 0 === i[e] || this.readingMp4 && -1 === e))
                                if (this.readingMp4) r.default.setMp4Bitrate.call(this, e);
                                else if ((this.readingDash || this.readingHlsShaka) && this.shakaPlayer) {
                                if (-1 === e ? (this.abrAutoMode = !0, this.shakaPlayer.configure({
                                        abr: {
                                            enabled: !0
                                        }
                                    })) : (this.abrAutoMode = !1, this.shakaPlayer.configure({
                                        abr: {
                                            enabled: !1
                                        }
                                    }), t = this.shakaVideoRenditions[e], (i = this.shakaPlayer.getVariantTracks().find(function(e) {
                                        return e.id === t
                                    })) && (this.shakaPlayer.selectVariantTrack(i, !0), o.default.createStdEvent("shakalevelswitching", this.dom.container))), this.dom.qualityOverlayLevelsArea) {
                                    var s = this.dom.qualityOverlayLevelsArea.querySelectorAll(".rmp-overlay-level");
                                    if (0 < s.length && s[e + 1]) {
                                        for (var n = 0, a = s.length; n < a; n++) o.default.removeClass(s[n], "rmp-abr-active");
                                        o.default.addClass(s[e + 1], "rmp-abr-active")
                                    }
                                    l.default.setActiveLevel.call(this, "quality", e + 1)
                                }
                            } else if (this.readingHlsJS && this.hlsJS) {
                                if (-1 === e) {
                                    this.abrAutoMode = !0;
                                    try {
                                        this.hlsJS.nextLevel = -1
                                    } catch (e) {
                                        o.default.trace(e)
                                    }
                                } else {
                                    i = this.hlsJS.levels;
                                    if (i && i.length && 0 <= e && e < i.length) {
                                        this.abrAutoMode = !1;
                                        try {
                                            this.hlsJS.nextLevel = e
                                        } catch (e) {
                                            o.default.trace(e)
                                        }
                                    }
                                }
                                l.default.setActiveLevel.call(this, "quality", e + 1)
                            }
                        }
                    }, e.prototype.getAbrAutoMode = function() {
                        return !!this.get5Ready() && (this.readingMse ? this.abrAutoMode : !!this.readingHls || (this.readingMp4 || this.readingM4a || this.readingMp3 || this.readingOgg, !1))
                    }, e.prototype.getCurrentBitrateIndex = function() {
                        if (this.get5Ready())
                            if (this.readingMse || this.readingHls) {
                                if (this.getAbrAutoMode()) return -1;
                                var e = this.getBitrates();
                                if (e) return e.find(function(e) {
                                    return !0 === e.active
                                }).id
                            } else {
                                var t;
                                if (this.readingMp4) return t = this.getSrc(), -1 === (e = this.src.mp4.findIndex(function(e) {
                                    return e === t
                                })) ? 0 : e;
                                if (this.readingM4a || this.readingMp3 || this.readingOgg) return 0
                            } return -2
                    }
                }
            }
        }, {
            "../core/modules/modules": 30,
            "../core/modules/quality": 31,
            "../fw/fw": 53
        }],
        18: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var a = s(e("../fw/fw")),
                o = s(e("../fw/env")),
                r = s(e("../ads/ima-ads")),
                l = s(e("../ads/scheduler")),
                d = s(e("../ads/ads-helpers")),
                c = s(e("../analytics/logs")),
                u = s(e("../cast/cast")),
                h = s(e("../cast/airplay")),
                p = s(e("../abr/shaka")),
                f = s(e("../abr/hls")),
                m = s(e("../core/utils/viewable")),
                g = s(e("../vtt/captions")),
                v = s(e("../vtt/thumbnails")),
                y = s(e("../360/360")),
                b = s(e("../core/dom")),
                w = s(e("../analytics/analytics")),
                _ = s(e("../analytics/mux")),
                C = s(e("../core/utils/utils")),
                k = s(e("../core/utils/error"));

            function s(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            e = {};
            e.attach = function(e) {
                function i() {
                    (function() {
                        o.default.isMobile && (this.dom.container.removeEventListener("playing", this.onMobileStartAutoHideCentralUI), this.dom.container.removeEventListener("adloaded", this.onMobileStartAutoHideCentralUI), this.dom.container.removeEventListener("aderror", this.onMobileStartAutoHideCentralUI)), this.ads && (o.default.isIos[0] && !this.hideFullscreen && (this.dom.container.removeEventListener("adloaded", this.onIosStartShowFS), this.dom.container.removeEventListener("aderror", this.onIosStartShowFS), this.dom.container.removeEventListener("playing", this.onIosStartShowFS)), "ima" === this.adParser) && o.default.isIphone && this.adDisableCustomPlaybackForIOS10Plus && (this.dom.container.removeEventListener("adcontentpauserequested", this.onIphone10PlusHideFS), this.dom.container.removeEventListener("adcontentresumerequested", this.onIphone10PlusHideFS)), this.dom.container.removeEventListener("srcchanged", this.appendFormDataAndSendLog), this.dom.container.removeEventListener("loadedmetadata", this.afterSrcSwitch), this.dom.container.removeEventListener("contextmenu", a.default.contextMenuInteraction), this.dom.container.removeEventListener("mousemove", this.showChrome), this.dom.container.removeEventListener("touchend", this.containerTouch), this.dom.container.removeEventListener("click", this.containerClick), this.dom.container.removeEventListener("playing", this.setAudioTrackFn), this.dom.container.removeEventListener("resize", this.configureShakaCapLevelToPlayerSize), this.processInitiatePlayback && this.dom.container.removeEventListener("loadedmetadata", this.processInitiatePlayback), this.dom.container.removeEventListener("playing", this.unstalledBuffer), this.dom.container.removeEventListener("playing", this.hlsJSUnstalledBuffer), g.default.destroy.call(this), this.dom.container.removeEventListener("playing", this.startUpLogPlaying), this.dom.container.removeEventListener("adloaded", this.startUpLogPlaying), this.dom.container.removeEventListener("loadedmetadata", this.afterMp4BitrateSwitch), this.hlsJSStopDownloadWhilePaused && (this.dom.container.removeEventListener("playing", this.hlsOnFirstPlaying), this.dom.container.removeEventListener("pause", this.hlsOnPauseStopLoad), this.dom.container.removeEventListener("play", this.hlsOnPlayStartLoad)), this.hasChapters && this.dom.container.removeEventListener("loadedmetadata", this.onLoadedmetadaAddChapters)
                    }).call(this), this.video360 && y.default.destroy.call(this), this.dom.video && function() {
                            b.default.destroyVideo.call(this), this.dom.video.removeEventListener("ended", this.ended), null !== this.hlsResizeLevelSwitch && this.dom.video.removeEventListener("resize", this.hlsResizeLevelSwitch), this.readingPDorNative && this.dom.video.removeEventListener("error", this.generateError, !0)
                        }.call(this),
                        function() {
                            var t = this;
                            this.readingDash || this.readingHlsShaka ? null === this.shakaPlayer ? n.call(this) : (p.default.destroy.call(this), this.shakaPlayer.destroy().then(function() {
                                n.call(t)
                            }).catch(function(e) {
                                a.default.trace(e), n.call(t)
                            })) : this.readingHlsJS ? (null !== this.hlsJS && f.default.destroy.call(this), n.call(this)) : this.readingPDorNative ? (a.default.clearNativeHtml5Buffer(this.dom.video), n.call(this)) : this.readingOutstream && n.call(this)
                        }.call(this)
                }

                function s() {
                    var e, t = this;
                    document.removeEventListener("fullscreenchange", this.fullscreenchange), document.removeEventListener("fullscreenerror", this.fullscreenerror), document.removeEventListener("mouseup", this.mouseupDoc), document.removeEventListener("mousemove", this.mousemoveDoc),
                        function() {
                            a.default.clearTimeout(this.imaLoadTimeout), a.default.clearTimeout(this.throttledResizeTimeout), a.default.clearTimeout(this.cssLinkTimeout), a.default.clearTimeout(this.logRetryTimeout), a.default.clearTimeout(this.logGaSeekingTimeout), a.default.clearTimeout(this.prerollMaskRemovalTimeout), a.default.clearTimeout(this.orientationChangeResizeTimeout), a.default.clearTimeout(this.siteCheckerRetryTimeout), a.default.clearTimeout(this.rmpPlusCheckerRetryTimeout), a.default.clearTimeout(this.hlsJSErrorRetryTimeout), a.default.clearInterval(this.progressiveInterval), a.default.clearInterval(this.hlsJSCCInterval), a.default.clearInterval(this.hlsJSAbrInterval), a.default.clearInterval(this.adSkipInterval), a.default.clearInterval(this.adCountdownInterval), a.default.clearInterval(this.adRemainingTimeBarInterval), a.default.clearInterval(this.runAdsManagerInterval), a.default.clearInterval(this.liveAdSchedulerChecker), a.default.clearInterval(this.analyticsInterval), a.default.clearInterval(this.setSrcResetAdInterval), a.default.clearInterval(this.chromeTimer)
                        }.call(this), m.default.destroy.call(this), this.googleCast && u.default.destroy.call(this), h.default.destroy.call(this), 0 < this.offsetStartPosition && this.isVod && this.dom.container && this.dom.container.removeEventListener("playing", this.onStartSeekToOffset), this.dummyThumbnailsImg && v.default.destroy.call(this), this.ads ? (function() {
                            var e = this;
                            d.default.destroy.call(this), this.dom.container.removeEventListener("adcontentresumerequested", this.castInit), this.adScheduleInput && l.default.destroy.call(this), C.default.clearAdAutoplayEvents.call(this), "ima" === this.adParser && null === this.postImaAdDestroy && (this.postImaAdDestroy = function() {
                                this.dom.container.removeEventListener("adcontentresumerequested", this.postImaAdDestroy), r.default.resetAdsForNewRequest.call(this);
                                try {
                                    this.adsLoader.destroy(), this.adDisplayContainer.destroy()
                                } catch (e) {
                                    a.default.trace(e)
                                }
                                this.adsDestroyed = !0
                            }.bind(this)), "ima" === this.adParser ? this.getAdOnStage() ? this.getAdLinear() ? (this.dom.container.addEventListener("adcontentresumerequested", this.postImaAdDestroy), this.stopAds()) : (this.stopAds(), this.postImaAdDestroy()) : this.postImaAdDestroy() : this.getAdOnStage() ? this.getAdLinear() ? (this.dom.container.addEventListener("addestroyed", function() {
                                e.adsDestroyed = !0
                            }), this.stopAds()) : (this.stopAds(), this.adsDestroyed = !0) : this.adsDestroyed = !0
                        }.call(this), e = setInterval(function() {
                            t.adsDestroyed && (a.default.clearInterval(e), i.call(t))
                        }, 10)) : i.call(this)
                }
                var n = function() {
                    var e = this;
                    setTimeout(function() {
                        e.destroyRunning = !1, a.default.createStdEvent("destroycompleted", e.dom.container)
                    }, 1)
                };
                e.prototype.destroy = function() {
                    var e, t = this;
                    this.playerReady && (this.destroyRunning ? k.default.warning.call(this, "destroy currently running - wait for completion before invoking", 1004, null) : (this.destroyRunning = !0, a.default.removeEvent("resize", window, this.throttledResize), a.default.removeEvent("orientationchange", window, this.throttledResize), a.default.removeEvent("online", window, this.windowOnline), a.default.removeEvent("offline", window, this.windowOffline), this.disableKeyboardControl || (a.default.removeEvent("keyup", document, this.addTabKeyDetection), a.default.removeEvent("blur", this.dom.container, this.removeFocusToContainer), a.default.removeEvent("keyup", this.dom.container, this.bindKeyboard), a.default.removeEvent("keydown", this.dom.container, a.default.preventKeyDown)), c.default.destroy.call(this), this.isHTML5 ? (w.default.reset.call(this), this.muxData && this.readingHlsJS && _.default.destroy.call(this), this.getFullscreen() && (this.proceedDestroy = !1, this.exitFSDestroy = function() {
                        this.exitFSDestroy && this.dom.container.removeEventListener("exitfullscreen", this.exitFSDestroy), this.proceedDestroy = !0
                    }.bind(this), this.dom.container.addEventListener("exitfullscreen", this.exitFSDestroy), this.setFullscreen(!1)), this.proceedDestroy ? s.call(this) : e = setInterval(function() {
                        t.proceedDestroy && (a.default.clearInterval(e), s.call(t))
                    }, 10)) : n.call(this)))
                }
            }, i.default = e
        }, {
            "../360/360": 1,
            "../abr/hls": 3,
            "../abr/shaka": 4,
            "../ads/ads-helpers": 6,
            "../ads/ima-ads": 7,
            "../ads/scheduler": 10,
            "../analytics/analytics": 11,
            "../analytics/logs": 12,
            "../analytics/mux": 13,
            "../cast/airplay": 21,
            "../cast/cast": 22,
            "../core/dom": 25,
            "../core/utils/error": 44,
            "../core/utils/utils": 46,
            "../core/utils/viewable": 47,
            "../fw/env": 52,
            "../fw/fw": 53,
            "../vtt/captions": 57,
            "../vtt/thumbnails": 58
        }],
        19: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var s = o(e("../fw/fw")),
                n = o(e("../fw/env")),
                a = o(e("../core/utils/error"));

            function o(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function r(e, t) {
                this.shakaOfflineDownloadProgress = t, s.default.createStdEvent("downloadprogress", this.dom.container)
            }

            function l(e) {
                var t = e.length;
                return 1 === t ? e[0] : e[Math.floor(t / 2)]
            }
            e = {};
            e.init = function() {
                window.rmpStorage = new shaka.offline.Storage(this.shakaPlayer);
                var e = {
                    progressCallback: r.bind(this),
                    usePersistentLicense: this.shakaUsePersistentLicense
                }; - 4 !== this.shakaOfflinePreferredTrackQuality && (e.trackSelectionCallback = function(e) {
                    var t = void 0,
                        i = e.filter(function(e) {
                            return "variant" === e.type
                        });
                    if (0 === i.length) return [e[0]];
                    e = this.shakaPlayer.getVariantTracks().find(function(e) {
                        return !0 === e.active
                    });
                    if (!e) return [l(i)];
                    var s = e.language,
                        n = i.filter(function(e) {
                            return e.language === s
                        }).sort(function(e, t) {
                            return e.bandwidth > t.bandwidth
                        });
                    if (0 === n.length) return [l(i)];
                    switch (this.shakaOfflinePreferredTrackQuality) {
                        case -3:
                            t = n[n.length - 1];
                            break;
                        case -2:
                            t = n[0];
                            break;
                        case -1:
                            t = l(n);
                            break;
                        default:
                            t = 0 <= this.shakaOfflinePreferredTrackQuality && n[this.shakaOfflinePreferredTrackQuality] ? n[this.shakaOfflinePreferredTrackQuality] : l(n)
                    }
                    return [t]
                }.bind(this)), window.rmpStorage.configure(e)
            }, e.attach = function(e) {
                e.prototype.isOnline = function() {
                    return n.default.isOnline()
                }, e.prototype.hasDownloadSupport = function() {
                    return !!("undefined" != typeof shaka && shaka.offline && shaka.offline.Storage && shaka.offline.Storage.support())
                }, e.prototype.getDownloadedList = function() {
                    return this.hasDownloadSupport() ? this.shakaOfflineList : (a.default.warning.call(this, "offline storage is not supported in this environment", 3007, null), null)
                }, e.prototype.listDownloadedContent = function() {
                    var t = this;
                    this.hasDownloadSupport() ? window.rmpStorage ? window.rmpStorage.list().then(function(e) {
                        t.shakaOfflineList = e, s.default.createStdEvent("downloadlistavailable", t.dom.container)
                    }).catch(function(e) {
                        a.default.warning.call(t, "could not list offline downloaded content", 3003, e)
                    }) : a.default.warning.call(this, "storage has not been initialized", 3001, null) : a.default.warning.call(this, "offline storage is not supported in this environment", 3007, null)
                }, e.prototype.download = function(e) {
                    var t, i = this;
                    this.hasDownloadSupport() ? window.rmpStorage ? (t = {}, s.default.isObject(e) && (t = e), this.shakaOfflineDownloadProgress = 0, s.default.createStdEvent("downloadstarted", this.dom.container), window.rmpStorage.store(this.startingBitratePath, t).then(function() {
                        r.call(i, null, 1), s.default.createStdEvent("downloadcompleted", i.dom.container)
                    }).catch(function(e) {
                        r.call(i, null, -1), a.default.warning.call(i, "could not download offline content", 3002, e)
                    })) : a.default.warning.call(this, "storage has not been initialized", 3001, null) : a.default.warning.call(this, "offline storage is not supported in this environment", 3007, null)
                }, e.prototype.getDownloadProgress = function() {
                    return this.hasDownloadSupport() ? this.shakaOfflineDownloadProgress : (a.default.warning.call(this, "offline storage is not supported in this environment", 3007, null), -1)
                }, e.prototype.loadDownload = function(e) {
                    this.hasDownloadSupport() ? window.rmpStorage ? e && e.offlineUri ? this.setSrc(e.offlineUri) : a.default.warning.call(this, "could not load offline content - invalid input", 3005, null) : a.default.warning.call(this, "storage has not been initialized", 3001, null) : a.default.warning.call(this, "offline storage is not supported in this environment", 3007, null)
                }, e.prototype.removeDownload = function(e) {
                    var t = this;
                    this.hasDownloadSupport() ? window.rmpStorage ? window.rmpStorage.remove(e.offlineUri).then(function() {
                        s.default.createStdEvent("downloadremoved", t.dom.container)
                    }).catch(function(e) {
                        a.default.warning.call(t, "could not remove offline downloaded content", 3004, e)
                    }) : a.default.warning.call(this, "storage has not been initialized", 3001, null) : a.default.warning.call(this, "offline storage is not supported in this environment", 3007, null)
                }
            }, i.default = e
        }, {
            "../core/utils/error": 44,
            "../fw/env": 52,
            "../fw/fw": 53
        }],
        20: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var o = s(e("../fw/fw")),
                r = s(e("../abr/shaka")),
                l = s(e("../abr/hls")),
                d = s(e("../core/ui/core-ui")),
                c = s(e("../core/modules/modules")),
                u = s(e("../core/modules/quality")),
                h = s(e("../vtt/captions")),
                p = s(e("../ads/ima-ads")),
                f = s(e("../vtt/thumbnails")),
                m = s(e("../core/utils/error"));

            function s(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            e = {};
            e.attach = function(e) {
                function s() {
                    this.changingSrc = !1, o.default.createStdEvent("srcchanged", this.dom.container)
                }

                function n() {
                    this.dom.video.src = this.startingBitratePath;
                    try {
                        this.dom.video.load()
                    } catch (e) {
                        o.default.trace(e)
                    }
                }

                function a() {
                    var t = this;
                    this.dom.container.addEventListener("loadedmetadata", this.afterSrcSwitch), this.dom.container.addEventListener("error", this.afterSrcSwitch), this.readingHlsJS ? (l.default.destroy.call(this), l.default.init.call(this)) : this.readingDash || this.readingHlsShaka ? this.shakaPlayer ? (r.default.destroy.call(this), this.shakaPlayer.destroy().then(function() {
                        r.default.init.call(t)
                    }).catch(function(e) {
                        o.default.trace(e), r.default.init.call(t)
                    })) : r.default.init.call(this) : n.call(this)
                }
                e.prototype.setSrc = function(e) {
                    var t = this;
                    if (this.get5Ready() && !(this.video360 || this.readingFps || this.readingOutstream))
                        if (this.changingSrc) m.default.warning.call(this, "setSrc currently running - wait for completion before invoking", 1005, null);
                        else {
                            var i = function(e) {
                                var t = this.getStreamType(),
                                    i = "",
                                    s = !1;
                                if ("string" == typeof e) s = !0;
                                else if (!o.default.isObject(e)) return i;
                                switch (t) {
                                    case "hlsHevc":
                                        s ? i = e : e.hlsHevc && (i = e.hlsHevc);
                                        break;
                                    case "hls":
                                        s ? i = e : e.hls && (i = e.hls);
                                        break;
                                    case "dash":
                                        s ? i = e : e.dash && (i = e.dash);
                                        break;
                                    case "mp4":
                                        s ? i = e : e.mp4 && e.mp4[0] && (i = e.mp4[0]);
                                        break;
                                    case "mp4Hevc":
                                        s ? i = e : e.mp4Hevc && e.mp4Hevc[0] && (i = e.mp4Hevc[0]);
                                        break;
                                    case "webm":
                                        s ? i = e : e.webm && e.webm[0] && (i = e.webm[0]);
                                        break;
                                    case "m4a":
                                        s ? i = e : e.m4a && (i = e.m4a);
                                        break;
                                    case "mp3":
                                        s ? i = e : e.mp3 && (i = e.mp3);
                                        break;
                                    case "ogg":
                                        s ? i = e : e.ogg && (i = e.ogg)
                                }
                                return i
                            }.call(this, e);
                            if ("" !== i) {
                                if (this.readingMse && this.msePreloadRequested) {
                                    if (!this.msePreloadCompleted) return;
                                    this.msePreloadRequested = !1
                                }
                                if (this.changingSrc = !0, o.default.createStdEvent("srcchanging", this.dom.container), this.castUrl = i, this.startingBitratePath = i, c.default.show.call(this), this.readingMp4 && o.default.isObject(e) && (Array.isArray(e.webm) && 0 < e.webm.length || Array.isArray(e.mp4) && 0 < e.mp4.length) && (Array.isArray(e.webm) && this.readingWebM ? this.src.mp4 = e.webm : Array.isArray(e.mp4) && (this.src.mp4 = e.mp4), this.initialBitrate = o.default.filterInitialBitrate(this.initialBitrate, this.src.mp4), this.startingBitratePath = this.src.mp4[this.initialBitrate], this.castUrl = this.startingBitratePath), this.afterSrcSwitch ? (this.dom.container.removeEventListener("loadedmetadata", this.afterSrcSwitch), this.dom.container.removeEventListener("error", this.afterSrcSwitch)) : this.afterSrcSwitch = function(e) {
                                        this.dom.container.removeEventListener("loadedmetadata", this.afterSrcSwitch), this.dom.container.removeEventListener("error", this.afterSrcSwitch), e && e.type && ("loadedmetadata" === e.type ? (this.srcChangeAutoplay ? this.play() : (d.default.showCentralPlay.call(this), this.showPoster()), this.googleCast && this.castConnected && this.loadCastMedia(), s.call(this)) : "error" === e.type && (this.changingSrc = !1))
                                    }.bind(this), function() {
                                        this.abrAutoMode || !this.readingMse && !this.readingHls || (this.abrAutoMode = !0), this.readingMse || (this.dom.video.preload = "auto"), this.analyticsSecondsPlayed = 0
                                    }.call(this), function() {
                                        this.hasChapters && (this.dom.container.removeEventListener("loadedmetadata", this.onLoadedmetadaAddChapters), c.default.destroy.call(this, "chapters"), this.hasChapters = !1, this.chaptersArray = []), this.hasThumbnails && f.default.destroy.call(this);
                                        var e = this.dom.container.querySelector(".rmp-error");
                                        null !== e && o.default.removeElement(e), d.default.enableCentralUI.call(this), d.default.showLoadingSpin.call(this), d.default.showChrome.call(this), c.default.closeAll.call(this), this.setSrcPDModule || (this.dom.quality && u.default.destroy.call(this), this.dom.audio && c.default.destroy.call(this, "audio"), this.dom.captions && h.default.destroy.call(this), this.isVod && this.dom.current && this.dom.handle && this.dom.timeElapsedText && (this.dom.current.style.width = 0, this.dom.handle.style.left = 0, this.dom.timeElapsedText.textContent = "00:00"), this.readingMp4 && 1 < this.src.mp4.length && (u.default.setUpMP4UI.call(this), o.default.show(this.dom.quality)))
                                    }.call(this), this.getPlayerInitialized()) this.getAdOnStage() ? (function() {
                                    "ima" === this.adParser ? (this.contentCompleteCalled = !1, this.getAdLinear() ? (this.setSrcResetIMA = function() {
                                        this.dom.container.removeEventListener("adcontentresumerequested", this.setSrcResetIMA), p.default.resetAdsForNewRequest.call(this), this.setSrcAdReset = !0
                                    }.bind(this), this.dom.container.addEventListener("adcontentresumerequested", this.setSrcResetIMA), this.stopAds()) : (p.default.resetAdsForNewRequest.call(this), this.setSrcAdReset = !0)) : (this.rmpVast.setContentPlayerCompleted(!1), this.setSrcResetRmpVast = function() {
                                        this.dom.container.removeEventListener("addestroyed", this.setSrcResetRmpVast), this.setSrcAdReset = !0
                                    }.bind(this), this.dom.container.addEventListener("addestroyed", this.setSrcResetRmpVast), this.stopAds())
                                }.call(this), o.default.clearInterval(this.setSrcResetAdInterval), this.setSrcResetAdInterval = setInterval(function() {
                                    t.setSrcAdReset && (o.default.clearInterval(t.setSrcResetAdInterval), t.setSrcAdReset = !1, a.call(t))
                                }, 10)) : a.call(this);
                                else {
                                    if (this.readingPDorNative) n.call(this), d.default.showCentralPlay.call(this);
                                    else if (this.readingHlsJS) this.msePreloadCompleted ? (l.default.destroy.call(this), d.default.showCentralPlay.call(this), l.default.init.call(this), this.msePreloadRequested = !0) : d.default.showCentralPlay.call(this);
                                    else if (this.readingDash || this.readingHlsShaka) {
                                        if (this.msePreloadCompleted) return r.default.destroy.call(this), void this.shakaPlayer.destroy().then(function() {
                                            d.default.showCentralPlay.call(t), r.default.init.call(t), t.msePreloadRequested = !0, s.call(t)
                                        }).catch(function(e) {
                                            o.default.trace(e), d.default.showCentralPlay.call(t), r.default.init.call(t), t.msePreloadRequested = !0, s.call(t)
                                        });
                                        d.default.showCentralPlay.call(this)
                                    }
                                    s.call(this)
                                }
                            }
                        }
                }, e.prototype.getSrc = function() {
                    return this.startingBitratePath
                }, e.prototype.isChangingSrc = function() {
                    return this.changingSrc
                }
            }, i.default = e
        }, {
            "../abr/hls": 3,
            "../abr/shaka": 4,
            "../ads/ima-ads": 7,
            "../core/modules/modules": 30,
            "../core/modules/quality": 31,
            "../core/ui/core-ui": 41,
            "../core/utils/error": 44,
            "../fw/fw": 53,
            "../vtt/captions": 57,
            "../vtt/thumbnails": 58
        }],
        21: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var s = a(e("../fw/fw")),
                n = a(e("../core/modules/modules"));

            function a(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            e = {
                destroy: function() {
                    this.dom.video && this.dom.video.removeEventListener("webkitplaybacktargetavailabilitychanged", this.onAirPlayAvailabilityChanged), this.dom.airplay && this.dom.airplay.removeEventListener("click", this.onAirPlayClick), this.dom.container && this.dom.container.removeEventListener("loadedmetadata", this.onLoadedmetadataShowAirPlay)
                }
            };
            e.init = function() {
                "undefined" != typeof WebKitPlaybackTargetAvailabilityEvent && (this.onAirPlayAvailabilityChanged = function(e) {
                    e && ("available" === e.availability ? (this.dom.airplay || (n.default.append.call(this, "airplay"), this.onAirPlayClick = function(e) {
                        e && (e.stopPropagation(), "touchend" === e.type) && e.preventDefault();
                        try {
                            this.dom.video.webkitShowPlaybackTargetPicker()
                        } catch (e) {
                            s.default.trace(e)
                        }
                    }.bind(this), this.dom.airplay.addEventListener("click", this.onAirPlayClick), s.default.addClass(this.dom.container, "rmp-airplay-available")), this.hasLoadedMetadata ? n.default.deferredShow.call(this, "airplay") : (this.onLoadedmetadataShowAirPlay = function() {
                        this.dom.container.removeEventListener("loadedmetadata", this.onLoadedmetadataShowAirPlay), n.default.deferredShow.call(this, "airplay")
                    }.bind(this), this.dom.container.addEventListener("loadedmetadata", this.onLoadedmetadataShowAirPlay))) : s.default.hide(this.dom.airplay))
                }.bind(this), this.dom.video.addEventListener("webkitplaybacktargetavailabilitychanged", this.onAirPlayAvailabilityChanged))
            }, i.default = e
        }, {
            "../core/modules/modules": 30,
            "../fw/fw": 53
        }],
        22: [function(e, F, t) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var c = r(e("../fw/fw")),
                i = r(e("../fw/env")),
                s = r(e("../core/ui/core-ui")),
                u = r(e("../core/events")),
                n = r(e("../core/volume/volume")),
                a = r(e("../core/modules/modules")),
                o = r(e("../core/utils/error"));

            function r(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function l() {
                (function() {
                    this.getAdOnStage() && this.stopAds(), c.default.addClass(this.dom.container, "rmp-casting")
                }).call(this), (D = M.getCurrentSession()) && (this.castConnected = !0, f && (this.castMedia = D.getMediaSession(), this.castMedia) ? (this.pause(), this.castMediaLoaded = !0) : this.loadCastMedia(), f = !1)
            }

            function d() {
                c.default.addClass(this.dom.container, "rmp-cast-available"), a.default.append.call(this, "cast"), c.default.addEvent(["touchend", "click"], this.dom.cast, function(e) {
                        e && e.stopPropagation(), s.default.showChrome.call(this)
                    }.bind(this)), a.default.deferredShow.call(this, "cast"), i.default.isMobile && !this.getPlayerInitialized() && (A = function() {
                        this.dom.container.removeEventListener("playing", A), a.default.deferredShow.call(this, "cast")
                    }.bind(this), c.default.hide(this.dom.cast), this.dom.container.addEventListener("playing", A)), this.readingDash ? v = "application/dash+xml" : this.readingHls || this.readingHlsJS || this.readingHlsShaka ? v = "application/vnd.apple.mpegurl" : this.readingMp4 && !this.readingWebM ? v = "video/mp4" : this.readingMp4 && this.readingWebM ? v = "video/webm" : this.audioOnly && this.readingM4a ? v = "audio/mp4" : this.audioOnly && this.readingMp3 ? v = "audio/mp3" : this.audioOnly && this.readingOgg && (v = "audio/ogg"), this.castUrl = this.startingBitratePath, this.loadCastMedia = function() {
                        var d = this,
                            e = (g = !1, this.pause(), new chrome.cast.media.MediaInfo(this.castUrl, v)),
                            t = (e.metadata = new chrome.cast.media.GenericMediaMetadata, "MOVIE" === this.googleCastMetadataType || "TV_SHOW" === this.googleCastMetadataType ? e.metadata.metadataType = this.googleCastMetadataType : e.metadata.metadataType = chrome.cast.media.MetadataType.GENERIC, b = "" === this.googleCastContentTitle ? this.contentTitle : this.googleCastContentTitle, e.metadata.title = b, void 0);
                        if (this.googleCastPoster ? t = this.googleCastPoster : this.poster && (t = this.poster), e.metadata.images = [{
                                url: t
                            }], "" !== this.googleCastReleaseDate && (e.metadata.subtitle = this.googleCastReleaseDate), this.isVod ? e.streamType = chrome.cast.media.StreamType.BUFFERED : e.streamType = chrome.cast.media.StreamType.LIVE, e.customData = {}, this.hasCC) {
                            for (var i = [], s = 0, n = this.ccFiles.length; s < n; s++) i[s] = new chrome.cast.media.Track(s + 1, chrome.cast.media.TrackType.TEXT), i[s].trackContentId = this.ccFiles[s][2], i[s].trackContentType = "text/vtt", i[s].subtype = chrome.cast.media.TextTrackType.SUBTITLES, i[s].name = this.ccFiles[s][1], i[s].language = this.ccFiles[s][0], i[s].customData = null;
                            e.streamType = chrome.cast.media.StreamType.BUFFERED, e.textTrackStyle = new chrome.cast.media.TextTrackStyle, e.textTrackStyle.foregroundColor = "#" + this.googleCastCCForegroundColor, e.textTrackStyle.backgroundColor = "#" + this.googleCastCCBackgroundColor, e.textTrackStyle.fontScale = this.googleCastCCFontScale, e.duration = null, e.tracks = i
                        }
                        this.remotePlayerState = "LOADING", j.call(this);
                        t = new chrome.cast.media.LoadRequest(e);
                        this.hasCC && 0 < this.defaultTrack && (t.activeTrackIds = [this.defaultTrack]), D.loadMedia(t).then(function() {
                            d.remotePlayerState = "LOADED", j.call(d);
                            var e = d.getCurrentTime();
                            if (d.isVod && 0 < e && (d.remotePlayer.currentTime = e / 1e3, d.remotePlayerController.seek()), u.default.play.call(d), d.castMedia = D.getMediaSession(), I = d.castMedia.media.tracks, d.castMediaLoaded = !0, d.dom.captions && d.dom.captionsOverlayLevelsArea) {
                                for (var t = d.dom.captionsOverlayLevelsArea.querySelectorAll(".rmp-overlay-level"), i = 0, s = 0, n = t.length; s < n; s++)
                                    if (c.default.hasClass(t[s], "rmp-overlay-level-active")) {
                                        i = s;
                                        break
                                    } 0 < i && p.setTextTrack.call(d, i - 1)
                            }
                            if (d.dom.audio && d.dom.audioOverlayLevelsArea) {
                                for (var a = d.dom.audioOverlayLevelsArea.querySelectorAll(".rmp-overlay-level"), o = 0, r = 0, l = a.length; r < l; r++)
                                    if (c.default.hasClass(a[r], "rmp-overlay-level-active")) {
                                        o = r;
                                        break
                                    } 0 < o && p.setAudioTrack.call(d, o)
                            }
                            c.default.createStdEvent("castmedialoaded", d.dom.container)
                        }).catch(function(e) {
                            d.castMediaLoaded = !1, d.castConnected = !1, g = !0, L.call(d), D.endSession(), c.default.createStdEvent("castmediaerror", d.dom.container);
                            e = e || null;
                            o.default.warning.call(d, "castSession.loadMedia failed on receiving device", 7001, e)
                        })
                    }.bind(this), w = function() {
                        if (this.remotePlayer && this.remotePlayer.playerState) {
                            switch (this.remotePlayer.playerState) {
                                case "BUFFERING":
                                    this.remotePlayerState = "BUFFERING", c.default.createStdEvent("waiting", this.dom.container);
                                    break;
                                case "PLAYING":
                                    this.remotePlayerState = "PLAYING", c.default.createStdEvent("playing", this.dom.container);
                                    break;
                                case "IDLE":
                                    this.remotePlayerState = "IDLE";
                                    break;
                                case "PAUSED":
                                    this.remotePlayerState = "PAUSED"
                            }
                            j.call(this)
                        }
                    }.bind(this), _ = O.bind(this), C = function() {
                        this.remotePlayer && (n.default.change.call(this), c.default.createStdEvent("volumechange", this.dom.container))
                    }.bind(this), k = function() {}.bind(this), x = function() {
                        this.remotePlayer && (this.remotePlayer.isPaused ? u.default.pause : u.default.play).call(this)
                    }.bind(this), this.isVod && (T = function() {
                        u.default.timeupdate.call(this)
                    }.bind(this), E = function() {
                        (this.remotePlayer.duration || this.remotePlayer.mediaInfo && this.remotePlayer.mediaInfo.duration) && u.default.durationchange.call(this)
                    }.bind(this)), P = function() {
                        n.default.change.call(this), c.default.createStdEvent("volumechange", this.dom.container)
                    }.bind(this),
                    function() {
                        var e = this;
                        this.remotePlayer = new cast.framework.RemotePlayer, this.remotePlayerController = new cast.framework.RemotePlayerController(this.remotePlayer), this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED, _), this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED, function() {
                            e.isVod && !e.remotePlayer.isMediaLoaded && e.castMediaLoaded && (e.castMediaLoaded = !1, e.remotePlayerState = "ENDED", j.call(e), u.default.pause.call(e), e.seekTo(0), c.default.createStdEvent("ended", e.dom.container))
                        }), this.isVod && (this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED, T), this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.DURATION_CHANGED, E)), this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED, x), this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED, C), this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.MEDIA_INFO_CHANGED, k), this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED, w)
                    }.call(this)
            }

            function h() {
                var e;
                this.dom.container.removeEventListener("adcontentresumerequested", this.castInit), "undefined" != typeof cast && void 0 !== cast.framework && void 0 !== cast.framework.CastContext && (c.default.createStdEvent("castapiavailable", this.dom.container), M = cast.framework.CastContext.getInstance()) && ("cast-default" === (e = this.googleCastReceiverAppId) && (e = chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID), M.setOptions({
                    receiverApplicationId: e,
                    autoJoinPolicy: chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED
                }), $ = function(e) {
                    if (e) switch (e.castState) {
                        case cast.framework.CastState.NO_DEVICES_AVAILABLE:
                            break;
                        case cast.framework.CastState.NOT_CONNECTED:
                        case cast.framework.CastState.CONNECTED:
                            y || (y = !0, d.call(this));
                            break;
                        case cast.framework.CastState.CONNECTING:
                    }
                }.bind(this), M.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED, $), M.addEventListener(cast.framework.CastContextEventType.SESSION_STATE_CHANGED, S), M.getCastState() !== cast.framework.CastState.NO_DEVICES_AVAILABLE && (y = !0, d.call(this)))
            }
            var p = {},
                f = !1,
                m = void 0,
                g = !1,
                v = "",
                y = !1,
                b = "",
                w = c.default.nullFn,
                _ = c.default.nullFn,
                C = c.default.nullFn,
                k = c.default.nullFn,
                x = c.default.nullFn,
                S = c.default.nullFn,
                T = c.default.nullFn,
                E = c.default.nullFn,
                A = c.default.nullFn,
                P = c.default.nullFn,
                $ = c.default.nullFn,
                M = null,
                D = null,
                I = [],
                L = function() {
                    this.setVolume(this.currentVolume), c.default.removeClass(this.dom.container, "rmp-casting"), c.default.hide(m)
                },
                j = (p.destroy = function() {
                    if (this.castConnected) {
                        L.call(this);
                        try {
                            D.endSession()
                        } catch (e) {
                            c.default.trace(e)
                        }
                    }
                    this.remotePlayerController && (this.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED, w), this.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED, _), this.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED, C), this.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.MEDIA_INFO_CHANGED, k), this.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED, x), this.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED, P), this.isVod) && (this.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED, T), this.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.DURATION_CHANGED, E)), M && (M.removeEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED, $), M.removeEventListener(cast.framework.CastContextEventType.SESSION_STATE_CHANGED, S)), this.dom.container && (this.dom.container.removeEventListener("playing", A), this.dom.container.removeEventListener("ready", this.castReady), this.dom.container.removeEventListener("playing", this.onPlayingSetupRemotePlayer))
                }, p.castingAPIAvailable = function() {
                    return !!(this.googleCast && this.castMediaLoaded && this.remotePlayer && this.remotePlayerController)
                }, p.connectedAPIAvailable = function() {
                    return !!(this.googleCast && this.castConnected && this.remotePlayer && this.remotePlayerController)
                }, p.setAudioTrack = function(e) {
                    var t;
                    this.castMediaLoaded && this.castMedia && 0 < I.length && (t = I.filter(function(e) {
                        return "AUDIO" === e.type
                    }))[e] && "number" == typeof t[e].trackId && (t = t[e].trackId, e = new chrome.cast.media.EditTracksInfoRequest([t]), this.castMedia.editTracksInfo(e, c.default.log, c.default.trace))
                }, p.setTextTrack = function(e) {
                    var t;
                    this.castMediaLoaded && this.castMedia && 0 < I.length && (t = I.filter(function(e) {
                        return "TEXT" === e.type
                    }))[e] && "number" == typeof t[e].trackId && (t = t[e].trackId, e = function() {
                        var e = new chrome.cast.media.TextTrackStyle;
                        return e.foregroundColor = "#" + this.googleCastCCForegroundColor, e.backgroundColor = "#" + this.googleCastCCBackgroundColor, e.fontScale = this.googleCastCCFontScale, e
                    }.call(this), t = new chrome.cast.media.EditTracksInfoRequest([t], e), this.castMedia.editTracksInfo(t, c.default.log, c.default.trace))
                }, p.getDuration = function() {
                    var e = void 0;
                    return this.remotePlayer.duration ? e = this.remotePlayer.duration : this.remotePlayer.mediaInfo && this.remotePlayer.mediaInfo.duration && (e = this.remotePlayer.mediaInfo.duration), e ? Math.round(1e3 * e) : -1
                }, p.getCurrentTime = function() {
                    return "number" == typeof this.remotePlayer.currentTime && 0 <= this.remotePlayer.currentTime ? Math.round(1e3 * this.remotePlayer.currentTime) : -1
                }, function() {
                    var e = void 0,
                        e = (this.remotePlayer && ("LOADING" === this.remotePlayerState || "BUFFERING" === this.remotePlayerState ? s.default.showLoadingSpin.call(this) : "LOADED" !== this.remotePlayerState && "ENDED" !== this.remotePlayerState && "IDLE" !== this.remotePlayerState && "PLAYING" !== this.remotePlayerState && "PAUSED" !== this.remotePlayerState || s.default.hideLoadingSpin.call(this), e = this.remotePlayerState), e = e || "STANDBY", m || (m = document.createElement("div"), c.default.hide(m), c.default.setClass(m, "rmp-cast-diplay-message"), this.dom.container.appendChild(m)), c.default.show(m), b + " " + e);
                    D && (e += " on " + D.getCastDevice().friendlyName), c.default.setText(m, e)
                }),
                O = function() {
                    this.remotePlayer.isConnected ? this.getPlayerInitialized() ? l.call(this) : (this.initiatePlayback(), this.onPlayingSetupRemotePlayer = function() {
                        this.dom.container.removeEventListener("playing", this.onPlayingSetupRemotePlayer), l.call(this)
                    }.bind(this), this.dom.container.addEventListener("playing", this.onPlayingSetupRemotePlayer)) : function() {
                        var e;
                        this.remotePlayerState = "", this.castMediaLoaded = !1, this.castConnected = !1, D.endSession(), L.call(this), !g && (this.remotePlayer.savedPlayerState.isPaused || this.play(), this.isVod) && this.remotePlayer && this.remotePlayer.savedPlayerState && this.remotePlayer.savedPlayerState.currentTime && (e = this.remotePlayer.savedPlayerState.currentTime, c.default.isNumber(e)) && 0 <= e && this.seekTo(1e3 * e)
                    }.call(this)
                },
                S = function(e) {
                    if (e) switch (e.sessionState) {
                        case cast.framework.SessionState.NO_SESSION:
                        case cast.framework.SessionState.SESSION_STARTING:
                        case cast.framework.SessionState.SESSION_STARTED:
                        case cast.framework.SessionState.SESSION_START_FAILED:
                        case cast.framework.SessionState.SESSION_ENDING:
                        case cast.framework.SessionState.SESSION_ENDED:
                            break;
                        case cast.framework.SessionState.SESSION_RESUMED:
                            f = !0
                    }
                };
            p.ready = function() {
                this.dom.container.removeEventListener("ready", this.castReady), this.googleCast && (chrome.cast && chrome.cast.isAvailable ? h.call(this) : (window.__onGCastApiAvailable = function(e) {
                    e && chrome.cast && (this.castInit = h.bind(this), this.getAdOnStage() && this.getAdLinear() ? this.dom.container.addEventListener("adcontentresumerequested", this.castInit) : this.castInit(), delete window.__onGCastApiAvailable)
                }.bind(this), c.default.getScript("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1", function() {}, o.default.warning.bind(this, "failed to load cast_sender.js dependency", 7e3, null))))
            }, t.default = p
        }, {
            "../core/events": 27,
            "../core/modules/modules": 30,
            "../core/ui/core-ui": 41,
            "../core/utils/error": 44,
            "../core/volume/volume": 48,
            "../fw/env": 52,
            "../fw/fw": 53
        }],
        23: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var n = s(e("../../fw/fw")),
                a = s(e("../ui/core-ui")),
                o = s(e("../resize/resize")),
                r = s(e("../../cast/cast")),
                l = s(e("../volume/volume"));

            function s(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function d(e) {
                e && (e.id === this.id ? n.default.addClass(e, "rmp-container-focus") : n.default.addClass(e, "rmp-focus"))
            }

            function c(e) {
                e && (e.id === this.id ? n.default.removeClass(e, "rmp-container-focus") : n.default.removeClass(e, "rmp-focus"))
            }
            e = {};
            e.makeAccessible = function(i, e, t) {
                var s = this;
                i && (i.tabIndex = 0, i === this.dom.seekBar ? i.setAttribute("role", "progressbar") : i.setAttribute("role", "button"), e && i.setAttribute("aria-label", e), t && i.addEventListener("keyup", function(e) {
                    var t = e.which;
                    13 !== t && 32 !== t || (e.stopPropagation(), e.preventDefault(), n.default.createStdEvent("click", i))
                }), i.addEventListener("blur", function() {
                    c.call(s, i)
                }))
            }, e.init = function() {
                this.dom.container.setAttribute("tabindex", "0"), this.dom.container.setAttribute("role", "application");
                var e = "Media content";
                "" !== this.contentTitle && (e = this.contentTitle), this.dom.container.setAttribute("aria-label", e), "" !== this.contentDescription && this.dom.container.setAttribute("aria-describedby", "media-description-for-" + this.id), this.disableKeyboardControl || (this.addTabKeyDetection = function(e) {
                    e && 9 === e.which && (e = document.activeElement, c.call(this, this.dom.container), c.call(this, this.dom.playPause), c.call(this, this.dom.volume), c.call(this, this.dom.seekBar), c.call(this, this.dom.fullscreen), this.dom.container && e === this.dom.container ? d.call(this, this.dom.container) : this.dom.playPause && e === this.dom.playPause ? d.call(this, this.dom.playPause) : this.dom.volume && e === this.dom.volume ? d.call(this, this.dom.volume) : this.dom.seekBar && e === this.dom.seekBar ? d.call(this, this.dom.seekBar) : this.dom.fullscreen && e === this.dom.fullscreen ? d.call(this, this.dom.fullscreen) : this.dom.adSkipButton && e === this.dom.adSkipButton && d.call(this, this.dom.adSkipButton))
                }.bind(this), document.addEventListener("keyup", this.addTabKeyDetection), this.removeFocusToContainer = c.bind(this, this.dom.container), this.dom.container.addEventListener("blur", this.removeFocusToContainer), this.bindKeyboard = function(e) {
                    var t, i = this.getCurrentTime(),
                        s = this.getVolume();
                    a.default.showChrome.call(this);
                    switch (e.which) {
                        case 32:
                            e.preventDefault(), (this.getAdOnStage() && this.getAdLinear() ? this.getAdPaused() : this.getPaused()) ? this.play() : this.pause();
                            break;
                        case 70:
                            e.preventDefault(), this.hideFullscreen || this.castConnected || this.audioOnly || o.default.fullscreenInteraction.call(this);
                            break;
                        case 37:
                            e.preventDefault(), this.hasAdUI || this.isVod && !this.hideSeekBar && -1 < i && (t = i - 1e4, r.default.castingAPIAvailable.call(this) ? (this.remotePlayer.currentTime = t / 1e3, this.remotePlayerController.seek()) : this.seekTo(t));
                            break;
                        case 39:
                            e.preventDefault(), this.hasAdUI || this.isVod && !this.hideSeekBar && -1 < i && (t = i + 1e4, r.default.castingAPIAvailable.call(this) ? (this.remotePlayer.currentTime = t / 1e3, this.remotePlayerController.seek()) : this.seekTo(t));
                            break;
                        case 38:
                            e.preventDefault(), t = s <= .9 ? s + .1 : 1, r.default.castingAPIAvailable.call(this) ? (this.remotePlayer.isMuted && this.remotePlayerController.muteOrUnmute(), this.remotePlayer.volumeLevel = t, this.remotePlayerController.setVolumeLevel()) : (this.getMute() && this.setMute(!1), this.setVolume(t), this.currentVolume = this.getVolume()), l.default.writeToLocalStorage.call(this, this.currentVolume);
                            break;
                        case 40:
                            e.preventDefault(), t = .1 < s ? s - .1 : 0, r.default.castingAPIAvailable.call(this) ? (this.remotePlayer.isMuted && this.remotePlayerController.muteOrUnmute(), this.remotePlayer.volumeLevel = t, this.remotePlayerController.setVolumeLevel()) : (this.getMute() && this.setMute(!1), this.setVolume(t), this.currentVolume = this.getVolume()), l.default.writeToLocalStorage.call(this, this.currentVolume);
                            break;
                        case 77:
                            e.preventDefault(), r.default.castingAPIAvailable.call(this) ? this.remotePlayerController.muteOrUnmute() : (t = 0, this.getMute() ? (this.setMute(!1), t = this.getVolume()) : this.setMute(!0), l.default.writeToLocalStorage.call(this, t))
                    }
                }.bind(this), this.dom.container.addEventListener("keyup", this.bindKeyboard), this.dom.container.addEventListener("keydown", n.default.preventKeyDown)), this.dom.video.setAttribute("tabindex", "-1")
            }, i.default = e
        }, {
            "../../cast/cast": 22,
            "../../fw/fw": 53,
            "../resize/resize": 36,
            "../ui/core-ui": 41,
            "../volume/volume": 48
        }],
        24: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var s = o(e("../../fw/fw")),
                n = o(e("../../fw/env")),
                a = o(e("../ui/core-ui"));

            function o(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            e = {
                init: function() {
                    var e = document.createElement("div"),
                        t = (s.default.setClass(e, "rmp-i rmp-i-minus"), this.dom.outline.appendChild(e), s.default.addEvent(["click", "touchend"], e, function(e) {
                            e && (e.stopPropagation(), "touchend" === e.type) && e.preventDefault(), a.default.showChrome.call(this), this.currentVolume = this.getVolume(), this.currentVolume <= 0 || (this.currentVolume <= 1 && 0 < this.currentVolume && (this.currentVolume = this.currentVolume - .1, this.currentVolume < 0) && (this.currentVolume = 0), this.setVolume(this.currentVolume))
                        }.bind(this)), document.createElement("div"));
                    s.default.setClass(t, "rmp-i rmp-i-plus"), this.dom.outline.appendChild(t), s.default.addEvent(["click", "touchend"], t, function(e) {
                        e && (e.stopPropagation(), "touchend" === e.type) && e.preventDefault(), a.default.showChrome.call(this), this.currentVolume = this.getVolume(), 1 <= this.currentVolume || (this.currentVolume < 1 && 0 <= this.currentVolume && (this.currentVolume += .1, 1 < this.currentVolume) && (this.currentVolume = 1), this.setVolume(this.currentVolume))
                    }.bind(this)), n.default.isIos[0] && s.default.hide([e, t])
                }
            };
            i.default = e
        }, {
            "../../fw/env": 52,
            "../../fw/fw": 53,
            "../ui/core-ui": 41
        }],
        25: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var a = T(e("../fw/fw")),
                s = T(e("../fw/env")),
                n = T(e("../vtt/thumbnails")),
                o = T(e("./modules/chapters")),
                r = T(e("./playback")),
                l = T(e("./ready")),
                d = T(e("./audio-only/audio-only")),
                c = T(e("./events")),
                u = T(e("./seek/seek")),
                h = T(e("./modules/quality")),
                p = T(e("./modules/speed")),
                f = T(e("./modules/sharing")),
                m = T(e("./volume/volume")),
                g = T(e("../ads/scheduler")),
                v = T(e("./resize/resize")),
                y = T(e("./accessible/accessible")),
                b = T(e("./ui/indicator")),
                w = T(e("./ui/core-ui")),
                _ = T(e("./utils/error")),
                C = T(e("./dvr/dvr")),
                k = T(e("../abr/hls")),
                x = T(e("../abr/shaka")),
                S = T(e("../analytics/mux"));

            function T(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            e = {
                destroyVideo: function() {
                    this.dom.video && (this.dom.video.removeEventListener("loadstart", this.loadstartFn), this.dom.video.removeEventListener("durationchange", this.durationchangeFn), this.dom.video.removeEventListener("loadedmetadata", this.loadedmetadataFn), this.dom.video.removeEventListener("loadeddata", this.loadeddataFn), this.dom.video.removeEventListener("progress", this.progressFn), this.dom.video.removeEventListener("playing", this.playingFn), this.dom.video.removeEventListener("waiting", this.waitingFn), this.dom.video.removeEventListener("seeking", this.seekingFn), this.dom.video.removeEventListener("seeked", this.seekedFn), this.dom.video.removeEventListener("pause", this.pauseFn), this.dom.video.removeEventListener("play", this.playFn), this.dom.video.removeEventListener("timeupdate", this.timeupdateFn), this.dom.video.removeEventListener("webkitbeginfullscreen", this.webkitbeginfullscreenFn), this.dom.video.removeEventListener("webkitendfullscreen", this.webkitendfullscreenFn), this.dom.video.removeEventListener("volumechange", this.volumechangeFn))
                }
            };
            e.prepare = function() {
                (this.readingDash || this.readingHlsJS || this.readingHlsShaka) && (this.readingMse = !0), (this.readingMse || this.readingOutstream) && (this.readingPDorNative = !1), this.readingMse && s.default.isMacosSafari[0] && this.ads && "rmp-vast" === this.adParser && (this.ads = !1), s.default.isMobile && (a.default.addClass(this.dom.container, "rmp-hide-central-play"), function() {
                        this.dom.centralMobileUI = document.createElement("div"), this.dom.centralMobileUI.className = "rmp-mobile-central-ui rmp-mobile-show-play rmp-color-bg", this.dom.centralMobileUIIcon = document.createElement("span"), this.dom.centralMobileUIIcon.className = "rmp-i rmp-i-play", this.dom.centralMobileUI.appendChild(this.dom.centralMobileUIIcon), this.dom.container.appendChild(this.dom.centralMobileUI), this.onMobileStartAutoHideCentralUI = function() {
                            this.dom.container.removeEventListener("playing", this.onMobileStartAutoHideCentralUI), this.dom.container.removeEventListener("adloaded", this.onMobileStartAutoHideCentralUI), this.dom.container.removeEventListener("aderror", this.onMobileStartAutoHideCentralUI), a.default.removeClass(this.dom.centralMobileUI, "rmp-mobile-show-play")
                        }.bind(this), this.dom.container.addEventListener("playing", this.onMobileStartAutoHideCentralUI), this.dom.container.addEventListener("adloaded", this.onMobileStartAutoHideCentralUI), this.dom.container.addEventListener("aderror", this.onMobileStartAutoHideCentralUI)
                    }.call(this)),
                    function() {
                        if (this.dom.loadingSpin = document.createElement("div"), this.dom.loadingSpin.className = "rmp-loading-spin rmp-color-bg", "s1" === this.skin || "s3" === this.skin) {
                            var e = document.createElement("div"),
                                t = (e.className = "rmp-loading-spin-bounce rmpBounce1 rmp-color-bg-button", document.createElement("div"));
                            t.className = "rmp-loading-spin-bounce rmpBounce2 rmp-color-bg-button", this.dom.loadingSpin.appendChild(e), this.dom.loadingSpin.appendChild(t)
                        } else {
                            var i = document.createElement("div");
                            i.className = "rmp-loading-spin-circle";
                            for (var s = 1; s < 13; s++) {
                                var n = document.createElement("div");
                                n.className = "rmp-circle rmp-circle-" + s, i.appendChild(n)
                            }
                            this.dom.loadingSpin.appendChild(i)
                        }
                        this.dom.container.appendChild(this.dom.loadingSpin), a.default.hideAria(this.dom.loadingSpin)
                    }.call(this),
                    function() {
                        this.dom.overlayButton = document.createElement("div"), this.dom.overlayButton.className = "rmp-overlay-button rmp-color-bg", this.dom.overlayButtonIcon = document.createElement("span"), this.dom.overlayButtonIcon.className = "rmp-i rmp-i-play", this.dom.overlayButton.appendChild(this.dom.overlayButtonIcon), this.dom.container.appendChild(this.dom.overlayButton), a.default.hideAria(this.dom.overlayButton)
                    }.call(this), this.hideControls && w.default.protoHideControls.call(this), this.hideCentralPlayButton && a.default.addClass(this.dom.container, "rmp-hide-central-play"), this.hideCentralBuffering && a.default.addClass(this.dom.container, "rmp-hide-central-buffering"), this.hideExternalPlayerLabels && a.default.addClass(this.dom.container, "rmp-no-hint"), this.dom.video.controls = !1, this.loop && (this.dom.video.loop = "loop"), "" !== this.crossorigin && this.dom.video.setAttribute("crossorigin", this.crossorigin), this.dom.video.setAttribute("x-webkit-airplay", "allow"), this.audioOnly || ("boolean" == typeof this.dom.video.playsInline ? s.default.isIpad && this.ads && "ima" === this.adParser || this.dom.video.setAttribute("playsinline", !0) : s.default.isMobile && this.dom.video.setAttribute("webkit-playsinline", !0)), s.default.isAndroidWebView && (this.dom.video.poster = a.default.blackFrame), this.readingPDorNative ? this.dom.video.preload = this.preload : "none" !== this.preload && (this.readingHlsJS ? (k.default.init.call(this), this.msePreloadRequested = !0) : (this.readingDash || this.readingHlsShaka) && (x.default.init.call(this), this.msePreloadRequested = !0)), this.dom.video.defaultPlaybackRate = 1, this.useVideoTitle && this.dom.video.setAttribute("title", this.videoTitle), this.loadstartFn = c.default.loadstart.bind(this), this.dom.video.addEventListener("loadstart", this.loadstartFn), this.durationchangeFn = c.default.durationchange.bind(this), this.dom.video.addEventListener("durationchange", this.durationchangeFn), this.loadedmetadataFn = c.default.loadedmetadata.bind(this), this.dom.video.addEventListener("loadedmetadata", this.loadedmetadataFn), this.loadeddataFn = c.default.loadeddata.bind(this), this.dom.video.addEventListener("loadeddata", this.loadeddataFn), this.progressFn = c.default.progress.bind(this), this.dom.video.addEventListener("progress", this.progressFn), this.playingFn = c.default.playing.bind(this), this.dom.video.addEventListener("playing", this.playingFn), this.waitingFn = c.default.waiting.bind(this), this.unstalledBuffer = function() {
                        this.dom.container.removeEventListener("playing", this.unstalledBuffer), w.default.hideLoadingSpin.call(this), a.default.createStdEvent("buffernotstalledanymore", this.dom.container)
                    }.bind(this), this.dom.video.addEventListener("waiting", this.waitingFn), this.seekingFn = c.default.seeking.bind(this), this.dom.video.addEventListener("seeking", this.seekingFn), this.seekedFn = c.default.seeked.bind(this), this.dom.video.addEventListener("seeked", this.seekedFn), this.isVod && (this.ended = c.default.ended.bind(this), this.dom.video.addEventListener("ended", this.ended)), c.default.auxiliaryEvents.call(this), this.dom.content = document.createElement("div"), a.default.addClass(this.dom.content, "rmp-content"), a.default.hideAria(this.dom.content), this.dom.content.appendChild(this.dom.video), this.dom.container.insertBefore(this.dom.content, this.dom.container.firstChild), "" !== this.contentDescription && (this.dom.contentDescription = document.createElement("label"), a.default.hide(this.dom.contentDescription), a.default.setText(this.dom.contentDescription, this.contentDescription), this.dom.contentDescription.id = "media-description-for-" + this.id, this.dom.content.appendChild(this.dom.contentDescription)), this.muxData && S.default.initHTML5.call(this), a.default.createStdEvent("htmlmediaelementappendedtodom", this.dom.container)
            };
            e.append = function() {
                var t = this,
                    e = (a.default.addClass(this.dom.container, "rmp-preparing"), this.dom.container.addEventListener("contextmenu", a.default.contextMenuInteraction), this.readingPDorNative && (this.generateError = _.default.mediaTag.bind(this), this.dom.video.addEventListener("error", this.generateError, !0)), ""),
                    i = (e += '<div class="rmp-outline rmp-color-bg rmp-force-invisibility"><div class="rmp-play-pause rmp-i rmp-i-play"></div><div class="rmp-time-elapsed rmp-color-bg"><span class="rmp-time-elapsed-text"></span></div><div class="rmp-seek-bar"><div class="rmp-time-total"><div class="rmp-loaded"></div><div class="rmp-current rmp-color-bg-button"></div>', s.default.isMobile || this.isLive || (e += '<div class="rmp-indicator rmp-color-bg"><span class="rmp-time-indicator"></span></div>'), this.dom.container.insertAdjacentHTML("beforeend", e = e + '<div class="rmp-handle rmp-color-bg-button"></div></div></div> <div class="rmp-duration rmp-color-bg"></div>' + '<div class="rmp-volume rmp-i rmp-i-volume-up"><div class="rmp-background-volume rmp-color-bg"><div class="rmp-volume-bar"></div><div class="rmp-current-volume rmp-color-bg-button"><div class="rmp-handle-volume rmp-color-bg-button"></div></div></div></div><div class="rmp-fullscreen rmp-i rmp-i-resize-full"></div></div>'), this.ads && "ima" === this.adParser && !this.adImaDai && (this.dom.video.parentNode.insertAdjacentHTML("afterend", '<div class="rmp-ad-container"></div>'), this.dom.adContainer = this.dom.container.getElementsByClassName("rmp-ad-container")[0]), this.dom.outline = this.dom.container.getElementsByClassName("rmp-outline")[0], (this.readingMse && this.msePreloadRequested || this.readingPDorNative && "none" !== this.preload) && a.default.removeClass(this.dom.outline, "rmp-force-invisibility"), this.dom.playPause = this.dom.container.getElementsByClassName("rmp-play-pause")[0], y.default.makeAccessible.call(this, this.dom.playPause, "Play", !1), this.dom.volume = this.dom.container.getElementsByClassName("rmp-volume")[0], y.default.makeAccessible.call(this, this.dom.volume, "Volume", !0), this.dom.fullscreen = this.dom.container.getElementsByClassName("rmp-fullscreen")[0], this.hideFullscreen && a.default.addClass(this.dom.fullscreen, "rmp-no-display"), s.default.isIos[0] && this.ads && !this.hideFullscreen && (a.default.addClass(this.dom.fullscreen, "rmp-no-display"), this.onIosStartShowFS = function() {
                        this.dom.container.removeEventListener("adloaded", this.onIosStartShowFS), this.dom.container.removeEventListener("aderror", this.onIosStartShowFS), this.dom.container.removeEventListener("playing", this.onIosStartShowFS), a.default.removeClass(this.dom.fullscreen, "rmp-no-display"), "ima" === this.adParser && s.default.isIphone && this.adDisableCustomPlaybackForIOS10Plus && (this.onIphone10PlusHideFS = function(e) {
                            e && ("adcontentpauserequested" === e.type ? a.default.addClass(this.dom.fullscreen, "rmp-no-display") : "adcontentresumerequested" === e.type && a.default.removeClass(this.dom.fullscreen, "rmp-no-display"))
                        }.bind(this), this.dom.container.addEventListener("adcontentpauserequested", this.onIphone10PlusHideFS), this.dom.container.addEventListener("adcontentresumerequested", this.onIphone10PlusHideFS))
                    }.bind(this), this.dom.container.addEventListener("adloaded", this.onIosStartShowFS), this.dom.container.addEventListener("aderror", this.onIosStartShowFS), this.dom.container.addEventListener("playing", this.onIosStartShowFS)), this.dom.timeElapsed = this.dom.container.getElementsByClassName("rmp-time-elapsed")[0], this.dom.timeElapsedText = this.dom.container.getElementsByClassName("rmp-time-elapsed-text")[0], this.isLiveDvr && a.default.addEvent(["touchend", "click"], this.dom.timeElapsed, C.default.setLiveMode.bind(this)), a.default.hideAria(this.dom.timeElapsed), this.dom.seekBar = this.dom.container.getElementsByClassName("rmp-seek-bar")[0], this.hideSeekBar && a.default.addClass(this.dom.seekBar, "rmp-no-display"), y.default.makeAccessible.call(this, this.dom.seekBar, "Seek", !1), this.dom.duration = this.dom.container.getElementsByClassName("rmp-duration")[0], a.default.hideAria(this.dom.duration), this.pauseFn = c.default.pause.bind(this), this.dom.video.addEventListener("pause", this.pauseFn), this.playFn = c.default.play.bind(this), this.dom.video.addEventListener("play", this.playFn), this.isLive || (this.dom.current = this.dom.container.getElementsByClassName("rmp-current")[0], this.dom.handle = this.dom.container.getElementsByClassName("rmp-handle")[0], this.dom.timetotal = this.dom.container.getElementsByClassName("rmp-time-total")[0], this.dom.seekBar.addEventListener("touchend", u.default.touchend.bind(this)), this.dom.seekBar.addEventListener("touchmove", u.default.touchmove.bind(this), !!s.default.hasPassiveEventListeners && {
                        passive: !0
                    }), this.mouseupDoc = u.default.mouseupDoc.bind(this), this.mousemoveDoc = u.default.mousemoveDoc.bind(this), this.dom.timetotal.addEventListener("mousedown", function(e) {
                        e && e.stopPropagation(), t.draggingTimeCursor = !0, document.addEventListener("mouseup", t.mouseupDoc), document.addEventListener("mousemove", t.mousemoveDoc)
                    })), this.timeupdateFn = c.default.timeupdate.bind(this), this.dom.video.addEventListener("timeupdate", this.timeupdateFn), this.dom.currentVolume = this.dom.container.getElementsByClassName("rmp-current-volume")[0], this.dom.container.querySelector(".rmp-background-volume")),
                    e = (this.dom.volumeBar = this.dom.container.getElementsByClassName("rmp-volume-bar")[0], a.default.addEvent(["touchend", "click"], this.dom.volume, m.default.volumeInteraction.bind(this)), this.volumechangeFn = m.default.change.bind(this), this.dom.video.addEventListener("volumechange", this.volumechangeFn), !0);
                (e = this.permanentMuted || s.default.isMobile || this.adOutStreamSkin ? !1 : e) && (this.dom.volume.addEventListener("mouseenter", function(e) {
                    e && e.stopPropagation(), a.default.fadeIn(i)
                }), this.dom.volume.addEventListener("mouseleave", function(e) {
                    e && e.stopPropagation(), a.default.fadeOut(i)
                })), i.addEventListener("click", m.default.setHtml5Volume.bind(this)), this.readingMp4 && 1 < this.src.mp4.length && h.default.setUpMP4UI.call(this), this.nav && p.default.init.call(this), this.sharing && this.sharingUrl && f.default.init.call(this), this.hasNativeFullscreenSupport ? (!s.default.isIos[0] || s.default.isIos[0] && s.default.isIpad && 11 < s.default.isIos[1] ? (this.fullscreenchange = v.default.fullscreenchange.bind(this), document.addEventListener("fullscreenchange", this.fullscreenchange), this.fullscreenerror = v.default.fullscreenerror.bind(this), document.addEventListener("fullscreenerror", this.fullscreenerror)) : (this.webkitbeginfullscreenFn = v.default.webkitbeginfullscreen.bind(this), this.dom.video.addEventListener("webkitbeginfullscreen", this.webkitbeginfullscreenFn), this.webkitendfullscreenFn = v.default.webkitendfullscreen.bind(this), this.dom.video.addEventListener("webkitendfullscreen", this.webkitendfullscreenFn)), a.default.addEvent(["touchend", "click"], this.dom.fullscreen, v.default.fullscreenButtonInteraction.bind(this))) : this.fullWindowMode && a.default.addEvent(["touchend", "click"], this.dom.fullscreen, v.default.fullscreenButtonInteraction.bind(this)), y.default.makeAccessible.call(this, this.dom.fullscreen, "Enter fullscreen", !0), s.default.isMobile || this.isLive || (this.dom.indicator = this.dom.container.getElementsByClassName("rmp-indicator")[0], b.default.init.call(this)), this.showChrome = w.default.showChrome.bind(this), this.dom.container.addEventListener("mousemove", this.showChrome), this.initiatePlayback = r.default.init.bind(this), a.default.addEvent(["touchend", "click"], this.dom.playPause, this.initiatePlayback), a.default.addEvent(["touchend", "click"], this.dom.overlayButton, this.initiatePlayback), s.default.isMobile && a.default.addEvent(["touchend", "click"], this.dom.centralMobileUI, this.initiatePlayback), this.containerTouch = function(e) {
                    e && e.stopPropagation(), this.touchRmp = !0, w.default.showChrome.call(this)
                }.bind(this), a.default.addEvent("touchend", this.dom.container, this.containerTouch), this.containerClick = function(e) {
                    this.get5Ready() && !this.touchRmp && (e && e.stopPropagation(), this.getAdOnStage() && this.getAdLinear() || this.video360 && !this.firstPlay || this.initiatePlayback())
                }.bind(this), a.default.addEvent("click", this.dom.container, this.containerClick), a.default.addEvent(["touchend", "click"], this.dom.outline, function(e) {
                    e && (e.stopPropagation(), "touchend" === e.type) && e.preventDefault(), w.default.showChrome.call(this)
                }.bind(this)), s.default.isMobile || (this.dom.outline.addEventListener("mouseenter", function(e) {
                    e && e.stopPropagation(), t.forceResetTimer = !0
                }), this.dom.outline.addEventListener("mouseleave", function(e) {
                    e && e.stopPropagation(), t.forceResetTimer = !1
                })), this.audioOnly && d.default.init.call(this), this.ads && this.adScheduleInput && g.default.init.call(this), this.isVod && ("" !== this.chaptersLoc && o.default.init.call(this), "" !== this.seekBarThumbnailsLoc && a.default.cssPropertySupport("backgroundImage") && a.default.cssPropertySupport("backgroundPosition") ? n.default.init.call(this) : this.seekBarThumbnailsLoc = "", 0 < this.quickRewind) && function() {
                    a.default.addClass(this.dom.container, "rmp-quick-rewind-ui"), this.dom.quickRewind = document.createElement("div");
                    var e = "5";
                    7.5 < this.quickRewind && this.quickRewind < 20 ? e = "10" : 20 < this.quickRewind && (e = "30"), this.dom.quickRewind.className = "rmp-quick-rewind rmp-i rmp-i-quick-rewind-" + e, a.default.addEvent(["touchend", "click"], this.dom.quickRewind, function(e, t) {
                        t && (t.stopPropagation(), "touchend" === t.type) && t.preventDefault(), "number" == typeof e && 0 < e && (t = 1e3 * e) < (e = this.getCurrentTime()) && this.seekTo(e - t)
                    }.bind(this, parseInt(e))), this.dom.outline.appendChild(this.dom.quickRewind)
                }.call(this), l.default.init.call(this)
            }, i.default = e
        }, {
            "../abr/hls": 3,
            "../abr/shaka": 4,
            "../ads/scheduler": 10,
            "../analytics/mux": 13,
            "../fw/env": 52,
            "../fw/fw": 53,
            "../vtt/thumbnails": 58,
            "./accessible/accessible": 23,
            "./audio-only/audio-only": 24,
            "./dvr/dvr": 26,
            "./events": 27,
            "./modules/chapters": 28,
            "./modules/quality": 31,
            "./modules/sharing": 32,
            "./modules/speed": 33,
            "./playback": 34,
            "./ready": 35,
            "./resize/resize": 36,
            "./seek/seek": 39,
            "./ui/core-ui": 41,
            "./ui/indicator": 42,
            "./utils/error": 44,
            "./volume/volume": 48
        }],
        26: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var e = e("../../fw/fw"),
                s = e && e.__esModule ? e : {
                    default: e
                },
                n = {
                    setLiveModeUI: function() {
                        this.dvrLiveMode = !0, this.dom.current.style.width = "100%", this.dom.handle.style.left = "100%", s.default.removeClass(this.dom.container, "rmp-dvr-rec"), s.default.setText(this.dom.duration, this.labels.hint.live)
                    },
                    setLiveMode: function(e) {
                        e && (e.stopPropagation(), "touchend" === e.type) && e.preventDefault(), this.dvrLiveMode || (n.setLiveModeUI.call(this), 0 < (e = "number" != typeof(e = this.hlsJS.liveSyncPosition) || e <= 0 ? this.hlsJSLevelDuration : e) && s.default.setMediaCurrentTime(this.dom.video, e))
                    }
                };
            i.default = n
        }, {
            "../../fw/fw": 53
        }],
        27: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var l = u(e("../fw/fw")),
                s = u(e("../fw/env")),
                n = u(e("./ui/core-ui")),
                a = u(e("./dvr/dvr")),
                o = u(e("../ads/ima-ads")),
                r = u(e("../playlist/related")),
                d = u(e("../playlist/playlist")),
                c = u(e("../cast/cast"));

            function u(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function h() {
                var e = this.dom.video,
                    t = l.default.getMediaDuration(e),
                    i = 0,
                    s = e.buffered,
                    n = e.buffered.length,
                    a = l.default.getMediaCurrentTime(e),
                    o = 0;
                try {
                    for (var r = n - 1; 0 <= r; r--)
                        if (a >= s.start(r)) {
                            o = r;
                            break
                        } 0 < n && l.default.isNumber(t) && (i = s.end(o) / t * 100)
                } catch (e) {
                    return void l.default.trace(e)
                }
                l.default.isNumber(i) && l.default.setStyle(this.dom.loaded, {
                    width: i + "%"
                })
            }
            e = {};
            e.loadstart = function() {
                l.default.createStdEvent("loadstart", this.dom.container)
            }, e.durationchange = function() {
                var e = this.getDuration(); - 1 < e && (e /= 1e3, this.isLiveDvr || l.default.setText(this.dom.duration, l.default.readableTime(e))), this.isLiveDvr && this.dvrLiveMode && l.default.setText(this.dom.duration, this.labels.hint.live), this.firstDurationChange && !c.default.connectedAPIAvailable.call(this) && (this.firstDurationChange = !1, this.isVod ? l.default.setText(this.dom.timeElapsedText, "00:00") : (l.default.setText(this.dom.timeElapsedText, this.labels.hint.live), this.isLiveDvr && a.default.setLiveModeUI.call(this))), l.default.createStdEvent("durationchange", this.dom.container)
            }, e.loadedmetadata = function() {
                this.hasLoadedMetadata = !0, l.default.createStdEvent("loadedmetadata", this.dom.container)
            }, e.loadeddata = function() {
                void 0 === this.dom.loaded && (this.dom.loaded = this.dom.container.getElementsByClassName("rmp-loaded")[0]), h.call(this), l.default.createStdEvent("loadeddata", this.dom.container)
            }, e.progress = function() {
                void 0 === this.dom.loaded && (this.dom.loaded = this.dom.container.getElementsByClassName("rmp-loaded")[0]), h.call(this), l.default.createStdEvent("progress", this.dom.container)
            }, e.playing = function() {
                n.default.hideLoadingSpin.call(this), l.default.createStdEvent("playing", this.dom.container)
            }, e.waiting = function() {
                n.default.showLoadingSpin.call(this), l.default.createStdEvent("waiting", this.dom.container), this.readingMse || (this.firstBufferStalledEvent || (this.dom.container.addEventListener("playing", this.unstalledBuffer), l.default.createStdEvent("bufferstalled", this.dom.container)), this.firstBufferStalledEvent = !1)
            }, e.seeking = function() {
                l.default.createStdEvent("seeking", this.dom.container)
            }, e.seeked = function() {
                n.default.hideLoadingSpin.call(this), n.default.showChrome.call(this), l.default.createStdEvent("seeked", this.dom.container)
            }, e.ended = function() {
                this.loop || (this.getPaused() || this.pause(), this.ads && ("ima" === this.adParser && (this.contentCompleteCalled = !0, o.default.contentCompleteAds.call(this)), this.onAdStartedPostRollUpdateCentralUI = function() {
                    this.dom.container.removeEventListener("adstarted", this.onAdStartedPostRollUpdateCentralUI), this.isVod && (l.default.hasClass(this.dom.overlayButtonIcon, "rmp-i-replay") && (l.default.removeClass(this.dom.overlayButtonIcon, "rmp-i-replay"), l.default.addClass(this.dom.overlayButtonIcon, "rmp-i-play")), s.default.isMobile) && l.default.hasClass(this.dom.centralMobileUIIcon, "rmp-i-replay") && (l.default.removeClass(this.dom.centralMobileUIIcon, "rmp-i-replay"), l.default.addClass(this.dom.centralMobileUIIcon, "rmp-i-pause"))
                }.bind(this), this.dom.container.addEventListener("adstarted", this.onAdStartedPostRollUpdateCentralUI)), this.dom.poster && ("" !== this.endOfVideoPoster && this.endOfVideoPoster !== this.poster && this.setPoster(this.endOfVideoPoster), l.default.show(this.dom.poster)), l.default.removeClass(this.dom.overlayButtonIcon, "rmp-i-play"), l.default.addClass(this.dom.overlayButtonIcon, "rmp-i-replay"), s.default.isMobile && (l.default.removeClass(this.dom.centralMobileUIIcon, "rmp-i-play"), l.default.removeClass(this.dom.centralMobileUIIcon, "rmp-i-pause"), l.default.addClass(this.dom.centralMobileUIIcon, "rmp-i-replay"))), this.hasRelated && this.relatedUpNextAutoplay && (this.relatedEndedLoop || !this.relatedEndedLoop && void 0 !== this.relatedList[this.currentRelatedIndex + 1]) && (l.default.removeClass(this.dom.relatedSkipPreview, "rmp-force-show"), r.default.load.call(this, this.currentRelatedIndex + 1, null)), this.hasPlaylist && this.playlistUpNextAutoplay && (this.playlistEndedLoop || !this.playlistEndedLoop && void 0 !== this.playlistList[this.currentPlaylistIndex + 1]) && d.default.load.call(this, this.currentPlaylistIndex + 1, null), l.default.createStdEvent("ended", this.dom.container)
            }, e.auxiliaryEvents = function() {
                var t = this;
                ["canplay", "canplaythrough", "ratechange"].forEach(function(e) {
                    t.dom.video.addEventListener(e, function() {
                        l.default.createStdEvent(e, t.dom.container)
                    })
                })
            }, e.pause = function() {
                l.default.addClass(this.dom.playPause, "rmp-i-play"), l.default.removeClass(this.dom.playPause, "rmp-i-pause"), s.default.isMobile && (l.default.removeClass(this.dom.centralMobileUIIcon, "rmp-i-pause"), l.default.addClass(this.dom.centralMobileUIIcon, "rmp-i-play"), l.default.addClass(this.dom.centralMobileUI, "rmp-mobile-show-play")), n.default.showCentralPlay.call(this), n.default.showChrome.call(this), l.default.updateAriaLabel(this.dom.playPause, "Play"), l.default.createStdEvent("pause", this.dom.container)
            }, e.play = function() {
                l.default.addClass(this.dom.playPause, "rmp-i-pause"), l.default.removeClass(this.dom.playPause, "rmp-i-play"), s.default.isMobile && (l.default.removeClass(this.dom.centralMobileUI, "rmp-mobile-show-play"), l.default.removeClass(this.dom.centralMobileUIIcon, "rmp-i-play"), l.default.addClass(this.dom.centralMobileUIIcon, "rmp-i-pause")), this.isVod && (l.default.hasClass(this.dom.overlayButtonIcon, "rmp-i-replay") && (l.default.removeClass(this.dom.overlayButtonIcon, "rmp-i-replay"), l.default.addClass(this.dom.overlayButtonIcon, "rmp-i-play")), s.default.isMobile) && l.default.hasClass(this.dom.centralMobileUIIcon, "rmp-i-replay") && (l.default.removeClass(this.dom.centralMobileUIIcon, "rmp-i-replay"), l.default.addClass(this.dom.centralMobileUIIcon, "rmp-i-pause")), l.default.hide(this.dom.poster), n.default.hideCentralPlay.call(this), l.default.updateAriaLabel(this.dom.playPause, "Pause"), l.default.createStdEvent("play", this.dom.container)
            }, e.timeupdate = function() {
                var e, t, i, s;
                this.isLive || this.isLiveDvr && this.dvrLiveMode || (this.dom.video && this.dom.current && this.dom.handle && this.dom.timeElapsedText && !this.draggingTimeCursor && !this.touchDown && (s = i = void 0, c.default.castingAPIAvailable.call(this) ? (s = -1 < (e = c.default.getCurrentTime.call(this)) ? Math.round(e / 1e3) : e, i = Math.round(c.default.getDuration.call(this) / 1e3)) : (i = l.default.getMediaDuration(this.dom.video), s = l.default.getMediaCurrentTime(this.dom.video), this.isLiveDvr && (e = i - this.hlsJSLevelDuration, i = this.hlsJSLevelDuration, s -= e)), l.default.isNumber(i)) && 0 < i && l.default.isNumber(s) && 0 <= s && (this.dom.current.style.width = (e = 100 / i * s) + "%", e = void(this.dom.handle.style.left = e + "%"), t = void 0, this.isLiveDvr ? (t = this.dom.duration, e = "-" + l.default.readableTime(i - s), this.dvrCurrentTime = s) : (t = this.dom.timeElapsedText, e = l.default.readableTime(s)), l.default.setText(t, e)), !c.default.connectedAPIAvailable.call(this) && this.hasRelated && 0 < this.relatedUpNextOffset && (i = this.getCurrentTime(), s = this.getDuration(), -1 < i) && -1 < s && (!(s - i <= 1e3 * this.relatedUpNextOffset) || this.getAdOnStage() && this.getAdLinear() ? l.default.removeClass(this.dom.relatedSkipPreview, "rmp-force-show") : (l.default.createStdEvent("mousemove", this.dom.container), l.default.addClass(this.dom.relatedSkipPreview, "rmp-force-show")))), l.default.createStdEvent("timeupdate", this.dom.container)
            }, i.default = e
        }, {
            "../ads/ima-ads": 7,
            "../cast/cast": 22,
            "../fw/env": 52,
            "../fw/fw": 53,
            "../playlist/playlist": 55,
            "../playlist/related": 56,
            "./dvr/dvr": 26,
            "./ui/core-ui": 41
        }],
        28: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var p = s(e("../../fw/fw")),
                f = s(e("./modules"));

            function s(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function m(e, t) {
                t && (t.stopPropagation(), "touchend" === t.type) && t.preventDefault(), this.seekTo(e)
            }
            e = {};
            e.init = function() {
                var t = this;
                p.default.ajax(this.chaptersLoc, this.ajaxTimeout, this.ajaxWithCredentials, "GET").then(function(e) {
                    "string" == typeof e && function(e) {
                        for (var t = e.split(/\r\n|\r|\n/g), i = /^\s*$/, s = [], n = 0, a = t.length; n < a; n++) i.test(t[n]) || s.push(t[n]);
                        if (/WEBVTT/i.test(s[0])) {
                            s.shift();
                            for (var o, r, l, d, c = /^\s*\d*?:?\d*?:?\d+(\.\d+)?\s*-->\s*\d*?:?\d*?:?\d+(\.\d+)?\s*$/, u = 0, h = s.length; u < h; u++) s[u] && s[u + 1] && c.test(s[u]) && (l = s[u].split("--\x3e"), o = s[u + 1], 2 === l.length) && (r = l[0].trim(), l = l[1].trim(), d = r.replace(/\.\d+/i, ""), /^00:/i.test(d) && 5 < d.length && (d = d.replace(/^00:/i, "")), this.chaptersArray.push({
                                start: 1e3 * p.default.dateToSeconds(r),
                                end: 1e3 * p.default.dateToSeconds(l),
                                title: o + " " + this.uiSeparator + " " + d
                            }));
                            this.onLoadedmetadaAddChapters = function() {
                                this.dom.container.removeEventListener("loadedmetadata", this.onLoadedmetadaAddChapters);
                                var e = this.getDuration();
                                if (0 < e && 0 < this.chaptersArray.length) {
                                    f.default.append.call(this, "chapters"), f.default.appendOverlay.call(this, "chapters"), f.default.deferredShow.call(this, "chapters");
                                    for (var t = 0, i = this.chaptersArray.length; t < i; t++) {
                                        var s, n = this.chaptersArray[t].start;
                                        e <= n || (s = document.createElement("div"), p.default.setClass(s, "rmp-overlay-level rmp-color-bg rmp-chapters-text"), p.default.setText(s, this.chaptersArray[t].title), p.default.addEvent(["touchend", "click"], s, m.bind(this, n)), this.dom.chaptersOverlayLevelsArea.appendChild(s))
                                    }
                                    this.hasChapters = !0
                                }
                            }.bind(this), this.hasLoadedMetadata ? this.onLoadedmetadaAddChapters() : this.dom.container.addEventListener("loadedmetadata", this.onLoadedmetadaAddChapters)
                        }
                    }.call(t, e)
                }).catch(function(e) {
                    p.default.trace(e)
                })
            }, i.default = e
        }, {
            "../../fw/fw": 53,
            "./modules": 30
        }],
        29: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var r = s(e("../../fw/fw")),
                l = s(e("../ui/core-ui")),
                d = s(e("../accessible/accessible"));

            function s(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            e = {};
            e.filter = function() {
                var t = [];
                this.customModule.forEach(function(e) {
                    "string" == typeof e.hint && "string" == typeof e.svg && "function" == typeof e.callback && ("string" != typeof e.svgHover && (e.svgHover = e.svg), t.push(e))
                }), this.customModule = t
            }, e.init = function() {
                var n = this;
                this.customModule.forEach(function(e) {
                    var t = e.hint,
                        i = e.svg,
                        s = e.svgHover,
                        e = e.callback;
                    ! function(e, t, i, s) {
                        this.dom[e] = document.createElement("div");
                        var n = (n = e.toLowerCase()).replace(/\s+/g, "-"),
                            a = (this.dom[e].className = "rmp-" + n + " rmp-module rmp-color-bg", document.createElement("div")),
                            o = (a.className = "rmp-module-button", document.createElement("span")),
                            t = (o.className = "rmp-custom-module-icon", ".rmp-" + n + " .rmp-custom-module-icon {background-image: url(" + t + ")}"),
                            n = (r.default.appendStyle(t += ".rmp-" + n + " .rmp-custom-module-icon:hover {background-image: url(" + i + ")}"), a.appendChild(o), this.dom[e].appendChild(a), this.dom.container.appendChild(this.dom[e]), l.default.appendHint(e));
                        this.dom[e].appendChild(n), d.default.makeAccessible.call(this, this.dom[e], e, !0), r.default.addEvent(["touchend", "click"], this.dom[e], function(e, t) {
                            t && (t.stopPropagation(), "touchend" === t.type) && t.preventDefault(), l.default.showChrome.call(this), e()
                        }.bind(this, s))
                    }.call(n, t, i, s, e)
                })
            }, i.default = e
        }, {
            "../../fw/fw": 53,
            "../accessible/accessible": 23,
            "../ui/core-ui": 41
        }],
        30: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var a = r(e("../../fw/fw")),
                n = r(e("../../fw/env")),
                o = r(e("../ui/core-ui")),
                s = r(e("../resize/resize"));

            function r(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function l() {
                for (var e = this.dom.container.querySelectorAll(".rmp-hint"), t = 0, i = e.length; t < i; t++) a.default.show(e[t]);
                a.default.removeClass(this.dom.logoImg, "rmp-no-display"), a.default.removeClass(this.dom.contentTitle, "rmp-no-display"), d.show.call(this), a.default.removeClass(this.dom.outline, "rmp-no-display"), o.default.enableCentralUI.call(this), this.googleCast && a.default.removeClass(this.dom.container, "rmp-casting-module-overlay-open"), this.video360 && a.default.removeClass(this.dom.ui360, "rmp-no-display"), o.default.showChrome.call(this)
            }
            var d = {
                types: ["quality", "sharing", "audio", "captions", "speed", "related", "chapters"],
                destroy: function(e) {
                    a.default.removeElement(this.dom[e]), a.default.removeElement(this.dom[e + "Overlay"])
                },
                open: function(e, t) {
                    var i = this;
                    t && (t.stopPropagation(), "touchend" === t.type) && t.preventDefault(), this.getPaused() ? (a.default.removeClass(this.dom[e + "OverlayPlayPause"], "rmp-i-pause"), a.default.addClass(this.dom[e + "OverlayPlayPause"], "rmp-i-play")) : (a.default.removeClass(this.dom[e + "OverlayPlayPause"], "rmp-i-play"), a.default.addClass(this.dom[e + "OverlayPlayPause"], "rmp-i-pause")),
                        function() {
                            a.default.addClass(this.dom.logoImg, "rmp-no-display"), a.default.addClass(this.dom.contentTitle, "rmp-no-display");
                            for (var e = this.dom.container.querySelectorAll(".rmp-hint"), t = 0, i = e.length; t < i; t++) a.default.hide(e[t]);
                            d.hide.call(this), a.default.addClass(this.dom.outline, "rmp-no-display"), o.default.disableCentralUI.call(this), this.googleCast && this.castConnected && a.default.addClass(this.dom.container, "rmp-casting-module-overlay-open"), this.video360 && a.default.addClass(this.dom.ui360, "rmp-no-display")
                        }.call(this), "related" === e ? (s.default.related.call(this), setTimeout(function() {
                            s.default.related.call(i)
                        }, 401)) : setTimeout(function() {
                            s.default.closeModule.call(i, e)
                        }, 401), a.default.fadeIn(this.dom[e + "Overlay"])
                }
            };
            d.close = function(e, t, i) {
                var s = this;
                i && (i.stopPropagation(), "touchend" === i.type) && i.preventDefault(), 1 === t ? (a.default.hide(this.dom[e + "Overlay"]), a.default.fadeOut(this.dom[e + "Overlay"]), setTimeout(function() {
                    a.default.show(s.dom[e + "Overlay"])
                }, 401), l.call(this)) : (a.default.fadeOut(this.dom[e + "Overlay"]), setTimeout(function() {
                    l.call(s)
                }, t))
            }, d.playPause = function(e, t) {
                t && (t.stopPropagation(), "touchend" === t.type) && t.preventDefault(), this.getPaused() ? (a.default.removeClass(this.dom[e + "OverlayPlayPause"], "rmp-i-play"), a.default.addClass(this.dom[e + "OverlayPlayPause"], "rmp-i-pause"), this.play()) : (a.default.removeClass(this.dom[e + "OverlayPlayPause"], "rmp-i-pause"), a.default.addClass(this.dom[e + "OverlayPlayPause"], "rmp-i-play"), this.pause())
            }, d.closeAll = function() {
                for (var e = 0, t = d.types.length; e < t; e++) d.close.call(this, d.types[e], 1, null)
            }, d.hide = function() {
                for (var e = this.dom.container.querySelectorAll(".rmp-module"), t = 0, i = e.length; t < i; t++) a.default.addClass(e[t], "rmp-no-display")
            }, d.show = function() {
                for (var e = this.dom.container.querySelectorAll(".rmp-module"), t = 0, i = e.length; t < i; t++) a.default.removeClass(e[t], "rmp-no-display")
            }, d.deferredShow = function(e) {
                (function() {
                    for (var e = 0, t = d.types.length; e < t; e++)
                        if (a.default.isVisible(this.dom[d.types[e] + "Overlay"])) return !0;
                    return !1
                }.call(this) || this.getAdOnStage() && this.getAdLinear()) && a.default.addClass(this.dom[e], "rmp-no-display"), a.default.show(this.dom[e])
            }, d.append = function(e) {
                var t = this,
                    i = (this.dom[e] = document.createElement("div"), n.default.isMobile || (this.dom[e].addEventListener("mouseenter", function(e) {
                        e && e.stopPropagation(), t.forceResetTimer = !0
                    }), this.dom[e].addEventListener("mouseleave", function(e) {
                        e && e.stopPropagation(), t.forceResetTimer = !1
                    })), this.dom[e].className = "rmp-" + e + " rmp-module rmp-color-bg", document.createElement("div")),
                    s = (i.className = "rmp-module-button", void 0),
                    s = ("cast" === e ? s = document.createElement("google-cast-launcher") : (s = document.createElement("span")).className = "rmp-i rmp-i-" + e, i.appendChild(s), this.dom[e].appendChild(i), this.dom.container.appendChild(this.dom[e]), a.default.hideAria(this.dom[e]), a.default.hide(this.dom[e]), o.default.appendHint(this.labels.hint[e]));
                this.dom[e].appendChild(s)
            }, d.appendOverlay = function(e) {
                this.dom[e + "Overlay"] = document.createElement("div"), this.dom[e + "Overlay"].className = "rmp-module-overlay", a.default.hideAria(this.dom[e + "Overlay"]), this.dom[e + "Overlay"].addEventListener("touchend", a.default.stopPropagation), this.dom[e + "Overlay"].addEventListener("click", a.default.stopPropagation), this.dom.container.appendChild(this.dom[e + "Overlay"]), this.dom[e + "OverlayWrapper"] = document.createElement("div"), this.dom[e + "OverlayWrapper"].className = "rmp-overlay-wrapper", this.dom[e + "Overlay"].appendChild(this.dom[e + "OverlayWrapper"]);
                var t = document.createElement("div"),
                    i = (t.className = "rmp-overlay-title", this.labels.hint[e]),
                    s = ("sharing" === e && "" !== this.contentTitle && (i += " " + this.uiSeparator + " " + this.contentTitle), document.createElement("span")),
                    i = (s.className = "rmp-overlay-title-text", a.default.setText(s, i), t.appendChild(s), this.dom[e + "OverlayWrapper"].appendChild(t), this.dom[e + "OverlayPlayPause"] = document.createElement("span"), this.dom[e + "OverlayPlayPause"].className = "rmp-i rmp-module-overlay-icons rmp-module-overlay-play-pause", a.default.addEvent(["touchend", "click"], this.dom[e + "OverlayPlayPause"], d.playPause.bind(this, e)), this.dom[e + "Overlay"].appendChild(this.dom[e + "OverlayPlayPause"]), document.createElement("span"));
                i.className = "rmp-i rmp-i-close rmp-module-overlay-icons rmp-module-overlay-close", a.default.addEvent(["touchend", "click"], i, d.close.bind(this, e, 400)), this.dom[e + "Overlay"].appendChild(i), this.dom[e + "OverlayLevelsArea"] = document.createElement("div"), "related" !== e && (this.dom[e + "OverlayLevelsArea"].className = "rmp-overlay-levels-area"), this.dom[e + "OverlayWrapper"].appendChild(this.dom[e + "OverlayLevelsArea"]), a.default.addEvent(["touchend", "click"], this.dom[e], d.open.bind(this, e))
            }, d.setActiveLevel = function(e, t) {
                if (this.dom[e + "OverlayLevelsArea"]) {
                    var i = this.dom[e + "OverlayLevelsArea"].querySelectorAll(".rmp-overlay-level");
                    if (0 < i.length) {
                        for (var s = 0, n = i.length; s < n; s++) a.default.removeClass(i[s], "rmp-overlay-level-active");
                        a.default.addClass(i[t], "rmp-overlay-level-active"), o.default.showChrome.call(this)
                    }
                }
            }, i.default = d
        }, {
            "../../fw/env": 52,
            "../../fw/fw": 53,
            "../resize/resize": 36,
            "../ui/core-ui": 41
        }],
        31: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var n = s(e("../../fw/fw")),
                a = s(e("./modules"));

            function s(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            var o = {
                destroy: function() {
                    this.readingMp4 ? this.dom.container && this.dom.container.removeEventListener("srcchanged", this.afterMp4BitrateSwitch) : this.readingHlsJS ? this.dom.container && this.dom.container.removeEventListener("playing", this.hlsJSUnstalledBuffer) : (this.readingDash || this.readingHlsShaka) && this.shakaPlayer && this.shakaPlayer.removeEventListener("buffering", this.shakaUnstalledBuffer), a.default.destroy.call(this, "quality")
                },
                setMp4Bitrate: function(e) {
                    this.dom.container.removeEventListener("srcchanged", this.afterMp4BitrateSwitch);
                    var t = this.getCurrentTime();
                    this.afterMp4BitrateSwitch = function(e, t) {
                        this.dom.container.removeEventListener("srcchanged", this.afterMp4BitrateSwitch), a.default.setActiveLevel.call(this, "quality", t), this.getPlayerInitialized() && (this.play(), 0 < e) && this.seekTo(e)
                    }.bind(this, t = -1 === t ? 0 : t, e), this.dom.container.addEventListener("srcchanged", this.afterMp4BitrateSwitch), this.setSrcPDModule = !0, this.setSrc(this.src.mp4[e]), this.setSrcPDModule = !1
                },
                setUpMP4UI: function() {
                    var e = function(e, t) {
                        var i = e;
                        if (1 < t && 1 === i.length && "auto" === i[0]) switch (t) {
                            case 2:
                                i = ["Low", "High"];
                                break;
                            case 3:
                                i = ["Low", "Medium", "High"];
                                break;
                            case 4:
                                i = ["Low", "Medium", "High", "Highest"];
                                break;
                            case 5:
                                i = ["Lowest", "Medium", "High", "Higher", "Highest"];
                                break;
                            default:
                                i = ["Lowest", "Lower", "Medium", "High", "Higher", "Highest"]
                        }
                        return i
                    }(this.labels.bitrates.renditions, this.src.mp4.length);
                    a.default.append.call(this, "quality"), a.default.appendOverlay.call(this, "quality");
                    for (var t = 0; t < this.src.mp4.length; t++) {
                        var i = document.createElement("div"),
                            s = (t === this.initialBitrate ? (n.default.setClass(i, "rmp-overlay-level rmp-overlay-level-active rmp-color-bg rmp-q" + t), i.setAttribute("data-src", this.src.mp4[this.initialBitrate])) : (n.default.setClass(i, "rmp-overlay-level rmp-color-bg rmp-q" + t), i.setAttribute("data-src", this.src.mp4[t])), e[t] ? e[t].toString() : "Bitrate " + t);
                        n.default.setText(i, s), n.default.addEvent(["touchend", "click"], i, o.setMp4Bitrate.bind(this, t)), this.dom.qualityOverlayLevelsArea.appendChild(i)
                    }
                },
                setUpAbrUI: function() {
                    a.default.append.call(this, "quality"), a.default.appendOverlay.call(this, "quality"), a.default.deferredShow.call(this, "quality"), this.dom.qualityAuto = document.createElement("div"), this.dom.qualityAuto.className = "rmp-overlay-level rmp-color-bg rmp-overlay-level-active rmp-q0", this.dom.qualityAuto.textContent = this.labels.bitrates.auto, this.dom.qualityOverlayLevelsArea.appendChild(this.dom.qualityAuto)
                }
            };
            i.default = o
        }, {
            "../../fw/fw": 53,
            "./modules": 30
        }],
        32: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var r = n(e("../../fw/fw")),
                l = n(e("../../fw/env")),
                s = n(e("./modules")),
                d = n(e("../utils/utils"));

            function n(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            e = {
                init: function() {
                    var e = function(e) {
                        for (var t = ["facebook", "twitter", "googleplus", "linkedin", "reddit", "email"], i = [], s = 0, n = e.length; s < n; s++) - 1 === t.indexOf(e[s]) && i.push(s);
                        if (0 < i.length)
                            for (var a = i.length - 1; 0 <= a; a--) e.splice(i[a], 1);
                        return e
                    }(this.sharingNetworks);
                    s.default.append.call(this, "sharing"), s.default.appendOverlay.call(this, "sharing"),
                        function(e) {
                            var t, i = document.createElement("div"),
                                s = (i.className = "rmp-sharing-social", -1 < e.indexOf("facebook") && ((s = document.createElement("span")).className = "rmp-i rmp-i-facebook rmp-sharing-social-icons", t = "https://www.facebook.com/sharer/sharer.php?u=" + encodeURIComponent(this.sharingUrl), r.default.addEvent(["touchend", "click"], s, d.default.openUrl.bind(this, t)), i.appendChild(s)), -1 < e.indexOf("twitter") && ((t = document.createElement("span")).className = "rmp-i rmp-i-twitter rmp-sharing-social-icons", s = "https://twitter.com/share?url=" + encodeURIComponent(this.sharingUrl), r.default.addEvent(["touchend", "click"], t, d.default.openUrl.bind(this, s)), i.appendChild(t)), -1 < e.indexOf("linkedin") && ((s = document.createElement("span")).className = "rmp-i rmp-i-linkedin rmp-sharing-social-icons", t = "https://www.linkedin.com/shareArticle?mini=true&url=" + encodeURIComponent(this.sharingUrl), r.default.addEvent(["touchend", "click"], s, d.default.openUrl.bind(this, t)), i.appendChild(s)), -1 < e.indexOf("googleplus") && ((t = document.createElement("span")).className = "rmp-i rmp-i-gplus rmp-sharing-social-icons", s = "https://plus.google.com/share?url=" + encodeURIComponent(this.sharingUrl), r.default.addEvent(["touchend", "click"], t, d.default.openUrl.bind(this, s)), i.appendChild(t)), -1 < e.indexOf("reddit") && ((s = document.createElement("span")).className = "rmp-i rmp-i-reddit rmp-sharing-social-icons", t = "https://www.reddit.com/submit?url=" + encodeURIComponent(this.sharingUrl), r.default.addEvent(["touchend", "click"], s, d.default.openUrl.bind(this, t)), i.appendChild(s)), -1 < e.indexOf("email") && ((t = document.createElement("span")).className = "rmp-i rmp-i-email rmp-sharing-social-icons", r.default.addEvent(["touchend", "click"], t, function() {
                                    window.location.href = "mailto:?body=" + encodeURIComponent(this.sharingUrl)
                                }.bind(this)), i.appendChild(t)), this.dom.sharingOverlayLevelsArea.appendChild(i), document.createElement("div")),
                                e = (s.className = "rmp-sharing-link", '<span class="rmp-i rmp-i-link"></span>'),
                                e = (e += '<label for="rmp-sharing-link-' + this.id + '">Link to media</label>') + '<input class="rmp-sharing-input" aria-label="Link to media" id="rmp-sharing-link-' + this.id + '" type="text" value="' + this.sharingUrl + '">';
                            if (s.innerHTML = e, this.dom.sharingOverlayLevelsArea.appendChild(s), "" !== this.sharingCode && (this.sharingCode = this.sharingCode.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;"), (t = document.createElement("div")).className = "rmp-sharing-code", i = '<span class="rmp-i rmp-i-code"></span>', i = (i += '<label for="rmp-sharing-code-' + this.id + '">Embed code for media</label>') + '<input class="rmp-sharing-input" aria-label="Embed code for media" id="rmp-sharing-code-' + this.id + '" type="text" value="' + this.sharingCode + '">', t.innerHTML = i, this.dom.sharingOverlayLevelsArea.appendChild(t)), !l.default.isMobile && this.dom.sharingOverlay)
                                for (var n = this.dom.sharingOverlay.querySelectorAll(".rmp-sharing-input"), a = 0, o = n.length; a < o; a++) r.default.addEvent("click", n[a], r.default.selectText.bind(null, n[a]))
                        }.call(this, e)
                }
            };
            i.default = e
        }, {
            "../../fw/env": 52,
            "../../fw/fw": 53,
            "../utils/utils": 46,
            "./modules": 30
        }],
        33: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var a = n(e("../../fw/fw")),
                o = n(e("../ui/core-ui")),
                s = n(e("./modules"));

            function n(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function r(e, t) {
                t && (t.stopPropagation(), "touchend" === t.type) && t.preventDefault();
                var i = this.dom.speedOverlayLevelsArea.querySelectorAll(".rmp-overlay-level");
                if (0 < i.length && i[e]) {
                    t = i[e], e = t.textContent;
                    if ("string" == typeof e && "" !== e) {
                        e = parseFloat(e.replace("x", "")), this.setPlaybackRate(e);
                        for (var s = 0, n = i.length; s < n; s++) a.default.removeClass(i[s], "rmp-overlay-level-active");
                        a.default.addClass(t, "rmp-overlay-level-active")
                    }
                    o.default.showChrome.call(this)
                }
            }
            e = {};
            e.init = function() {
                s.default.append.call(this, "speed"), s.default.appendOverlay.call(this, "speed");
                for (var e = 0, t = this.navRates.length; e < t; e++) {
                    var i = document.createElement("div");
                    1 === this.navRates[e] ? a.default.setClass(i, "rmp-overlay-level rmp-color-bg rmp-overlay-level-active") : a.default.setClass(i, "rmp-overlay-level rmp-color-bg"), a.default.setText(i, "x" + this.navRates[e]), a.default.addEvent(["touchend", "click"], i, r.bind(this, e)), this.dom.speedOverlayLevelsArea.appendChild(i)
                }
            }, i.default = e
        }, {
            "../../fw/fw": 53,
            "../ui/core-ui": 41,
            "./modules": 30
        }],
        34: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var s = p(e("../fw/fw")),
                n = p(e("../fw/env")),
                a = p(e("../abr/hls")),
                o = p(e("../abr/shaka")),
                r = p(e("../ads/ima-ads")),
                l = p(e("../ads/rmp-vast")),
                d = p(e("../ads/ads-helpers")),
                c = p(e("./ui/core-ui")),
                u = p(e("./utils/utils")),
                h = p(e("../cast/cast"));

            function p(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function f() {
                if (this.googleCast) {
                    if (h.default.castingAPIAvailable.call(this)) return void this.remotePlayerController.playOrPause();
                    if (this.castConnected && "ENDED" === this.remotePlayerState) return void this.loadCastMedia()
                }
                this.firstPlay ? (this.firstPlay = !1, g.call(this)) : this.dom.video.paused ? u.default.playPromise.call(this) : this.dom.video.pause()
            }

            function m() {
                var e = this;
                null !== this.processInitiatePlayback && this.dom.container.removeEventListener("loadedmetadata", this.processInitiatePlayback), this.video360 && this.firstPlay && "undefined" == typeof THREE ? setTimeout(function() {
                    m.call(e)
                }, 10) : this.ads && this.firstPlay && this.adParserLoaded ? f.call(this) : this.getAdOnStage() && this.getAdLinear() && !this.adImaDai ? d.default.playPause.call(this) : this.adOutStream || f.call(this)
            }
            var e = {},
                g = function() {
                    this.startUpLogPlaying = function() {
                        var e = this;
                        s.default.removeEvent("playing", this.dom.container, this.startUpLogPlaying), s.default.removeEvent("adloaded", this.dom.container, this.startUpLogPlaying), setTimeout(function() {
                            e.startUpPlaying = s.default.getNow(), 0 < e.startUpPlay && e.startUpPlaying > e.startUpPlay && (e.startUpTime = e.startUpPlaying - e.startUpPlay), e.firstFrameReached = !0, s.default.createStdEvent("firstframe", e.dom.container), s.default.createStdEvent("startuptimeavailable", e.dom.container)
                        }, 1)
                    }.bind(this), this.dom.container.addEventListener("playing", this.startUpLogPlaying), this.dom.container.addEventListener("adloaded", this.startUpLogPlaying), (this.ads && !this.adImaDai ? (this.autoplay && function() {
                        this.onAdAutoplaySuccess = function() {
                            var e = this.getAdLinear();
                            null !== e && (e || !e && "rmp-vast" === this.adParser) && u.default.fireAutoplaySuccess.call(this)
                        }.bind(this), this.dom.container.addEventListener("adstarted", this.onAdAutoplaySuccess), this.onAdAutoplayFailed = function() {
                            u.default.autoplayFailureRestorePlayUI.call(this)
                        }.bind(this), this.dom.container.addEventListener("adinitialplayrequestfailed", this.onAdAutoplayFailed), this.dom.container.addEventListener("adinitialplayrequestsucceeded", this.onAdAutoplaySuccess)
                    }.call(this), function() {
                        this.emptyInitAdTagUrl ? u.default.playPromise.call(this) : (this.adScheduleInput && (this.adTagUrl = d.default.replaceAdTagVar.call(this, this.adSchedule.preroll)), ("ima" === this.adParser ? r.default.requestAds : l.default.loadAds).call(this, this.adTagUrl))
                    }) : u.default.playPromise).call(this)
                };
            e.init = function(e) {
                if (e && (e.stopPropagation(), "touchend" === e.type) && e.preventDefault(), this.get5Ready()) {
                    if (this.firstPlay) {
                        if (this.ads && !this.adParserLoaded) return;
                        this.startUpPlay = s.default.getNow(), s.default.removeClass(this.dom.outline, "rmp-force-invisibility")
                    }
                    this.playerInitialized || (this.playerInitialized = !0, s.default.hide(this.dom.poster), c.default.showLoadingSpin.call(this), this.ads ? "ima" === this.adParser && this.adDisplayContainer ? (this.adDisplayContainer.initialize(), this.adDCInitialized = !0, !n.default.isMobile && (this.readingMse || this.hasLoadedMetadata) || this.dom.video.load()) : "rmp-vast" === this.adParser && this.rmpVast && (this.rmpVast.initialize(), n.default.isMacosSafari[0] || n.default.isMobile || this.readingMse || this.hasLoadedMetadata || this.dom.video.load()) : !this.ads && (n.default.isMobile || n.default.isMacosSafari[0] && !this.readingMse || n.default.isMacosSafari[0] && this.readingHlsJS && !this.hasLoadedMetadata || !this.readingMse && !this.hasLoadedMetadata) && this.dom.video.load(), this.readingHlsJS ? a.default.init.call(this) : (this.readingDash || this.readingHlsShaka) && o.default.init.call(this)), this.hasLoadedMetadata ? m.call(this) : null === this.processInitiatePlayback && (this.processInitiatePlayback = m.bind(this), this.dom.container.addEventListener("loadedmetadata", this.processInitiatePlayback))
                }
            }, i.default = e
        }, {
            "../abr/hls": 3,
            "../abr/shaka": 4,
            "../ads/ads-helpers": 6,
            "../ads/ima-ads": 7,
            "../ads/rmp-vast": 9,
            "../cast/cast": 22,
            "../fw/env": 52,
            "../fw/fw": 53,
            "./ui/core-ui": 41,
            "./utils/utils": 46
        }],
        35: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var s = g(e("../fw/fw")),
                n = g(e("../fw/env")),
                a = g(e("../vtt/captions")),
                o = g(e("../ads/ima-ads")),
                r = g(e("../ads/rmp-vast")),
                l = g(e("../ads/ads-helpers")),
                d = g(e("./resize/resize")),
                c = g(e("./ui/core-ui")),
                u = g(e("./ui/logo")),
                h = g(e("./modules/custom")),
                p = g(e("../cast/airplay")),
                f = g(e("./modules/modules")),
                m = g(e("./utils/utils"));

            function g(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function v() {
                (this.adBlockerDetection && !0 === window.rmpGlobals.adBlockerDetected && this.adBlockerDetectedPreventPlayback ? (s.default.removeElement(this.dom.prerollMask), l.default.onAdBlockDetection.call(this), this.autoplay && m.default.fireAutoplayFailure.call(this), this.offsetStartPosition = 0, y.fire) : (this.dom.prerollMask && (this.onAdOnStageUpdatePrerollMask = function() {
                    var e = this;
                    s.default.removeEvent(["playing", "adloaded", "adstarted", "aderror", "adloadererror", "autoplayfailure"], this.dom.container, this.onAdOnStageUpdatePrerollMask), s.default.clearTimeout(this.prerollMaskRemovalTimeout), this.prerollMaskRemovalTimeout = setTimeout(function() {
                        s.default.hide(e.dom.prerollMask), s.default.removeElement(e.dom.prerollMask)
                    }, 401), s.default.fadeOut(this.dom.prerollMask)
                }.bind(this), s.default.addEvent(["playing", "adloaded", "adstarted", "aderror", "adloadererror", "autoplayfailure"], this.dom.container, this.onAdOnStageUpdatePrerollMask)), ("ima" === this.adParser ? o : r).default.init)).call(this)
            }
            var y = {
                dispatchEvent: function() {
                    this.fadeInPlayer && s.default.fadeIn(this.dom.container), s.default.removeClass(this.dom.container, "rmp-preparing"), y.updateTime.call(this), s.default.createStdEvent("ready", this.dom.container)
                },
                updateTime: function() {
                    this.timeReady = s.default.getNow() - this.refTime
                },
                minimalFire: function() {
                    this.playerReady || (this.playerReady = !0, d.default.resize.call(this), y.dispatchEvent.call(this))
                },
                fire: function() {
                    var e, t;
                    this.playerReady || (this.playerReady = !0, d.default.resize.call(this), e = "00:00", this.dom.timeElapsed && this.dom.timeElapsedText && (this.isVod || (s.default.addClass(this.dom.timeElapsed, "rmp-i rmp-i-live"), e = this.labels.hint.live), this.dom.timeElapsedText.textContent = e), !this.dom.duration || "string" == typeof(t = this.dom.duration.textContent) && "" !== t || (this.dom.duration.textContent = e), n.default.isMobile && (this.initialVolume = 1, this.rememberVolume = !1), this.allowLocalStorage || (this.rememberVolume = !1), this.muted ? this.setMute(!0) : this.rememberVolume && 1 === this.initialVolume && n.default.localStorage(this.allowLocalStorage) && null !== window.localStorage.getItem("rmpVolume") ? (t = JSON.parse(window.localStorage.getItem("rmpVolume"))).value && (0 === (t = parseFloat(t.value)) ? this.setMute(!0) : t <= 1 && 0 < t && this.setVolume(t)) : this.initialVolume < 1 && 0 <= this.initialVolume && this.setVolume(this.initialVolume), this.autoplay ? (this.initialAutoplayRequest = !0, this.initiatePlayback()) : c.default.showCentralPlay.call(this), 0 < this.offsetStartPosition && this.isVod && (this.onStartSeekToOffset = function() {
                        this.dom.container.removeEventListener("playing", this.onStartSeekToOffset), this.seekTo(this.offsetStartPosition)
                    }.bind(this), this.dom.container.addEventListener("playing", this.onStartSeekToOffset)), this.adOutStream && (f.default.hide.call(this), s.default.hide([this.dom.seekBar, this.dom.duration, this.dom.timeElapsed])), y.dispatchEvent.call(this), this.adBlockerDetection && !0 === window.rmpGlobals.adBlockerDetected && s.default.createStdEvent("adblockerdetected", this.dom.container), this.hasCC && a.default.initVttJS.call(this))
                }
            };
            y.init = function() {
                this.audioOnly || (this.ads && !this.emptyInitAdTagUrl && c.default.appendPrerollMask.call(this), c.default.appendPoster.call(this)), this.nav && s.default.show(this.dom.speed), this.sharing && s.default.show(this.dom.sharing), this.hasRelated && s.default.show(this.dom.related), this.hasPlaylist && s.default.show([this.dom.playlistLeftArrow, this.dom.playlistRightArrow]), this.readingMp4 && s.default.show(this.dom.quality), void 0 !== this.dom.audio && s.default.show(this.dom.audio), this.airplay && !this.readingDash && p.default.init.call(this), "" !== this.logo && u.default.append.call(this), "" !== this.contentTitle && c.default.appendContentTitle.call(this), Array.isArray(this.customModule) && 0 < this.customModule.length && s.default.isObject(this.customModule[0]) ? (h.default.filter.call(this), 0 < this.customModule.length && h.default.init.call(this)) : this.customModule = [], s.default.createStdEvent("mousemove", this.dom.container), this.ads ? !this.adBlockerDetection || "boolean" == typeof window.rmpGlobals.adBlockerDetected ? v.call(this) : "undefined" == typeof fuckAdBlock || "function" != typeof fuckAdBlock.setOption ? (window.rmpGlobals.adBlockerDetected = !0, v.call(this)) : (fuckAdBlock.setOption({
                    debug: !1,
                    checkOnLoad: !1,
                    resetOnEnd: !0,
                    loopCheckTime: 50,
                    loopMaxNumber: 5
                }), this.onAdBlockDetected = function() {
                    window.rmpGlobals.adBlockerDetected = !0, v.call(this)
                }.bind(this), this.onNoAdBlockDetected = function() {
                    window.rmpGlobals.adBlockerDetected = !1, v.call(this)
                }.bind(this), fuckAdBlock.onDetected(this.onAdBlockDetected), fuckAdBlock.onNotDetected(this.onNoAdBlockDetected), fuckAdBlock.check(!0)) : y.fire.call(this)
            }, i.default = y
        }, {
            "../ads/ads-helpers": 6,
            "../ads/ima-ads": 7,
            "../ads/rmp-vast": 9,
            "../cast/airplay": 21,
            "../fw/env": 52,
            "../fw/fw": 53,
            "../vtt/captions": 57,
            "./modules/custom": 29,
            "./modules/modules": 30,
            "./resize/resize": 36,
            "./ui/core-ui": 41,
            "./ui/logo": 43,
            "./utils/utils": 46
        }],
        36: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var y = r(e("../../fw/fw")),
                n = r(e("../../fw/env")),
                s = r(e("../ui/core-ui")),
                a = r(e("../utils/error")),
                o = r(e("../../360/360"));

            function r(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function l() {
                y.default.removeClass(this.dom.container, "rmp-medium"), y.default.removeClass(this.dom.container, "rmp-small"), y.default.removeClass(this.dom.container, "rmp-extrasmall")
            }
            var d = {};
            d.auxResize = function(e) {
                !this.isHTML5 || e <= 0 || (0 < e && e < 375 ? (l.call(this), y.default.addClass(this.dom.container, "rmp-extrasmall")) : 0 < e && e < 480 ? (l.call(this), y.default.addClass(this.dom.container, "rmp-small")) : (l.call(this), y.default.addClass(this.dom.container, "rmp-medium")), this.getAdOnStage() && d.resizeAds.call(this), this.video360 && o.default.resize.call(this), this.hasRelated && d.related.call(this), y.default.createStdEvent("resize", this.dom.container))
            }, d.resizeAds = function() {
                var e, t = -1,
                    i = -1;
                if (this.isInFullscreen && (this.hasNativeFullscreenSupport ? (t = y.default.getScreenWidth(), i = y.default.getScreenHeight()) : this.fullWindowMode && (t = (e = n.default.getViewportSize()).width, i = e.height)), "rmp-vast" === this.adParser && this.rmpVast && "function" == typeof this.rmpVast.resizeAd) this.isInFullscreen ? 0 < t && 0 < i && (this.hasNativeFullscreenSupport ? this.rmpVast.resizeAd(t, i, "fullscreen") : this.fullWindowMode && this.rmpVast.resizeAd(t, i, "normal")) : this.rmpVast.resizeAd(this.width, this.height, "normal");
                else if ("ima" === this.adParser && this.adsManager && "function" == typeof this.adsManager.resize) try {
                    this.isInFullscreen ? 0 < t && 0 < i && (this.hasNativeFullscreenSupport ? this.adsManager.resize(t, i, google.ima.ViewMode.FULLSCREEN) : this.fullWindowMode && this.adsManager.resize(t, i, google.ima.ViewMode.NORMAL)) : this.adsManager.resize(this.width, this.height, google.ima.ViewMode.NORMAL)
                } catch (t) {
                    y.default.trace(t)
                }
            }, d.closeModule = function(e) {
                var t = this.getPlayerWidth(),
                    i = this.dom[e + "OverlayLevelsArea"].clientWidth,
                    t = Math.round(t);
                this.dom[e + "Overlay"] && null !== (e = this.dom[e + "Overlay"].querySelector(".rmp-module-overlay-close")) && (e.style.right = i < t ? (12 + t - i).toString() + "px" : "12px")
            }, d.related = function() {
                if (this.get5Ready() && this.dom.relatedOverlayLevelsArea && this.dom.relatedOverlay) {
                    for (var e = this.dom.relatedOverlayLevelsArea.querySelectorAll(".rmp-related-item"), t = [], i = 0, s = 0, n = e.length; s < n; s++) s !== this.currentRelatedIndex ? (t.push(e[s]), y.default.show(e[s])) : y.default.hide(e[s]);
                    ! function(e) {
                        if (this.dom.relatedOverlay) {
                            for (var t = this.dom.relatedOverlay.querySelectorAll(".rmp-related-up-next"), i = 0, s = t.length; i < s; i++) y.default.hide(t[i]);
                            var n = this.currentRelatedIndex + 1;
                            e[n = void 0 === e[this.currentRelatedIndex + 1] ? 0 : n] && null !== (e = e[n].querySelector(".rmp-related-up-next")) && y.default.show(e)
                        }
                    }.call(this, e);
                    var a = this.dom.relatedOverlay.querySelector(".rmp-overlay-title"),
                        o = 12,
                        a = (null !== a && (o += y.default.getHeight(a)), this.getPlayerWidth()),
                        r = this.dom.relatedOverlayLevelsArea.clientWidth,
                        l = a,
                        a = Math.round(a),
                        d = this.dom.relatedOverlay.querySelector(".rmp-module-overlay-close"),
                        c = (null !== d && (r < a ? ("number" == typeof r && 0 < r && (l = r), d.style.right = (12 + a - r).toString() + "px") : d.style.right = "12px"), 2),
                        u = (l - 24 - 12 * ((c = y.default.hasClass(this.dom.container, "rmp-medium") ? 3 : c) - 1)) / c,
                        h = 9 * u / 16;
                    if (0 < u && 0 < h) {
                        for (var p = 1, f = 0, m = t.length; f < m; f++) {
                            c * p <= f && p++;
                            var g = f - (p - 1) * c,
                                v = o + 12 + h * (p - 1) + 12 * (p - 1);
                            y.default.setStyle(t[f], {
                                left: g * u + 12 * (1 + g) + "px",
                                top: v + "px",
                                width: u + "px",
                                height: h + "px"
                            }), i = v + h
                        }
                        a = this.dom.relatedOverlayLevelsArea.querySelector(".rmp-related-item-bottom-margin");
                        null !== a && (a.style.top = i.toString() + "px")
                    }
                }
            }, d.fullscreenchange = function() {
                this.isInFullscreen ? (this.isInFullscreen = !1, y.default.removeClass(this.dom.fullscreen, "rmp-i-resize-small"), y.default.removeClass(this.dom.container, "rmp-fullscreen-on"), y.default.addClass(this.dom.fullscreen, "rmp-i-resize-full"), y.default.updateAriaLabel(this.dom.fullscreen, "Enter fullscreen"), d.resize.call(this), y.default.createStdEvent("exitfullscreen", this.dom.container)) : (this.isInFullscreen = !0, y.default.removeClass(this.dom.fullscreen, "rmp-i-resize-full"), y.default.addClass(this.dom.fullscreen, "rmp-i-resize-small"), y.default.addClass(this.dom.container, "rmp-fullscreen-on"), y.default.updateAriaLabel(this.dom.fullscreen, "Exit fullscreen"), d.auxResize.call(this, y.default.getScreenWidth()), y.default.createStdEvent("enterfullscreen", this.dom.container))
            }, d.fullscreenerror = function(e) {
                y.default.createStdEvent("fullscreenerror", this.dom.container);
                e = e || null;
                a.default.warning.call(this, "fullscreenerror", 1003, e)
            }, d.webkitbeginfullscreen = function() {
                this.isInFullscreen = !0, y.default.createStdEvent("enterfullscreen", this.dom.container)
            }, d.webkitendfullscreen = function() {
                this.isInFullscreen = !1, d.resize.call(this), y.default.createStdEvent("exitfullscreen", this.dom.container)
            }, d.resize = function(e) {
                var t, i;
                this.isInFullscreen ? this.fullWindowMode ? -1 < (t = n.default.getViewportSize()).width && -1 < t.height && this.setPlayerSize(t.width, t.height) : n.default.isIos[0] || d.auxResize.call(this, y.default.getScreenWidth()) : (t = this.dom.container.parentNode) && (this.iframeMode ? (this.width = y.default.getTrueWidth(t), this.height = y.default.getTrueHeight(t), e && y.default.setStyle(this.dom.container, {
                    width: "100%",
                    height: "100%"
                })) : (i = e = 0, i = (t = y.default.getTrueWidth(t)) >= this.initialWidth ? (e = this.initialWidth, this.initialHeight) : (e = t) / this.initialAspectRatio, 0 === e || 0 === i ? (this.autoHeightMode && (this.autoHeightMode = !1, this.initialWidth = 640, this.initialHeight = 360, this.initialAspectRatio = 1.7777777778), this.width = this.initialWidth, this.height = this.initialHeight, e = this.initialWidth + "px", i = this.initialHeight + "px") : (this.width = e, this.height = i, this.autoHeightMode ? e = "100%" : (this.audioOnly && (i = 40), e += "px"), i += "px"), y.default.setStyle(this.dom.container, {
                    width: e,
                    height: i
                })), d.auxResize.call(this, this.width))
            }, d.fullscreenInteraction = function() {
                var e, t, i, s = this;
                this.hasNativeFullscreenSupport ? this.isInFullscreen ? this.ads && "rmp-vast" === this.adParser && this.getAdOnStage() && this.getAdLinear() && this.rmpVast && "function" == typeof this.rmpVast.getVastPlayer ? n.default.exitFullscreen(this.rmpVast.getVastPlayer()) : n.default.exitFullscreen(this.dom.video) : this.ads && "rmp-vast" === this.adParser && this.getAdOnStage() && this.getAdLinear() && this.rmpVast && "function" == typeof this.rmpVast.getVastPlayer ? n.default.requestFullscreen(this.dom.container, this.rmpVast.getVastPlayer()) : n.default.requestFullscreen(this.dom.container, this.dom.video) : this.fullWindowMode && (t = e = -1, this.isInFullscreen ? (this.isInFullscreen = !1, e = this.initialWidth, t = this.initialHeight, y.default.removeClass(this.dom.fullscreen, "rmp-i-resize-small"), y.default.addClass(this.dom.fullscreen, "rmp-i-resize-full"), y.default.removeClass(this.dom.container, "rmp-full-window-on"), y.default.updateAriaLabel(this.dom.fullscreen, "Enter fullscreen"), y.default.createStdEvent("exitfullscreen", this.dom.container), this.setPlayerSize(e, t), setTimeout(function() {
                    d.resize.call(s)
                }, 1)) : -1 < (i = n.default.getViewportSize()).width && -1 < i.height && (e = i.width, t = i.height, this.isInFullscreen = !0, y.default.removeClass(this.dom.fullscreen, "rmp-i-resize-full"), y.default.addClass(this.dom.fullscreen, "rmp-i-resize-small"), y.default.addClass(this.dom.container, "rmp-full-window-on"), y.default.updateAriaLabel(this.dom.fullscreen, "Exit fullscreen"), y.default.createStdEvent("enterfullscreen", this.dom.container), this.setPlayerSize(e, t)))
            }, d.fullscreenButtonInteraction = function(e) {
                e && (e.stopPropagation(), "touchend" === e.type) && e.preventDefault(), s.default.showChrome.call(this), d.fullscreenInteraction.call(this)
            }, d.initialSizing = function() {
                this.throttledResize = function(e) {
                    var t = this;
                    e && ("orientationchange" === e.type ? (y.default.clearTimeout(this.orientationChangeResizeTimeout), this.orientationChangeResizeTimeout = setTimeout(function() {
                        d.resize.call(t)
                    }, 200)) : "resize" === e.type && null === this.throttledResizeTimeout && (y.default.clearTimeout(this.throttledResizeTimeout), this.throttledResizeTimeout = setTimeout(function() {
                        d.resize.call(t), t.throttledResizeTimeout = null
                    }, 66)))
                }.bind(this), window.addEventListener("resize", this.throttledResize), window.addEventListener("orientationchange", this.throttledResize), this.iframeMode && this.autoHeightMode && (this.autoHeightMode = !1);
                var e = this.dom.container.parentNode;
                this.iframeMode ? (this.width = y.default.getTrueWidth(e), this.height = y.default.getTrueHeight(e)) : this.autoHeightMode ? (this.width = y.default.getTrueWidth(e), this.height = this.width / this.autoHeightModeRatio) : (this.width = parseInt(this.width, 10), this.height = parseInt(this.height, 10)), this.initialWidth = this.width, this.initialHeight = this.height, this.initialAspectRatio = this.initialWidth / this.initialHeight, this.autoHeightMode && (this.initialWidth = 999999, this.initialAspectRatio = this.autoHeightModeRatio), d.resize.call(this, !0)
            }, i.default = d
        }, {
            "../../360/360": 1,
            "../../fw/env": 52,
            "../../fw/fw": 53,
            "../ui/core-ui": 41,
            "../utils/error": 44
        }],
        37: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var a = s(e("../../fw/fw")),
                o = s(e("../ready")),
                r = s(e("../utils/utils"));

            function s(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            i.default = {
                init: function() {
                    this.dom.video = null, this.isHTML5 = !1, this.googleCast = !1;
                    var e, t, i = document.createElement("div"),
                        s = (a.default.setClass(i, "rmp-no-play"), document.createElement("div")),
                        n = (a.default.setClass(s, "rmp-no-play-text"), document.createElement("div")),
                        n = (a.default.setText(n, this.labels.error.noSupportMessage), s.appendChild(n), void 0);
                    this.hasMp4 && (n = this.src.mp4[0]), !this.audioOnly && n && this.isVod && "" !== this.labels.error.noSupportDownload && (e = document.createElement("div"), (t = document.createElement("a")).href = n, t.download = "true", a.default.setClass(t, "rmp-dl-link"), a.default.setText(t, this.labels.error.noSupportDownload), e.appendChild(t), s.appendChild(e)), this.audioOnly || "" === this.labels.error.noSupportInstallChrome || (n = document.createElement("div"), t = void 0, "" !== this.labels.error.noSupportInstallChromeLink ? ((t = document.createElement("a")).href = this.labels.error.noSupportInstallChromeLink, t.target = "_blank", a.default.setClass(t, "rmp-dl-link")) : t = document.createElement("span"), a.default.setText(t, this.labels.error.noSupportInstallChrome), n.appendChild(t), s.appendChild(n)), i.appendChild(s), this.dom.container.appendChild(i), this.autoplay && r.default.fireAutoplayFailure.call(this), o.default.minimalFire.call(this)
                }
            }
        }, {
            "../../fw/fw": 53,
            "../ready": 35,
            "../utils/utils": 46
        }],
        38: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var s = l(e("../../fw/fw")),
                n = l(e("../../fw/env")),
                a = l(e("./runNoSupport")),
                o = l(e("../../core/utils/utils")),
                r = l(e("../../core/dom"));

            function l(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function d() {
                s.default.createStdEvent("hlslevelswitching", this.dom.container)
            }

            function c() {
                this.readingMp4 = !0, this.readingWebM = !0, this.src.mp4 = this.src.webm, this.initialBitrate = s.default.filterInitialBitrate(this.initialBitrate, this.src.mp4), this.startingBitratePath = this.src.mp4[this.initialBitrate], o.default.createNativeSrc.call(this, "webm")
            }
            e = {};
            e.init = function() {
                n.default.isAndroid[0] && void 0 !== this.dom.video.disableRemotePlayback && (this.dom.video.disableRemotePlayback = !0), (this.adOutStream ? function() {
                    this.hasLoadedMetadata = !0, this.readingOutstream = !0, r.default.prepare.call(this), r.default.append.call(this)
                } : this.hasDash && this.okDash && this.dashFirst ? (this.readingDash = !0, this.startingBitratePath = this.src.dash, r.default.prepare.call(this), r.default.append) : this.hasFps && this.okFps ? function() {
                    this.preload = "auto", this.readingHls = !0, this.readingFps = !0, this.startingBitratePath = this.src.fps, o.default.createNativeSrc.call(this, "hls"), this.hlsResizeLevelSwitch = d.bind(this), this.dom.video.addEventListener("resize", this.hlsResizeLevelSwitch)
                } : !this.audioOnly && this.hasHlsHevc && this.okHlsHevc ? function() {
                    n.default.isIos[0] && 10 < n.default.isIos[1] || n.default.isMacosSafari[0] && 10 < n.default.isMacosSafari[1] ? function() {
                        this.readingHls = !0, this.readingHlsHevc = !0, this.startingBitratePath = this.src.hlsHevc, o.default.createNativeSrc.call(this, "hlsHevc"), this.hlsResizeLevelSwitch = d.bind(this), this.dom.video.addEventListener("resize", this.hlsResizeLevelSwitch)
                    }.call(this) : this.okHlsJS && "hlsjs" === this.hlsEngine ? (this.readingHlsJS = !0, this.readingHlsHevc = !0, this.startingBitratePath = this.src.hlsHevc, r.default.prepare.call(this), r.default.append.call(this)) : this.okDash && "shakaplayer" === this.hlsEngine && (this.readingHlsShaka = !0, this.readingHlsHevc = !0, this.startingBitratePath = this.src.hlsHevc, r.default.prepare.call(this), r.default.append.call(this))
                } : this.hasHls && this.okHlsJS && "hlsjs" === this.hlsEngine ? (this.readingHlsJS = !0, this.startingBitratePath = this.src.hls, r.default.prepare.call(this), r.default.append) : this.hasHls && this.okDash && "shakaplayer" === this.hlsEngine ? (this.readingHlsShaka = !0, this.startingBitratePath = this.src.hls, r.default.prepare.call(this), r.default.append) : this.hasHls && this.okHls ? function() {
                    this.readingHls = !0, this.startingBitratePath = this.src.hls, o.default.createNativeSrc.call(this, "hls"), this.hlsResizeLevelSwitch = d.bind(this), this.dom.video.addEventListener("resize", this.hlsResizeLevelSwitch)
                } : this.hasDash && this.okDash && !this.dashFirst ? (this.readingDash = !0, this.startingBitratePath = this.src.dash, r.default.prepare.call(this), r.default.append) : this.audioOnly ? this.okOgg && this.hasOgg ? function() {
                    this.readingOgg = !0, this.startingBitratePath = this.src.ogg, o.default.createNativeSrc.call(this, "ogg")
                } : this.okM4a && this.hasM4a ? function() {
                    this.readingM4a = !0, this.startingBitratePath = this.src.m4a, o.default.createNativeSrc.call(this, "m4a")
                } : this.okMp3 && this.hasMp3 ? function() {
                    this.readingMp3 = !0, this.startingBitratePath = this.src.mp3, o.default.createNativeSrc.call(this, "mp3")
                } : a.default.init : this.okWebM && this.hasWebM && this.webmFirst ? c : this.okMp4 && this.hasMp4 || this.okMp4Hevc && this.hasMp4Hevc ? function() {
                    this.readingMp4 = !0, this.readingWebM = !1, this.okMp4Hevc && this.hasMp4Hevc && (this.src.mp4 = this.src.mp4Hevc, this.readingMp4Hevc = !0), this.initialBitrate = s.default.filterInitialBitrate(this.initialBitrate, this.src.mp4), this.startingBitratePath = this.src.mp4[this.initialBitrate], this.okMp4Hevc && this.hasMp4Hevc ? o.default.createNativeSrc.call(this, "mp4Hevc") : o.default.createNativeSrc.call(this, "mp4")
                } : this.okWebM && this.hasWebM && !this.webmFirst ? c : a.default.init).call(this)
            }, i.default = e
        }, {
            "../../core/dom": 25,
            "../../core/utils/utils": 46,
            "../../fw/env": 52,
            "../../fw/fw": 53,
            "./runNoSupport": 37
        }],
        39: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var a = n(e("../../fw/fw")),
                s = n(e("../ui/core-ui")),
                o = n(e("../../cast/cast"));

            function n(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function r(e) {
                var t, i, e = 100 <= e ? 100 : e < 0 ? 0 : e,
                    s = this.getDuration(); - 1 < s && this.dom.current && this.dom.handle && this.dom.timeElapsedText && this.dom.duration && (this.dom.current.style.width = e + "%", this.dom.handle.style.left = e + "%", t = i = void 0, i = this.isLiveDvr ? (t = this.dom.duration, "-" + a.default.readableTime((s - e / 100 * s) / 1e3)) : (t = this.dom.timeElapsedText, a.default.readableTime(e * (s / 1e3) / 100)), a.default.setText(t, i))
            }
            var l = {
                do: function(e) {
                    var t = void 0,
                        i = void 0,
                        s = void 0;
                    if (o.default.castingAPIAvailable.call(this)) var n = o.default.getDuration.call(this),
                        i = (t = -1 === n ? -1 : Math.round(n / 1e3)) * e;
                    else if (this.isLiveDvr) {
                        if (t = a.default.getMediaDuration(this.dom.video), !a.default.isNumber(t)) return;
                        (s = t - this.hlsJSLevelDuration) <= 0 && (s = 0), i = this.hlsJSLevelDuration * e + s
                    } else i = (t = a.default.getMediaDuration(this.dom.video)) * e;
                    !a.default.isNumber(t) || t <= 0 || !a.default.isNumber(e) || i < 0 || t < i || (this.isLiveDvr && (this.dvrLiveMode = !1, a.default.addClass(this.dom.container, "rmp-dvr-rec"), a.default.setText(this.dom.duration, "-"), a.default.setText(this.dom.timeElapsedText, this.labels.hint.live)), a.default.setStyle(this.dom.current, {
                        width: 100 * e + "%"
                    }), a.default.setStyle(this.dom.handle, {
                        left: 100 * e + "%"
                    }), o.default.castingAPIAvailable.call(this) ? (this.remotePlayer.currentTime = i, this.remotePlayerController.seek()) : a.default.setMediaCurrentTime(this.dom.video, i))
                }
            };
            l.touchend = function(e) {
                e && (e.stopPropagation(), e.preventDefault(), e = (a.default.getPosXTouch(e) - a.default.getAbsLeft(this.dom.seekBar)) / a.default.getWidth(this.dom.seekBar), a.default.isNumber(e)) && (1 <= e ? e = 1 : e < 0 && (e = 0), l.do.call(this, e), this.touchDown = !1)
            }, l.touchmove = function(e) {
                e.preventDefault(), this.touchDown = !0, s.default.showChrome.call(this);
                e = (a.default.getPosXTouch(e) - a.default.getAbsLeft(this.dom.seekBar)) / a.default.getWidth(this.dom.seekBar) * 100;
                a.default.isNumber(e) && r.call(this, e)
            }, l.mouseupDoc = function(e) {
                var t, i;
                e && (e.stopPropagation(), this.draggingTimeCursor = !1, document.removeEventListener("mouseup", this.mouseupDoc), document.removeEventListener("mousemove", this.mousemoveDoc), e = a.default.getPosX(e), t = a.default.getAbsLeft(this.dom.timetotal), i = a.default.getWidth(this.dom.timetotal), l.do.call(this, e < t ? 0 : t + i < e ? .99 : (e - t) / i))
            }, l.mousemoveDoc = function(e) {
                e = (a.default.getPosX(e) - a.default.getAbsLeft(this.dom.timetotal)) / a.default.getWidth(this.dom.timetotal) * 100;
                a.default.isNumber(e) && r.call(this, e)
            }, i.default = l
        }, {
            "../../cast/cast": 22,
            "../../fw/fw": 53,
            "../ui/core-ui": 41
        }],
        40: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var e = e("../../fw/fw"),
                s = e && e.__esModule ? e : {
                    default: e
                },
                e = {
                    apply: function() {
                        "" !== this.skinBackgroundColor && "s3" !== this.skin && (-1 === this.skinBackgroundColor.indexOf("rgba") && (this.skinBackgroundColor = "#" + this.skinBackgroundColor), function() {
                            var e = ".rmp-color-bg:not(.rmp-overlay-level-active), .rmp-module-overlay-icons, .rmp-related-duration, .rmp-related-up-next, .rmp-related-title {background: " + this.skinBackgroundColor + ";} ",
                                e = (e += ".rmp-overlay-level { border-color: " + this.skinBackgroundColor + ";} ") + (".rmp-overlay-level-active { color: " + this.skinBackgroundColor + ";} ");
                            "s4" === this.skin && (e = (e += ".rmp-play-pause, .rmp-ad-info, .rmp-quick-rewind, .rmp-volume, .rmp-fullscreen, .rmp-seek-bar, .rmp-time-elapsed, .rmp-duration, .rmp-related-skip-next, .rmp-overlay-title-text, .rmp-sharing-social-icons { background: " + this.skinBackgroundColor + ";} ") + (".rmp-overlay-level-active.rmp-abr-active { border-color: " + this.skinBackgroundColor + ";} ")), s.default.appendStyle(e)
                        }.call(this)), "" !== this.skinButtonColor && (-1 === this.skinButtonColor.indexOf("rgba") && (this.skinButtonColor = "#" + this.skinButtonColor), function() {
                            var e = ".rmp-color-button, .rmp-time-elapsed-text, .rmp-dvr-rec .rmp-i-live, .rmp-dvr-rec .rmp-i-live .rmp-time-elapsed-text, .rmp-live-dvr.rmp-dvr-rec .rmp-i-live:hover .rmp-time-elapsed-text {color: " + this.skinButtonColor + ";} ",
                                e = (e += ".rmp-color-bg-button, .rmp-circle::before, .rmp-overlay-level-active {background: " + this.skinButtonColor + ";} ") + (".rmp-overlay-title-text {border-bottom-color: " + this.skinButtonColor + ";} ");
                            "s3" === this.skin && (e += ".rmp-time-total, .rmp-volume-bar, .rmp-overlay-level, .rmp-overlay-level-active.rmp-abr-active { border-color: " + this.skinButtonColor + ";} ", this.hasPlaylist) && (e += ".rmp-playlist-side-menu {background: " + this.skinButtonColor + ";}"), this.hasRelated && (e = (e += ".rmp-related-item  {border-color: " + this.skinButtonColor + ";} ") + (".rmp-related-skip-preview-title, .rmp-related-skip-preview-up-next {color: " + this.skinButtonColor + " !important;}")), s.default.appendStyle(e)
                        }.call(this)), "" !== this.skinAccentColor && (-1 === this.skinAccentColor.indexOf("rgba") && (this.skinAccentColor = "#" + this.skinAccentColor), function() {
                            var e = ".rmp-i:hover, .rmp-module:hover .rmp-i, .rmp-i-live, .rmp-dvr-rec .rmp-i-live:hover, .rmp-i-live, .rmp-overlay-level:hover:not(.rmp-overlay-level-active) {color: " + this.skinAccentColor + ";} ";
                            "s3" === this.skin && (e = (e += ".rmp-overlay-level-active { color: " + this.skinAccentColor + ";} ") + (".rmp-loaded { background-color: " + this.skinAccentColor + ";} ")), e += ".rmp-abr-active {border-color: " + this.skinAccentColor + ";} ", this.hasPlaylist && (e = (e = (e += ".rmp-playlist-item-active .rmp-playlist-item-number {color: " + this.skinAccentColor + ";} ") + (".rmp-playlist-item-active .rmp-playlist-item-thumbnail {border-color: " + this.skinAccentColor + ";} ")) + (".rmp-playlist-side-menu::-webkit-scrollbar-thumb {background: " + this.skinAccentColor + ";} ")), this.hasRelated && (e += ".rmp-related-item:hover {border-color: " + this.skinAccentColor + ";} "), this.ads && (e += ".rmp-ad-current-time {background: " + this.skinAccentColor + ";} "), s.default.appendStyle(e)
                        }.call(this)), this.googleCast && function() {
                            if ("" === this.skinButtonColor) switch (this.skin) {
                                case "s1":
                                case "s2":
                                case "s3":
                                    this.skinButtonColor = "rgba(255, 255, 255, 1)";
                                    break;
                                case "s4":
                                    this.skinButtonColor = "rgba(0, 0, 0, 1)";
                                    break;
                                default:
                                    this.skinButtonColor = "rgba(255, 255, 255, 1)"
                            }
                            if ("" === this.skinAccentColor) switch (this.skin) {
                                case "s1":
                                case "s4":
                                    this.skinAccentColor = "rgba(33, 150, 243, 1)";
                                    break;
                                case "s2":
                                    this.skinAccentColor = "rgba(255, 193, 7, 1)";
                                    break;
                                case "s3":
                                    this.skinAccentColor = "rgba(244, 67, 54, 1)";
                                    break;
                                default:
                                    this.skinAccentColor = "rgba(33, 150, 243, 1)"
                            }
                            var e = "google-cast-launcher {--disconnected-color: " + this.skinButtonColor + ";--connected-color: " + this.skinAccentColor + ";} ";
                            e += "google-cast-launcher:hover {--disconnected-color: " + this.skinAccentColor + ";}", s.default.appendStyle(e)
                        }.call(this)
                    }
                };
            i.default = e
        }, {
            "../../fw/fw": 53
        }],
        41: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var s = o(e("../../fw/fw")),
                n = o(e("../../fw/env")),
                a = o(e("../utils/error"));

            function o(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function r() {
                var e = this;
                s.default.clearInterval(this.chromeTimer), this.chromeTimer = setInterval(function() {
                    (! function() {
                        var e = !1;
                        return this.forceResetTimer && (e = !0), this.getAdOnStage() ? (this.getAdLinear() && this.getAdPaused() || !this.getAdLinear() && this.getPaused()) && (e = !0) : this.getPaused() && (e = !0), e
                    }.call(e) ? l.hideChrome : r).call(e)
                }, this.delayToFade)
            }
            var l = {};
            l.hideChrome = function() {
                s.default.removeClass(this.dom.container, "rmp-chrome"), s.default.addClass(this.dom.container, "rmp-no-chrome")
            }, l.showChrome = function() {
                s.default.removeClass(this.dom.container, "rmp-no-chrome"), s.default.addClass(this.dom.container, "rmp-chrome"), r.call(this)
            }, l.showCentralPlay = function() {
                s.default.fadeIn(this.dom.overlayButton), l.hideLoadingSpin.call(this)
            }, l.hideCentralPlay = function() {
                s.default.fadeOut(this.dom.overlayButton)
            }, l.disableCentralUI = function() {
                n.default.isMobile ? s.default.addClass(this.dom.centralMobileUI, "rmp-no-display") : s.default.addClass(this.dom.overlayButton, "rmp-no-display"), s.default.addClass(this.dom.loadingSpin, "rmp-no-display")
            }, l.enableCentralUI = function() {
                n.default.isMobile ? s.default.removeClass(this.dom.centralMobileUI, "rmp-no-display") : s.default.removeClass(this.dom.overlayButton, "rmp-no-display"), s.default.removeClass(this.dom.loadingSpin, "rmp-no-display")
            }, l.showLoadingSpin = function() {
                s.default.addClass(this.dom.container, "rmp-waiting"), s.default.fadeIn(this.dom.loadingSpin), l.hideCentralPlay.call(this)
            }, l.hideLoadingSpin = function() {
                s.default.removeClass(this.dom.container, "rmp-waiting"), s.default.fadeOut(this.dom.loadingSpin)
            }, l.protoHideControls = function() {
                s.default.addClass(this.dom.container, "rmp-hide-controls"), this.controls = !1
            }, l.protoShowControls = function() {
                s.default.removeClass(this.dom.container, "rmp-hide-controls"), l.showChrome.call(this), this.controls = !0
            }, l.restorePlayUI = function() {
                s.default.addClass(this.dom.playPause, "rmp-i-play"), s.default.removeClass(this.dom.playPause, "rmp-i-pause"), n.default.isMobile && (s.default.removeClass(this.dom.centralMobileUIIcon, "rmp-i-pause"), s.default.addClass(this.dom.centralMobileUIIcon, "rmp-i-play"), s.default.addClass(this.dom.centralMobileUI, "rmp-mobile-show-play")), l.showCentralPlay.call(this), s.default.createStdEvent("mousemove", this.dom.container)
            }, l.appendHint = function(e) {
                var t = document.createElement("div");
                return s.default.setClass(t, "rmp-hint rmp-color-bg"), s.default.setText(t, e), t
            }, l.appendContentTitle = function() {
                this.dom.contentTitle = document.createElement("div"), this.dom.contentTitle.className = "rmp-title rmp-color-bg", s.default.hideAria(this.dom.contentTitle), s.default.setText(this.dom.contentTitle, this.contentTitle), this.dom.container && this.dom.outline && this.dom.container.insertBefore(this.dom.contentTitle, this.dom.outline)
            }, l.appendPrerollMask = function() {
                this.dom.prerollMask = document.createElement("div"), s.default.setClass(this.dom.prerollMask, "rmp-ad-preroll-mask"), this.dom.prerollMask.style.backgroundColor = "#" + this.backgroundColor, this.dom.content.appendChild(this.dom.prerollMask)
            }, l.appendPoster = function() {
                if (this.dom.poster = document.createElement("div"), s.default.setClass(this.dom.poster, "rmp-poster"), this.dom.poster.style.backgroundColor = "#" + this.backgroundColor, this.dom.content.appendChild(this.dom.poster), this.autoplay && s.default.hide(this.dom.poster), this.dom.posterImg = document.createElement("img"), this.dom.posterImg.alt = "Media player poster frame", s.default.setClass(this.dom.posterImg, "rmp-poster-img"), s.default.cssPropertySupport("objectFit")) switch (this.posterScaleMode) {
                    case "letterbox":
                        s.default.addClass(this.dom.posterImg, "rmp-object-fit-contain");
                        break;
                    case "zoom":
                        s.default.addClass(this.dom.posterImg, "rmp-object-fit-cover");
                        break;
                    case "stretch":
                        s.default.addClass(this.dom.posterImg, "rmp-object-fit-fill");
                        break;
                    case "none":
                        s.default.addClass(this.dom.posterImg, "rmp-object-fit-none");
                        break;
                    default:
                        s.default.addClass(this.dom.posterImg, "rmp-object-fit-contain")
                } else s.default.addClass(this.dom.posterImg, "rmp-poster-img-no-object-fit");
                this.onPosterLoad = function() {
                    this.dom.posterImg.removeEventListener("load", this.onPosterLoad), this.dom.posterImg.removeEventListener("error", this.onPosterError), this.dom.poster.contains(this.dom.posterImg) || this.dom.poster.appendChild(this.dom.posterImg)
                }.bind(this), this.onPosterError = function(e) {
                    this.dom.posterImg.removeEventListener("load", this.onPosterLoad), this.dom.posterImg.removeEventListener("error", this.onPosterError);
                    e = e || null;
                    a.default.warning.call(this, "failed to load poster at " + this.poster, 1001, e)
                }.bind(this), this.dom.posterImg.addEventListener("load", this.onPosterLoad), this.dom.posterImg.addEventListener("error", this.onPosterError);
                var e = s.default.blackFrame;
                "" !== this.poster && (e = this.poster), this.dom.posterImg.src = e
            }, i.default = l
        }, {
            "../../fw/env": 52,
            "../../fw/fw": 53,
            "../utils/error": 44
        }],
        42: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var e = e("../../fw/fw"),
                h = e && e.__esModule ? e : {
                    default: e
                },
                e = {
                    init: function() {
                        h.default.addEvent("mousemove", this.dom.timetotal, function(e) {
                            if (this.dom.indicator) {
                                var t = this.getDuration();
                                if (!(t <= 0)) {
                                    t /= 1e3;
                                    var e = h.default.getPosX(e) - h.default.getAbsLeft(this.dom.timetotal),
                                        i = h.default.getWidth(this.dom.timetotal),
                                        i = (e < 0 ? e = 0 : i <= e && (e = i), e / i),
                                        s = void 0,
                                        i = (t <= (s = this.isLiveDvr ? t - i * t : i * t) ? s = t : s <= 0 && (s = 0), this.isLiveDvr ? "-" + h.default.readableTime(s) : h.default.readableTime(s));
                                    if (this.dom.timeIndicator || (this.dom.timeIndicator = this.dom.indicator.firstChild), h.default.setText(this.dom.timeIndicator, i), this.dom.indicator.style.left = e + "px", this.dom.thumbnailsImg)
                                        for (var n = 0, a = this.thumbnailsArray.length; n < a; n++) {
                                            var o = this.thumbnailsArray[n];
                                            if (null !== o[0] && null !== o[1] && "string" == typeof o[2] && s >= o[0] && s < o[1]) {
                                                if (1 < this.thumbnailURIs.length) {
                                                    for (var r = void 0, l = 0, d = this.thumbnailURIsTimestamps.length; l < d; l++) s >= this.thumbnailURIsTimestamps[l] && (r = this.thumbnailURIs[l]);
                                                    r && r !== this.currentThumbnailURI && (this.currentThumbnailURI = r, this.dom.thumbnailsImg.style.backgroundImage = 'url("' + this.currentThumbnailURI + '")')
                                                }
                                                var o = o[2].split(","),
                                                    c = o[0].trim(),
                                                    u = o[1].trim(),
                                                    o = o[3].trim();
                                                this.dom.thumbnailsImg.style.backgroundPosition = "-" + c + "px -" + u + "px", this.dom.thumbnailsImg.style.height = o + "px", this.dom.thumbnailsImg.style.top = "-" + o + "px"
                                            }
                                        }
                                }
                            }
                        }.bind(this)), h.default.addEvent("mouseenter", this.dom.timetotal, function() {
                            this.hasLoadedMetadata && h.default.fadeIn(this.dom.indicator)
                        }.bind(this)), h.default.addEvent("mouseleave", this.dom.timetotal, function() {
                            this.hasLoadedMetadata && h.default.fadeOut(this.dom.indicator)
                        }.bind(this))
                    }
                };
            i.default = e
        }, {
            "../../fw/fw": 53
        }],
        43: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var s = o(e("../../fw/fw")),
                n = o(e("../utils/error")),
                a = o(e("../utils/utils"));

            function o(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            e = {
                init: function() {
                    this.audioOnly && (this.logo = ""), "" !== this.logo && "bottomleft" !== this.logoPosition && "topleft" !== this.logoPosition && "topright" !== this.logoPosition && "bottomright" !== this.logoPosition && (this.logoPosition = "topleft")
                },
                append: function() {
                    /(\.png|\.jpg|\.gif)/i.test(this.logo) && (this.dom.logoImg = document.createElement("img"), this.dom.logoImg.alt = "Media player logo", this.logoWatermark ? this.dom.logoImg.className = "rmp-logo rmp-force-show" : this.dom.logoImg.className = "rmp-logo", "8px" !== this.logoMargin && (this.dom.logoImg.style.margin = this.logoMargin), "topleft" === this.logoPosition ? s.default.addClass(this.dom.logoImg, "rmp-logo-top-left") : "bottomleft" === this.logoPosition ? s.default.addClass(this.dom.logoImg, "rmp-logo-bottom-left") : "topright" === this.logoPosition ? s.default.addClass(this.dom.logoImg, "rmp-logo-top-right") : "bottomright" === this.logoPosition && s.default.addClass(this.dom.logoImg, "rmp-logo-bottom-right"), this.onLogoLoad = function() {
                        this.dom.logoImg.removeEventListener("load", this.onLogoLoad), this.dom.logoImg.removeEventListener("error", this.onLogoError), this.logoAppended || (this.dom.container.insertBefore(this.dom.logoImg, this.dom.outline.nextSibling), this.logoAppended = !0)
                    }.bind(this), this.onLogoError = function(e) {
                        this.dom.logoImg.removeEventListener("load", this.onLogoLoad), this.dom.logoImg.removeEventListener("error", this.onLogoError), s.default.removeEvent(["touchend", "click"], this.dom.logoImg, this.openLogoUrl);
                        e = e || null;
                        n.default.warning.call(this, "failed to load logo at " + this.logo, 1e3, e)
                    }.bind(this), this.dom.logoImg.addEventListener("load", this.onLogoLoad), this.dom.logoImg.addEventListener("error", this.onLogoError), this.openLogoUrl = a.default.openUrl.bind(this, this.logoLoc), s.default.addEvent(["touchend", "click"], this.dom.logoImg, this.openLogoUrl), this.dom.logoImg.src = this.logo)
                },
                update: function() {
                    this.dom.logoImg.removeEventListener("load", this.onLogoLoad), this.dom.logoImg.removeEventListener("error", this.onLogoError), s.default.removeEvent(["touchend", "click"], this.dom.logoImg, this.openLogoUrl), this.dom.logoImg.addEventListener("load", this.onLogoLoad), this.dom.logoImg.addEventListener("error", this.onLogoError), this.openLogoUrl = a.default.openUrl.bind(this, this.logoLoc), s.default.addEvent(["touchend", "click"], this.dom.logoImg, this.openLogoUrl), this.dom.logoImg.src = this.logo
                }
            };
            i.default = e
        }, {
            "../../fw/fw": 53,
            "../utils/error": 44,
            "../utils/utils": 46
        }],
        44: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var s = d(e("../../fw/fw")),
                n = d(e("../ui/core-ui")),
                a = d(e("../modules/modules")),
                o = d(e("../ready")),
                r = d(e("../../abr/shaka")),
                l = d(e("../../abr/hls"));

            function d(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            var c = {
                errorLayout: function() {
                    var t = this,
                        e = (this.playerReady || o.default.minimalFire.call(this), this.dom.container.querySelector(".rmp-error")),
                        i = (null !== e && s.default.removeElement(e), (e = document.createElement("div")).className = "rmp-error", "" !== this.labels.error.customErrorMessage && ((i = document.createElement("div")).className = "rmp-error-text", s.default.setText(i, this.labels.error.customErrorMessage), e.appendChild(i)), this.dom.content.appendChild(e), !1);
                    (this.readingMp4 && 1 < this.src.mp4.length || this.hasPlaylist || this.hasRelated) && (i = !0), this.changingSrc && (this.changingSrc = !1), a.default.closeAll.call(this), i || (a.default.hide.call(this), this.readingPDorNative && this.dom.video && this.dom.video.removeEventListener("error", this.generateError, !0)), n.default.disableCentralUI.call(this), s.default.hide(this.dom.poster), this.readingHlsJS ? (l.default.destroy.call(this), s.default.createStdEvent("error", this.dom.container)) : this.readingDash || this.readingHlsShaka ? this.shakaPlayer ? (r.default.destroy.call(this), this.shakaPlayer.destroy().then(function() {
                        s.default.createStdEvent("error", t.dom.container)
                    }).catch(function(e) {
                        s.default.trace(e), s.default.createStdEvent("error", t.dom.container)
                    })) : s.default.createStdEvent("error", this.dom.container) : (s.default.clearNativeHtml5Buffer(this.dom.video), s.default.createStdEvent("error", this.dom.container))
                },
                isFatal: function(e) {
                    if (e && s.default.isObject(e.error) && "number" == typeof e.error.code) {
                        var t = e.error.code;
                        if ("string" == typeof e.error.message && e.error.message, 4 === t) return !0
                    }
                    return !1
                },
                fatal: function(e, t, i) {
                    this.errorData = {
                        code: t,
                        message: e,
                        event: i,
                        fatal: !0
                    }, c.errorLayout.call(this)
                },
                warning: function(e, t, i) {
                    this.errorData = {
                        code: t,
                        message: e,
                        event: i,
                        fatal: !1
                    }, s.default.createStdEvent("warning", this.dom.container)
                },
                mediaTag: function(e) {
                    e && e.target && c.isFatal(e.target) && c.fatal.call(this, "error on HTML5 media element", 100, e)
                }
            };
            i.default = c
        }, {
            "../../abr/hls": 3,
            "../../abr/shaka": 4,
            "../../fw/fw": 53,
            "../modules/modules": 30,
            "../ready": 35,
            "../ui/core-ui": 41
        }],
        45: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var m = n(e("../../fw/fw")),
                o = n(e("../../fw/env")),
                s = n(e("../ready"));

            function n(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function g(e, t) {
                o.default.localStorage(t) && (t = {
                    value: e,
                    timestamp: (new Date).getTime().toString()
                }, window.localStorage.setItem("rmpLU", JSON.stringify(t)))
            }

            function r(e) {
                var t = this;
                if (o.default.localStorage(this.allowLocalStorage) && null !== window.localStorage.getItem("rmpLU")) {
                    var i = JSON.parse(window.localStorage.getItem("rmpLU")),
                        s = parseInt(i.timestamp);
                    if (m.default.isNumber(s)) {
                        var s = i.value,
                            i = parseInt(i.timestamp),
                            n = (new Date).getTime();
                        if ("true" === s && n < i + 36e5) return
                    }
                }
                this.licUrl = e + "?rdm=" + Math.floor((new Date).getTime() / 36e5);
                var a = function(e) {
                    var t = void 0;
                    this.isLicValid = "true";
                    try {
                        t = JSON.parse(e)
                    } catch (e) {
                        return m.default.trace(e), void g("false", this.allowLocalStorage)
                    }
                    if (t && Array.isArray(t.sites) && this.ragnarok)
                        for (var i = t.sites, s = 0, n = i.length; s < n; s++)
                            if (-1 < this.ragnarok.indexOf(i[s])) {
                                v.endPlayer.call(this, "RMP Edition auth failed"), this.isLicValid = "false";
                                break
                            } g(this.isLicValid, this.allowLocalStorage)
                }.bind(this);
                m.default.ajax(this.licUrl, this.ajaxInternalTimeout, !1, "GET").then(a).catch(function(e) {
                    m.default.clearTimeout(t.siteCheckerRetryTimeout), t.siteCheckerRetryTimeout = setTimeout(function() {
                        m.default.ajax(t.licUrl, t.ajaxInternalTimeout, !1, "GET").then(a).catch(function(e) {
                            g("false", t.allowLocalStorage)
                        })
                    }, 1e4)
                })
            }

            function l(e) {
                var t = void 0,
                    i = [],
                    s = [],
                    n = "";
                try {
                    t = JSON.parse(e)
                } catch (e) {
                    return m.default.trace(e), void g(this.isLicValid, this.allowLocalStorage)
                }
                if (t && Array.isArray(t.sites))
                    for (var a = t.sites, o = 0, r = a.length; o < r; o++)
                        if (a[o].license)
                            if (a[o].license.split("").reverse().join("") === this.licenseKey) {
                                this.isLicValid = "true", y ? Array.isArray(a[o].appWhitelist) && 0 < a[o].appWhitelist.length && (s = a[o].appWhitelist) : Array.isArray(a[o].blacklist) && 0 < a[o].blacklist.length ? (i = a[o].blacklist, n = "blacklist") : Array.isArray(a[o].whitelist) && 0 < a[o].whitelist.length && (i = a[o].whitelist, n = "whitelist");
                                break
                            } if ("false" === this.isLicValid) g(this.isLicValid, this.allowLocalStorage), v.endPlayer.call(this, "PLATFORM Edition auth failed");
                else {
                    if (b) this.isLicValid = "true";
                    else {
                        if (!y && 0 < i.length) {
                            if ("blacklist" === n) {
                                this.isLicValid = "true";
                                for (var l = 0, d = i.length; l < d; l++)
                                    if (-1 < this.ragnarok.indexOf(i[l])) {
                                        this.isLicValid = "false";
                                        break
                                    }
                            } else if ("whitelist" === n) {
                                this.isLicValid = "false";
                                for (var c = 0, u = i.length; c < u; c++)
                                    if (-1 < this.ragnarok.indexOf(i[c])) {
                                        this.isLicValid = "true";
                                        break
                                    }
                            }
                        } else if (y && 0 < s.length && "string" == typeof s[0] && "" !== s[0]) {
                            t = this.dom.container.getAttribute("data-rwlan");
                            if (t) {
                                this.isLicValid = "false";
                                var h = void 0;
                                try {
                                    h = window.atob(t)
                                } catch (e) {
                                    m.default.log(h = null, e)
                                }
                                if (h)
                                    for (var p = 0, f = s.length; p < f; p++)
                                        if (-1 < h.indexOf(s[p])) {
                                            this.isLicValid = "true";
                                            break
                                        }
                            } else this.isLicValid = "false"
                        }
                        "false" === this.isLicValid && v.endPlayer.call(this, "PLATFORM Edition auth failed")
                    }
                    g(this.isLicValid, this.allowLocalStorage)
                }
            }
            var v = {},
                d = "https://cdn.radiantmediatechs.com/rmp/rr/vgs.json",
                c = "https://cdn.radiantmediatechs.com/rmp/rr/vgt.json",
                u = "https://cdn.radiantmediatechs.com/rmp/rr/vgrp.json",
                y = !1,
                b = !1,
                h = {
                    "=": "a",
                    "+": "b",
                    y: "c",
                    z: "d",
                    v: "e",
                    u: "f",
                    d: "g",
                    b: "h",
                    s: "i",
                    q: "j",
                    a: "k",
                    c: "l",
                    i: "m",
                    k: "n",
                    e: "o",
                    g: "p",
                    n: "q",
                    o: "r",
                    0: "s",
                    7: "t",
                    8: "u",
                    9: "v",
                    4: "w",
                    5: "x",
                    6: "y",
                    1: "z",
                    2: ".",
                    3: "-"
                },
                p = (v.endPlayer = function(e) {
                    this.licenseFailedDestroyRequested = !0, s.default.minimalFire.call(this), this.licenseDestroyCompleted = function() {
                        var e = document.getElementById(this.id);
                        e && (e.removeEventListener("destroycompleted", this.licenseDestroyCompleted), m.default.removeElement(e))
                    }.bind(this), this.dom.container.addEventListener("destroycompleted", this.licenseDestroyCompleted), m.default.log("player", "invalid license for Radiant Media Player"), this.destroy()
                }, ["streams.rip", "liluka-site.eu", "www.liluka-site.eu"]);
            v.isValidSiteKey = function(e, t) {
                var i = void 0;
                if ("function" != typeof window.atob) return 2;
                try {
                    if (d !== window.atob("aHR0cHM6Ly9jZG4ucmFkaWFudG1lZGlhdGVjaHMuY29tL3JtcC9yci92Z3MuanNvbg==") || c !== window.atob("aHR0cHM6Ly9jZG4ucmFkaWFudG1lZGlhdGVjaHMuY29tL3JtcC9yci92Z3QuanNvbg==") || u !== window.atob("aHR0cHM6Ly9jZG4ucmFkaWFudG1lZGlhdGVjaHMuY29tL3JtcC9yci92Z3JwLmpzb24=")) return 0;
                    i = window.atob(e)
                } catch (e) {
                    return 0
                }
                if ("file:" === o.default.getProtocol ? y = !0 : b = function(e) {
                        return !!(e && (e === this.originLocal && /host$/.test(e) || e === this.rmpDev && /\.rmp$/.test(e) || /^\d+\.\d+\.\d+\.\d+$/i.test(e) && (e === this.altLocal || /^192\.168\./i.test(e) || /^172\.[1-3]/i.test(e) || /^10\./i.test(e))))
                    }.call(this, t), /^\D{10}@\d+$/i.test(i)) return "a2VpdWR5dHNobEAxNDg4ODkxNTQy" === this.licenseKey && -1 < p.indexOf(this.ragnarok) ? 0 : (this.licType = "plus", function(e) {
                    var t = this;
                    if (o.default.localStorage(this.allowLocalStorage) && null !== window.localStorage.getItem("rmpLU")) {
                        var i = JSON.parse(window.localStorage.getItem("rmpLU")),
                            s = parseInt(i.timestamp);
                        if (m.default.isNumber(s)) {
                            var s = i.value,
                                i = parseInt(i.timestamp),
                                n = (new Date).getTime();
                            if ("true" === s && n < i + 36e5) return
                        }
                    }
                    this.licUrl = e + "?rdm=" + Math.floor((new Date).getTime() / 36e5), m.default.ajax(this.licUrl, this.ajaxInternalTimeout, !1, "GET").then(l.bind(this)).catch(function(e) {
                        m.default.clearTimeout(t.rmpPlusCheckerRetryTimeout), t.rmpPlusCheckerRetryTimeout = setTimeout(function() {
                            m.default.ajax(t.licUrl, t.ajaxInternalTimeout, !1, "GET").then(l.bind(t)).catch(function(e) {
                                g("false", t.allowLocalStorage)
                            })
                        }, 1e4)
                    })
                }.call(this, u), 3);
                if (!/\*_%.+/i.test(i)) return 0;
                var s = !1,
                    n = (-1 < (i = (i = i.replace("*_%", "")).replace("%_*", "")).indexOf("?") && "rom5dasis30db0A" === i.split("?")[1] && (s = !0, i = i.replace("?rom5dasis30db0A", "")), function(e) {
                        var t, i, s, n = void 0;
                        return -1 < e.indexOf("!") ? (n = e.split("!"), t = {
                            s: 0,
                            c: 1,
                            o: 2,
                            g: 3,
                            i: 4,
                            k: 5,
                            m: 6,
                            e: 7,
                            q: 8,
                            a: 9
                        }, e = n[0].replace(/[scogikmeqa]/g, function(e) {
                            return t[e]
                        }), !/^\d+$/.test(e) || (e = parseInt(e, 10), s = (i = new Date).getTime(), (i = Math.round(s / 1e3)) + 1382400 < e) || e < i ? [!0, n[1], "expired"] : [!0, n[1], "notexpired"]) : [!1, null, "notexpired"]
                    }.call(this, i)),
                    a = n[0];
                if (a && (this.licType = "trial", i = n[1], "expired" === n[2])) return m.default.log("license", "trial has expired"), 0;
                if (y && !a) return 0;
                if (b) {
                    if (s || a) return 2;
                    if (!s) return 1
                }
                n = i.replace(/[=+yzvudbsqacikegno0789456123]/g, function(e) {
                    return h[e]
                }), a ? y || r.call(this, c, n) : r.call(this, d, n), i = !1;
                return (y || -1 < t.replace(/\d/g, "").indexOf(n)) && (i = !0), (a || s) && i ? 2 : s || a || !i ? 0 : 1
            }, v.ck = function() {
                var e = v.isValidSiteKey.call(this, this.licenseKey, this.ragnarok);
                return 0 !== e && (1 === e ? !(this.video360 || this.ads || !m.default.isEmptyObject(this.shakaDrm) || this.hasRelated) : 2 === e || 3 === e || void 0)
            }, i.default = v
        }, {
            "../../fw/env": 52,
            "../../fw/fw": 53,
            "../ready": 35
        }],
        46: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var l = c(e("../../fw/fw")),
                s = c(e("../../fw/env")),
                a = c(e("../../fw/defaults/input-defaults")),
                n = c(e("../ui/core-ui")),
                o = c(e("../../core/dom")),
                r = c(e("../../abr/fps")),
                d = c(e("./error"));

            function c(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            var u = {
                openUrl: function(e, t) {
                    t && t.stopPropagation(), n.default.showChrome.call(this), "touchend" !== t.type && "string" == typeof e && "" !== e && (this.getPaused() || this.pause(), window.open(e, "_blank"))
                },
                checkStreams: function(s, e, n) {
                    var t, a, o, r;
                    l.default.isEmptyObject(e) || Array.isArray(e) && e.length < 1 ? s() : (t = e, Array.isArray(e) ? t.unshift(this.src) : t = [this.src, e], a = [], t.forEach(function(e) {
                        l.default.srcExists(e[n], n) && a.push(e)
                    }), o = 0, (r = function() {
                        var e = this,
                            t = a[o],
                            i = t[n];
                        (function(e, t) {
                            var i = e;
                            Array.isArray(e) && ("string" == typeof e[this.initialBitrate] ? i = e[this.initialBitrate] : "string" == typeof e[0] && (this.initialBitrate = 0, i = e[this.initialBitrate])), this.src = t, this.startingBitratePath = i, this.castUrl = i
                        }).call(this, i, t), l.default.ajax(this.startingBitratePath, this.ajaxTimeout, this.ajaxWithCredentials, "HEAD").then(function() {
                            s()
                        }).catch(function() {
                            o === a.length - 1 ? s() : (o++, d.default.warning.call(e, "URI " + e.startingBitratePath + " is unavailable - trying next", 1007, null), r.call(e))
                        })
                    }).call(this))
                }
            };
            u.filterInput = function(e) {
                var t, i, s = {};
                for (t in a.default) Object.prototype.hasOwnProperty.call(a.default, t) && (void 0 !== e[t] ? "shakaCustomRequestFilter" === t || "hlsJSXhrSetup" === t ? "function" == typeof e[t] ? s[t] = e[t] : s[t] = null : typeof e[t] != typeof a.default[t] ? s[t] = a.default[t] : s[t] = "labels" === t ? function(e) {
                    var t, i = {};
                    for (t in a.default.labels)
                        if (Object.prototype.hasOwnProperty.call(a.default.labels, t))
                            if (void 0 === i[t] && (i[t] = {}), typeof e[t] == typeof a.default.labels[t]) {
                                var s, n = a.default.labels[t];
                                for (s in n) typeof e[t][s] == typeof n[s] ? i[t][s] = e[t][s] : i[t][s] = a.default.labels[t][s]
                            } else i[t] = a.default.labels[t];
                    return i
                }(e[t]) : e[t] : s[t] = a.default[t], "string" == typeof s[t]) && (s[t] = s[t].trim());
                for (i in s) Object.prototype.hasOwnProperty.call(s, i) && (this[i] = s[i])
            }, u.resetSrc = function() {
                this.hasMp4 = !1, this.hasMp4Hevc = !1, this.hasWebM = !1, this.hasHls = !1, this.hasHlsHevc = !1, this.hasDash = !1, this.hasFps = !1, this.hasM4a = !1, this.hasMp3 = !1, this.okOgg = !1
            }, u.detectSrc = function() {
                l.default.srcExists(this.src.mp4, "mp4") && (this.hasMp4 = !0, this.isVod || (this.hasMp4 = !1)), l.default.srcExists(this.src.mp4Hevc, "mp4Hevc") && (this.hasMp4Hevc = !0, this.isVod || (this.hasMp4Hevc = !1)), l.default.srcExists(this.src.webm, "webm") && (this.hasWebM = !0, this.isVod || (this.hasWebM = !1)), l.default.srcExists(this.src.hls, "hls") && (this.hasHls = !0), l.default.srcExists(this.src.hlsHevc, "hlsHevc") && (this.hasHlsHevc = !0), l.default.srcExists(this.src.dash, "dash") && (this.hasDash = !0, this.isLiveDvr) && (this.hasDash = !1), l.default.isEmptyObject(this.shakaDrm) || (this.hasDash && (this.dashFirst = !0, this.hasHls || this.hasHlsHevc) && (this.hlsEngine = "hlsjs"), s.default.isMacosSafari[0] && (this.okDash = !1, this.hlsEngine = "hlsjs")), l.default.srcExists(this.src.fps, "fps") && (this.hasFps = !0, this.airplay = !1)
            }, u.detectAudioSrc = function() {
                l.default.srcExists(this.src.m4a, "m4a") && (this.hasM4a = !0, this.isVod || (this.hasM4a = !1)), l.default.srcExists(this.src.mp3, "mp3") && (this.hasMp3 = !0, this.isVod || (this.hasMp3 = !1)), l.default.srcExists(this.src.ogg, "ogg") && (this.hasOgg = !0, this.isVod || (this.hasOgg = !1)), l.default.srcExists(this.src.hls, "hls") && (this.hasHls = !0), l.default.srcExists(this.src.dash, "dash") && (this.hasDash = !0, this.isLiveDvr) && (this.hasDash = !1)
            }, u.createNativeSrc = function(e) {
                o.default.prepare.call(this), u.checkStreams.call(this, function() {
                    this.readingFps ? r.default.init.call(this) : this.dom.video.src = this.startingBitratePath, o.default.append.call(this)
                }.bind(this), this.backupSrc, e)
            }, u.getCSS = function() {
                var e = this.pathToRmpFiles + "css/rmp-" + this.skin + ".min.css";
                this.cssLink = document.createElement("link"), this.cssLink.id = "rmp-dress-code", this.cssLink.type = "text/css", this.cssLink.rel = "stylesheet", this.cssLink.href = e, l.default.addEventListenerCSS ? (this.onLoadedCSS = function(e) {
                    l.default.clearTimeout(this.cssLinkTimeout), this.cssLoaded || (this.cssLoaded = !0, l.default.addEventListenerCSS && (this.cssLink.removeEventListener("load", this.onLoadedCSS), this.cssLink.removeEventListener("error", this.onLoadedCSS)), this.initConfig())
                }.bind(this), this.cssLink.addEventListener("load", this.onLoadedCSS), this.cssLink.addEventListener("error", this.onLoadedCSS), l.default.clearTimeout(this.cssLinkTimeout), this.cssLinkTimeout = setTimeout(this.onLoadedCSS, 2500), l.default.appendToHead(this.cssLink)) : (l.default.appendToHead(this.cssLink), this.initConfig())
            }, u.clearAdAutoplayEvents = function() {
                this.dom.container.removeEventListener("adstarted", this.onAdAutoplaySuccess), this.dom.container.removeEventListener("adinitialplayrequestsucceeded", this.onAdAutoplaySuccess), this.dom.container.removeEventListener("adinitialplayrequestfailed", this.onAdAutoplayFailed)
            }, u.fireAutoplayFailure = function() {
                this.autoplay = !1, l.default.createStdEvent("autoplayfailure", this.dom.container)
            }, u.autoplayFailureRestorePlayUI = function() {
                this.initialAutoplayRequest = !1, this.ads && u.clearAdAutoplayEvents.call(this), l.default.show(this.dom.poster), n.default.restorePlayUI.call(this), u.fireAutoplayFailure.call(this)
            }, u.fireAutoplaySuccess = function() {
                this.initialAutoplayRequest = !1, this.ads && u.clearAdAutoplayEvents.call(this), l.default.createStdEvent("autoplaysuccess", this.dom.container)
            }, u.playPromise = function() {
                var t = this,
                    i = !1,
                    e = (this.autoplay && this.initialAutoplayRequest && (i = !0, this.initialAutoplayRequest = !1), this.dom.video.play());
                void 0 !== e ? e.then(function() {
                    i && u.fireAutoplaySuccess.call(t)
                }).catch(function(e) {
                    (i ? u.autoplayFailureRestorePlayUI : n.default.restorePlayUI).call(t)
                }) : i && u.fireAutoplaySuccess.call(this)
            }, u.assignPlaybackCapabilities = function() {
                this.okDash = s.default.okDash, this.okHls = s.default.okHls, this.okHlsHevc = s.default.okHlsHevc, this.okHlsJS = s.default.okHlsJS, "hlsjs" === this.hlsEngine && (s.default.isAndroid[0] && s.default.isAndroid[1] < 5 && (this.okHls || (this.okHls = !0), this.forceNativeHlsOverHlsJS = !0), this.forceNativeHlsOverHlsJS && this.okHlsJS && this.okHls && (this.okHlsJS = !1), s.default.isMacosSafari[0]) && !this.forceHlsJSOnMacOSSafari && this.okHls && (this.okHlsJS = !1), this.isLiveDvr && (!this.okHlsJS && l.default.srcExists(this.src.hls, "hls") && this.okHls || l.default.srcExists(this.src.hlsHevc, "hlsHevc") && this.okHlsHevc) && (this.isLiveDvr = !1, this.isLive = !0), this.okFps = s.default.okFps, this.okWebM = s.default.testWebM(this.webmCodecs, s.default.html5Video), this.okMp4 = s.default.okMp4, this.okMp4Hevc = s.default.hasHevcSupport, this.audioOnly && (this.okM4a = s.default.okM4a, this.okMp3 = s.default.okMp3, this.okOgg = s.default.testOgg(this.oggCodec, s.default.html5Audio))
            }, i.default = u
        }, {
            "../../abr/fps": 2,
            "../../core/dom": 25,
            "../../fw/defaults/input-defaults": 51,
            "../../fw/env": 52,
            "../../fw/fw": 53,
            "../ui/core-ui": 41,
            "./error": 44
        }],
        47: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var e = e("../../fw/fw"),
                s = e && e.__esModule ? e : {
                    default: e
                },
                n = {
                    destroy: function() {
                        if ((this.viewableAutoplay || this.viewablePlayPause) && this.viewableObserver) try {
                            this.viewableObserver.disconnect()
                        } catch (e) {
                            s.default.trace(e)
                        }
                    }
                };
            n.set = function() {
                this.attachViewableObserver = function() {
                    this.dom.container.removeEventListener("ready", this.attachViewableObserver);
                    var e = {
                        root: null,
                        rootMargin: "0px",
                        threshold: [this.viewableThreshold]
                    };
                    this.viewablePreviousRatio = this.viewableThreshold, this.viewableObserver = new window.IntersectionObserver(function(e) {
                        var i = this;
                        e.forEach(function(e) {
                            var t = i.getPlayerInitialized();
                            e.intersectionRatio > i.viewablePreviousRatio ? i.viewablePlayPause ? i.play() : i.viewableAutoplay && !t && (i.play(), n.destroy.call(i)) : i.viewablePlayPause && t && i.pause(), i.viewablePreviousRatio = e.intersectionRatio
                        })
                    }.bind(this), e), this.viewableObserver.observe(this.dom.container)
                }.bind(this), this.dom.container.addEventListener("ready", this.attachViewableObserver)
            }, i.default = n
        }, {
            "../../fw/fw": 53
        }],
        48: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var s = r(e("../../fw/fw")),
                n = r(e("../../fw/env")),
                a = r(e("../ui/core-ui")),
                o = r(e("../../cast/cast"));

            function r(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            var l = {
                getVolumeAds: function() {
                    return "ima" === this.adParser && this.adsManager && "function" == typeof this.adsManager.getVolume ? this.adsManager.getVolume() : "rmp-vast" === this.adParser && this.rmpVast && "function" == typeof this.rmpVast.getVolume ? this.rmpVast.getVolume() : -2
                },
                setVolumeAds: function(e) {
                    "ima" === this.adParser && this.adsManager && "function" == typeof this.adsManager.setVolume ? this.adsManager.setVolume(e) : "rmp-vast" === this.adParser && this.rmpVast && "function" == typeof this.rmpVast.setVolume && this.rmpVast.setVolume(e)
                },
                protoMute: function() {
                    this.currentVolume = this.getVolume(), o.default.castingAPIAvailable.call(this) ? (this.remotePlayerController.muteOrUnmute(), l.change.call(this)) : (this.muted = !0, this.dom.video.muted = !0, this.getAdOnStage() && this.getAdLinear() && ("ima" === this.adParser ? l.setVolumeAds.call(this, 0) : "rmp-vast" === this.adParser && this.rmpVast && "function" == typeof this.rmpVast.setMute && this.rmpVast.setMute(!0))), this.dom.currentVolume.style.height = "0px", s.default.addClass(this.dom.volume, "rmp-i-volume-off"), s.default.removeClass(this.dom.volume, "rmp-i-volume-up")
                },
                protoUnmute: function() {
                    if (o.default.castingAPIAvailable.call(this)) this.remotePlayerController.muteOrUnmute(), l.change.call(this);
                    else {
                        if (this.permanentMuted) return;
                        this.muted = !1, this.dom.video.muted = !1, this.getAdOnStage() && this.getAdLinear() && "rmp-vast" === this.adParser && this.rmpVast && "function" == typeof this.rmpVast.setMute && this.rmpVast.setMute(!1), 0 < this.currentVolume && this.currentVolume < 1 ? this.setVolume(this.currentVolume) : this.setVolume(1)
                    }
                    s.default.addClass(this.dom.volume, "rmp-i-volume-up"), s.default.removeClass(this.dom.volume, "rmp-i-volume-off")
                },
                writeToLocalStorage: function(e) {
                    if (this.rememberVolume && n.default.localStorage(this.allowLocalStorage)) {
                        var t = {
                            value: e.toString()
                        };
                        try {
                            window.localStorage.setItem("rmpVolume", JSON.stringify(t))
                        } catch (e) {
                            s.default.trace(e)
                        }
                    }
                },
                volumeInteraction: function(e) {
                    e && (e.stopPropagation(), "touchend" === e.type) && e.preventDefault(), a.default.showChrome.call(this);
                    e = 0;
                    this.getMute() ? (this.setMute(!1), e = this.getVolume()) : this.setMute(!0), l.writeToLocalStorage.call(this, e)
                },
                change: function() {
                    var e = this.getMute(),
                        e = (this.volumeBarHeight = e ? 0 : s.default.getHeight(this.dom.volumeBar), 0);
                    o.default.castingAPIAvailable.call(this) ? s.default.isNumber(this.remotePlayer.volumeLevel) && (e = this.remotePlayer.volumeLevel * this.volumeBarHeight) : (s.default.isNumber(this.dom.video.volume) && (e = this.dom.video.volume * this.volumeBarHeight), s.default.createStdEvent("volumechange", this.dom.container)), this.dom.currentVolume && 0 <= e && (this.dom.currentVolume.style.height = e + "px")
                },
                setHtml5Volume: function(e) {
                    var t;
                    e && (e.stopPropagation(), this.volumeBarHeight = s.default.getHeight(this.dom.volumeBar), t = s.default.getAbsTop(this.dom.volumeBar), (e = 1 - (s.default.getPosY(e) - t) / this.volumeBarHeight) < .1 ? e = 0 : .9 < e && (e = 1), this.currentVolume = e, l.writeToLocalStorage.call(this, this.currentVolume), o.default.castingAPIAvailable.call(this) ? (this.remotePlayer.volumeLevel = e, this.remotePlayerController.setVolumeLevel(), this.remotePlayer.isMuted && this.remotePlayerController.muteOrUnmute(), l.change.call(this)) : (this.getMute() && this.setMute(!1), this.dom.video.volume = this.currentVolume, this.getAdOnStage() && this.getAdLinear() && l.setVolumeAds.call(this, e)))
                }
            };
            i.default = l
        }, {
            "../../cast/cast": 22,
            "../../fw/env": 52,
            "../../fw/fw": 53,
            "../ui/core-ui": 41
        }],
        49: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var s = {},
                n = new Blob([new Uint8Array([255, 227, 24, 196, 0, 0, 0, 3, 72, 1, 64, 0, 0, 4, 132, 16, 31, 227, 192, 225, 76, 255, 67, 12, 255, 221, 27, 255, 228, 97, 73, 63, 255, 195, 131, 69, 192, 232, 223, 255, 255, 207, 102, 239, 255, 255, 255, 101, 158, 206, 70, 20, 59, 255, 254, 95, 70, 149, 66, 4, 16, 128, 0, 2, 2, 32, 240, 138, 255, 36, 106, 183, 255, 227, 24, 196, 59, 11, 34, 62, 80, 49, 135, 40, 0, 253, 29, 191, 209, 200, 141, 71, 7, 255, 252, 152, 74, 15, 130, 33, 185, 6, 63, 255, 252, 195, 70, 203, 86, 53, 15, 255, 255, 247, 103, 76, 121, 64, 32, 47, 255, 34, 227, 194, 209, 138, 76, 65, 77, 69, 51, 46, 57, 55, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 255, 227, 24, 196, 73, 13, 153, 210, 100, 81, 135, 56, 0, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170])], {
                    type: "audio/mpeg"
                }),
                a = new Blob([new Uint8Array([0, 0, 0, 28, 102, 116, 121, 112, 105, 115, 111, 109, 0, 0, 2, 0, 105, 115, 111, 109, 105, 115, 111, 50, 109, 112, 52, 49, 0, 0, 0, 8, 102, 114, 101, 101, 0, 0, 2, 239, 109, 100, 97, 116, 33, 16, 5, 32, 164, 27, 255, 192, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 55, 167, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 112, 33, 16, 5, 32, 164, 27, 255, 192, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 55, 167, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 112, 0, 0, 2, 194, 109, 111, 111, 118, 0, 0, 0, 108, 109, 118, 104, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 232, 0, 0, 0, 47, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 1, 236, 116, 114, 97, 107, 0, 0, 0, 92, 116, 107, 104, 100, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 47, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 36, 101, 100, 116, 115, 0, 0, 0, 28, 101, 108, 115, 116, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 47, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 100, 109, 100, 105, 97, 0, 0, 0, 32, 109, 100, 104, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 172, 68, 0, 0, 8, 0, 85, 196, 0, 0, 0, 0, 0, 45, 104, 100, 108, 114, 0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0, 0, 0, 1, 15, 109, 105, 110, 102, 0, 0, 0, 16, 115, 109, 104, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 36, 100, 105, 110, 102, 0, 0, 0, 28, 100, 114, 101, 102, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1, 0, 0, 0, 211, 115, 116, 98, 108, 0, 0, 0, 103, 115, 116, 115, 100, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 87, 109, 112, 52, 97, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 16, 0, 0, 0, 0, 172, 68, 0, 0, 0, 0, 0, 51, 101, 115, 100, 115, 0, 0, 0, 0, 3, 128, 128, 128, 34, 0, 2, 0, 4, 128, 128, 128, 20, 64, 21, 0, 0, 0, 0, 1, 244, 0, 0, 1, 243, 249, 5, 128, 128, 128, 2, 18, 16, 6, 128, 128, 128, 1, 2, 0, 0, 0, 24, 115, 116, 116, 115, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2, 0, 0, 4, 0, 0, 0, 0, 28, 115, 116, 115, 99, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 2, 0, 0, 0, 1, 0, 0, 0, 28, 115, 116, 115, 122, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 1, 115, 0, 0, 1, 116, 0, 0, 0, 20, 115, 116, 99, 111, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 44, 0, 0, 0, 98, 117, 100, 116, 97, 0, 0, 0, 90, 109, 101, 116, 97, 0, 0, 0, 0, 0, 0, 0, 33, 104, 100, 108, 114, 0, 0, 0, 0, 0, 0, 0, 0, 109, 100, 105, 114, 97, 112, 112, 108, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 45, 105, 108, 115, 116, 0, 0, 0, 37, 169, 116, 111, 111, 0, 0, 0, 29, 100, 97, 116, 97, 0, 0, 0, 1, 0, 0, 0, 0, 76, 97, 118, 102, 53, 54, 46, 52, 48, 46, 49, 48, 49])], {
                    type: "video/mp4"
                });

            function o(e) {
                return Object.assign({
                    muted: !1,
                    timeout: 250,
                    inline: !1
                }, e)
            }

            function r(e, t) {
                var s, i = e.muted,
                    n = e.timeout,
                    e = e.inline,
                    t = t(),
                    a = t.element,
                    t = t.source,
                    o = void 0,
                    r = void 0;
                return !0 === (a.muted = i) && a.setAttribute("muted", "muted"), !0 === e && a.setAttribute("playsinline", "playsinline"), a.src = t, new Promise(function(i) {
                    o = a.play(), s = setTimeout(function() {
                        r(!1, new Error("Timeout " + n + " ms has been reached"))
                    }, n), r = function(e) {
                        var t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : null;
                        clearTimeout(s), i({
                            result: e,
                            error: t
                        })
                    }, void 0 !== o ? o.then(function() {
                        return r(!0)
                    }).catch(function(e) {
                        return r(!1, e)
                    }) : r(!0)
                })
            }
            s.video = function(e) {
                return r(e = o(e), function() {
                    return {
                        element: document.createElement("video"),
                        source: URL.createObjectURL(a)
                    }
                })
            }, s.audio = function(e) {
                return r(e = o(e), function() {
                    return {
                        element: document.createElement("audio"),
                        source: URL.createObjectURL(n)
                    }
                })
            }, i.default = s
        }, {}],
        50: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });

            function s() {
                return null
            }
            var n = "string" == typeof window.rmpGetRagnarok ? window.rmpGetRagnarok : window.location && window.location.hostname ? window.location.hostname.toLowerCase() : null;
            i.default = {
                set: function() {
                    this.playerVersion = "5.0.7", this.playerReady = !1, this.hasLoadedMetadata = !1, this.timeReady = 0, this.isInFullscreen = !1, this.isVod = !0, this.isHTML5 = !0, this.setSrcPDModule = !1, this.startingBitratePath = "", this.firstPlay = !0, this.draggingTimeCursor = !1, this.touchDown = !1, this.mouseupDoc = s, this.mousemoveDoc = s, this.throttledResize = s, this.firstFrameReached = !1, this.useVideoTitle = !1, this.msePreloadRequested = !1, this.msePreloadCompleted = !1, this.abrAutoMode = !0, this.changingSrc = !1, this.afterMp4BitrateSwitch = s, this.afterSrcSwitch = null, this.currentVolume = 1, this.volumeBarHeight = 0, this.initialAspectRatio = 1.7777777778, this.initialWidth = -1, this.initialHeight = -1, this.hasNativeFullscreenSupport = !1, this.fullWindowMode = !1, this.throttledResizeTimeout = null, this.onPosterLoad = s, this.onPosterError = s, this.logoAppended = !1, this.onLogoLoad = s, this.onLogoError = s, this.openLogoUrl = s, this.windowOnline = s, this.windowOffline = s, this.readingMp4 = !1, this.readingMp4Hevc = !1, this.readingWebM = !1, this.readingM4a = !1, this.readingMp3 = !1, this.readingOgg = !1, this.readingDash = !1, this.readingHlsJS = !1, this.readingHlsShaka = !1, this.readingHls = !1, this.readingHlsHevc = !1, this.readingPDorNative = !0, this.readingOutstream = !1, this.readingMse = !1, this.hasMp4 = !1, this.hasMp4Hevc = !1, this.hasWebM = !1, this.hasM4a = !1, this.hasMp3 = !1, this.hasOgg = !1, this.hasHls = !1, this.hasHlsHevc = !1, this.hasFps = !1, this.hasDash = !1, this.okDash = !1, this.okHlsJS = !1, this.okFps = !1, this.okHls = !1, this.okWebM = !1, this.okMp4 = !1, this.okMp4Hevc = !1, this.okM4a = !1, this.okMp3 = !1, this.okOgg = !1, this.viewablePreviousRatio = .5, this.viewableObserver = null, this.attachViewableObserver = s, this.processInitiatePlayback = null, this.initiatePlayback = s, this.bindKeyboard = s, this.showChrome = s, this.containerTouch = s, this.containerClick = s, this.removeFocusToContainer = s, this.addTabKeyDetection = s, this.controls = !0, this.fullscreenchange = s, this.fullscreenerror = s, this.unstalledBuffer = s, this.firstBufferStalledEvent = !0, this.licenseFailedDestroyRequested = !1, this.destroyRunning = !1, this.onStartSeekToOffset = s, this.forceResetTimer = !1, this.chromeTimer = null, this.touchRmp = !1, this.cssLink = null, this.cssLinkTimeout = null, this.initConfig = s, this.cssLoaded = !1, this.onLoadedCSS = s, this.loadstartFn = s, this.durationchangeFn = s, this.loadedmetadataFn = s, this.loadeddataFn = s, this.progressFn = s, this.playingFn = s, this.waitingFn = s, this.seekingFn = s, this.seekedFn = s, this.pauseFn = s, this.playFn = s, this.timeupdateFn = s, this.webkitbeginfullscreenFn = s, this.webkitendfullscreenFn = s, this.volumechangeFn = s, this.onMobileStartAutoHideCentralUI = s, this.setSrcResetAdInterval = null, this.logRetryTimeout = null, this.logGaSeekingTimeout = null, this.prerollMaskRemovalTimeout = null, this.orientationChangeResizeTimeout = null, this.siteCheckerRetryTimeout = null, this.postStop = null, this.firstDurationChange = !0, this.startUpPlay = 0, this.startUpPlaying = 0, this.ended = s, this.generateError = s, this.errorData = null, this.adDisplayContainer = null, this.adOnStage = !1, this.adsManager = null, this.adsLoader = null, this.contentCompleteCalled = !1, this.isLinear = !1, this.adPaused = !1, this.adDCInitialized = !1, this.adID = "", this.adCreativeAdId = "", this.adCreativeId = "", this.adDealId = "", this.adSystem = "", this.adAdvertiserName = "", this.adMediaUrl = "", this.adSurveyUrl = "", this.adUniversalAdIdRegistry = "unknown", this.adUniversalAdIdValue = "unknown", this.adApiFramework = "", this.adContentType = "", this.adDescription = "", this.adDuration = -1, this.adTraffickingParameters = null, this.adTraffickingParametersString = "", this.adNonLinearHeight = -1, this.adNonLinearWidth = -1, this.adTitle = "", this.adWrapperAdIds = null, this.adWrapperAdSystems = null, this.adWrapperCreativeIds = null, this.hasAdUI = !1, this.playerInitialized = !1, this.emptyInitAdTagUrl = !1, this.adScheduleInput = !1, this.currentAdForCompanion = null, this.adPodInfo = null, this.adErrorCode = -1, this.adErrorMessage = "", this.adErrorType = "", this.adVastErrorCode = -1, this.originalAdTagUrl = null, this.originalAdTagWaterfall = [], this.isVPAID = !1, this.adCountdownInterval = null, this.onEndedWaitForPlay = s, this.onRePlayLoadAdTag = s, this.onAdLoadedAfterReload = s, this.adRemainingTimeBarInterval = null, this.firstPreroll = !0, this.currentiOSSrc = "", this.onIosStartShowFS = s, this.onIphone10PlusHideFS = s, this.onAdBlockDetected = null, this.onNoAdBlockDetected = null, this.imaLoadTimeout = null, this.imaLoadCancel = !1, this.adSkipInterval = null, this.onContentResumeRequestedLoadAds = s, this.onAdStartedPostRollUpdateCentralUI = s, this.onAdOnStageUpdatePrerollMask = s, this.setSrcAdReset = !1, this.setSrcResetIMA = s, this.runAdsManagerInterval = null, this.adOutStreamSkin = !1, this.postImaAdDestroy = null, this.imaDaiStreamManager = null, this.imaDaiLive = !1, this.imaDaiVod = !1, this.imaDaiAdCurrentTime = -1, this.rmpVast = null, this.onRmpVastAdStarted = s, this.onRmpVastAdDestroyed = s, this.onRmpVastAdError = s, this.onRmpVastAdInteraction = s, this.onRmpVastAdLinearChanged = s, this.onRmpVastAdPlayPause = s, this.adErrorDetected = !1, this.onAdTagStartLoading = s, this.setSrcResetRmpVast = s, this.initialAutoplayRequest = !1, this.onAdAutoplayFailed = s, this.onAdAutoplaySuccess = s, this.liveAdSchedulerChecker = null, this.liveAdSchedulerCheckerIndex = 0, this.adSchedulerChecker = s, this.adSchedulerEnded = s, this.playScheduler = s, this.pauseScheduler = s, this.adParserLoaded = !1, this.adParserLoadError = !1, this.analyticsSecondsPlayed = 0, this.startUpTime = -1, this.heatMapArray = [], this.startUpLogPlaying = s, this.appendFormDataAndSendLog = s, this.logGaReady = s, this.logGaPlayerStart = s, this.logGaSrcChanged = s, this.logGaError = s, this.logGaAdImpression = s, this.logGaAdLoaderError = s, this.logGaAdError = s, this.logGaAdLoadError = s, this.logGaAdPlayError = s, this.logGaFullscreen = s, this.logGaEnded = s, this.logGaSeeking = s, this.logGaAdClick = s, this.logGaAdClientSideWaterfallRequested = s, this.gaContext = !1, this.analyticsInterval = null, this.analyticsPlay = s, this.analyticsPause = s, this.updateHeatMap = null, this.gaCommand = "send", this.gaSeekingSending = !1, this.runLogs = s, this.runLogsOnSrcChanged = s, this.licUrl = "", this.isLicValid = "false", this.shakaPlayer = null, this.shakaVideoRenditions = [], this.shakaTextTracks = [], this.shakaError = s, this.shakaAdaptationChanged = s, this.shakaBuffering = s, this.shakaUnstalledBuffer = s, this.shakaTracksChanged = s, this.shakaCurrentLevel = null, this.configureShakaCapLevelToPlayerSize = s, this.shakaOnPlayingResetRetriesCount = s, this.shakaOfflineList = null, this.shakaOfflineDownloadProgress = -1, this.hlsJS = null, this.hlsID3TagData = null, this.hlsEpochProgramDateTime = -1, this.hlsRawProgramDateTime = null, this.hlsFragmentData = null, this.hlsFragmentBeingPlayed = null, this.hlsLevelData = null, this.hlsManifestData = null, this.hlsJSLevelDuration = -1, this.hlsOnPauseStopLoad = s, this.hlsOnPlayStartLoad = s, this.hlsOnFirstPlaying = s, this.hlsJSUnstalledBuffer = null, this.hlsManifestParsed = s, this.hlsJSAttachMultiAudio = s, this.hlsJSOnLiveRetriesSuccess = s, this.initHLSJS = s, this.bwEstimate = -1, this.hlsJSCEA = !1, this.hlsJSAbrInterval = null, this.hlsJSErrorRetryTimeout = null, this.hlsResizeLevelSwitch = null, this.exitFSDestroy = null, this.proceedDestroy = !0, this.adsDestroyed = !1, this.dvrLiveMode = !0, this.dvrCurrentTime = -1, this.castReady = s, this.castInit = s, this.castMedia = null, this.remotePlayer = null, this.remotePlayerController = null, this.castMediaLoaded = !1, this.castConnected = !1, this.castUrl = "", this.loadCastMedia = s, this.remotePlayerState = "", this.googleCastCCForegroundColor = "FFFFFF99", this.googleCastCCBackgroundColor = "00000070", this.googleCastCCFontScale = .9, this.onAirPlayClick = s, this.onAirPlayAvailabilityChanged = s, this.onLoadedmetadataShowAirPlay = s, this.defaultTrack = 0, this.textTracks = [], this.hasCC = !1, this.addNativeVTT = s, this.updateCues = s, this.updateCuesResize = s, this.ccData = null, this.ccCues = [], this.ccEnabled = !1, this.loadedCCFiles = [], this.ccFilesReady = !1, this.hlsJSCCInterval = null, this.startIndexCC = 0, this.loadVTTFiles = s, this.lat = 0, this.lon = 0, this.mouseDown = !1, this.dragStart = {}, this.progressiveInterval = null, this.progressiveMoveInprogress = !1, this.animate360 = s, this.onReadyMain360 = s, this.onPlayingUpdate360UI = s, this.requestAnimation360 = null, this.texture360 = null, this.renderer360 = null, this.camera360 = null, this.scene360 = null, this.mesh360 = null, this.canvas360 = null, this.streamrootWrapper = null, this.hasStreamroot = !1, this.thumbnailsArray = [], this.thumbnailURIs = [], this.thumbnailURIsTimestamps = [], this.currentThumbnailURI = "", this.hasThumbnails = !1, this.dummyThumbnailsImg = null, this.onThumbnailsLoad = s, this.onThumbnailsError = s, this.chaptersArray = [], this.hasChapters = !1, this.onLoadedmetadaAddChapters = s, this.licType = "rmp", this.hasRelated = !1, this.relatedList = [], this.currentRelatedIndex = 0, this.relatedOnSrcChangedLoadAd = s, this.hasPlaylist = !1, this.playlistList = [], this.currentPlaylistIndex = 0, this.playlistOnSrcChangedLoadAd = s, this.ajaxInternalTimeout = 1e4, this.refTime = 0, this.ragnarok = n, this.rmpDev = "site.rmp", this.originLocal = "localhost", this.altLocal = "127.0.0.1", this.muxData = !1, this.muxDataHlsJSMonitored = !1, this.onHlsjsErrorEmitMuxError = s
                }
            }
        }, {}],
        51: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            i.default = {
                licenseKey: "",
                width: 640,
                height: 360,
                iframeMode: !1,
                iframeAllowed: !0,
                autoHeightMode: !1,
                autoHeightModeRatio: 1.7777777778,
                backgroundColor: "000000",
                skin: "s1",
                skinBackgroundColor: "",
                skinButtonColor: "",
                skinAccentColor: "",
                hideControls: !1,
                hideCentralPlayButton: !1,
                hideCentralBuffering: !1,
                hideSeekBar: !1,
                hideFullscreen: !1,
                autoplay: !1,
                detectAutoplayCapabilities: !0,
                viewableAutoplay: !1,
                viewablePlayPause: !1,
                viewableThreshold: .5,
                srcChangeAutoplay: !0,
                poster: "",
                endOfVideoPoster: "",
                posterScaleMode: "letterbox",
                scaleMode: "letterbox",
                loop: !1,
                muted: !1,
                permanentMuted: !1,
                initialVolume: 1,
                rememberVolume: !0,
                disableKeyboardControl: !1,
                preload: "none",
                delayToFade: 2500,
                contentTitle: "",
                contentDescription: "",
                contentID: "",
                videoTitle: "",
                appName: "",
                logo: "",
                logoLoc: "",
                logoWatermark: !1,
                logoPosition: "topleft",
                logoMargin: "8px",
                sharing: !1,
                sharingUrl: "",
                sharingCode: "",
                sharingNetworks: ["facebook", "twitter", "email"],
                audioOnly: !1,
                debugLevel: 1,
                debugOverlayEnv: !1,
                pathToRmpFiles: ".",
                offsetStartPosition: 0,
                quickRewind: 0,
                fadeInPlayer: !0,
                uiSeparator: "-",
                ajaxWithCredentials: !1,
                ajaxTimeout: 1e4,
                allowLocalStorage: !0,
                dashFirst: !1,
                shakaStartLevel: -1,
                shakaStreamingBufferBehind: 30,
                shakaStreamingBufferingGoal: 20,
                shakaStreamingRebufferingGoal: 4,
                shakaStreamingIgnoreTextStreamFailures: !1,
                shakaRetryParameters: {},
                shakaRestrictions: {},
                shakaDrm: {},
                shakaRequestConfiguration: {},
                shakaPreferredAudioLanguage: "",
                shakaCapLevelToPlayerSize: !0,
                shakaOffline: !1,
                shakaOfflinePreferredTrackQuality: -1,
                shakaUsePersistentLicense: !0,
                shakaJumpLargeGaps: !1,
                shakaSmallGapLimit: .5,
                shakaBandwidthDowngradeTarget: .95,
                shakaBandwidthUpgradeTarget: .75,
                shakaCustomConfig: {},
                shakaCustomRequestFilter: null,
                shakaManifestDashDefaultPresentationDelay: 10,
                hlsJSCapLevelToPlayerSize: !0,
                hlsJSMaxBufferLength: 30,
                hlsJSMaxBufferSize: 0,
                hlsJSStartLevel: -1,
                hlsJSXhrWithCredentials: !1,
                hlsJSXhrSetup: null,
                hlsJSEnableCaptions: !0,
                hlsJSDefaultAudioCodec: "auto",
                hlsJSLiveSyncDuration: 30,
                hlsJSMinAutoBitrate: 0,
                hlsJSAppleAppStoreCompliance: !1,
                hlsJSStopDownloadWhilePaused: !1,
                hlsJSAbrBandWidthFactor: .95,
                hlsJSAbrBandWidthUpFactor: .75,
                hlsJSMaxAudioFramesDrift: 1,
                hlsJSCustomConfig: {},
                forceHlsJSOnMacOSSafari: !1,
                forceNativeHlsOverHlsJS: !1,
                hlsEngine: "hlsjs",
                hlsJSUseManifestRenditionName: !1,
                fpsDrm: {},
                bitrates: {},
                backupBitrates: {},
                src: {},
                backupSrc: {},
                initialBitrate: 0,
                labels: {
                    bitrates: {
                        auto: "Auto",
                        renditions: ["auto"]
                    },
                    hint: {
                        sharing: "Share",
                        quality: "Quality",
                        speed: "Speed",
                        captions: "Captions",
                        audio: "Audio",
                        chapters: "Chapters",
                        live: "Live",
                        cast: "Cast",
                        airplay: "AirPlay",
                        playlist: "Playlist",
                        related: "Related",
                        upNext: "Up Next"
                    },
                    captions: {
                        off: "Off"
                    },
                    error: {
                        customErrorMessage: "This content is currently unavailable",
                        noSupportMessage: "No playback support",
                        noSupportDownload: "You may download video here",
                        noSupportInstallChrome: "Using the latest version of Google Chrome may help to view this content",
                        noSupportInstallChromeLink: "https://www.google.com/chrome/"
                    },
                    ads: {
                        controlBarCustomMessage: "Ad",
                        skipMessage: "Skip ad",
                        skipWaitingMessage: "Skip ad in",
                        textForClickUIOnMobile: "Learn more"
                    }
                },
                hideExternalPlayerLabels: !1,
                webmCodecs: {
                    video: "vp8",
                    audio: "vorbis"
                },
                oggCodec: "vorbis",
                webmFirst: !1,
                isLive: !1,
                liveRetries: 1 / 0,
                isLiveDvr: !1,
                ccFiles: [],
                crossorigin: "",
                ccFontSize: -1,
                ccFSFontSize: -1,
                ccTextColor: "FFFFFF",
                ccBackgroundColor: "000000",
                ccBackgroundAlpha: .85,
                ccParser: "vtt.js",
                gaTrackingId: "",
                gaCategory: "RMP",
                gaLabel: "RMP label",
                gaNamedTracker: "",
                gaEvents: [],
                gaAnonymizeIp: !1,
                gaNonInteractionEvents: !1,
                heatMap: !1,
                heatMapAccuracy: 20,
                seekBarThumbnailsLoc: "",
                chaptersLoc: "",
                nav: !1,
                navRates: [.25, .5, 1, 1.5, 2, 4],
                googleCast: !0,
                googleCastReceiverAppId: "C899A03E",
                googleCastPoster: "",
                googleCastMetadataType: "GENERIC",
                googleCastContentTitle: "",
                googleCastReleaseDate: "",
                airplay: !0,
                ads: !1,
                adTagUrl: "",
                adSkipButton: !1,
                adSkipOffset: 5,
                adsResponse: "",
                adAutoplayOnlyPreroll: !1,
                adImaTest: !1,
                adTagWaterfall: [],
                adLocale: "en",
                adUseStyledNonLinearAds: !0,
                adSchedule: {},
                adVpaidMode: "insecure",
                adVpaidControls: !1,
                adContentDuration: 0,
                adContentKeywords: "",
                adContentTitle: "",
                adForceNonLinearFullSlot: !1,
                adTagReloadOnEnded: !1,
                adShowRemainingTime: !1,
                adAutoAlign: !0,
                adDisableCustomPlaybackForIOS10Plus: !1,
                adEnablePreloading: !1,
                adImaDai: !1,
                adImaDaiVodContentSourceId: "",
                adImaDaiVodVideoId: "",
                adImaDaiLiveAssetKey: "",
                adImaDaiApiKey: "",
                adImaDaiBackupStream: "",
                adImaDaiAdTagParameters: {},
                adImaDaiStreamActivityMonitorId: "",
                adOutStream: !1,
                adOutStreamMutedAutoplay: !0,
                adAjaxWithCredentials: !0,
                adRmpVastEnableVpaid: !0,
                adLoadMediaTimeout: 8e3,
                adLoadVastTimeout: 5e3,
                adMaxNumRedirects: 4,
                adCountDown: !1,
                adPauseOnClick: !0,
                adParser: "ima",
                adBlockerDetection: !1,
                adBlockerDetectedPreventPlayback: !1,
                adBlockerDetectedMessage: "Ad-blocker software detected. To view this content please disable your ad-blocker.",
                relatedLoc: "",
                relatedData: [],
                relatedUpNextOffset: 10,
                relatedUpNextAutoplay: !0,
                relatedEndedLoop: !1,
                playlistLoc: "",
                playlistData: [],
                playlistUpNextAutoplay: !0,
                playlistEndedLoop: !1,
                video360: !1,
                video360FocalLength: 65,
                video360MaxFocalLength: 115,
                video360MinFocalLength: 25,
                video360InitialLat: 0,
                video360InitialLon: 0,
                video360FallbackBitrates: {},
                video360FallbackSrc: {},
                customModule: [],
                streamrootConfig: {},
                muxDataSettings: {},
                muxDataUseListData: !0
            }
        }, {}],
        52: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var e = e("./fw"),
                s = e && e.__esModule ? e : {
                    default: e
                },
                n = {};
            window.MediaSource = window.MediaSource || window.WebKitMediaSource;

            function a(e) {
                if (null !== o) {
                    e = o.match(e);
                    if (Array.isArray(e) && void 0 !== e[1]) return parseInt(e[1], 10)
                }
                return -1
            }
            var l = document.createElement("video"),
                d = void 0 !== l.canPlayType,
                c = document.createElement("audio"),
                u = void 0 !== c.canPlayType,
                e = !!(void 0 !== window.ontouchstart || window.DocumentTouch && document instanceof window.DocumentTouch),
                o = window.navigator && window.navigator.userAgent ? window.navigator.userAgent : null,
                r = window.location && window.location.protocol ? window.location.protocol.toLowerCase() : null,
                h = /os\s+(\d+)_(\d+)/i,
                p = function() {
                    if (null !== o) {
                        var e = o.match(h);
                        if (Array.isArray(e) && void 0 !== e[1] && void 0 !== e[2]) return parseInt(e[2], 10)
                    }
                    return -1
                }(),
                f = (m = [!1, -1], m = e && /(ipad|iphone|ipod)/i.test(o) ? [!0, a(/os\s+(\d+)/i)] : m),
                m = !(f[0] || !/(macintosh|mac\s+os)/i.test(o)),
                g = (g = !1, y = -1, /safari\/[.0-9]*/i.test(o) && !/(chrome|chromium|android|crios|fxios)/i.test(o) && (g = !0, y = a(/version\/(\d+)/i)), [g, y]),
                v = [!1, -1];
            m && g[0] && (v = [!0, g[1]]);
            y = [!1, -1];
            var m = y = !f[0] && e && /android/i.test(o) ? [!0, a(/android\s*(\d+)/i)] : y,
                g = !1,
                y = ((f[0] || m[0]) && (g = !0), !!(f[0] && window.navigator && void 0 !== window.navigator.standalone && window.navigator.standalone) || !(!m[0] || "function" != typeof window.matchMedia || !window.matchMedia("(display-mode: standalone)").matches)),
                b = (n.isAndroidWebView = !(/(samsungbrowser\/|firefox\/|opr\/)/i.test(o) || !m[0] || y || !(m[1] < 5 && /version\/[.0-9]*/i.test(o)) && !(5 <= m[1] && /chrome\/[.0-9]*/i.test(o) && /wv/.test(o))), n.isIosWebView = !(!f[0] || /(version\/|safari\/|crios|fxios)/i.test(o) || y), !1);
            n.isWebView = b = n.isAndroidWebView || n.isIosWebView ? !0 : b;

            function w() {
                return d && "" !== l.canPlayType(C)
            }
            var _, C = 'video/mp4; codecs="avc1.42E01E,mp4a.40.2"',
                k = w(),
                x = /vp9|vp09\./i,
                S = !(!d || void 0 === window.MediaSource || "function" != typeof window.MediaSource.isTypeSupported),
                b = void 0 !== window.MediaKeys || void 0 !== window.WebKitMediaKeys || void 0 !== window.MSMediaKeys,
                T = 'video/mp4; codecs="hvc1.1.6.L63.90,mp4a.40.29"',
                E = 'video/mp4; codecs="hev1.1.6.L63.90,mp4a.40.29"',
                A = (A = 1, A = "number" == typeof window.devicePixelRatio && 1 < window.devicePixelRatio ? window.devicePixelRatio : A);
            n.getViewportSize = function() {
                var e = -1,
                    t = -1;
                return s.default.isNumber(window.innerWidth) && 0 < window.innerWidth && s.default.isNumber(window.innerHeight) && 0 < window.innerHeight && (e = window.innerWidth, t = window.innerHeight), {
                    width: e,
                    height: t
                }
            }, o && (n.userAgent = o), n.isInIframe = function() {
                try {
                    if (window.parent !== window) return !0
                } catch (e) {
                    s.default.trace(e)
                }
                return !1
            }(), n.isSamsungInternet = (_ = [!1, -1], _ = m[0] && /samsungbrowser\//i.test(o) ? [!0, a(/samsungbrowser\/(\d+)/i)] : _), n.okMp4 = w(), n.testWebM = function(e) {
                var t = "vp8",
                    i = "vorbis";
                return e && e.video && e.audio && (x.test(e.video) && (t = e.video), "opus" === e.audio) && (i = e.audio), d && "" !== l.canPlayType('video/webm; codecs="' + t + ", " + i + '"')
            }, n.okWebM = d && "" !== l.canPlayType('video/webm; codecs="vp8,vorbis"'), n.hasHevcSupport = !f[0] && !v[0] && !(!d || "" === l.canPlayType(T) && "" === l.canPlayType(E)), n.hasMseHevcSupport = !(!S || !window.MediaSource.isTypeSupported(T) && !window.MediaSource.isTypeSupported(E)), n.okM4a = (_ = !1, _ = u && "" !== c.canPlayType('audio/mp4; codecs="mp4a.40.2"') || _), n.okMp3 = (T = !1, T = u && "" !== c.canPlayType("audio/mpeg") || T), n.testOgg = function(e) {
                e = "opus" === e ? e : "vorbis";
                if (u && "" !== c.canPlayType('audio/ogg; codecs="' + e + '"')) return !0;
                return !1
            }, n.okHls = function() {
                if (d && k) {
                    var e = l.canPlayType("application/vnd.apple.mpegurl"),
                        t = l.canPlayType("application/x-mpegurl");
                    if ("" !== e || "" !== t) return !0
                }
                return !1
            }(), n.okHlsJS = !(!S || !window.MediaSource.isTypeSupported(C)), n.okHlsHevc = function(e) {
                if (d) {
                    if (f[0] && 10 < f[1]) return !0;
                    if (v[0] && 10 < v[1] && e) return !0;
                    if (e && n.okHlsJS || n.okHls && (n.hasHevcSupport || e)) return !0
                }
                return !1
            }(n.hasMseHevcSupport), n.okDash = !(!S || void 0 === window.Promise || void 0 === window.Uint8Array || void 0 === Array.prototype.forEach || v[0] && v[1] < 9), n.okFps = !!(d && b && (v[0] && 9 <= v[1] || f[0] && 10 < f[1])), n.ok360 = function() {
                var e = !1;
                try {
                    var t = document.createElement("canvas"),
                        i = t.getContext("webgl") || t.getContext("experimental-webgl") || t.getContext("webgl2");
                    "function" == typeof window.requestAnimationFrame && "function" == typeof window.cancelAnimationFrame && i && i instanceof window.WebGLRenderingContext && (e = !0)
                } catch (t) {
                    s.default.trace(t)
                }
                if (e) {
                    i = void 0;
                    try {
                        i = !!window.MSInputMethodContext && !!document.documentMode
                    } catch (t) {
                        return s.default.trace(t), e
                    }(f[0] && (f[1] < 11 || 11 === f[1] && p < 3) || v[0] && v[1] < 11 || i) && (e = !1)
                }
                return e
            }(), n.hasIntersectionObserver = void 0 !== window.IntersectionObserver, n.html5Video = d, n.html5Audio = u, n.getProtocol = r, n.isIos = f, n.isIphone = !(!e || !/(iphone|ipod)/i.test(o)), n.isIpad = !(!e || !/ipad/i.test(o)), n.isMacosSafari = v, n.isAndroid = m, n.isMobile = g, n.isStandalone = y, n.okMse = S, n.okEme = b, n.devicePixelRatio = A, n.fallbackArbitraryBWEstimate = (E = 7e5, g ? E = 3 <= A ? 525e3 : 35e4 : 3840 <= Math.max(s.default.getScreenWidth(), s.default.getScreenHeight()) && (E = 14e5), E), n.hasPassiveEventListeners = function() {
                var e = !1;
                try {
                    var t = Object.defineProperty({}, "passive", {
                        get: function() {
                            return e = !0
                        }
                    });
                    window.addEventListener("testPassive", null, t), window.removeEventListener("testPassive", null, t)
                } catch (e) {
                    s.default.trace(e)
                }
                return e
            }(), n.localStorage = function(e) {
                if (!e) return !1;
                try {
                    var t, i;
                    return window.localStorage ? (t = window.localStorage, i = "__storage_test__", t.setItem(i, i), t.removeItem(i), !0) : !1
                } catch (e) {
                    return s.default.trace(e), !1
                }
            }, n.formData = function() {
                if (void 0 !== window.FormData) try {
                    return (new FormData).append("test", "test"), !0
                } catch (e) {}
                return !1
            }, n.isOnline = function() {
                return !window.navigator || "boolean" != typeof window.navigator.onLine || !1 !== window.navigator.onLine
            }, n.hasNativeFullscreenSupport = !(!(_ = document.documentElement) || void 0 === _.requestFullscreen && void 0 === _.webkitRequestFullscreen && void 0 === _.mozRequestFullScreen && void 0 === _.msRequestFullscreen && void 0 === l.webkitEnterFullscreen), n.requestFullscreen = function(e, t) {
                if (e && t) try {
                    void 0 !== e.requestFullscreen ? e.requestFullscreen() : void 0 !== e.webkitRequestFullscreen ? e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT) : void 0 !== e.mozRequestFullScreen ? e.mozRequestFullScreen() : void 0 !== e.msRequestFullscreen ? e.msRequestFullscreen() : t && void 0 !== t.webkitEnterFullscreen && t.webkitEnterFullscreen()
                } catch (e) {
                    s.default.trace(e)
                }
            }, n.exitFullscreen = function(e) {
                try {
                    void 0 !== document.exitFullscreen ? document.exitFullscreen() : void 0 !== document.webkitExitFullscreen ? document.webkitExitFullscreen() : void 0 !== document.mozCancelFullScreen ? document.mozCancelFullScreen() : void 0 !== document.msExitFullscreen ? document.msExitFullscreen() : e && void 0 !== e.webkitExitFullscreen && e.webkitExitFullscreen()
                } catch (e) {
                    s.default.trace(e)
                }
            }, n.canPlayType = function(e, t, i, s, n, a) {
                var o = "video",
                    t = (-1 < ["video", "audio"].indexOf(t) && (o = t), "mp4"),
                    i = (-1 < ["mp4", "webm", "mp3", "m4a", "mp2t", "ogg", "oga"].indexOf(i) && (t = i), void 0),
                    n = ("string" == typeof n && "" !== n && (i = n), void 0),
                    s = ("string" == typeof s && "" !== s && (n = s), void 0),
                    a = ("string" == typeof a && "" !== a && (s = a), "native"),
                    r = (-1 < ["native", "mse"].indexOf(e) && (a = e), void 0);
                switch (o) {
                    case "video":
                        if (!d) return !1;
                        r = l;
                        break;
                    case "audio":
                        if (!u) return !1;
                        r = c
                }
                e = o + "/" + t;
                if ("video" === o && n && i) e += '; codecs="' + n + ", " + i + '"';
                else if ("video" === o && n && !i) e += '; codecs="' + n + '"';
                else {
                    if ("audio" !== o || !i) return null;
                    e += '; codecs="' + i + '"'
                }
                s && (e += '; eotf="' + s + '"');
                t = !1;
                return "native" === a ? "" !== r.canPlayType(e) && (t = !0) : S && window.MediaSource.isTypeSupported(e) && (t = !0), t
            }, i.default = n
        }, {
            "./fw": 53
        }],
        53: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });

            function s(e) {
                return document[e] || (null !== document.querySelector(e) ? document.querySelector(e) : null)
            }

            function n() {
                var e;
                return "number" == typeof window.pageXOffset ? window.pageXOffset : document.documentElement && "number" == typeof document.documentElement.scrollLeft && 0 < document.documentElement.scrollLeft ? document.documentElement.scrollLeft : (e = s("body")) && "number" == typeof e.scrollLeft && 0 < e.scrollLeft ? e.scrollLeft : 0
            }

            function a() {
                var e;
                return "number" == typeof window.pageYOffset ? window.pageYOffset : document.documentElement && "number" == typeof document.documentElement.scrollTop && 0 < document.documentElement.scrollTop ? document.documentElement.scrollTop : (e = s("body")) && "number" == typeof e.scrollTop && 0 < e.scrollTop ? e.scrollTop : 0
            }

            function o(e, t) {
                return -1 < (e = (e = h.getComputedStyle(e, t) || 0).toString()).indexOf("px") && (e = e.replace("px", "")), parseFloat(e)
            }

            function r(e) {
                e && e.type && (e = e.type.replace(/^(webkit|moz|MS)/, "").toLowerCase(), h.createStdEvent(e, document))
            }
            var h = {
                    blackFrame: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII=",
                    nullFn: function() {
                        return null
                    }
                },
                l = (h.getPosX = function(e) {
                    if (e) {
                        if ("number" == typeof e.pageX) return e.pageX;
                        if ("number" == typeof e.clientX) return e.clientX + n()
                    }
                    return 0
                }, h.getPosXTouch = function(e) {
                    return e && e.changedTouches && e.changedTouches[0] && h.isNumber(e.changedTouches[0].pageX) ? e.changedTouches[0].pageX : 0
                }, h.getPosY = function(e) {
                    if (e) {
                        if ("number" == typeof e.pageY) return e.pageY;
                        if ("number" == typeof e.clientY) return e.clientY + a()
                    }
                    return 0
                }, h.getPosYTouch = function(e) {
                    return e && e.changedTouches && e.changedTouches[0] && h.isNumber(e.changedTouches[0].pageY) ? e.changedTouches[0].pageY : 0
                }, h.isNumber = function(e) {
                    return !(void 0 === e || "number" != typeof e || !Number.isFinite(e))
                }, h.setStyle = function(e, t) {
                    if (e && h.isObject(t))
                        for (var i = Object.keys(t), s = 0, n = i.length; s < n; s++) {
                            var a = i[s];
                            e.style[a] = t[a]
                        }
                }, h.getComputedStyle = function(e, t) {
                    var i = "";
                    return i = e && "function" == typeof window.getComputedStyle && (e = window.getComputedStyle(e, null)) ? (i = e.getPropertyValue(t)).toString().toLowerCase() : i
                }, h.getWidth = function(e) {
                    return e ? "number" == typeof e.offsetWidth && 0 !== e.offsetWidth ? e.offsetWidth : o(e, "width") : 0
                }, h.getTrueWidth = function(e) {
                    var t, i, s = 0;
                    return e && 0 < (s = h.getWidth(e)) && ((t = 0) < (i = o(e, "padding-left")) && (t += i), 0 < (i = o(e, "padding-right")) && (t += i), 0 < (i = o(e, "border-left-width")) && (t += i), 0 < (i = o(e, "border-right-width")) && (t += i), s -= t), s
                }, h.getHeight = function(e) {
                    return e ? "number" == typeof e.offsetHeight && 0 !== e.offsetHeight ? e.offsetHeight : o(e, "height") : 0
                }, h.getTrueHeight = function(e) {
                    var t, i, s = 0;
                    return e && 0 < (s = h.getHeight(e)) && ((t = 0) < (i = o(e, "padding-top")) && (t += i), 0 < (i = o(e, "padding-bottom")) && (t += i), 0 < (i = o(e, "border-top-width")) && (t += i), 0 < (i = o(e, "border-bottom-width")) && (t += i), s -= t), s
                }, h.getAbsLeft = function(e) {
                    return e && e.getBoundingClientRect().left + n() || 0
                }, h.getAbsTop = function(e) {
                    return e && e.getBoundingClientRect().top + a() || 0
                }, h.setText = function(e, t) {
                    e && "string" == typeof t && (e.textContent = t)
                }, h.setClass = function(e, t) {
                    e && void 0 !== e.className && "string" == typeof t && "" !== t && (e.className = t)
                }, h.addClass = function(e, t) {
                    e && void 0 !== e.className && "string" == typeof t && "" !== t && ("" !== e.className ? -1 === e.className.indexOf(t) && (e.className = (e.className + " " + t).replace(/\s\s+/g, " ")) : e.className = t)
                }, h.removeClass = function(e, t) {
                    e && void 0 !== e.className && "string" == typeof t && "" !== t && -1 < e.className.indexOf(t) && (e.className = e.className.replace(t, "").replace(/\s\s+/g, " "))
                }, h.hasClass = function(e, t) {
                    return !!(e && "string" == typeof e.className && "string" == typeof t && "" !== t && -1 < e.className.indexOf(t))
                }, h.removeElement = function(e) {
                    if (e && e.parentNode) try {
                        e.parentNode.removeChild(e)
                    } catch (e) {
                        h.trace(e)
                    }
                }, h.createStdEvent = function(e, t) {
                    var i = void 0;
                    if (t)
                        if ("function" == typeof window.Event) try {
                            i = new Event(e), t.dispatchEvent(i)
                        } catch (e) {
                            h.trace(e)
                        } else try {
                            (i = document.createEvent("Event")).initEvent(e, !0, !0), t.dispatchEvent(i)
                        } catch (e) {
                            h.trace(e)
                        }
                }, h.createCustomEvent = function(e, t, i) {
                    if (t && "function" == typeof window.CustomEvent) try {
                        var s = new CustomEvent(e, {
                            detail: i
                        });
                        t.dispatchEvent(s)
                    } catch (e) {
                        h.trace(e)
                    }
                }, h.removeEvent = function(e, t, i) {
                    "function" == typeof i && t && (Array.isArray(e) ? e.forEach(function(e) {
                        t.removeEventListener(e, i)
                    }) : t.removeEventListener(e, i))
                }, h.addEvent = function(e, t, i) {
                    "function" == typeof i && t && (Array.isArray(e) ? e.forEach(function(e) {
                        t.addEventListener(e, i)
                    }) : t.addEventListener(e, i))
                }, h.appendToHead = function(e) {
                    try {
                        var t = s("head");
                        (t = t || s("body")) && e && t.appendChild(e)
                    } catch (e) {
                        h.trace(e)
                    }
                }, h.isVisible = function(e) {
                    return !(!e || "visible" !== e.style.visibility)
                }, h.show = function(e) {
                    if (Array.isArray(e))
                        for (var t = 0, i = e.length; t < i; t++) e[t] && (e[t].style.display = "block");
                    else e && (e.style.display = "block")
                }, h.fadeIn = function(e) {
                    !e || 1 === e.style.opacity && "visible" === e.style.visibility || setTimeout(function() {
                        h.setStyle(e, {
                            opacity: 1,
                            visibility: "visible"
                        })
                    }, 1)
                }, h.hide = function(e) {
                    if (Array.isArray(e))
                        for (var t = 0, i = e.length; t < i; t++) e[t] && (e[t].style.display = "none");
                    else e && (e.style.display = "none")
                }, h.fadeOut = function(e) {
                    !e || 0 === e.style.opacity && "hidden" === e.style.visibility || setTimeout(function() {
                        h.setStyle(e, {
                            opacity: 0,
                            visibility: "hidden"
                        })
                    }, 1)
                }, h.readableTime = function(e) {
                    var t, i, s;
                    return "number" == typeof e && 0 <= e ? (t = Math.floor(e % 60), s = 0, 59 < (i = Math.floor(+e / 60)) && (s = Math.floor(+e / 3600), i = Math.floor(+e / 3600 % 1 * 60), t = Math.floor(e % 60)), 0 < s ? s += ":" : 0 === s && (s = ""), s + (i = i < 10 ? "0" + i : i) + ":" + (t = t < 10 ? "0" + t : t)) : ""
                }, h.dateToSeconds = function(e) {
                    e = e.match(/(\d+:)?(\d+):(\d+)\.(\d+)/);
                    if (!(1 < e.length)) return null;
                    e.shift();
                    var t, i = 0;
                    return e[0] && (-1 < (t = e[0]).indexOf(":") && (t = t.replace(":", "")), i += 60 * parseInt(t) * 60), e[1] && (i += 60 * parseInt(e[1])), e[2] && (i += parseInt(e[2])), e[3] && (i += parseInt(e[3]) / 1e3), i
                }, h.hexToRgb = function(e) {
                    e = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);
                    return e ? {
                        r: parseInt(e[1], 16),
                        g: parseInt(e[2], 16),
                        b: parseInt(e[3], 16)
                    } : null
                }, h.srcExists = function(e, t) {
                    if ("mp4" === t || "webm" === t || "mp4Hevc" === t) {
                        if (Array.isArray(e) && "string" == typeof e[0] && "" !== e[0]) return !0
                    } else if ("string" == typeof e && "" !== e) return !0;
                    return !1
                }, h.filterInitialBitrate = function(e, t) {
                    return e < 0 || "string" != typeof t[e] ? 0 : e
                }, h.isObject = function(e) {
                    return null != e && "object" == typeof e
                }, h.isEmptyObject = function(e) {
                    return !(!h.isObject(e) || 0 !== Object.keys(e).length)
                }, h.ajax = function(s, n, a, o) {
                    return new Promise(function(e, t) {
                        var i;
                        "undefined" != typeof XMLHttpRequest ? ((i = new XMLHttpRequest).open(o, s, !0), i.timeout = n, a && (i.withCredentials = !0), i.onloadend = function() {
                            "number" == typeof i.status && 200 <= i.status && i.status < 300 ? "HEAD" === o ? e() : "string" == typeof i.responseText && "" !== i.responseText ? e(i.responseText) : t() : t()
                        }, i.ontimeout = function() {
                            t()
                        }, i.send(null)) : t()
                    })
                }, h.getFQURL = function(e, t) {
                    var i = e.split("/"),
                        s = t.split("/");
                    i.pop();
                    for (var n = 0; n < s.length; n++) "." !== s[n] && (".." === s[n] ? i.pop() : i.push(s[n]));
                    return i.join("/")
                }, h.getNow = function() {
                    return window.performance && window.performance.now ? Math.round(window.performance.now()) : window.Date ? Date.now() : void 0
                }, h.getRandomInt = function(e, t) {
                    e = Math.ceil(e), t = Math.floor(t);
                    return Math.floor(Math.random() * (t - e)) + e
                }, h.cssPropertySupport = function(e) {
                    var t = !1,
                        i = document.createElement("div");
                    try {
                        i && "string" == typeof e && void 0 !== i.style[e] && (t = !0)
                    } catch (e) {
                        h.trace(e)
                    }
                    return t
                }, h.polyfillFullscreenEvents = function() {
                    document.addEventListener("webkitfullscreenchange", r), document.addEventListener("webkitfullscreenerror", r), document.addEventListener("mozfullscreenchange", r), document.addEventListener("mozfullscreenerror", r), document.addEventListener("MSFullscreenChange", r), document.addEventListener("MSFullscreenError", r)
                }, h.stopPropagation = function(e) {
                    e && e.stopPropagation()
                }, h.contextMenuInteraction = function(e) {
                    e && (e.stopPropagation(), e.preventDefault())
                }, h.selectText = function(e, t) {
                    t && t.stopPropagation(), e && e.select()
                }, h.updateAriaLabel = function(e, t) {
                    t && e && e.setAttribute("aria-label", t)
                }, h.hideAria = function(e) {
                    e && e.setAttribute("aria-hidden", "true")
                }, !(h.preventKeyDown = function(e) {
                    var t;
                    e && (t = e.which) && (32 === t || 70 === t || 37 === t || 39 === t || 38 === t || 40 === t || 77 === t) && e.preventDefault()
                }));
            window.console && "function" == typeof window.console.log && (l = !0), h.log = function(e, t) {
                l && void 0 !== t && ("string" == typeof t && e ? window.console.log("rmp (" + e + "): " + t) : window.console.log(t))
            }, window.console && window.console.trace, h.trace = function(e) {}, h.appendStyle = function(e) {
                var t;
                e && ((t = document.createElement("style")).type = "text/css", t.appendChild(document.createTextNode(e)), h.appendToHead(t))
            }, h.RFC3986EncodeURIComponent = function(e) {
                return encodeURIComponent(e).replace(/[!'()*]/g, function(e) {
                    return "%" + e.charCodeAt(0).toString(16)
                })
            }, h.getScreenWidth = function() {
                return window.screen && "number" == typeof window.screen.width && 0 < window.screen.width ? window.screen.width : -1
            }, h.getScreenHeight = function() {
                return window.screen && "number" == typeof window.screen.height && 0 < window.screen.height ? window.screen.height : -1
            }, h.filterTextTracks = function(e) {
                var t = [];
                if (e && !(e.length < 1))
                    for (var i = /(captions|subtitles|subtitle)/i, s = 0, n = e.length; s < n; s++) {
                        var a = e[s];
                        ("string" == typeof a.kind && i.test(a.kind) || "string" == typeof a.type && i.test(a.type)) && t.push(a)
                    }
                return t
            }, h.isValidTextTracksSet = function(e) {
                return !!(Array.isArray(e) && Array.isArray(e[0]) && e[0][0] && e[0][1] && e[0][2])
            }, h.clearTimeout = function(e) {
                e && clearTimeout(e)
            }, h.clearInterval = function(e) {
                e && clearInterval(e)
            }, h.addEventListenerCSS = function() {
                var e = !1;
                return document.createElement("link").addEventListener && (e = !0), e
            }, h.getScript = function(e, t, i) {
                var s;
                "string" == typeof e && "function" == typeof t && "function" == typeof i && (void 0 !== (s = document.createElement("script")).onload && void 0 !== s.onerror && (void 0 !== s.async && (s.async = !0), s.onload = t, s.onerror = i), s.src = e, h.appendToHead(s))
            }, h.filterPlaylist = function(e) {
                for (var t, i = e, s = [], n = void 0, a = 0, o = i.length; a < o; a++)
                    if (h.isObject(i[a].src) || h.isObject(i[a].bitrates)) {
                        if (h.isObject(i[a].bitrates) && !h.isObject(i[a].src) && (t = i[a].bitrates, i[a].src = t), h.srcExists(i[a].src.hlsHevc, "hlsHevc")) n = "hlsHevc";
                        else if (h.srcExists(i[a].src.hls, "hls")) n = "hls";
                        else if (h.srcExists(i[a].src.dash, "dash")) n = "dash";
                        else if (h.srcExists(i[a].src.mp4Hevc, "mp4Hevc")) n = "mp4Hevc";
                        else if (h.srcExists(i[a].src.mp4, "mp4")) n = "mp4";
                        else {
                            if (!h.srcExists(i[a].src.webm, "webm")) {
                                s.push(a);
                                continue
                            }
                            n = "webm"
                        }
                        for (var r = ["contentTitle", "contentDescription", "poster", "thumbnail", "adTagUrl", "contentDuration", "src", "seekBarThumbnailsLoc"], l = 0, d = r.length; l < d; l++) {
                            var c = r[l];
                            if ("contentTitle" === c || "contentDescription" === c) "string" == typeof i[a][c] && "" !== i[a][c] || (i[a][c] = "contentTitle" === c ? "Video " + (a + 1) : "Playlist item " + (a + 1));
                            else if ("thumbnail" === c || "poster" === c || "adTagUrl" === c || "contentDuration" === c || "related" === c || "seekBarThumbnailsLoc" === c) "string" == typeof i[a][c] && "" !== i[a][c] || ("thumbnail" === c && "string" == typeof i[a].poster && "" !== i[a].poster ? i[a].thumbnail = i[a].poster : i[a][c] = "");
                            else if ("src" === c) "string" == typeof i[a][c][n] || Array.isArray(i[a][c][n]) || s.push(a);
                            else if ("adTagWaterfall" === c && (!Array.isArray(i[a][c]) || "string" != typeof i[a][c][0] || "" === i[a][c][0])) {
                                delete i[a][c];
                                continue
                            }
                        }
                    } else s.push(a);
                if (0 < s.length)
                    for (var u = s.length - 1; 0 <= u; u--) i.splice(s[u], 1);
                return i
            }, h.setMediaCurrentTime = function(e, t) {
                if (e && h.isNumber(t) && 0 <= t) try {
                    e.currentTime = t
                } catch (e) {
                    h.trace(e)
                }
            }, h.getMediaCurrentTime = function(e) {
                return void 0 !== e.currentTime && h.isNumber(e.currentTime) && 0 <= e.currentTime ? e.currentTime : -1
            }, h.getMediaDuration = function(e) {
                return void 0 !== e.duration && h.isNumber(e.duration) && 0 <= e.duration ? e.duration : -1
            }, h.clearNativeHtml5Buffer = function(e) {
                try {
                    e && (e.removeAttribute("src"), e.load())
                } catch (e) {
                    h.trace(e)
                }
            }, i.default = h
        }, {}],
        54: [function(e, t, i) {
            "use strict";
            e("core-js/modules/es6.typed.array-buffer"), e("core-js/modules/es6.typed.data-view"), e("core-js/modules/es6.typed.int8-array"), e("core-js/modules/es6.typed.uint8-array"), e("core-js/modules/es6.typed.uint8-clamped-array"), e("core-js/modules/es6.typed.int16-array"), e("core-js/modules/es6.typed.uint16-array"), e("core-js/modules/es6.typed.int32-array"), e("core-js/modules/es6.typed.uint32-array"), e("core-js/modules/es6.typed.float32-array"), e("core-js/modules/es6.typed.float64-array"), e("core-js/modules/es6.map"), e("core-js/modules/es6.set"), e("core-js/modules/es6.weak-map"), e("core-js/modules/es6.weak-set"), e("core-js/modules/es6.reflect.apply"), e("core-js/modules/es6.reflect.construct"), e("core-js/modules/es6.reflect.define-property"), e("core-js/modules/es6.reflect.delete-property"), e("core-js/modules/es6.reflect.get"), e("core-js/modules/es6.reflect.get-own-property-descriptor"), e("core-js/modules/es6.reflect.get-prototype-of"), e("core-js/modules/es6.reflect.has"), e("core-js/modules/es6.reflect.is-extensible"), e("core-js/modules/es6.reflect.own-keys"), e("core-js/modules/es6.reflect.prevent-extensions"), e("core-js/modules/es6.reflect.set"), e("core-js/modules/es6.reflect.set-prototype-of"), e("core-js/modules/es6.promise"), e("core-js/modules/es6.symbol"), e("core-js/modules/es6.object.freeze"), e("core-js/modules/es6.object.seal"), e("core-js/modules/es6.object.prevent-extensions"), e("core-js/modules/es6.object.is-frozen"), e("core-js/modules/es6.object.is-sealed"), e("core-js/modules/es6.object.is-extensible"), e("core-js/modules/es6.object.get-own-property-descriptor"), e("core-js/modules/es6.object.get-prototype-of"), e("core-js/modules/es6.object.keys"), e("core-js/modules/es6.object.get-own-property-names"), e("core-js/modules/es6.object.assign"), e("core-js/modules/es6.object.is"), e("core-js/modules/es6.object.set-prototype-of"), e("core-js/modules/es6.function.name"), e("core-js/modules/es6.string.raw"), e("core-js/modules/es6.string.from-code-point"), e("core-js/modules/es6.string.code-point-at"), e("core-js/modules/es6.string.repeat"), e("core-js/modules/es6.string.starts-with"), e("core-js/modules/es6.string.ends-with"), e("core-js/modules/es6.string.includes"), e("core-js/modules/es6.regexp.flags"), e("core-js/modules/es6.regexp.match"), e("core-js/modules/es6.regexp.replace"), e("core-js/modules/es6.regexp.split"), e("core-js/modules/es6.regexp.search"), e("core-js/modules/es6.array.from"), e("core-js/modules/es6.array.of"), e("core-js/modules/es6.array.copy-within"), e("core-js/modules/es6.array.find"), e("core-js/modules/es6.array.find-index"), e("core-js/modules/es6.array.fill"), e("core-js/modules/es6.array.iterator"), e("core-js/modules/es6.number.is-finite"), e("core-js/modules/es6.number.is-integer"), e("core-js/modules/es6.number.is-safe-integer"), e("core-js/modules/es6.number.is-nan"), e("core-js/modules/es6.number.epsilon"), e("core-js/modules/es6.number.min-safe-integer"), e("core-js/modules/es6.number.max-safe-integer"), e("core-js/modules/es6.math.acosh"), e("core-js/modules/es6.math.asinh"), e("core-js/modules/es6.math.atanh"), e("core-js/modules/es6.math.cbrt"), e("core-js/modules/es6.math.clz32"), e("core-js/modules/es6.math.cosh"), e("core-js/modules/es6.math.expm1"), e("core-js/modules/es6.math.fround"), e("core-js/modules/es6.math.hypot"), e("core-js/modules/es6.math.imul"), e("core-js/modules/es6.math.log1p"), e("core-js/modules/es6.math.log10"), e("core-js/modules/es6.math.log2"), e("core-js/modules/es6.math.sign"), e("core-js/modules/es6.math.sinh"), e("core-js/modules/es6.math.tanh"), e("core-js/modules/es6.math.trunc"), e("core-js/modules/web.timers"), e("core-js/modules/web.immediate"), e("core-js/modules/web.dom.iterable");
            var n, a = I(e("./fw/env")),
                o = I(e("./fw/fw")),
                s = I(e("./analytics/analytics")),
                r = I(e("./analytics/mux")),
                l = I(e("./core/utils/license")),
                d = I(e("./360/360")),
                c = I(e("./playlist/related")),
                u = I(e("./playlist/playlist")),
                h = I(e("./core/accessible/accessible")),
                p = I(e("./core/run-player/runPlayer")),
                f = I(e("./core/resize/resize")),
                m = I(e("./fw/defaults/inner-defaults")),
                g = I(e("./core/utils/utils")),
                v = I(e("./core/utils/viewable")),
                y = I(e("./core/ui/logo")),
                b = I(e("./analytics/logs")),
                w = I(e("./core/ui/colors")),
                _ = I(e("./abr/fps")),
                C = I(e("./ads/ads-helpers")),
                k = I(e("./cast/cast")),
                x = I(e("./vtt/captions")),
                S = I(e("./api/api")),
                T = I(e("./api/ads")),
                E = I(e("./api/bitrates")),
                A = I(e("./api/src")),
                P = I(e("./api/audio")),
                $ = I(e("./api/destroy")),
                M = I(e("./api/offline")),
                D = I(e("./fw/autoplay"));

            function I(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            "undefined" != typeof window && void 0 !== window.document && void 0 === window.RadiantMP && (o.default.isObject(window.rmpGlobals) || (window.rmpGlobals = {}, window.rmpGlobals.castApiInitialized = !1, window.rmpGlobals.adBlockerDetected = null), window.RadiantMP = function(e) {
                "string" == typeof e && "" !== e && (this.id = e, this.dom = {}, this.dom.container = document.getElementById(this.id), m.default.set.call(this))
            }, S.default.attach(window.RadiantMP), T.default.attach(window.RadiantMP), E.default.attach(window.RadiantMP), A.default.attach(window.RadiantMP), P.default.attach(window.RadiantMP), $.default.attach(window.RadiantMP), M.default.attach(window.RadiantMP), o.default.polyfillFullscreenEvents(), n = function() {
                ("" !== this.relatedLoc || Array.isArray(this.relatedData) && o.default.isObject(this.relatedData[0])) && (this.hasRelated = !0, "" !== this.relatedLoc && Array.isArray(this.relatedData) && o.default.isObject(this.relatedData[0]) && (this.relatedLoc = ""), this.quickRewind = 0, this.srcChangeAutoplay || (this.relatedUpNextAutoplay = !1), this.relatedUpNextAutoplay) && (this.loop = !1), ("" !== this.playlistLoc || Array.isArray(this.playlistData) && o.default.isObject(this.playlistData[0])) && (this.hasPlaylist = !0, "" !== this.playlistLoc && Array.isArray(this.playlistData) && o.default.isObject(this.playlistData[0]) && (this.playlistLoc = ""), this.autoHeightMode = !0, this.srcChangeAutoplay || (this.playlistUpNextAutoplay = !1), this.playlistUpNextAutoplay) && (this.loop = !1), (this.hasPlaylist || this.hasRelated) && (this.video360 && (this.video360 = !1), this.audioOnly && (this.audioOnly = !1), this.isLiveDvr && (this.isLive = !0, this.isLiveDvr = !1), this.adSchedule = {}, this.backupSrc = {}, this.chaptersLoc = ""), this.audioOnly && (this.video360 && (this.video360 = !1), this.hlsJSCapLevelToPlayerSize = !1, this.shakaCapLevelToPlayerSize = !1, this.quickRewind = 0, this.iframeMode = !1, this.autoHeightMode = !1, this.height = 40),
                    function() {
                        this.audioOnly && ("s1" !== this.skin && "s2" !== this.skin && (this.skin = "s1"), "" === this.skinBackgroundColor) && (this.skinBackgroundColor = "212121"), "s1" !== this.skin && "s2" !== this.skin && "s3" !== this.skin && "s4" !== this.skin && (this.skin = "s1"), this.initConfig = function() {
                            if (f.default.initialSizing.call(this), this.audioOnly ? this.dom.video = document.createElement("audio") : this.dom.video = document.createElement("video"), a.default.isIos[0] && ("" !== this.videoTitle && (this.useVideoTitle = !0), this.useVideoTitle || "" === this.contentTitle || (this.videoTitle = this.contentTitle, this.useVideoTitle = !0)), o.default.cssPropertySupport("objectFit") && !this.audioOnly) switch (this.scaleMode) {
                                case "letterbox":
                                    o.default.addClass(this.dom.video, "rmp-object-fit-contain");
                                    break;
                                case "zoom":
                                    o.default.addClass(this.dom.video, "rmp-object-fit-cover");
                                    break;
                                case "stretch":
                                    o.default.addClass(this.dom.video, "rmp-object-fit-fill");
                                    break;
                                case "none":
                                    o.default.addClass(this.dom.video, "rmp-object-fit-none");
                                    break;
                                default:
                                    o.default.addClass(this.dom.video, "rmp-object-fit-contain")
                            }
                            if (w.default.apply.call(this), o.default.addClass(this.dom.video, "rmp-video"), "auto" !== this.preload && "metadata" !== this.preload && (this.preload = "none"), this.autoplay && (this.preload = "auto"), a.default.isMobile && (this.preload = "none", o.default.addClass(this.dom.container, "rmp-mobile"), this.seekBarThumbnailsLoc = "", this.delayToFade = Math.round(1.333 * this.delayToFade)), this.ads && this.adImaDai && (this.adParser = "ima", this.isLive && this.adImaDaiLiveAssetKey ? this.imaDaiLive = !0 : this.adImaDaiVodContentSourceId && this.adImaDaiVodVideoId ? this.imaDaiVod = !0 : this.ads = !1, a.default.isIos[0] || a.default.isMacosSafari[0] && !this.forceHlsJSOnMacOSSafari) && (this.ads = !1, this.adImaDaiBackupStream ? this.src = {
                                    hls: this.adImaDaiBackupStream
                                } : this.src = {}), this.ads) {
                                if (this.adImaDai && (this.hlsEngine = "hlsjs"), "rmp-vast" !== this.adParser && (this.adParser = "ima"), this.adSkipButton && "ima" === this.adParser && (this.adSkipButton = !1), this.adOutStream && (this.googleCast = !1, this.src = {}, this.adAutoplayOnlyPreroll = !1, this.adSchedule = {}, this.airplay = !1), !o.default.isEmptyObject(this.adSchedule)) {
                                    if (Array.isArray(this.adSchedule.midrollRepeat) && "number" == typeof this.adSchedule.midrollRepeat[0] && "string" == typeof this.adSchedule.midrollRepeat[1]) {
                                        this.adSchedule.midroll = [];
                                        for (var e = 0; e < 50; e++) this.adSchedule.midroll[e] = [this.adSchedule.midrollRepeat[0] * (e + 1), this.adSchedule.midrollRepeat[1]];
                                        delete this.adSchedule.midrollRepeat
                                    }
                                    Array.isArray(this.adSchedule.preroll) && (this.adSchedule.preroll = this.adSchedule.preroll[0]), Array.isArray(this.adSchedule.postroll) && (this.adSchedule.postroll = this.adSchedule.postroll[0]), (this.adSchedule.preroll || this.adSchedule.postroll || Array.isArray(this.adSchedule.midroll) && Array.isArray(this.adSchedule.midroll[0]) && 2 === this.adSchedule.midroll[0].length) && (this.adScheduleInput = !0, this.adTagUrl = "", this.adTagWaterfall = [], this.adTagReloadOnEnded = !1, this.adSchedule.postroll && this.loop && delete this.adSchedule.postroll, this.adSchedule.preroll || (this.emptyInitAdTagUrl = !0, this.adSchedule.preroll = ""), this.adSchedule.postroll || (this.adSchedule.postroll = ""), Array.isArray(this.adSchedule.midroll)) && Array.isArray(this.adSchedule.midroll[0]) && 2 === this.adSchedule.midroll[0].length && this.adSchedule.midroll.sort(function(e, t) {
                                        return e[0] - t[0]
                                    })
                                }
                                this.adAutoplayOnlyPreroll && "rmp-vast" === this.adParser && (this.adAutoplayOnlyPreroll = !1), a.default.isIos[0] && this.loop && (this.loop = !1), "" !== this.adTagUrl && (this.adTagUrl = C.default.replaceAdTagVar.call(this, this.adTagUrl)), "" !== this.adTagUrl || "" === this.adsResponse || this.adScheduleInput || this.hasRelated || this.hasPlaylist || (this.adTagUrl = this.adsResponse), this.adTagReloadOnEnded && (this.originalAdTagUrl = this.adTagUrl, this.originalAdTagWaterfall = [].concat(function(e) {
                                    if (Array.isArray(e)) {
                                        for (var t = 0, i = Array(e.length); t < e.length; t++) i[t] = e[t];
                                        return i
                                    }
                                    return Array.from(e)
                                }(this.adTagWaterfall)), this.adOutStream || C.default.onEndedReloadAdTag.call(this)), this.hasRelated || this.hasPlaylist || this.adScheduleInput || "" !== this.adTagUrl || (this.emptyInitAdTagUrl = !0)
                            }
                            a.default.hasIntersectionObserver && (this.viewableAutoplay || this.viewablePlayPause) && ((a.default.isMobile || a.default.isMacosSafari[0]) && (this.muted = !0), v.default.set.call(this)), (this.isLive || this.isLiveDvr) && (this.isVod = !1, this.loop = !1, this.ccFiles = [], this.isLive && o.default.addClass(this.dom.container, "rmp-live"), this.isLiveDvr) && (o.default.addClass(this.dom.container, "rmp-live-dvr"), this.hlsEngine = "hlsjs"), this.dom.ccItems = [], o.default.isValidTextTracksSet(this.ccFiles) && x.default.prepare.call(this), this.audioOnly ? (o.default.addClass(this.dom.container, "rmp-audio-only"), this.labels.error.noSupportDownload = "", this.labels.error.noSupportInstallChrome = "", this.sharing = !1, this.contentTitle = "", this.seekBarThumbnailsLoc = "", this.ccFiles = [], this.hasCC = !1, this.nav = !1, this.ads && (this.adParser = "ima"), g.default.detectAudioSrc.call(this)) : this.hasRelated || this.hasPlaylist || this.adOutStream || g.default.detectSrc.call(this), this.sharing && "" === this.sharingUrl && (this.sharingUrl = document.URL), a.default.isIos[0] && a.default.isIos[1] < 10 && this.loop && (this.loop = !1), y.default.init.call(this), o.default.isEmptyObject(this.fpsDrm) || _.default.filterDrm.call(this) || (this.hasFps = !1), this.video360 && (a.default.ok360 ? (a.default.isIos[0] ? (this.ads && "ima" === this.adParser ? this.adDisableCustomPlaybackForIOS10Plus = !0 : this.ads = !1, this.fullWindowMode = !0) : a.default.isMacosSafari[0] && this.ads && "rmp-vast" === this.adParser && (this.ads = !1), this.googleCast = !1, this.airplay = !1, this.hlsJSCapLevelToPlayerSize = !1, this.shakaCapLevelToPlayerSize = !1, this.adAutoplayOnlyPreroll = !1, this.crossorigin = "anonymous", d.default.load.call(this)) : o.default.isEmptyObject(this.video360FallbackSrc) ? (g.default.resetSrc.call(this), this.video360 = !1) : (this.src = this.video360FallbackSrc, this.video360 = !1, g.default.resetSrc.call(this), g.default.detectSrc.call(this))), this.hasNativeFullscreenSupport = a.default.hasNativeFullscreenSupport, this.fullWindowMode && (this.hasNativeFullscreenSupport = !1), a.default.isInIframe && (this.fullWindowMode = !1), h.default.init.call(this),
                                function() {
                                    this.licenseFailedDestroyRequested || (this.hasRelated ? c : this.hasPlaylist ? u : (s.default.init.call(this), b.default.init.call(this), p)).default.init.call(this)
                                }.call(this)
                        }.bind(this), null === document.getElementById("rmp-dress-code") ? g.default.getCSS.call(this) : this.initConfig()
                    }.call(this)
            }, window.RadiantMP.prototype.init = function(e) {
                var i = this;
                if (null !== this.dom.container)
                    if (this.refTime = o.default.getNow(), g.default.filterInput.call(this, e), o.default.isEmptyObject(this.src) && !o.default.isEmptyObject(this.bitrates) && (this.src = this.bitrates), o.default.isEmptyObject(this.backupSrc) && !o.default.isEmptyObject(this.backupBitrates) && (this.backupSrc = this.backupBitrates), o.default.isEmptyObject(this.video360FallbackSrc) && !o.default.isEmptyObject(this.video360FallbackBitrates) && (this.video360FallbackSrc = this.video360FallbackBitrates), "string" == typeof this.src.mp4 && "" !== this.src.mp4 && (this.src.mp4 = [this.src.mp4]), "string" == typeof this.src.webm && "" !== this.src.webm && (this.src.webm = [this.src.webm]), "" !== this.licenseKey)
                        if (o.default.addClass(this.dom.container, "rmp-container rmp-color-button"), this.fadeInPlayer && (o.default.setStyle(this.dom.container, {
                                opacity: 0,
                                visibility: "hidden"
                            }), o.default.addClass(this.dom.container, "rmp-container-fade-in")), "/" !== this.pathToRmpFiles.substr(this.pathToRmpFiles.length - 1) && (this.pathToRmpFiles = this.pathToRmpFiles + "/"), !a.default.isInIframe || this.iframeAllowed)
                            if (l.default.ck.call(this))
                                if (this.windowOnline = function() {
                                        o.default.createStdEvent("online", this.dom.container)
                                    }.bind(this), window.addEventListener("online", this.windowOnline), this.windowOffline = function() {
                                        o.default.createStdEvent("offline", this.dom.container)
                                    }.bind(this), window.addEventListener("offline", this.windowOffline), this.isLive && this.isLiveDvr && (this.isLiveDvr = !1), g.default.assignPlaybackCapabilities.call(this), a.default.isStandalone ? o.default.addClass(this.dom.container, "rmp-standalone") : a.default.isWebView && o.default.addClass(this.dom.container, "rmp-webview"), this.audioOnly ? this.dom.container.style.backgroundColor = "transparent" : "000000" !== this.backgroundColor && (this.dom.container.style.backgroundColor = "#" + this.backgroundColor), this.adOutStream && (this.ads || (this.ads = !0), "outstream" === this.skin) && (this.adOutStreamSkin = !0, o.default.addClass(this.dom.container, "rmp-ad-outstream"), this.skin = "s1", this.skinBackgroundColor = "", this.adShowRemainingTime = !0), this.permanentMuted && (this.googleCast = !1, this.muted = !0), void 0 === window.chrome && (this.googleCast = !1), this.googleCast && (window.rmpGlobals.castApiInitialized || (window.rmpGlobals.castApiInitialized = !0, this.castReady = k.default.ready.bind(this), this.dom.container.addEventListener("ready", this.castReady)), "" !== this.contentTitle) && "" === this.googleCastContentTitle && (this.googleCastContentTitle = this.contentTitle), r.default.detect.call(this), this.adAutoplayOnlyPreroll && !this.autoplay && (this.autoplay = !0), this.autoplay && this.adOutStream && this.adOutStreamMutedAutoplay && (this.muted = !0), this.autoplay && this.detectAutoplayCapabilities) {
                                    if (a.default.isMobile) {
                                        if (a.default.isIos[0] && a.default.isIos[1] <= 9) return g.default.fireAutoplayFailure.call(this), void n.call(this);
                                        if (a.default.isAndroid[0] && a.default.isSamsungInternet[0] && 7 <= a.default.isSamsungInternet[1]) return this.muted = !0, void n.call(this);
                                        a.default.isWebView || (this.muted = !0)
                                    }
                                    var s = "video";
                                    this.audioOnly && (s = "audio"), this.muted ? D.default[s]({
                                        inline: !0,
                                        muted: !0
                                    }).then(function(e) {
                                        var t = e.result;
                                        e.error, !1 === t && g.default.fireAutoplayFailure.call(i), n.call(i)
                                    }) : D.default[s]({
                                        inline: !0
                                    }).then(function(e) {
                                        var t = e.result;
                                        e.error, !1 === t ? D.default[s]({
                                            inline: !0,
                                            muted: !0
                                        }).then(function(e) {
                                            var t = e.result;
                                            e.error, !1 === t ? g.default.fireAutoplayFailure.call(i) : i.muted = !0, n.call(i)
                                        }) : n.call(i)
                                    })
                                } else n.call(this);
                else l.default.endPlayer.call(this, "license key check failed");
                else l.default.endPlayer.call(this, "iframe embedding not allowed");
                else o.default.log("license", "no license key provided - exit")
            }, Array.isArray(window.rmpAsyncPlayers)) && o.default.isObject(window.rmpAsyncPlayers[0]) && "string" == typeof window.rmpAsyncPlayers[0].asyncElementID && "" !== window.rmpAsyncPlayers[0].asyncElementID && (window.rmpAsyncPlayerInstances = [], window.rmpAsyncPlayers.forEach(function(e) {
                var t = e.asyncElementID,
                    i = document.getElementById(t);
                null !== i && (t = new window.RadiantMP(t), window.rmpAsyncPlayerInstances.push(t), o.default.createStdEvent("rmpasyncplayerinstanceavailable", i), delete e.asyncElementID, t.init(e))
            }))
        }, {
            "./360/360": 1,
            "./abr/fps": 2,
            "./ads/ads-helpers": 6,
            "./analytics/analytics": 11,
            "./analytics/logs": 12,
            "./analytics/mux": 13,
            "./api/ads": 14,
            "./api/api": 15,
            "./api/audio": 16,
            "./api/bitrates": 17,
            "./api/destroy": 18,
            "./api/offline": 19,
            "./api/src": 20,
            "./cast/cast": 22,
            "./core/accessible/accessible": 23,
            "./core/resize/resize": 36,
            "./core/run-player/runPlayer": 38,
            "./core/ui/colors": 40,
            "./core/ui/logo": 43,
            "./core/utils/license": 45,
            "./core/utils/utils": 46,
            "./core/utils/viewable": 47,
            "./fw/autoplay": 49,
            "./fw/defaults/inner-defaults": 50,
            "./fw/env": 52,
            "./fw/fw": 53,
            "./playlist/playlist": 55,
            "./playlist/related": 56,
            "./vtt/captions": 57,
            "core-js/modules/es6.array.copy-within": 163,
            "core-js/modules/es6.array.fill": 164,
            "core-js/modules/es6.array.find": 166,
            "core-js/modules/es6.array.find-index": 165,
            "core-js/modules/es6.array.from": 167,
            "core-js/modules/es6.array.iterator": 168,
            "core-js/modules/es6.array.of": 169,
            "core-js/modules/es6.function.name": 170,
            "core-js/modules/es6.map": 171,
            "core-js/modules/es6.math.acosh": 172,
            "core-js/modules/es6.math.asinh": 173,
            "core-js/modules/es6.math.atanh": 174,
            "core-js/modules/es6.math.cbrt": 175,
            "core-js/modules/es6.math.clz32": 176,
            "core-js/modules/es6.math.cosh": 177,
            "core-js/modules/es6.math.expm1": 178,
            "core-js/modules/es6.math.fround": 179,
            "core-js/modules/es6.math.hypot": 180,
            "core-js/modules/es6.math.imul": 181,
            "core-js/modules/es6.math.log10": 182,
            "core-js/modules/es6.math.log1p": 183,
            "core-js/modules/es6.math.log2": 184,
            "core-js/modules/es6.math.sign": 185,
            "core-js/modules/es6.math.sinh": 186,
            "core-js/modules/es6.math.tanh": 187,
            "core-js/modules/es6.math.trunc": 188,
            "core-js/modules/es6.number.epsilon": 189,
            "core-js/modules/es6.number.is-finite": 190,
            "core-js/modules/es6.number.is-integer": 191,
            "core-js/modules/es6.number.is-nan": 192,
            "core-js/modules/es6.number.is-safe-integer": 193,
            "core-js/modules/es6.number.max-safe-integer": 194,
            "core-js/modules/es6.number.min-safe-integer": 195,
            "core-js/modules/es6.object.assign": 196,
            "core-js/modules/es6.object.freeze": 197,
            "core-js/modules/es6.object.get-own-property-descriptor": 198,
            "core-js/modules/es6.object.get-own-property-names": 199,
            "core-js/modules/es6.object.get-prototype-of": 200,
            "core-js/modules/es6.object.is": 204,
            "core-js/modules/es6.object.is-extensible": 201,
            "core-js/modules/es6.object.is-frozen": 202,
            "core-js/modules/es6.object.is-sealed": 203,
            "core-js/modules/es6.object.keys": 205,
            "core-js/modules/es6.object.prevent-extensions": 206,
            "core-js/modules/es6.object.seal": 207,
            "core-js/modules/es6.object.set-prototype-of": 208,
            "core-js/modules/es6.promise": 209,
            "core-js/modules/es6.reflect.apply": 210,
            "core-js/modules/es6.reflect.construct": 211,
            "core-js/modules/es6.reflect.define-property": 212,
            "core-js/modules/es6.reflect.delete-property": 213,
            "core-js/modules/es6.reflect.get": 216,
            "core-js/modules/es6.reflect.get-own-property-descriptor": 214,
            "core-js/modules/es6.reflect.get-prototype-of": 215,
            "core-js/modules/es6.reflect.has": 217,
            "core-js/modules/es6.reflect.is-extensible": 218,
            "core-js/modules/es6.reflect.own-keys": 219,
            "core-js/modules/es6.reflect.prevent-extensions": 220,
            "core-js/modules/es6.reflect.set": 222,
            "core-js/modules/es6.reflect.set-prototype-of": 221,
            "core-js/modules/es6.regexp.flags": 223,
            "core-js/modules/es6.regexp.match": 224,
            "core-js/modules/es6.regexp.replace": 225,
            "core-js/modules/es6.regexp.search": 226,
            "core-js/modules/es6.regexp.split": 227,
            "core-js/modules/es6.set": 228,
            "core-js/modules/es6.string.code-point-at": 229,
            "core-js/modules/es6.string.ends-with": 230,
            "core-js/modules/es6.string.from-code-point": 231,
            "core-js/modules/es6.string.includes": 232,
            "core-js/modules/es6.string.raw": 233,
            "core-js/modules/es6.string.repeat": 234,
            "core-js/modules/es6.string.starts-with": 235,
            "core-js/modules/es6.symbol": 236,
            "core-js/modules/es6.typed.array-buffer": 237,
            "core-js/modules/es6.typed.data-view": 238,
            "core-js/modules/es6.typed.float32-array": 239,
            "core-js/modules/es6.typed.float64-array": 240,
            "core-js/modules/es6.typed.int16-array": 241,
            "core-js/modules/es6.typed.int32-array": 242,
            "core-js/modules/es6.typed.int8-array": 243,
            "core-js/modules/es6.typed.uint16-array": 244,
            "core-js/modules/es6.typed.uint32-array": 245,
            "core-js/modules/es6.typed.uint8-array": 246,
            "core-js/modules/es6.typed.uint8-clamped-array": 247,
            "core-js/modules/es6.weak-map": 248,
            "core-js/modules/es6.weak-set": 249,
            "core-js/modules/web.dom.iterable": 250,
            "core-js/modules/web.immediate": 251,
            "core-js/modules/web.timers": 252
        }],
        55: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var o = c(e("../fw/fw")),
                s = c(e("../core/utils/utils")),
                n = c(e("../core/run-player/runPlayer")),
                a = c(e("../analytics/analytics")),
                r = c(e("../analytics/logs")),
                l = c(e("../core/utils/error")),
                d = c(e("../ads/ads-helpers"));

            function c(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function u(e) {
                if (Array.isArray(e)) {
                    for (var t = 0, i = Array(e.length); t < e.length; t++) i[t] = e[t];
                    return i
                }
                return Array.from(e)
            }

            function h(e) {
                if (this.playlistList = o.default.filterPlaylist(e), this.dom.playlistSideMenu) {
                    for (var t = this.dom.playlistSideMenu.querySelectorAll(".rmp-playlist-item"), i = 0, s = t.length; i < s; i++) o.default.removeElement(t[i]);
                    for (var n = 0, a = this.playlistList.length; n < a; n++) v.call(this, n);
                    m.load.call(this, 0, null)
                }
            }

            function p() {
                l.default.fatal.call(this, "error loading or parsing input playlist", 101, null)
            }

            function f(e) {
                this.playlistList = o.default.filterPlaylist(e), (0 < this.playlistList.length && o.default.isObject(this.playlistList[0]) ? (function() {
                    if (this.dom.playlistContainer = this.dom.container.parentNode.parentNode, o.default.hasClass(this.dom.playlistContainer, "rmp-playlist-container")) {
                        o.default.addClass(this.dom.container, "rmp-playlist-ui"),
                            function() {
                                this.dom.playlistLeftArrow = document.createElement("div"), this.dom.playlistLeftArrow.className = "rmp-playlist-left-arrow rmp-color-bg";
                                var e = document.createElement("span"),
                                    e = (e.className = "rmp-i rmp-i-previous", this.dom.playlistLeftArrow.appendChild(e), o.default.hide(this.dom.playlistLeftArrow), this.dom.container.appendChild(this.dom.playlistLeftArrow), o.default.addEvent(["touchend", "click"], this.dom.playlistLeftArrow, y.bind(this, !1)), this.dom.playlistRightArrow = document.createElement("div"), this.dom.playlistRightArrow.className = "rmp-playlist-right-arrow rmp-color-bg", document.createElement("span"));
                                e.className = " rmp-i rmp-i-next", this.dom.playlistRightArrow.appendChild(e), o.default.hide(this.dom.playlistRightArrow), this.dom.container.appendChild(this.dom.playlistRightArrow), o.default.addEvent(["touchend", "click"], this.dom.playlistRightArrow, y.bind(this, !0))
                            }.call(this), this.dom.playlistSideMenu = document.createElement("div"), this.dom.playlistSideMenu.className = "rmp-playlist-side-menu rmp-color-bg rmp-color-button";
                        var e = document.createElement("div");
                        e.className = "rmp-playlist-header", o.default.setText(e, this.labels.hint.playlist), this.dom.playlistSideMenu.appendChild(e);
                        for (var t = 0, i = this.playlistList.length; t < i; t++) v.call(this, t);
                        this.dom.playlistContainer.appendChild(this.dom.playlistSideMenu), g.call(this, 0)
                    } else l.default.warning.call(this, "cannot append playlist layout - missing rmp-playlist-container container", 1006, null)
                }.call(this), e = this.playlistList[0], this.src = e.src, this.poster = e.poster, this.seekBarThumbnailsLoc = e.seekBarThumbnailsLoc, this.ads && (this.adTagUrl = d.default.replaceAdTagVar.call(this, e.adTagUrl), "" === e.adTagUrl && (this.emptyInitAdTagUrl = !0), e.adTagWaterfall) && (this.adTagWaterfall = [].concat(u(e.adTagWaterfall))), this.contentTitle = e.contentTitle, this.contentDescription = e.contentDescription, "" !== this.gaTrackingId && this.setGALabel(this.contentTitle), this.muxData && this.muxDataUseListData && (this.muxDataSettings.data.video_title = this.contentTitle), this.useVideoTitle && this.setVideoTitle(this.contentTitle), this.playlistOnSrcChangedLoadAd = function() {
                    this.dom.container.removeEventListener("srcchanged", this.playlistOnSrcChangedLoadAd), this.dom.container.removeEventListener("error", this.playlistOnSrcChangeError), this.adTagUrl && this.loadAds(this.adTagUrl)
                }.bind(this), this.playlistOnSrcChangeError = function() {
                    this.dom.container.removeEventListener("srcchanged", this.playlistOnSrcChangedLoadAd), this.dom.container.removeEventListener("error", this.playlistOnSrcChangeError)
                }.bind(this), s.default.detectSrc.call(this), a.default.init.call(this), r.default.init.call(this), n.default.init) : p).call(this)
            }
            var m = {},
                g = function(e) {
                    if (this.dom.playlistContainer) {
                        for (var t = this.dom.playlistContainer.querySelectorAll(".rmp-playlist-item"), i = 0, s = t.length; i < s; i++) o.default.removeClass(t[i], "rmp-playlist-item-active");
                        o.default.addClass(t[e], "rmp-playlist-item-active")
                    }
                },
                v = (m.load = function(e, t) {
                    t && t.stopPropagation(), !this.changingSrc && (this.currentPlaylistIndex = e, void 0 === this.playlistList[this.currentPlaylistIndex] && (this.currentPlaylistIndex = 0, this.dom.playlistSideMenu.scrollTop = 0), o.default.isObject(this.playlistList[this.currentPlaylistIndex])) && (t = this.playlistList[this.currentPlaylistIndex], this.ads && ("string" == typeof t.adTagUrl && "" !== t.adTagUrl ? (this.adTagUrl = d.default.replaceAdTagVar.call(this, t.adTagUrl), t.adTagWaterfall ? this.adTagWaterfall = [].concat(u(t.adTagWaterfall)) : this.adTagWaterfall = []) : this.adTagUrl = null), this.setPoster(t.poster), this.setContentTitle(t.contentTitle), this.setContentDescription(t.contentDescription), "" !== this.gaTrackingId && this.setGALabel(t.contentTitle), this.muxData && this.muxDataUseListData && (this.muxDataSettings.data.video_title = t.contentTitle, window.mux.emit("#" + this.id + " .rmp-video", "videochange", {
                        video_title: this.muxDataSettings.data.video_title
                    })), this.useVideoTitle && this.setVideoTitle(t.contentTitle), g.call(this, this.currentPlaylistIndex), e = this.getStreamType(), e = t.src[e], Array.isArray(e) && "string" == typeof e[0] && (e = e[0]), this.getPlayerInitialized() && this.ads && (this.dom.container.addEventListener("srcchanged", this.playlistOnSrcChangedLoadAd), this.dom.container.addEventListener("error", this.playlistOnSrcChangeError)), this.setSrc(e), t.seekBarThumbnailsLoc && this.setThumbnails(t.seekBarThumbnailsLoc))
                }, function(e) {
                    var t, i, s, n;
                    o.default.isObject(this.playlistList[e]) && (t = this.playlistList[e], (i = document.createElement("div")).className = "rmp-playlist-item", (n = document.createElement("div")).className = "rmp-playlist-item-number", o.default.setText(n, (e + 1).toString()), i.appendChild(n), (n = document.createElement("div")).className = "rmp-playlist-item-thumbnail-wrapper", (s = document.createElement("img")).className = "rmp-playlist-item-thumbnail", s.alt = t.contentTitle, s.src = t.thumbnail, n.appendChild(s), i.appendChild(n), (s = document.createElement("div")).className = "rmp-playlist-item-text-area", (n = document.createElement("div")).className = "rmp-playlist-item-title", o.default.setText(n, t.contentTitle), s.appendChild(n), (n = document.createElement("div")).className = "rmp-playlist-item-description", o.default.setText(n, t.contentDescription), s.appendChild(n), i.appendChild(s), o.default.addEvent("click", i, m.load.bind(this, e)), this.dom.playlistSideMenu.appendChild(i))
                }),
                y = function(e, t) {
                    t && (t.stopPropagation(), "touchend" === t.type) && t.preventDefault();
                    t = this.currentPlaylistIndex - 1;
                    e && (t = this.currentPlaylistIndex + 1), m.load.call(this, t, null)
                };
            m.setData = function(e) {
                var i = this;
                if ("string" == typeof e) this.playlistLoc = e;
                else if (Array.isArray(e)) return void h.call(this, e);
                o.default.ajax(this.playlistLoc, this.ajaxTimeout, this.ajaxWithCredentials, "GET").then(function(e) {
                    var t;
                    try {
                        t = JSON.parse(e), Array.isArray(t.playlist) && h.call(i, t.playlist)
                    } catch (e) {
                        o.default.trace(e)
                    }
                }).catch(function(e) {
                    o.default.trace(e)
                })
            };
            m.init = function() {
                var i = this;
                "" === this.playlistLoc ? f.call(this, this.playlistData) : o.default.ajax(this.playlistLoc, this.ajaxTimeout, this.ajaxWithCredentials, "GET").then(function(e) {
                    var t = void 0;
                    try {
                        t = JSON.parse(e)
                    } catch (e) {
                        o.default.trace(e), p.call(i)
                    }
                    Array.isArray(t.playlist) ? f.call(i, t.playlist) : p.call(i)
                }).catch(function(e) {
                    o.default.trace(e), p.call(i)
                })
            }, i.default = m
        }, {
            "../ads/ads-helpers": 6,
            "../analytics/analytics": 11,
            "../analytics/logs": 12,
            "../core/run-player/runPlayer": 38,
            "../core/utils/error": 44,
            "../core/utils/utils": 46,
            "../fw/fw": 53
        }],
        56: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var o = p(e("../fw/fw")),
                s = p(e("../fw/env")),
                n = p(e("../core/utils/utils")),
                a = p(e("../core/ui/core-ui")),
                r = p(e("../core/run-player/runPlayer")),
                l = p(e("../analytics/analytics")),
                d = p(e("../analytics/logs")),
                c = p(e("../core/utils/error")),
                u = p(e("../ads/ads-helpers")),
                h = p(e("../core/modules/modules"));

            function p(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function f(e) {
                if (Array.isArray(e)) {
                    for (var t = 0, i = Array(e.length); t < e.length; t++) i[t] = e[t];
                    return i
                }
                return Array.from(e)
            }

            function m() {
                var e, t;
                o.default.isObject(this.relatedList[this.currentRelatedIndex]) && (e = this.relatedList[this.currentRelatedIndex], this.ads && ("string" == typeof e.adTagUrl && "" !== e.adTagUrl ? (this.adTagUrl = u.default.replaceAdTagVar.call(this, e.adTagUrl), e.adTagWaterfall ? this.adTagWaterfall = [].concat(f(e.adTagWaterfall)) : this.adTagWaterfall = []) : this.adTagUrl = null), t = e.poster, this.setPoster(t), this.setContentTitle(e.contentTitle), this.setContentDescription(e.contentDescription), "" !== this.gaTrackingId && this.setGALabel(e.contentTitle), this.muxData && this.muxDataUseListData && (this.muxDataSettings.data.video_title = e.contentTitle, window.mux.emit("#" + this.id + " .rmp-video", "videochange", {
                    video_title: this.muxDataSettings.data.video_title
                })), this.useVideoTitle && this.setVideoTitle(e.contentTitle), a.default.hideCentralPlay.call(this), t = e.src[this.getStreamType()], Array.isArray(t) && "string" == typeof t[0] && (t = t[0]), this.getPlayerInitialized() ? this.ads && (this.dom.container.addEventListener("srcchanged", this.relatedOnSrcChangedLoadAd), this.dom.container.addEventListener("error", this.relatedOnSrcChangeError)) : h.default.closeAll.call(this), this.setSrc(t), function() {
                    o.default.removeClass(this.dom.relatedSkipPreview, "rmp-force-show");
                    var e = this.currentRelatedIndex + 1;
                    this.relatedList[e] || (e = 0), this.dom.relatedSkipImg.src = this.relatedList[e].thumbnail, o.default.setText(this.dom.relatedSkipText, this.relatedList[e].contentTitle)
                }.call(this), e.seekBarThumbnailsLoc) && this.setThumbnails(e.seekBarThumbnailsLoc)
            }

            function g() {
                var e = document.createElement("div");
                e.className = "rmp-related-item-bottom-margin", this.dom.relatedOverlayLevelsArea.appendChild(e)
            }

            function v(e) {
                var t, i, s;
                o.default.isObject(this.relatedList[e]) && (s = this.relatedList[e], (t = document.createElement("div")).className = "rmp-related-item", (i = document.createElement("img")).className = "rmp-related-thumbnail", i.alt = s.contentTitle, i.src = s.thumbnail, t.appendChild(i), (i = document.createElement("div")).className = "rmp-related-title", o.default.setText(i, s.contentTitle), t.appendChild(i), s.contentDuration && ((i = document.createElement("div")).className = "rmp-related-duration", o.default.setText(i, s.contentDuration), t.appendChild(i)), (s = document.createElement("div")).className = "rmp-related-up-next", o.default.setText(s, this.labels.hint.upNext), o.default.hide(s), t.appendChild(s), t.addEventListener("click", C.load.bind(this, e)), this.dom.relatedOverlayLevelsArea.appendChild(t))
            }

            function y(e) {
                if (this.dom.relatedOverlayLevelsArea) {
                    this.relatedList = o.default.filterPlaylist(e), this.currentRelatedIndex = 0;
                    for (var t = this.dom.relatedOverlayLevelsArea.querySelectorAll(".rmp-related-item"), i = 0, s = t.length; i < s; i++) o.default.removeElement(t[i]);
                    e = this.dom.relatedOverlayLevelsArea.querySelector(".rmp-related-item-bottom-margin");
                    null !== e && o.default.removeElement(e);
                    for (var n = 0, a = this.relatedList.length; n < a; n++) v.call(this, n);
                    g.call(this), m.call(this)
                }
            }

            function b(e) {
                e && (e.stopPropagation(), "touchend" === e.type) && e.preventDefault(), C.load.call(this, this.currentRelatedIndex + 1, null)
            }

            function w() {
                c.default.fatal.call(this, "error loading or parsing input related", 102, null)
            }

            function _(e) {
                this.relatedList = o.default.filterPlaylist(e), (0 < this.relatedList.length && o.default.isObject(this.relatedList[0]) ? (function() {
                    o.default.addClass(this.dom.container, "rmp-related-ui"), h.default.append.call(this, "related"), h.default.appendOverlay.call(this, "related");
                    for (var e = 0, t = this.relatedList.length; e < t; e++) v.call(this, e);
                    g.call(this)
                }.call(this), e = this.relatedList[0], this.src = e.src, this.poster = e.poster, this.seekBarThumbnailsLoc = e.seekBarThumbnailsLoc, this.ads && (this.adTagUrl = u.default.replaceAdTagVar.call(this, e.adTagUrl), "" === e.adTagUrl && (this.emptyInitAdTagUrl = !0), e.adTagWaterfall) && (this.adTagWaterfall = [].concat(f(e.adTagWaterfall))), this.contentTitle = e.contentTitle, this.contentDescription = e.contentDescription, "" !== this.gaTrackingId && this.setGALabel(this.contentTitle), this.muxData && this.muxDataUseListData && (this.muxDataSettings.data.video_title = this.contentTitle), this.useVideoTitle && this.setVideoTitle(this.contentTitle), this.relatedOnSrcChangedLoadAd = function() {
                    this.dom.container.removeEventListener("srcchanged", this.relatedOnSrcChangedLoadAd), this.dom.container.removeEventListener("error", this.relatedOnSrcChangeError), this.adTagUrl && this.loadAds(this.adTagUrl)
                }.bind(this), this.relatedOnSrcChangeError = function() {
                    this.dom.container.removeEventListener("srcchanged", this.relatedOnSrcChangedLoadAd), this.dom.container.removeEventListener("error", this.relatedOnSrcChangeError)
                }.bind(this), n.default.detectSrc.call(this), l.default.init.call(this), d.default.init.call(this), r.default.init.call(this), function() {
                    var t = this,
                        e = this.currentRelatedIndex + 1;
                    void 0 === this.relatedList[e] && (e = 0), this.dom.outline && (this.dom.relatedSkip = document.createElement("div"), this.dom.relatedSkip.className = "rmp-related-skip-next rmp-i rmp-i-skip-next", o.default.addEvent(["touchend", "click"], this.dom.relatedSkip, b.bind(this)), this.dom.outline.appendChild(this.dom.relatedSkip), this.dom.relatedSkipPreview = document.createElement("div"), this.dom.relatedSkipPreview.className = "rmp-related-skip-preview", o.default.addEvent(["touchend", "click"], this.dom.relatedSkipPreview, b.bind(this)), this.dom.relatedSkip.appendChild(this.dom.relatedSkipPreview), this.dom.relatedSkipImg = document.createElement("img"), this.dom.relatedSkipImg.alt = "Next playlist item image preview", this.dom.relatedSkipImg.className = "rmp-related-skip-preview-img", this.dom.relatedSkipImg.src = this.relatedList[e].thumbnail, this.dom.relatedSkipPreview.appendChild(this.dom.relatedSkipImg), this.dom.relatedSkipText = document.createElement("div"), this.dom.relatedSkipText.className = "rmp-related-skip-preview-title rmp-color-bg", o.default.setText(this.dom.relatedSkipText, this.relatedList[e].contentTitle), this.dom.relatedSkipPreview.appendChild(this.dom.relatedSkipText), (e = document.createElement("div")).className = "rmp-related-skip-preview-up-next rmp-color-bg", o.default.setText(e, this.labels.hint.upNext), this.dom.relatedSkipPreview.appendChild(e), s.default.isMobile || (this.dom.relatedSkip.addEventListener("mouseenter", function(e) {
                        e && e.stopPropagation(), t.forceResetTimer = !0, o.default.fadeIn(t.dom.relatedSkipPreview)
                    }), this.dom.relatedSkip.addEventListener("mouseleave", function(e) {
                        e && e.stopPropagation(), t.forceResetTimer = !1, o.default.fadeOut(t.dom.relatedSkipPreview)
                    })))
                }) : w).call(this)
            }
            var C = {};
            C.setData = function(e, t) {
                var i = this;
                if (t) this.relatedLoc = this.relatedList[this.currentRelatedIndex].related;
                else if ("string" == typeof e) this.relatedLoc = e;
                else if (Array.isArray(e)) return void y.call(this, e);
                o.default.ajax(this.relatedLoc, this.ajaxTimeout, this.ajaxWithCredentials, "GET").then(function(e) {
                    var t;
                    try {
                        t = JSON.parse(e), Array.isArray(t.playlist) && y.call(i, t.playlist)
                    } catch (e) {
                        o.default.trace(e)
                    }
                }).catch(function(e) {
                    o.default.trace(e)
                })
            }, C.load = function(e, t) {
                t && t.stopPropagation(), this.changingSrc || (this.currentRelatedIndex = e, void 0 === this.relatedList[this.currentRelatedIndex] && (this.currentRelatedIndex = 0), this.relatedList[this.currentRelatedIndex].related ? C.setData.call(this, null, !0) : m.call(this))
            };
            C.init = function() {
                var i = this;
                "" === this.relatedLoc ? _.call(this, this.relatedData) : o.default.ajax(this.relatedLoc, this.ajaxTimeout, this.ajaxWithCredentials, "GET").then(function(e) {
                    var t = void 0;
                    try {
                        t = JSON.parse(e)
                    } catch (e) {
                        o.default.trace(e), w.call(i)
                    }
                    Array.isArray(t.playlist) ? _.call(i, t.playlist) : w.call(i)
                }).catch(function(e) {
                    o.default.trace(e), w.call(i)
                })
            }, i.default = C
        }, {
            "../ads/ads-helpers": 6,
            "../analytics/analytics": 11,
            "../analytics/logs": 12,
            "../core/modules/modules": 30,
            "../core/run-player/runPlayer": 38,
            "../core/ui/core-ui": 41,
            "../core/utils/error": 44,
            "../core/utils/utils": 46,
            "../fw/env": 52,
            "../fw/fw": 53
        }],
        57: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var h = o(e("../fw/fw")),
                s = o(e("../fw/env")),
                a = o(e("../core/accessible/accessible")),
                l = o(e("../core/ui/core-ui")),
                p = o(e("../core/modules/modules")),
                n = o(e("../core/utils/error")),
                d = o(e("../cast/cast"));

            function o(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function r() {
                if (this.textTracks && 0 < this.textTracks.length)
                    for (var e = 0; e < this.textTracks.length; e++) this.textTracks[e] && "hidden" !== this.textTracks[e].mode && (this.textTracks[e].mode = "hidden")
            }

            function c(e) {
                this.textTracks[e] && "showing" !== this.textTracks[e].mode && (r.call(this), this.textTracks[e].mode = "showing")
            }

            function f() {
                this.shakaPlayer && this.shakaPlayer.setTextTrackVisibility(!1)
            }

            function u(e) {
                this.shakaPlayer && (this.shakaPlayer.selectTextTrack(e), this.shakaPlayer.setTextTrackVisibility(!0))
            }

            function m(e) {
                this.hlsJSCEA ? c.call(this, e) : this.hlsJS && (this.hlsJS.subtitleTrack = e)
            }

            function g() {
                this.hasCC ? "vtt.js" === this.ccParser ? (this.ccEnabled = !1, h.default.hide(this.dom.ccArea), this.ccData = null) : r.call(this) : this.readingDash || this.readingHlsShaka ? f.call(this) : this.readingHlsJS && function() {
                        this.hlsJSCEA ? r.call(this) : this.hlsJS && (this.hlsJS.subtitleTrack = -1)
                    }.call(this),
                    function() {
                        if (this.googleCast && this.castMediaLoaded) try {
                            var e = new chrome.cast.media.EditTracksInfoRequest([]);
                            this.castMedia.editTracksInfo(e, h.default.trace, h.default.trace)
                        } catch (e) {
                            h.default.trace(e)
                        }
                    }.call(this)
            }

            function v(e) {
                if ("string" == typeof e) try {
                    this.ccCues = [];
                    var t = new WebVTT.Parser(window, WebVTT.StringDecoder());
                    t.oncue = function(e) {
                        this.ccCues.push(e)
                    }.bind(this), t.onparsingerror = function(e) {
                        e = e || null;
                        n.default.warning.call(this, "vtt.js parsing error", 4001, e)
                    }, t.parse(e), t.flush()
                } catch (e) {
                    h.default.trace(e)
                }
            }

            function y(e, t, i, s) {
                var n = document.createElement("div");
                return n.className = e + " rmp-overlay-level rmp-color-bg", 0 < t.length && n.setAttribute("lang", t), s === this.defaultTrack && (h.default.addClass(n, "rmp-overlay-level-active"), "captions-off" !== e) && -1 < s - 1 && (this.hasCC ? "native" === this.ccParser ? c.call(this, s - 1) : (this.ccEnabled = !0, h.default.show(this.dom.ccArea), v.call(this, this.loadedCCFiles[s - 1][2]), this.ccData = this.ccCues) : this.readingDash || this.readingHlsShaka ? u.call(this, this.shakaTextTracks[s - 1]) : this.readingHlsJS && m.call(this, s - 1), h.default.createStdEvent("texttrackchanged", this.dom.container)), n.appendChild(document.createTextNode(i)), this.dom.ccItems.push(n), a.default.makeAccessible.call(this, n, e, !0), h.default.addEvent(["touchend", "click"], n, _.menuItemInteraction.bind(this)), n
            }

            function b(i) {
                var s = this;
                return h.default.ajax(this.ccFiles[i][2], this.ajaxTimeout, this.ajaxWithCredentials, "GET").then(function(e) {
                    var t;
                    "string" == typeof e && (t = "", "string" == typeof s.ccFiles[i][3] && "default" === s.ccFiles[i][3] && (t = s.ccFiles[i][3]), s.loadedCCFiles[i] = [s.ccFiles[i][0], s.ccFiles[i][1], e, t], h.default.createStdEvent("texttrackloaded", s.dom.container))
                }).catch(function(e) {
                    s.loadedCCFiles[i] = null, h.default.createStdEvent("texttrackloaderror", s.dom.container);
                    e = e || null;
                    n.default.warning.call(s, "failed to load text track at " + s.ccFiles[i][2], 4002, e)
                })
            }

            function w(e) {
                var t = this.getCurrentTime();
                if (-1 < t) {
                    t /= 1e3;
                    for (var i = [], s = 0, n = this.ccCues.length; s < n; s++) {
                        var a = this.ccCues[s].startTime,
                            o = this.ccCues[s].endTime;
                        a <= t && t <= o && i.push(this.ccCues[s])
                    }
                    i[0] && this.ccEnabled ? (h.default.show(this.dom.ccArea), this.dom.ccArea.style.width = this.getPlayerWidth() + "px", this.dom.ccArea.style.height = this.getPlayerHeight() + "px", WebVTT.processCues(window, i, this.dom.ccArea, e)) : h.default.hide(this.dom.ccArea)
                }
            }
            var _ = {
                prepare: function() {
                    s.default.isIos[0] && (this.ccParser = "native"), this.hasCC = !0, this.googleCastCCForegroundColor = this.ccTextColor + "99";
                    var e = this.ccBackgroundAlpha;
                    this.googleCastCCBackgroundColor = this.ccBackgroundColor + (100 * (e = 1 <= e ? .99 : e)).toString(), this.googleCastCCFontScale = .9 * this.ccFontSize / 18
                }
            };
            _.destroy = function() {
                g.call(this), this.dom.container && (this.dom.container.removeEventListener("playing", this.addNativeVTT), this.dom.container.removeEventListener("timeupdate", this.updateCues), this.dom.container.removeEventListener("resize", this.updateCuesResize)), this.hasCC && "native" === this.ccParser && 0 < this.textTracks.length && (this.startIndexCC += this.textTracks.length), h.default.clearInterval(this.hlsJSCCInterval), this.textTracks = [], p.default.destroy.call(this, "captions"), this.ccCues = [], this.defaultTrack = 0, this.loadedCCFiles = [], this.addNativeVTT = h.default.nullFn, this.updateCues = h.default.nullFn, this.updateCuesResize = h.default.nullFn
            }, _.getData = function() {
                return this.hasCC && "vtt.js" === this.ccParser ? this.ccData : null
            }, _.menuItemInteraction = function(e) {
                if (this.dom.captionsOverlayLevelsArea) {
                    var t = null,
                        i = null;
                    if (e && e.type && e.target ? (e.stopPropagation(), "touchend" === e.type && e.preventDefault(), i = (t = e.target).getAttribute("lang")) : "string" == typeof e && "" !== e && (t = this.dom.captionsOverlayLevelsArea.querySelector('[lang="' + (i = e) + '"]')), null !== t && null !== i) {
                        l.default.showChrome.call(this);
                        for (var s = this.dom.captionsOverlayLevelsArea.querySelectorAll(".rmp-overlay-level"), n = 0, a = s.length; n < a; n++) h.default.removeClass(s[n], "rmp-overlay-level-active");
                        for (var o = 0, r = this.loadedCCFiles.length; o < r; o++) {
                            if (h.default.hasClass(t, "captions-off")) {
                                this.defaultTrack = 0, h.default.addClass(t, "rmp-overlay-level-active"), g.call(this), h.default.createStdEvent("texttrackchanged", this.dom.container);
                                break
                            }
                            if (this.loadedCCFiles[o][0] === i) {
                                this.defaultTrack = o + 1, h.default.addClass(t, "rmp-overlay-level-active"), this.hasCC ? "native" === this.ccParser ? c.call(this, o) : (this.ccEnabled = !0, h.default.show(this.dom.ccArea), v.call(this, this.loadedCCFiles[o][2]), this.ccData = this.ccCues) : this.readingDash || this.readingHlsShaka ? u.call(this, this.shakaTextTracks[o]) : this.readingHlsJS && m.call(this, o), this.googleCast && d.default.setTextTrack.call(this, o), h.default.createStdEvent("texttrackchanged", this.dom.container);
                                break
                            }
                        }
                    }
                }
            }, _.appendUI = function() {
                if (this.hasCC) {
                    for (var e = 0, t = this.loadedCCFiles.length; e < t; e++) null === this.loadedCCFiles[e] && this.loadedCCFiles.splice(e, 1);
                    if (this.loadedCCFiles.length < 1) return;
                    "vtt.js" === this.ccParser && (this.dom.ccArea = document.createElement("div"), this.dom.ccArea.className = "rmp-cc-area", h.default.hide(this.dom.ccArea), this.dom.content.insertBefore(this.dom.ccArea, this.dom.video.nextSibling)), this.ccFilesReady = !0, h.default.createStdEvent("alltexttracksloaded", this.dom.container),
                        function() {
                            var e, t, i = "";
                            0 < this.ccFontSize && (t = this.ccFontSize, e = this.ccFSFontSize, i = i + ".rmp-cc-cue, .rmp-content > video::cue {font-size: " + t + "px;} .rmp-fullscreen-on .rmp-cc-cue, .rmp-fullscreen-on > .rmp-content > video::cue {font-size: " + (e = this.ccFSFontSize < this.ccFontSize ? t : e) + "px;} "), "FFFFFF" === this.ccTextColor && "000000" === this.ccBackgroundColor && .8 === this.ccBackgroundAlpha || (t = "rgba(" + (t = h.default.hexToRgb("#" + this.ccBackgroundColor)).r + ", " + t.g + ", " + t.b + ", " + this.ccBackgroundAlpha + ")", i = (i += ".rmp-cc-cue {color: #" + this.ccTextColor + " !important; background: " + t + " !important;;} ") + ".rmp-content > video::cue {color: #" + this.ccTextColor + ";} .rmp-content > video::-webkit-media-text-track-display-backdrop {background: " + t + " !important;} "), h.default.appendStyle(i)
                        }.call(this)
                }
                if (p.default.append.call(this, "captions"), p.default.appendOverlay.call(this, "captions"), p.default.deferredShow.call(this, "captions"), !this.hasCC && this.readingMse && 0 < this.textTracks.length)
                    for (var i = 0, s = this.textTracks.length; i < s; i++) {
                        var n = this.textTracks[i];
                        this.loadedCCFiles[i] = [];
                        var a = (a = n.language || n.lang) || "lng-" + (i + 1);
                        this.loadedCCFiles[i].push(a);
                        n = (n = n.label || n.name) || a;
                        this.loadedCCFiles[i].push(n), this.readingHlsJS && -1 < (a = this.hlsJS.subtitleTracks.findIndex(function(e) {
                            return !0 === e.default
                        })) && a === i && (this.loadedCCFiles[i].push(""), this.loadedCCFiles[i].push("default"))
                    }
                for (var o = 0, r = this.loadedCCFiles.length; o < r; o++)
                    if ("string" == typeof this.loadedCCFiles[o][3] && "default" === this.loadedCCFiles[o][3]) {
                        this.defaultTrack = o + 1;
                        break
                    } this.dom.captionsOverlayLevelsArea.appendChild(y.call(this, "captions-off", "off", this.labels.captions.off, 0));
                for (var l = 0, d = this.loadedCCFiles.length; l < d; l++) {
                    var c = this.loadedCCFiles[l][0],
                        u = this.loadedCCFiles[l][1];
                    this.dom.captionsOverlayLevelsArea.appendChild(y.call(this, "captions-" + c, c, u, l + 1))
                }
                this.hasCC || (this.readingDash || this.readingHlsShaka) && 0 === this.defaultTrack && f.call(this)
            };
            _.initVttJS = function() {
                "native" === this.ccParser ? (this.addNativeVTT = function() {
                    this.dom.container.removeEventListener("playing", this.addNativeVTT), this.dom.container.removeEventListener("adloaded", this.addNativeVTT);
                    for (var e = 0; e < this.ccFiles.length; e++) {
                        var t = document.createElement("track");
                        "string" == typeof this.ccFiles[e][0] && "string" == typeof this.ccFiles[e][1] && "string" == typeof this.ccFiles[e][2] && (t.srclang = this.ccFiles[e][0], t.label = this.ccFiles[e][1], t.src = this.ccFiles[e][2], t.kind = "captions", this.dom.video.appendChild(t)), "string" == typeof this.ccFiles[e][3] && "default" === this.ccFiles[e][3] && (this.defaultTrack = e + 1)
                    }
                    if (this.textTracks = h.default.filterTextTracks(this.dom.video.textTracks), 0 < this.textTracks.length) {
                        if (0 < this.startIndexCC)
                            for (var i = 0; i < this.startIndexCC; i++) this.textTracks.shift();
                        this.loadedCCFiles = this.ccFiles, r.call(this), _.appendUI.call(this)
                    }
                }.bind(this), this.firstFrameReached ? this.addNativeVTT() : (this.dom.container.addEventListener("playing", this.addNativeVTT), this.dom.container.addEventListener("adloaded", this.addNativeVTT))) : "vtt.js" === this.ccParser && function() {
                    var e;
                    this.loadVTTFiles = function() {
                        var e = this;
                        this.updateCues = w.bind(this, !1), this.updateCuesResize = w.bind(this, !0), this.dom.container.addEventListener("timeupdate", this.updateCues), this.dom.container.addEventListener("resize", this.updateCuesResize);
                        for (var t = [], i = 0, s = this.ccFiles.length; i < s; i++) t[i] = b.call(this, i);
                        Promise.all(t).then(function() {
                            _.appendUI.call(e)
                        })
                    }.bind(this), "undefined" != typeof WebVTT ? this.loadVTTFiles() : (e = this.pathToRmpFiles + "vtt/vtt.min.js", h.default.getScript(e, this.loadVTTFiles, n.default.warning.bind(this, "failed to load vtt.js", 4e3, null)))
                }.call(this)
            }, i.default = _
        }, {
            "../cast/cast": 22,
            "../core/accessible/accessible": 23,
            "../core/modules/modules": 30,
            "../core/ui/core-ui": 41,
            "../core/utils/error": 44,
            "../fw/env": 52,
            "../fw/fw": 53
        }],
        58: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var f = s(e("../fw/fw")),
                m = s(e("../core/utils/error"));

            function s(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            e = {};
            e.destroy = function() {
                this.dummyThumbnailsImg && (this.dummyThumbnailsImg.removeEventListener("load", this.onThumbnailsLoad), this.dummyThumbnailsImg.removeEventListener("error", this.onThumbnailsError), this.dummyThumbnailsImg = null), f.default.removeClass(this.dom.seekBar, "rmp-seek-bar-thumbnails"), f.default.removeElement(this.dom.thumbnailsImg), this.hasThumbnails = !1
            }, e.init = function() {
                var t = this;
                f.default.ajax(this.seekBarThumbnailsLoc, this.ajaxTimeout, this.ajaxWithCredentials, "GET").then(function(e) {
                    "string" == typeof e && function(e) {
                        for (var t = e.split(/\r\n|\r|\n/g), i = /^\s*$/, s = [], n = 0, a = t.length; n < a; n++) i.test(t[n]) || s.push(t[n]);
                        if (/WEBVTT/i.test(s[0])) {
                            s.shift(), this.thumbnailURIs = [], this.thumbnailURIsTimestamps = [];
                            for (var o, r, l, d, c = /^(https?:)?\/\//i, u = /^\s*\d*?:?\d*?:?\d+(\.\d+)?\s*-->\s*\d*?:?\d*?:?\d+(\.\d+)?\s*$/, h = 0, p = s.length; h < p; h++) s[h] && s[h + 1] && u.test(s[h]) && (l = s[h].split("--\x3e"), o = s[h + 1].split("#xywh="), 2 === l.length) && 2 === o.length && (r = l[0].trim(), l = l[1].trim(), l = [f.default.dateToSeconds(r), f.default.dateToSeconds(l)], d = o[0], c.test(d) || (d = f.default.getFQURL(this.seekBarThumbnailsLoc, d)), -1 === this.thumbnailURIs.indexOf(d) && (this.thumbnailURIs.push(d), this.thumbnailURIsTimestamps.push(f.default.dateToSeconds(r))), l.push(o[1]), this.thumbnailsArray.push(l));
                            this.dummyThumbnailsImg = document.createElement("img"), this.currentThumbnailURI = this.thumbnailURIs[0], this.onThumbnailsLoad = function(e) {
                                this.dummyThumbnailsImg.removeEventListener("load", this.onThumbnailsLoad), this.dummyThumbnailsImg.removeEventListener("error", this.onThumbnailsError), this.dummyThumbnailsImg = null, this.hasThumbnails = !0, this.dom.thumbnailsImg = document.createElement("div"), f.default.setClass(this.dom.thumbnailsImg, "rmp-thumbnails"), f.default.addClass(this.dom.seekBar, "rmp-seek-bar-thumbnails"), this.dom.thumbnailsImg.style.backgroundImage = 'url("' + e + '")', this.dom.indicator.appendChild(this.dom.thumbnailsImg)
                            }.bind(this, this.currentThumbnailURI), this.onThumbnailsError = function(e) {
                                this.dummyThumbnailsImg.removeEventListener("load", this.onThumbnailsLoad), this.dummyThumbnailsImg.removeEventListener("error", this.onThumbnailsError);
                                var t = this.dummyThumbnailsImg = null;
                                m.default.warning.call(this, "failed to load seek-bar thumbnails at " + this.thumbnailURIs[0], 1002, t = e ? e : t)
                            }.bind(this), this.dummyThumbnailsImg.addEventListener("load", this.onThumbnailsLoad), this.dummyThumbnailsImg.addEventListener("error", this.onThumbnailsError), this.dummyThumbnailsImg.src = this.currentThumbnailURI
                        }
                    }.call(t, e)
                }).catch(function(e) {
                    e = e || null;
                    m.default.warning.call(t, "failed to load VTT thumbnail file at " + t.seekBarThumbnailsLoc, 1008, e)
                })
            }, i.default = e
        }, {
            "../core/utils/error": 44,
            "../fw/fw": 53
        }],
        59: [function(e, t, i) {
            t.exports = function(e) {
                if ("function" != typeof e) throw TypeError(e + " is not a function!");
                return e
            }
        }, {}],
        60: [function(e, t, i) {
            var s = e("./_wks")("unscopables"),
                n = Array.prototype;
            null == n[s] && e("./_hide")(n, s, {}), t.exports = function(e) {
                n[s][e] = !0
            }
        }, {
            "./_hide": 91,
            "./_wks": 161
        }],
        61: [function(e, t, i) {
            t.exports = function(e, t, i, s) {
                if (!(e instanceof t) || void 0 !== s && s in e) throw TypeError(i + ": incorrect invocation!");
                return e
            }
        }, {}],
        62: [function(e, t, i) {
            var s = e("./_is-object");
            t.exports = function(e) {
                if (s(e)) return e;
                throw TypeError(e + " is not an object!")
            }
        }, {
            "./_is-object": 100
        }],
        63: [function(e, t, i) {
            "use strict";
            var l = e("./_to-object"),
                d = e("./_to-absolute-index"),
                c = e("./_to-length");
            t.exports = [].copyWithin || function(e, t) {
                var i = l(this),
                    s = c(i.length),
                    n = d(e, s),
                    a = d(t, s),
                    e = 2 < arguments.length ? arguments[2] : void 0,
                    o = Math.min((void 0 === e ? s : d(e, s)) - a, s - n),
                    r = 1;
                for (a < n && n < a + o && (r = -1, a += o - 1, n += o - 1); 0 < o--;) a in i ? i[n] = i[a] : delete i[n], n += r, a += r;
                return i
            }
        }, {
            "./_to-absolute-index": 146,
            "./_to-length": 150,
            "./_to-object": 151
        }],
        64: [function(e, t, i) {
            "use strict";
            var o = e("./_to-object"),
                r = e("./_to-absolute-index"),
                l = e("./_to-length");
            t.exports = function(e) {
                for (var t = o(this), i = l(t.length), s = arguments.length, n = r(1 < s ? arguments[1] : void 0, i), s = 2 < s ? arguments[2] : void 0, a = void 0 === s ? i : r(s, i); n < a;) t[n++] = e;
                return t
            }
        }, {
            "./_to-absolute-index": 146,
            "./_to-length": 150,
            "./_to-object": 151
        }],
        65: [function(e, t, i) {
            var l = e("./_to-iobject"),
                d = e("./_to-length"),
                c = e("./_to-absolute-index");
            t.exports = function(r) {
                return function(e, t, i) {
                    var s, n = l(e),
                        a = d(n.length),
                        o = c(i, a);
                    if (r && t != t) {
                        for (; o < a;)
                            if ((s = n[o++]) != s) return !0
                    } else
                        for (; o < a; o++)
                            if ((r || o in n) && n[o] === t) return r || o || 0;
                    return !r && -1
                }
            }
        }, {
            "./_to-absolute-index": 146,
            "./_to-iobject": 149,
            "./_to-length": 150
        }],
        66: [function(e, t, i) {
            var b = e("./_ctx"),
                w = e("./_iobject"),
                _ = e("./_to-object"),
                C = e("./_to-length"),
                s = e("./_array-species-create");
            t.exports = function(u, e) {
                var h = 1 == u,
                    p = 2 == u,
                    f = 3 == u,
                    m = 4 == u,
                    g = 6 == u,
                    v = 5 == u || g,
                    y = e || s;
                return function(e, t, i) {
                    for (var s, n, a = _(e), o = w(a), r = b(t, i, 3), l = C(o.length), d = 0, c = h ? y(e, l) : p ? y(e, 0) : void 0; d < l; d++)
                        if ((v || d in o) && (n = r(s = o[d], d, a), u))
                            if (h) c[d] = n;
                            else if (n) switch (u) {
                        case 3:
                            return !0;
                        case 5:
                            return s;
                        case 6:
                            return d;
                        case 2:
                            c.push(s)
                    } else if (m) return !1;
                    return g ? -1 : f || m ? m : c
                }
            }
        }, {
            "./_array-species-create": 68,
            "./_ctx": 77,
            "./_iobject": 96,
            "./_to-length": 150,
            "./_to-object": 151
        }],
        67: [function(e, t, i) {
            var s = e("./_is-object"),
                n = e("./_is-array"),
                a = e("./_wks")("species");
            t.exports = function(e) {
                var t;
                return void 0 === (t = n(e) && ("function" != typeof(t = e.constructor) || t !== Array && !n(t.prototype) || (t = void 0), s(t)) && null === (t = t[a]) ? void 0 : t) ? Array : t
            }
        }, {
            "./_is-array": 98,
            "./_is-object": 100,
            "./_wks": 161
        }],
        68: [function(e, t, i) {
            var s = e("./_array-species-constructor");
            t.exports = function(e, t) {
                return new(s(e))(t)
            }
        }, {
            "./_array-species-constructor": 67
        }],
        69: [function(e, t, i) {
            "use strict";
            var s = e("./_a-function"),
                n = e("./_is-object"),
                c = e("./_invoke"),
                u = [].slice,
                h = {};
            t.exports = Function.bind || function(o) {
                var r = s(this),
                    l = u.call(arguments, 1),
                    d = function() {
                        var e = l.concat(u.call(arguments));
                        if (this instanceof d) {
                            var t = r,
                                i = e.length,
                                s = e;
                            if (!(i in h)) {
                                for (var n = [], a = 0; a < i; a++) n[a] = "a[" + a + "]";
                                h[i] = Function("F,a", "return new F(" + n.join(",") + ")")
                            }
                            return h[i](t, s)
                        }
                        return c(r, e, o)
                    };
                return n(r.prototype) && (d.prototype = r.prototype), d
            }
        }, {
            "./_a-function": 59,
            "./_invoke": 95,
            "./_is-object": 100
        }],
        70: [function(e, t, i) {
            var s = e("./_cof"),
                n = e("./_wks")("toStringTag"),
                a = "Arguments" == s(function() {
                    return arguments
                }());
            t.exports = function(e) {
                var t;
                return void 0 === e ? "Undefined" : null === e ? "Null" : "string" == typeof(t = function(e, t) {
                    try {
                        return e[t]
                    } catch (e) {}
                }(e = Object(e), n)) ? t : a ? s(e) : "Object" == (t = s(e)) && "function" == typeof e.callee ? "Arguments" : t
            }
        }, {
            "./_cof": 71,
            "./_wks": 161
        }],
        71: [function(e, t, i) {
            var s = {}.toString;
            t.exports = function(e) {
                return s.call(e).slice(8, -1)
            }
        }, {}],
        72: [function(e, t, i) {
            "use strict";

            function o(e, t) {
                var i, s = f(t);
                if ("F" !== s) return e._i[s];
                for (i = e._f; i; i = i.n)
                    if (i.k == t) return i
            }
            var r = e("./_object-dp").f,
                l = e("./_object-create"),
                d = e("./_redefine-all"),
                c = e("./_ctx"),
                u = e("./_an-instance"),
                h = e("./_for-of"),
                s = e("./_iter-define"),
                n = e("./_iter-step"),
                a = e("./_set-species"),
                p = e("./_descriptors"),
                f = e("./_meta").fastKey,
                m = e("./_validate-collection"),
                g = p ? "_s" : "size";
            t.exports = {
                getConstructor: function(e, n, i, s) {
                    var a = e(function(e, t) {
                        u(e, a, n, "_i"), e._t = n, e._i = l(null), e._f = void 0, e._l = void 0, e[g] = 0, null != t && h(t, i, e[s], e)
                    });
                    return d(a.prototype, {
                        clear: function() {
                            for (var e = m(this, n), t = e._i, i = e._f; i; i = i.n) i.r = !0, i.p && (i.p = i.p.n = void 0), delete t[i.i];
                            e._f = e._l = void 0, e[g] = 0
                        },
                        delete: function(e) {
                            var t, i, s = m(this, n),
                                e = o(s, e);
                            return e && (t = e.n, i = e.p, delete s._i[e.i], e.r = !0, i && (i.n = t), t && (t.p = i), s._f == e && (s._f = t), s._l == e && (s._l = i), s[g]--), !!e
                        },
                        forEach: function(e) {
                            m(this, n);
                            for (var t, i = c(e, 1 < arguments.length ? arguments[1] : void 0, 3); t = t ? t.n : this._f;)
                                for (i(t.v, t.k, this); t && t.r;) t = t.p
                        },
                        has: function(e) {
                            return !!o(m(this, n), e)
                        }
                    }), p && r(a.prototype, "size", {
                        get: function() {
                            return m(this, n)[g]
                        }
                    }), a
                },
                def: function(e, t, i) {
                    var s, n = o(e, t);
                    return n ? n.v = i : (e._l = n = {
                        i: s = f(t, !0),
                        k: t,
                        v: i,
                        p: t = e._l,
                        n: void 0,
                        r: !1
                    }, e._f || (e._f = n), t && (t.n = n), e[g]++, "F" !== s && (e._i[s] = n)), e
                },
                getEntry: o,
                setStrong: function(e, i, t) {
                    s(e, i, function(e, t) {
                        this._t = m(e, i), this._k = t, this._l = void 0
                    }, function() {
                        for (var e = this._k, t = this._l; t && t.r;) t = t.p;
                        return this._t && (this._l = t = t ? t.n : this._t._f) ? n(0, "keys" == e ? t.k : "values" == e ? t.v : [t.k, t.v]) : (this._t = void 0, n(1))
                    }, t ? "entries" : "values", !t, !0), a(i)
                }
            }
        }, {
            "./_an-instance": 61,
            "./_ctx": 77,
            "./_descriptors": 79,
            "./_for-of": 88,
            "./_iter-define": 104,
            "./_iter-step": 106,
            "./_meta": 113,
            "./_object-create": 117,
            "./_object-dp": 118,
            "./_redefine-all": 133,
            "./_set-species": 137,
            "./_validate-collection": 158
        }],
        73: [function(e, t, i) {
            "use strict";

            function o(e) {
                return e._l || (e._l = new s)
            }

            function s() {
                this.a = []
            }

            function n(e, t) {
                return m(e.a, function(e) {
                    return e[0] === t
                })
            }
            var r = e("./_redefine-all"),
                l = e("./_meta").getWeak,
                a = e("./_an-object"),
                d = e("./_is-object"),
                c = e("./_an-instance"),
                u = e("./_for-of"),
                h = e("./_array-methods"),
                p = e("./_has"),
                f = e("./_validate-collection"),
                m = h(5),
                g = h(6),
                v = 0;
            s.prototype = {
                get: function(e) {
                    e = n(this, e);
                    if (e) return e[1]
                },
                has: function(e) {
                    return !!n(this, e)
                },
                set: function(e, t) {
                    var i = n(this, e);
                    i ? i[1] = t : this.a.push([e, t])
                },
                delete: function(t) {
                    var e = g(this.a, function(e) {
                        return e[0] === t
                    });
                    return ~e && this.a.splice(e, 1), !!~e
                }
            }, t.exports = {
                getConstructor: function(e, i, s, n) {
                    var a = e(function(e, t) {
                        c(e, a, i, "_i"), e._t = i, e._i = v++, e._l = void 0, null != t && u(t, s, e[n], e)
                    });
                    return r(a.prototype, {
                        delete: function(e) {
                            var t;
                            return !!d(e) && (!0 === (t = l(e)) ? o(f(this, i)).delete(e) : t && p(t, this._i) && delete t[this._i])
                        },
                        has: function(e) {
                            var t;
                            return !!d(e) && (!0 === (t = l(e)) ? o(f(this, i)).has(e) : t && p(t, this._i))
                        }
                    }), a
                },
                def: function(e, t, i) {
                    var s = l(a(t), !0);
                    return !0 === s ? o(e).set(t, i) : s[e._i] = i, e
                },
                ufstore: o
            }
        }, {
            "./_an-instance": 61,
            "./_an-object": 62,
            "./_array-methods": 66,
            "./_for-of": 88,
            "./_has": 90,
            "./_is-object": 100,
            "./_meta": 113,
            "./_redefine-all": 133,
            "./_validate-collection": 158
        }],
        74: [function(e, t, i) {
            "use strict";
            var v = e("./_global"),
                y = e("./_export"),
                b = e("./_redefine"),
                w = e("./_redefine-all"),
                _ = e("./_meta"),
                C = e("./_for-of"),
                k = e("./_an-instance"),
                x = e("./_is-object"),
                S = e("./_fails"),
                T = e("./_iter-detect"),
                E = e("./_set-to-string-tag"),
                A = e("./_inherit-if-required");
            t.exports = function(i, e, t, s, n, a) {
                function o(e) {
                    var i = m[e];
                    b(m, e, "delete" == e ? function(e) {
                        return !(a && !x(e)) && i.call(this, 0 === e ? 0 : e)
                    } : "has" == e ? function(e) {
                        return !(a && !x(e)) && i.call(this, 0 === e ? 0 : e)
                    } : "get" == e ? function(e) {
                        return a && !x(e) ? void 0 : i.call(this, 0 === e ? 0 : e)
                    } : "add" == e ? function(e) {
                        return i.call(this, 0 === e ? 0 : e), this
                    } : function(e, t) {
                        return i.call(this, 0 === e ? 0 : e, t), this
                    })
                }
                var r, l, d, c, u, h = v[i],
                    p = h,
                    f = n ? "set" : "add",
                    m = p && p.prototype,
                    g = {};
                return "function" == typeof p && (a || m.forEach && !S(function() {
                    (new p).entries().next()
                })) ? (l = (r = new p)[f](a ? {} : -0, 1) != r, d = S(function() {
                    r.has(1)
                }), c = T(function(e) {
                    new p(e)
                }), u = !a && S(function() {
                    for (var e = new p, t = 5; t--;) e[f](t, t);
                    return !e.has(-0)
                }), c || (((p = e(function(e, t) {
                    k(e, p, i);
                    e = A(new h, e, p);
                    return null != t && C(t, n, e[f], e), e
                })).prototype = m).constructor = p), (d || u) && (o("delete"), o("has"), n) && o("get"), (u || l) && o(f), a && m.clear && delete m.clear) : (p = s.getConstructor(e, i, n, f), w(p.prototype, t), _.NEED = !0), E(p, i), g[i] = p, y(y.G + y.W + y.F * (p != h), g), a || s.setStrong(p, i, n), p
            }
        }, {
            "./_an-instance": 61,
            "./_export": 83,
            "./_fails": 85,
            "./_for-of": 88,
            "./_global": 89,
            "./_inherit-if-required": 94,
            "./_is-object": 100,
            "./_iter-detect": 105,
            "./_meta": 113,
            "./_redefine": 134,
            "./_redefine-all": 133,
            "./_set-to-string-tag": 138
        }],
        75: [function(e, t, i) {
            t = t.exports = {
                version: "2.5.7"
            };
            "number" == typeof __e && (__e = t)
        }, {}],
        76: [function(e, t, i) {
            "use strict";
            var s = e("./_object-dp"),
                n = e("./_property-desc");
            t.exports = function(e, t, i) {
                t in e ? s.f(e, t, n(0, i)) : e[t] = i
            }
        }, {
            "./_object-dp": 118,
            "./_property-desc": 132
        }],
        77: [function(e, t, i) {
            var a = e("./_a-function");
            t.exports = function(s, n, e) {
                if (a(s), void 0 === n) return s;
                switch (e) {
                    case 1:
                        return function(e) {
                            return s.call(n, e)
                        };
                    case 2:
                        return function(e, t) {
                            return s.call(n, e, t)
                        };
                    case 3:
                        return function(e, t, i) {
                            return s.call(n, e, t, i)
                        }
                }
                return function() {
                    return s.apply(n, arguments)
                }
            }
        }, {
            "./_a-function": 59
        }],
        78: [function(e, t, i) {
            t.exports = function(e) {
                if (null == e) throw TypeError("Can't call method on  " + e);
                return e
            }
        }, {}],
        79: [function(e, t, i) {
            t.exports = !e("./_fails")(function() {
                return 7 != Object.defineProperty({}, "a", {
                    get: function() {
                        return 7
                    }
                }).a
            })
        }, {
            "./_fails": 85
        }],
        80: [function(e, t, i) {
            var s = e("./_is-object"),
                n = e("./_global").document,
                a = s(n) && s(n.createElement);
            t.exports = function(e) {
                return a ? n.createElement(e) : {}
            }
        }, {
            "./_global": 89,
            "./_is-object": 100
        }],
        81: [function(e, t, i) {
            t.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
        }, {}],
        82: [function(e, t, i) {
            var r = e("./_object-keys"),
                l = e("./_object-gops"),
                d = e("./_object-pie");
            t.exports = function(e) {
                var t = r(e),
                    i = l.f;
                if (i)
                    for (var s, n = i(e), a = d.f, o = 0; n.length > o;) a.call(e, s = n[o++]) && t.push(s);
                return t
            }
        }, {
            "./_object-gops": 123,
            "./_object-keys": 126,
            "./_object-pie": 127
        }],
        83: [function(e, t, i) {
            function p(e, t, i) {
                var s, n, a, o = e & p.F,
                    r = e & p.G,
                    l = e & p.P,
                    d = e & p.B,
                    c = r ? f : e & p.S ? f[t] || (f[t] = {}) : (f[t] || {})[b],
                    u = r ? m : m[t] || (m[t] = {}),
                    h = u[b] || (u[b] = {});
                for (s in i = r ? t : i) n = ((a = !o && c && void 0 !== c[s]) ? c : i)[s], a = d && a ? y(n, f) : l && "function" == typeof n ? y(Function.call, n) : n, c && v(c, s, n, e & p.U), u[s] != n && g(u, s, a), l && h[s] != n && (h[s] = n)
            }
            var f = e("./_global"),
                m = e("./_core"),
                g = e("./_hide"),
                v = e("./_redefine"),
                y = e("./_ctx"),
                b = "prototype";
            f.core = m, p.F = 1, p.G = 2, p.S = 4, p.P = 8, p.B = 16, p.W = 32, p.U = 64, p.R = 128, t.exports = p
        }, {
            "./_core": 75,
            "./_ctx": 77,
            "./_global": 89,
            "./_hide": 91,
            "./_redefine": 134
        }],
        84: [function(e, t, i) {
            var s = e("./_wks")("match");
            t.exports = function(t) {
                var i = /./;
                try {
                    "/./" [t](i)
                } catch (e) {
                    try {
                        return i[s] = !1, !"/./" [t](i)
                    } catch (e) {}
                }
                return !0
            }
        }, {
            "./_wks": 161
        }],
        85: [function(e, t, i) {
            t.exports = function(e) {
                try {
                    return !!e()
                } catch (e) {
                    return !0
                }
            }
        }, {}],
        86: [function(e, t, i) {
            "use strict";
            var o = e("./_hide"),
                r = e("./_redefine"),
                l = e("./_fails"),
                d = e("./_defined"),
                c = e("./_wks");
            t.exports = function(t, e, i) {
                var s = c(t),
                    i = i(d, s, "" [t]),
                    n = i[0],
                    a = i[1];
                l(function() {
                    var e = {};
                    return e[s] = function() {
                        return 7
                    }, 7 != "" [t](e)
                }) && (r(String.prototype, t, n), o(RegExp.prototype, s, 2 == e ? function(e, t) {
                    return a.call(e, this, t)
                } : function(e) {
                    return a.call(e, this)
                }))
            }
        }, {
            "./_defined": 78,
            "./_fails": 85,
            "./_hide": 91,
            "./_redefine": 134,
            "./_wks": 161
        }],
        87: [function(e, t, i) {
            "use strict";
            var s = e("./_an-object");
            t.exports = function() {
                var e = s(this),
                    t = "";
                return e.global && (t += "g"), e.ignoreCase && (t += "i"), e.multiline && (t += "m"), e.unicode && (t += "u"), e.sticky && (t += "y"), t
            }
        }, {
            "./_an-object": 62
        }],
        88: [function(e, t, i) {
            var u = e("./_ctx"),
                h = e("./_iter-call"),
                p = e("./_is-array-iter"),
                f = e("./_an-object"),
                m = e("./_to-length"),
                g = e("./core.get-iterator-method"),
                v = {},
                y = {};
            (i = t.exports = function(e, t, i, s, n) {
                var a, o, r, l, n = n ? function() {
                        return e
                    } : g(e),
                    d = u(i, s, t ? 2 : 1),
                    c = 0;
                if ("function" != typeof n) throw TypeError(e + " is not iterable!");
                if (p(n)) {
                    for (a = m(e.length); c < a; c++)
                        if ((l = t ? d(f(o = e[c])[0], o[1]) : d(e[c])) === v || l === y) return l
                } else
                    for (r = n.call(e); !(o = r.next()).done;)
                        if ((l = h(r, d, o.value, t)) === v || l === y) return l
            }).BREAK = v, i.RETURN = y
        }, {
            "./_an-object": 62,
            "./_ctx": 77,
            "./_is-array-iter": 97,
            "./_iter-call": 102,
            "./_to-length": 150,
            "./core.get-iterator-method": 162
        }],
        89: [function(e, t, i) {
            t = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
            "number" == typeof __g && (__g = t)
        }, {}],
        90: [function(e, t, i) {
            var s = {}.hasOwnProperty;
            t.exports = function(e, t) {
                return s.call(e, t)
            }
        }, {}],
        91: [function(e, t, i) {
            var s = e("./_object-dp"),
                n = e("./_property-desc");
            t.exports = e("./_descriptors") ? function(e, t, i) {
                return s.f(e, t, n(1, i))
            } : function(e, t, i) {
                return e[t] = i, e
            }
        }, {
            "./_descriptors": 79,
            "./_object-dp": 118,
            "./_property-desc": 132
        }],
        92: [function(e, t, i) {
            e = e("./_global").document;
            t.exports = e && e.documentElement
        }, {
            "./_global": 89
        }],
        93: [function(e, t, i) {
            t.exports = !e("./_descriptors") && !e("./_fails")(function() {
                return 7 != Object.defineProperty(e("./_dom-create")("div"), "a", {
                    get: function() {
                        return 7
                    }
                }).a
            })
        }, {
            "./_descriptors": 79,
            "./_dom-create": 80,
            "./_fails": 85
        }],
        94: [function(e, t, i) {
            var s = e("./_is-object"),
                n = e("./_set-proto").set;
            t.exports = function(e, t, i) {
                var t = t.constructor;
                return t !== i && "function" == typeof t && (t = t.prototype) !== i.prototype && s(t) && n && n(e, t), e
            }
        }, {
            "./_is-object": 100,
            "./_set-proto": 136
        }],
        95: [function(e, t, i) {
            t.exports = function(e, t, i) {
                var s = void 0 === i;
                switch (t.length) {
                    case 0:
                        return s ? e() : e.call(i);
                    case 1:
                        return s ? e(t[0]) : e.call(i, t[0]);
                    case 2:
                        return s ? e(t[0], t[1]) : e.call(i, t[0], t[1]);
                    case 3:
                        return s ? e(t[0], t[1], t[2]) : e.call(i, t[0], t[1], t[2]);
                    case 4:
                        return s ? e(t[0], t[1], t[2], t[3]) : e.call(i, t[0], t[1], t[2], t[3])
                }
                return e.apply(i, t)
            }
        }, {}],
        96: [function(e, t, i) {
            var s = e("./_cof");
            t.exports = Object("z").propertyIsEnumerable(0) ? Object : function(e) {
                return "String" == s(e) ? e.split("") : Object(e)
            }
        }, {
            "./_cof": 71
        }],
        97: [function(e, t, i) {
            var s = e("./_iterators"),
                n = e("./_wks")("iterator"),
                a = Array.prototype;
            t.exports = function(e) {
                return void 0 !== e && (s.Array === e || a[n] === e)
            }
        }, {
            "./_iterators": 107,
            "./_wks": 161
        }],
        98: [function(e, t, i) {
            var s = e("./_cof");
            t.exports = Array.isArray || function(e) {
                return "Array" == s(e)
            }
        }, {
            "./_cof": 71
        }],
        99: [function(e, t, i) {
            var s = e("./_is-object"),
                n = Math.floor;
            t.exports = function(e) {
                return !s(e) && isFinite(e) && n(e) === e
            }
        }, {
            "./_is-object": 100
        }],
        100: [function(e, t, i) {
            t.exports = function(e) {
                return "object" == typeof e ? null !== e : "function" == typeof e
            }
        }, {}],
        101: [function(e, t, i) {
            var s = e("./_is-object"),
                n = e("./_cof"),
                a = e("./_wks")("match");
            t.exports = function(e) {
                var t;
                return s(e) && (void 0 !== (t = e[a]) ? !!t : "RegExp" == n(e))
            }
        }, {
            "./_cof": 71,
            "./_is-object": 100,
            "./_wks": 161
        }],
        102: [function(e, t, i) {
            var n = e("./_an-object");
            t.exports = function(e, t, i, s) {
                try {
                    return s ? t(n(i)[0], i[1]) : t(i)
                } catch (t) {
                    s = e.return;
                    throw void 0 !== s && n(s.call(e)), t
                }
            }
        }, {
            "./_an-object": 62
        }],
        103: [function(e, t, i) {
            "use strict";
            var s = e("./_object-create"),
                n = e("./_property-desc"),
                a = e("./_set-to-string-tag"),
                o = {};
            e("./_hide")(o, e("./_wks")("iterator"), function() {
                return this
            }), t.exports = function(e, t, i) {
                e.prototype = s(o, {
                    next: n(1, i)
                }), a(e, t + " Iterator")
            }
        }, {
            "./_hide": 91,
            "./_object-create": 117,
            "./_property-desc": 132,
            "./_set-to-string-tag": 138,
            "./_wks": 161
        }],
        104: [function(e, t, i) {
            "use strict";

            function v() {
                return this
            }
            var y = e("./_library"),
                b = e("./_export"),
                w = e("./_redefine"),
                _ = e("./_hide"),
                C = e("./_iterators"),
                k = e("./_iter-create"),
                x = e("./_set-to-string-tag"),
                S = e("./_object-gpo"),
                T = e("./_wks")("iterator"),
                E = !([].keys && "next" in [].keys()),
                A = "values";
            t.exports = function(e, t, i, s, n, a, o) {
                k(i, t, s);

                function r(e) {
                    if (!E && e in h) return h[e];
                    switch (e) {
                        case "keys":
                        case A:
                            return function() {
                                return new i(this, e)
                            }
                    }
                    return function() {
                        return new i(this, e)
                    }
                }
                var l, d, s = t + " Iterator",
                    c = n == A,
                    u = !1,
                    h = e.prototype,
                    p = h[T] || h["@@iterator"] || n && h[n],
                    f = p || r(n),
                    m = n ? c ? r("entries") : f : void 0,
                    g = "Array" == t && h.entries || p;
                if (g && (g = S(g.call(new e))) !== Object.prototype && g.next && (x(g, s, !0), y || "function" == typeof g[T] || _(g, T, v)), c && p && p.name !== A && (u = !0, f = function() {
                        return p.call(this)
                    }), y && !o || !E && !u && h[T] || _(h, T, f), C[t] = f, C[s] = v, n)
                    if (l = {
                            values: c ? f : r(A),
                            keys: a ? f : r("keys"),
                            entries: m
                        }, o)
                        for (d in l) d in h || w(h, d, l[d]);
                    else b(b.P + b.F * (E || u), t, l);
                return l
            }
        }, {
            "./_export": 83,
            "./_hide": 91,
            "./_iter-create": 103,
            "./_iterators": 107,
            "./_library": 108,
            "./_object-gpo": 124,
            "./_redefine": 134,
            "./_set-to-string-tag": 138,
            "./_wks": 161
        }],
        105: [function(e, t, i) {
            var a = e("./_wks")("iterator"),
                o = !1;
            try {
                var s = [7][a]();
                s.return = function() {
                    o = !0
                }, Array.from(s, function() {
                    throw 2
                })
            } catch (e) {}
            t.exports = function(e, t) {
                if (!t && !o) return !1;
                var i = !1;
                try {
                    var s = [7],
                        n = s[a]();
                    n.next = function() {
                        return {
                            done: i = !0
                        }
                    }, s[a] = function() {
                        return n
                    }, e(s)
                } catch (e) {}
                return i
            }
        }, {
            "./_wks": 161
        }],
        106: [function(e, t, i) {
            t.exports = function(e, t) {
                return {
                    value: t,
                    done: !!e
                }
            }
        }, {}],
        107: [function(e, t, i) {
            t.exports = {}
        }, {}],
        108: [function(e, t, i) {
            t.exports = !1
        }, {}],
        109: [function(e, t, i) {
            var s = Math.expm1;
            t.exports = !s || 22025.465794806718 < s(10) || s(10) < 22025.465794806718 || -2e-17 != s(-2e-17) ? function(e) {
                return 0 == (e = +e) ? e : -1e-6 < e && e < 1e-6 ? e + e * e / 2 : Math.exp(e) - 1
            } : s
        }, {}],
        110: [function(e, t, i) {
            var s = e("./_math-sign"),
                e = Math.pow,
                n = e(2, -52),
                a = e(2, -23),
                o = e(2, 127) * (2 - a),
                r = e(2, -126);
            t.exports = Math.fround || function(e) {
                var t, i = Math.abs(e),
                    e = s(e);
                return i < r ? e * (i / r / a + 1 / n - 1 / n) * r * a : o < (t = (t = (1 + a / n) * i) - (t - i)) || t != t ? e * (1 / 0) : e * t
            }
        }, {
            "./_math-sign": 112
        }],
        111: [function(e, t, i) {
            t.exports = Math.log1p || function(e) {
                return -1e-8 < (e = +e) && e < 1e-8 ? e - e * e / 2 : Math.log(1 + e)
            }
        }, {}],
        112: [function(e, t, i) {
            t.exports = Math.sign || function(e) {
                return 0 == (e = +e) || e != e ? e : e < 0 ? -1 : 1
            }
        }, {}],
        113: [function(e, t, i) {
            function s(e) {
                r(e, n, {
                    value: {
                        i: "O" + ++l,
                        w: {}
                    }
                })
            }
            var n = e("./_uid")("meta"),
                a = e("./_is-object"),
                o = e("./_has"),
                r = e("./_object-dp").f,
                l = 0,
                d = Object.isExtensible || function() {
                    return !0
                },
                c = !e("./_fails")(function() {
                    return d(Object.preventExtensions({}))
                }),
                u = t.exports = {
                    KEY: n,
                    NEED: !1,
                    fastKey: function(e, t) {
                        if (!a(e)) return "symbol" == typeof e ? e : ("string" == typeof e ? "S" : "P") + e;
                        if (!o(e, n)) {
                            if (!d(e)) return "F";
                            if (!t) return "E";
                            s(e)
                        }
                        return e[n].i
                    },
                    getWeak: function(e, t) {
                        if (!o(e, n)) {
                            if (!d(e)) return !0;
                            if (!t) return !1;
                            s(e)
                        }
                        return e[n].w
                    },
                    onFreeze: function(e) {
                        return c && u.NEED && d(e) && !o(e, n) && s(e), e
                    }
                }
        }, {
            "./_fails": 85,
            "./_has": 90,
            "./_is-object": 100,
            "./_object-dp": 118,
            "./_uid": 156
        }],
        114: [function(e, t, i) {
            var r = e("./_global"),
                l = e("./_task").set,
                d = r.MutationObserver || r.WebKitMutationObserver,
                c = r.process,
                u = r.Promise,
                h = "process" == e("./_cof")(c);
            t.exports = function() {
                function e() {
                    var e, t;
                    for (h && (e = c.domain) && e.exit(); i;) {
                        t = i.fn, i = i.next;
                        try {
                            t()
                        } catch (e) {
                            throw i ? n() : s = void 0, e
                        }
                    }
                    s = void 0, e && e.enter()
                }
                var i, s, t, n, a, o;
                return n = h ? function() {
                        c.nextTick(e)
                    } : !d || r.navigator && r.navigator.standalone ? u && u.resolve ? (t = u.resolve(void 0), function() {
                        t.then(e)
                    }) : function() {
                        l.call(r, e)
                    } : (a = !0, o = document.createTextNode(""), new d(e).observe(o, {
                        characterData: !0
                    }), function() {
                        o.data = a = !a
                    }),
                    function(e) {
                        e = {
                            fn: e,
                            next: void 0
                        };
                        s && (s.next = e), i || (i = e, n()), s = e
                    }
            }
        }, {
            "./_cof": 71,
            "./_global": 89,
            "./_task": 145
        }],
        115: [function(e, t, i) {
            "use strict";
            var n = e("./_a-function");

            function s(e) {
                var i, s;
                this.promise = new e(function(e, t) {
                    if (void 0 !== i || void 0 !== s) throw TypeError("Bad Promise constructor");
                    i = e, s = t
                }), this.resolve = n(i), this.reject = n(s)
            }
            t.exports.f = function(e) {
                return new s(e)
            }
        }, {
            "./_a-function": 59
        }],
        116: [function(e, t, i) {
            "use strict";
            var h = e("./_object-keys"),
                p = e("./_object-gops"),
                f = e("./_object-pie"),
                m = e("./_to-object"),
                g = e("./_iobject"),
                n = Object.assign;
            t.exports = !n || e("./_fails")(function() {
                var e = {},
                    t = {},
                    i = Symbol(),
                    s = "abcdefghijklmnopqrst";
                return e[i] = 7, s.split("").forEach(function(e) {
                    t[e] = e
                }), 7 != n({}, e)[i] || Object.keys(n({}, t)).join("") != s
            }) ? function(e, t) {
                for (var i = m(e), s = arguments.length, n = 1, a = p.f, o = f.f; n < s;)
                    for (var r, l = g(arguments[n++]), d = a ? h(l).concat(a(l)) : h(l), c = d.length, u = 0; u < c;) o.call(l, r = d[u++]) && (i[r] = l[r]);
                return i
            } : n
        }, {
            "./_fails": 85,
            "./_iobject": 96,
            "./_object-gops": 123,
            "./_object-keys": 126,
            "./_object-pie": 127,
            "./_to-object": 151
        }],
        117: [function(i, e, t) {
            function s() {}
            var n = i("./_an-object"),
                a = i("./_object-dps"),
                o = i("./_enum-bug-keys"),
                r = i("./_shared-key")("IE_PROTO"),
                l = "prototype",
                d = function() {
                    var e = i("./_dom-create")("iframe"),
                        t = o.length;
                    for (e.style.display = "none", i("./_html").appendChild(e), e.src = "javascript:", (e = e.contentWindow.document).open(), e.write("<script>document.F=Object<\/script>"), e.close(), d = e.F; t--;) delete d[l][o[t]];
                    return d()
                };
            e.exports = Object.create || function(e, t) {
                var i;
                return null !== e ? (s[l] = n(e), i = new s, s[l] = null, i[r] = e) : i = d(), void 0 === t ? i : a(i, t)
            }
        }, {
            "./_an-object": 62,
            "./_dom-create": 80,
            "./_enum-bug-keys": 81,
            "./_html": 92,
            "./_object-dps": 119,
            "./_shared-key": 139
        }],
        118: [function(e, t, i) {
            var s = e("./_an-object"),
                n = e("./_ie8-dom-define"),
                a = e("./_to-primitive"),
                o = Object.defineProperty;
            i.f = e("./_descriptors") ? Object.defineProperty : function(e, t, i) {
                if (s(e), t = a(t, !0), s(i), n) try {
                    return o(e, t, i)
                } catch (e) {}
                if ("get" in i || "set" in i) throw TypeError("Accessors not supported!");
                return "value" in i && (e[t] = i.value), e
            }
        }, {
            "./_an-object": 62,
            "./_descriptors": 79,
            "./_ie8-dom-define": 93,
            "./_to-primitive": 152
        }],
        119: [function(e, t, i) {
            var o = e("./_object-dp"),
                r = e("./_an-object"),
                l = e("./_object-keys");
            t.exports = e("./_descriptors") ? Object.defineProperties : function(e, t) {
                r(e);
                for (var i, s = l(t), n = s.length, a = 0; a < n;) o.f(e, i = s[a++], t[i]);
                return e
            }
        }, {
            "./_an-object": 62,
            "./_descriptors": 79,
            "./_object-dp": 118,
            "./_object-keys": 126
        }],
        120: [function(e, t, i) {
            var s = e("./_object-pie"),
                n = e("./_property-desc"),
                a = e("./_to-iobject"),
                o = e("./_to-primitive"),
                r = e("./_has"),
                l = e("./_ie8-dom-define"),
                d = Object.getOwnPropertyDescriptor;
            i.f = e("./_descriptors") ? d : function(e, t) {
                if (e = a(e), t = o(t, !0), l) try {
                    return d(e, t)
                } catch (e) {}
                if (r(e, t)) return n(!s.f.call(e, t), e[t])
            }
        }, {
            "./_descriptors": 79,
            "./_has": 90,
            "./_ie8-dom-define": 93,
            "./_object-pie": 127,
            "./_property-desc": 132,
            "./_to-iobject": 149,
            "./_to-primitive": 152
        }],
        121: [function(e, t, i) {
            var s = e("./_to-iobject"),
                n = e("./_object-gopn").f,
                a = {}.toString,
                o = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];
            t.exports.f = function(e) {
                if (!o || "[object Window]" != a.call(e)) return n(s(e));
                var t = e;
                try {
                    return n(t)
                } catch (t) {
                    return o.slice()
                }
            }
        }, {
            "./_object-gopn": 122,
            "./_to-iobject": 149
        }],
        122: [function(e, t, i) {
            var s = e("./_object-keys-internal"),
                n = e("./_enum-bug-keys").concat("length", "prototype");
            i.f = Object.getOwnPropertyNames || function(e) {
                return s(e, n)
            }
        }, {
            "./_enum-bug-keys": 81,
            "./_object-keys-internal": 125
        }],
        123: [function(e, t, i) {
            i.f = Object.getOwnPropertySymbols
        }, {}],
        124: [function(e, t, i) {
            var s = e("./_has"),
                n = e("./_to-object"),
                a = e("./_shared-key")("IE_PROTO"),
                o = Object.prototype;
            t.exports = Object.getPrototypeOf || function(e) {
                return e = n(e), s(e, a) ? e[a] : "function" == typeof e.constructor && e instanceof e.constructor ? e.constructor.prototype : e instanceof Object ? o : null
            }
        }, {
            "./_has": 90,
            "./_shared-key": 139,
            "./_to-object": 151
        }],
        125: [function(e, t, i) {
            var o = e("./_has"),
                r = e("./_to-iobject"),
                l = e("./_array-includes")(!1),
                d = e("./_shared-key")("IE_PROTO");
            t.exports = function(e, t) {
                var i, s = r(e),
                    n = 0,
                    a = [];
                for (i in s) i != d && o(s, i) && a.push(i);
                for (; t.length > n;) !o(s, i = t[n++]) || ~l(a, i) || a.push(i);
                return a
            }
        }, {
            "./_array-includes": 65,
            "./_has": 90,
            "./_shared-key": 139,
            "./_to-iobject": 149
        }],
        126: [function(e, t, i) {
            var s = e("./_object-keys-internal"),
                n = e("./_enum-bug-keys");
            t.exports = Object.keys || function(e) {
                return s(e, n)
            }
        }, {
            "./_enum-bug-keys": 81,
            "./_object-keys-internal": 125
        }],
        127: [function(e, t, i) {
            i.f = {}.propertyIsEnumerable
        }, {}],
        128: [function(e, t, i) {
            var n = e("./_export"),
                a = e("./_core"),
                o = e("./_fails");
            t.exports = function(e, t) {
                var i = (a.Object || {})[e] || Object[e],
                    s = {};
                s[e] = t(i), n(n.S + n.F * o(function() {
                    i(1)
                }), "Object", s)
            }
        }, {
            "./_core": 75,
            "./_export": 83,
            "./_fails": 85
        }],
        129: [function(e, t, i) {
            var s = e("./_object-gopn"),
                n = e("./_object-gops"),
                a = e("./_an-object"),
                e = e("./_global").Reflect;
            t.exports = e && e.ownKeys || function(e) {
                var t = s.f(a(e)),
                    i = n.f;
                return i ? t.concat(i(e)) : t
            }
        }, {
            "./_an-object": 62,
            "./_global": 89,
            "./_object-gopn": 122,
            "./_object-gops": 123
        }],
        130: [function(e, t, i) {
            t.exports = function(e) {
                try {
                    return {
                        e: !1,
                        v: e()
                    }
                } catch (e) {
                    return {
                        e: !0,
                        v: e
                    }
                }
            }
        }, {}],
        131: [function(e, t, i) {
            var s = e("./_an-object"),
                n = e("./_is-object"),
                a = e("./_new-promise-capability");
            t.exports = function(e, t) {
                return s(e), n(t) && t.constructor === e ? t : ((0, (e = a.f(e)).resolve)(t), e.promise)
            }
        }, {
            "./_an-object": 62,
            "./_is-object": 100,
            "./_new-promise-capability": 115
        }],
        132: [function(e, t, i) {
            t.exports = function(e, t) {
                return {
                    enumerable: !(1 & e),
                    configurable: !(2 & e),
                    writable: !(4 & e),
                    value: t
                }
            }
        }, {}],
        133: [function(e, t, i) {
            var n = e("./_redefine");
            t.exports = function(e, t, i) {
                for (var s in t) n(e, s, t[s], i);
                return e
            }
        }, {
            "./_redefine": 134
        }],
        134: [function(e, t, i) {
            var a = e("./_global"),
                o = e("./_hide"),
                r = e("./_has"),
                l = e("./_uid")("src"),
                s = "toString",
                n = Function[s],
                d = ("" + n).split(s);
            e("./_core").inspectSource = function(e) {
                return n.call(e)
            }, (t.exports = function(e, t, i, s) {
                var n = "function" == typeof i;
                n && !r(i, "name") && o(i, "name", t), e[t] !== i && (n && !r(i, l) && o(i, l, e[t] ? "" + e[t] : d.join(String(t))), e === a ? e[t] = i : s ? e[t] ? e[t] = i : o(e, t, i) : (delete e[t], o(e, t, i)))
            })(Function.prototype, s, function() {
                return "function" == typeof this && this[l] || n.call(this)
            })
        }, {
            "./_core": 75,
            "./_global": 89,
            "./_has": 90,
            "./_hide": 91,
            "./_uid": 156
        }],
        135: [function(e, t, i) {
            t.exports = Object.is || function(e, t) {
                return e === t ? 0 !== e || 1 / e == 1 / t : e != e && t != t
            }
        }, {}],
        136: [function(t, e, i) {
            function n(e, t) {
                if (a(e), !s(t) && null !== t) throw TypeError(t + ": can't set as prototype!")
            }
            var s = t("./_is-object"),
                a = t("./_an-object");
            e.exports = {
                set: Object.setPrototypeOf || ("__proto__" in {} ? function(e, i, s) {
                    try {
                        (s = t("./_ctx")(Function.call, t("./_object-gopd").f(Object.prototype, "__proto__").set, 2))(e, []), i = !(e instanceof Array)
                    } catch (e) {
                        i = !0
                    }
                    return function(e, t) {
                        return n(e, t), i ? e.__proto__ = t : s(e, t), e
                    }
                }({}, !1) : void 0),
                check: n
            }
        }, {
            "./_an-object": 62,
            "./_ctx": 77,
            "./_is-object": 100,
            "./_object-gopd": 120
        }],
        137: [function(e, t, i) {
            "use strict";
            var s = e("./_global"),
                n = e("./_object-dp"),
                a = e("./_descriptors"),
                o = e("./_wks")("species");
            t.exports = function(e) {
                e = s[e];
                a && e && !e[o] && n.f(e, o, {
                    configurable: !0,
                    get: function() {
                        return this
                    }
                })
            }
        }, {
            "./_descriptors": 79,
            "./_global": 89,
            "./_object-dp": 118,
            "./_wks": 161
        }],
        138: [function(e, t, i) {
            var s = e("./_object-dp").f,
                n = e("./_has"),
                a = e("./_wks")("toStringTag");
            t.exports = function(e, t, i) {
                e && !n(e = i ? e : e.prototype, a) && s(e, a, {
                    configurable: !0,
                    value: t
                })
            }
        }, {
            "./_has": 90,
            "./_object-dp": 118,
            "./_wks": 161
        }],
        139: [function(e, t, i) {
            var s = e("./_shared")("keys"),
                n = e("./_uid");
            t.exports = function(e) {
                return s[e] || (s[e] = n(e))
            }
        }, {
            "./_shared": 140,
            "./_uid": 156
        }],
        140: [function(e, t, i) {
            var s = e("./_core"),
                n = e("./_global"),
                a = "__core-js_shared__",
                o = n[a] || (n[a] = {});
            (t.exports = function(e, t) {
                return o[e] || (o[e] = void 0 !== t ? t : {})
            })("versions", []).push({
                version: s.version,
                mode: e("./_library") ? "pure" : "global",
                copyright: "Ã‚Â© 2018 Denis Pushkarev (zloirock.ru)"
            })
        }, {
            "./_core": 75,
            "./_global": 89,
            "./_library": 108
        }],
        141: [function(e, t, i) {
            var s = e("./_an-object"),
                n = e("./_a-function"),
                a = e("./_wks")("species");
            t.exports = function(e, t) {
                var e = s(e).constructor;
                return void 0 === e || null == (e = s(e)[a]) ? t : n(e)
            }
        }, {
            "./_a-function": 59,
            "./_an-object": 62,
            "./_wks": 161
        }],
        142: [function(e, t, i) {
            var a = e("./_to-integer"),
                o = e("./_defined");
            t.exports = function(n) {
                return function(e, t) {
                    var i, e = String(o(e)),
                        t = a(t),
                        s = e.length;
                    return t < 0 || s <= t ? n ? "" : void 0 : (i = e.charCodeAt(t)) < 55296 || 56319 < i || t + 1 === s || (s = e.charCodeAt(t + 1)) < 56320 || 57343 < s ? n ? e.charAt(t) : i : n ? e.slice(t, t + 2) : s - 56320 + (i - 55296 << 10) + 65536
                }
            }
        }, {
            "./_defined": 78,
            "./_to-integer": 148
        }],
        143: [function(e, t, i) {
            var s = e("./_is-regexp"),
                n = e("./_defined");
            t.exports = function(e, t, i) {
                if (s(t)) throw TypeError("String#" + i + " doesn't accept regex!");
                return String(n(e))
            }
        }, {
            "./_defined": 78,
            "./_is-regexp": 101
        }],
        144: [function(e, t, i) {
            "use strict";
            var n = e("./_to-integer"),
                a = e("./_defined");
            t.exports = function(e) {
                var t = String(a(this)),
                    i = "",
                    s = n(e);
                if (s < 0 || s == 1 / 0) throw RangeError("Count can't be negative");
                for (; 0 < s;
                    (s >>>= 1) && (t += t)) 1 & s && (i += t);
                return i
            }
        }, {
            "./_defined": 78,
            "./_to-integer": 148
        }],
        145: [function(e, t, i) {
            function s() {
                var e, t = +this;
                v.hasOwnProperty(t) && (e = v[t], delete v[t], e())
            }

            function n(e) {
                s.call(e.data)
            }
            var a, o = e("./_ctx"),
                r = e("./_invoke"),
                l = e("./_html"),
                d = e("./_dom-create"),
                c = e("./_global"),
                u = c.process,
                h = c.setImmediate,
                p = c.clearImmediate,
                f = c.MessageChannel,
                m = c.Dispatch,
                g = 0,
                v = {},
                y = "onreadystatechange";
            h && p || (h = function(e) {
                for (var t = [], i = 1; i < arguments.length;) t.push(arguments[i++]);
                return v[++g] = function() {
                    r("function" == typeof e ? e : Function(e), t)
                }, a(g), g
            }, p = function(e) {
                delete v[e]
            }, "process" == e("./_cof")(u) ? a = function(e) {
                u.nextTick(o(s, e, 1))
            } : m && m.now ? a = function(e) {
                m.now(o(s, e, 1))
            } : f ? (f = (e = new f).port2, e.port1.onmessage = n, a = o(f.postMessage, f, 1)) : c.addEventListener && "function" == typeof postMessage && !c.importScripts ? (a = function(e) {
                c.postMessage(e + "", "*")
            }, c.addEventListener("message", n, !1)) : a = y in d("script") ? function(e) {
                l.appendChild(d("script"))[y] = function() {
                    l.removeChild(this), s.call(e)
                }
            } : function(e) {
                setTimeout(o(s, e, 1), 0)
            }), t.exports = {
                set: h,
                clear: p
            }
        }, {
            "./_cof": 71,
            "./_ctx": 77,
            "./_dom-create": 80,
            "./_global": 89,
            "./_html": 92,
            "./_invoke": 95
        }],
        146: [function(e, t, i) {
            var s = e("./_to-integer"),
                n = Math.max,
                a = Math.min;
            t.exports = function(e, t) {
                return (e = s(e)) < 0 ? n(e + t, 0) : a(e, t)
            }
        }, {
            "./_to-integer": 148
        }],
        147: [function(e, t, i) {
            var s = e("./_to-integer"),
                n = e("./_to-length");
            t.exports = function(e) {
                if (void 0 === e) return 0;
                var e = s(e),
                    t = n(e);
                if (e !== t) throw RangeError("Wrong length!");
                return t
            }
        }, {
            "./_to-integer": 148,
            "./_to-length": 150
        }],
        148: [function(e, t, i) {
            var s = Math.ceil,
                n = Math.floor;
            t.exports = function(e) {
                return isNaN(e = +e) ? 0 : (0 < e ? n : s)(e)
            }
        }, {}],
        149: [function(e, t, i) {
            var s = e("./_iobject"),
                n = e("./_defined");
            t.exports = function(e) {
                return s(n(e))
            }
        }, {
            "./_defined": 78,
            "./_iobject": 96
        }],
        150: [function(e, t, i) {
            var s = e("./_to-integer"),
                n = Math.min;
            t.exports = function(e) {
                return 0 < e ? n(s(e), 9007199254740991) : 0
            }
        }, {
            "./_to-integer": 148
        }],
        151: [function(e, t, i) {
            var s = e("./_defined");
            t.exports = function(e) {
                return Object(s(e))
            }
        }, {
            "./_defined": 78
        }],
        152: [function(e, t, i) {
            var n = e("./_is-object");
            t.exports = function(e, t) {
                if (!n(e)) return e;
                var i, s;
                if (t && "function" == typeof(i = e.toString) && !n(s = i.call(e)) || "function" == typeof(i = e.valueOf) && !n(s = i.call(e)) || !t && "function" == typeof(i = e.toString) && !n(s = i.call(e))) return s;
                throw TypeError("Can't convert object to primitive value")
            }
        }, {
            "./_is-object": 100
        }],
        153: [function(e, F, O) {
            "use strict";
            var o, r, l, m, g, q, N, R, v, t, B, y, U, V, H, s, z, b, W, Y, G, X, w, J, K, Q, i, n, Z, ee, te, ie, se, ne, _, ae, C, oe, a, re, le, de, k, x, ce, ue, he, pe, fe, me, ge, ve, ye, be, we, _e, Ce, ke, xe, Se, Te, Ee, S, d, T, E, Ae, A, c, P, Pe, $, $e, Me, De, M, u, h, Ie, D, p, Le, je, Fe, Oe, qe, Ne, Re, I, Be, f, L, j;
            e("./_descriptors") ? (o = e("./_library"), r = e("./_global"), l = e("./_fails"), m = e("./_export"), g = e("./_typed"), c = e("./_typed-buffer"), q = e("./_ctx"), N = e("./_an-instance"), R = e("./_property-desc"), v = e("./_hide"), t = e("./_redefine-all"), B = e("./_to-integer"), y = e("./_to-length"), U = e("./_to-index"), V = e("./_to-absolute-index"), H = e("./_to-primitive"), s = e("./_has"), z = e("./_classof"), b = e("./_is-object"), W = e("./_to-object"), Y = e("./_is-array-iter"), G = e("./_object-create"), X = e("./_object-gpo"), w = e("./_object-gopn").f, J = e("./core.get-iterator-method"), K = e("./_uid"), Q = e("./_wks"), i = e("./_array-methods"), p = e("./_array-includes"), n = e("./_species-constructor"), f = e("./es6.array.iterator"), Z = e("./_iterators"), ee = e("./_iter-detect"), te = e("./_set-species"), ie = e("./_array-fill"), se = e("./_array-copy-within"), ne = e("./_object-dp"), e = e("./_object-gopd"), _ = ne.f, ae = e.f, C = r.RangeError, oe = r.TypeError, a = r.Uint8Array, le = "Shared" + (re = "ArrayBuffer"), de = "BYTES_PER_ELEMENT", k = "prototype", L = Array[k], x = c.ArrayBuffer, ce = c.DataView, ue = i(0), he = i(2), pe = i(3), fe = i(4), me = i(5), ge = i(6), ve = p(!0), ye = p(!1), be = f.values, we = f.keys, _e = f.entries, Ce = L.lastIndexOf, ke = L.reduce, xe = L.reduceRight, Se = L.join, Te = L.sort, Ee = L.slice, S = L.toString, d = L.toLocaleString, T = Q("iterator"), E = Q("toStringTag"), Ae = K("typed_constructor"), A = K("def_constructor"), c = g.CONSTR, P = g.TYPED, Pe = g.VIEW, $ = "Wrong length!", $e = i(1, function(e, t) {
                return h(n(e, e[A]), t)
            }), Me = l(function() {
                return 1 === new a(new Uint16Array([1]).buffer)[0]
            }), De = !!a && !!a[k].set && l(function() {
                new a(1).set({})
            }), M = function(e, t) {
                e = B(e);
                if (e < 0 || e % t) throw C("Wrong offset!");
                return e
            }, u = function(e) {
                if (b(e) && P in e) return e;
                throw oe(e + " is not a typed array!")
            }, h = function(e, t) {
                if (b(e) && Ae in e) return new e(t);
                throw oe("It is not a typed array constructor!")
            }, Ie = function(e, t) {
                return D(n(e, e[A]), t)
            }, D = function(e, t) {
                for (var i = 0, s = t.length, n = h(e, s); i < s;) n[i] = t[i++];
                return n
            }, p = function(e, t, i) {
                _(e, t, {
                    get: function() {
                        return this._d[i]
                    }
                })
            }, Le = function(e) {
                var t, i, s, n, a, o, r = W(e),
                    e = arguments.length,
                    l = 1 < e ? arguments[1] : void 0,
                    d = void 0 !== l,
                    c = J(r);
                if (null != c && !Y(c)) {
                    for (o = c.call(r), s = [], t = 0; !(a = o.next()).done; t++) s.push(a.value);
                    r = s
                }
                for (d && 2 < e && (l = q(l, arguments[2], 2)), t = 0, i = y(r.length), n = h(this, i); t < i; t++) n[t] = d ? l(r[t], t) : r[t];
                return n
            }, je = function() {
                for (var e = 0, t = arguments.length, i = h(this, t); e < t;) i[e] = arguments[e++];
                return i
            }, Fe = !!a && l(function() {
                d.call(new a(1))
            }), Oe = function() {
                return d.apply(Fe ? Ee.call(u(this)) : u(this), arguments)
            }, qe = {
                copyWithin: function(e, t) {
                    return se.call(u(this), e, t, 2 < arguments.length ? arguments[2] : void 0)
                },
                every: function(e) {
                    return fe(u(this), e, 1 < arguments.length ? arguments[1] : void 0)
                },
                fill: function(e) {
                    return ie.apply(u(this), arguments)
                },
                filter: function(e) {
                    return Ie(this, he(u(this), e, 1 < arguments.length ? arguments[1] : void 0))
                },
                find: function(e) {
                    return me(u(this), e, 1 < arguments.length ? arguments[1] : void 0)
                },
                findIndex: function(e) {
                    return ge(u(this), e, 1 < arguments.length ? arguments[1] : void 0)
                },
                forEach: function(e) {
                    ue(u(this), e, 1 < arguments.length ? arguments[1] : void 0)
                },
                indexOf: function(e) {
                    return ye(u(this), e, 1 < arguments.length ? arguments[1] : void 0)
                },
                includes: function(e) {
                    return ve(u(this), e, 1 < arguments.length ? arguments[1] : void 0)
                },
                join: function(e) {
                    return Se.apply(u(this), arguments)
                },
                lastIndexOf: function(e) {
                    return Ce.apply(u(this), arguments)
                },
                map: function(e) {
                    return $e(u(this), e, 1 < arguments.length ? arguments[1] : void 0)
                },
                reduce: function(e) {
                    return ke.apply(u(this), arguments)
                },
                reduceRight: function(e) {
                    return xe.apply(u(this), arguments)
                },
                reverse: function() {
                    for (var e, t = u(this).length, i = Math.floor(t / 2), s = 0; s < i;) e = this[s], this[s++] = this[--t], this[t] = e;
                    return this
                },
                some: function(e) {
                    return pe(u(this), e, 1 < arguments.length ? arguments[1] : void 0)
                },
                sort: function(e) {
                    return Te.call(u(this), e)
                },
                subarray: function(e, t) {
                    var i = u(this),
                        s = i.length,
                        e = V(e, s);
                    return new(n(i, i[A]))(i.buffer, i.byteOffset + e * i.BYTES_PER_ELEMENT, y((void 0 === t ? s : V(t, s)) - e))
                }
            }, Ne = function(e, t) {
                return Ie(this, Ee.call(u(this), e, t))
            }, Re = function(e) {
                u(this);
                var t = M(arguments[1], 1),
                    i = this.length,
                    s = W(e),
                    n = y(s.length),
                    a = 0;
                if (i < n + t) throw C($);
                for (; a < n;) this[t + a] = s[a++]
            }, I = {
                entries: function() {
                    return _e.call(u(this))
                },
                keys: function() {
                    return we.call(u(this))
                },
                values: function() {
                    return be.call(u(this))
                }
            }, Be = function(e, t) {
                return b(e) && e[P] && "symbol" != typeof t && t in e && String(+t) == String(t)
            }, f = function(e, t) {
                return Be(e, t = H(t, !0)) ? R(2, e[t]) : ae(e, t)
            }, L = function(e, t, i) {
                return !(Be(e, t = H(t, !0)) && b(i) && s(i, "value")) || s(i, "get") || s(i, "set") || i.configurable || s(i, "writable") && !i.writable || s(i, "enumerable") && !i.enumerable ? _(e, t, i) : (e[t] = i.value, e)
            }, c || (e.f = f, ne.f = L), m(m.S + m.F * !c, "Object", {
                getOwnPropertyDescriptor: f,
                defineProperty: L
            }), l(function() {
                S.call({})
            }) && (S = d = function() {
                return Se.call(this)
            }), j = t({}, qe), t(j, I), v(j, T, I.values), t(j, {
                slice: Ne,
                set: Re,
                constructor: function() {},
                toString: S,
                toLocaleString: Oe
            }), p(j, "buffer", "b"), p(j, "byteOffset", "o"), p(j, "byteLength", "l"), p(j, "length", "e"), _(j, E, {
                get: function() {
                    return this[P]
                }
            }), F.exports = function(e, d, t, c) {
                var u = e + ((c = !!c) ? "Clamped" : "") + "Array",
                    h = "get" + e,
                    p = "set" + e,
                    f = r[u],
                    n = f || {},
                    e = f && X(f),
                    i = !f || !g.ABV,
                    s = {},
                    a = f && f[k],
                    i = (i ? (f = t(function(e, t, i, s) {
                        N(e, f, u, "_d");
                        var n, a, o = 0,
                            r = 0;
                        if (b(t)) {
                            if (!(t instanceof x || (l = z(t)) == re || l == le)) return P in t ? D(f, t) : Le.call(f, t);
                            var l = t,
                                r = M(i, d),
                                i = t.byteLength;
                            if (void 0 === s) {
                                if (i % d) throw C($);
                                if ((n = i - r) < 0) throw C($)
                            } else if (i < (n = y(s) * d) + r) throw C($);
                            a = n / d
                        } else a = U(t), l = new x(n = a * d);
                        for (v(e, "_d", {
                                b: l,
                                o: r,
                                l: n,
                                e: a,
                                v: new ce(l)
                            }); o < a;) ! function(e, s) {
                            _(e, s, {
                                get: function() {
                                    return (e = this._d).v[h](s * d + e.o, Me);
                                    var e
                                },
                                set: function(e) {
                                    var t = s,
                                        i = this._d;
                                    c && (e = (e = Math.round(e)) < 0 ? 0 : 255 < e ? 255 : 255 & e), i.v[p](t * d + i.o, e, Me)
                                },
                                enumerable: !0
                            })
                        }(e, o++)
                    }), a = f[k] = G(j), v(a, "constructor", f)) : l(function() {
                        f(1)
                    }) && l(function() {
                        new f(-1)
                    }) && ee(function(e) {
                        new f, new f(null), new f(1.5), new f(e)
                    }, !0) || (f = t(function(e, t, i, s) {
                        return N(e, f, u), b(t) ? t instanceof x || (e = z(t)) == re || e == le ? void 0 !== s ? new n(t, M(i, d), s) : void 0 !== i ? new n(t, M(i, d)) : new n(t) : P in t ? D(f, t) : Le.call(f, t) : new n(U(t))
                    }), ue(e !== Function.prototype ? w(n).concat(w(e)) : w(n), function(e) {
                        e in f || v(f, e, n[e])
                    }), f[k] = a, o) || (a.constructor = f), a[T]),
                    t = !!i && ("values" == i.name || null == i.name),
                    e = I.values;
                v(f, Ae, !0), v(a, P, u), v(a, Pe, !0), v(a, A, f), (c ? new f(1)[E] == u : E in a) || _(a, E, {
                    get: function() {
                        return u
                    }
                }), s[u] = f, m(m.G + m.W + m.F * (f != n), s), m(m.S, u, {
                    BYTES_PER_ELEMENT: d
                }), m(m.S + m.F * l(function() {
                    n.of.call(f, 1)
                }), u, {
                    from: Le,
                    of: je
                }), de in a || v(a, de, d), m(m.P, u, qe), te(u), m(m.P + m.F * De, u, {
                    set: Re
                }), m(m.P + m.F * !t, u, I), o || a.toString == S || (a.toString = S), m(m.P + m.F * l(function() {
                    new f(1).slice()
                }), u, {
                    slice: Ne
                }), m(m.P + m.F * (l(function() {
                    return [1, 2].toLocaleString() != new f([1, 2]).toLocaleString()
                }) || !l(function() {
                    a.toLocaleString.call([1, 2])
                })), u, {
                    toLocaleString: Oe
                }), Z[u] = t ? i : e, o || t || v(a, T, e)
            }) : F.exports = function() {}
        }, {
            "./_an-instance": 61,
            "./_array-copy-within": 63,
            "./_array-fill": 64,
            "./_array-includes": 65,
            "./_array-methods": 66,
            "./_classof": 70,
            "./_ctx": 77,
            "./_descriptors": 79,
            "./_export": 83,
            "./_fails": 85,
            "./_global": 89,
            "./_has": 90,
            "./_hide": 91,
            "./_is-array-iter": 97,
            "./_is-object": 100,
            "./_iter-detect": 105,
            "./_iterators": 107,
            "./_library": 108,
            "./_object-create": 117,
            "./_object-dp": 118,
            "./_object-gopd": 120,
            "./_object-gopn": 122,
            "./_object-gpo": 124,
            "./_property-desc": 132,
            "./_redefine-all": 133,
            "./_set-species": 137,
            "./_species-constructor": 141,
            "./_to-absolute-index": 146,
            "./_to-index": 147,
            "./_to-integer": 148,
            "./_to-length": 150,
            "./_to-object": 151,
            "./_to-primitive": 152,
            "./_typed": 155,
            "./_typed-buffer": 154,
            "./_uid": 156,
            "./_wks": 161,
            "./core.get-iterator-method": 162,
            "./es6.array.iterator": 168
        }],
        154: [function(e, F, t) {
            "use strict";
            var i = e("./_global"),
                s = e("./_descriptors"),
                O = e("./_library"),
                n = e("./_typed"),
                a = e("./_hide"),
                o = e("./_redefine-all"),
                r = e("./_fails"),
                l = e("./_an-instance"),
                q = e("./_to-integer"),
                N = e("./_to-length"),
                c = e("./_to-index"),
                d = e("./_object-gopn").f,
                R = e("./_object-dp").f,
                B = e("./_array-fill"),
                e = e("./_set-to-string-tag"),
                u = "ArrayBuffer",
                h = "DataView",
                p = "prototype",
                f = "Wrong index!",
                m = i[u],
                g = i[h],
                v = i.Math,
                y = i.RangeError,
                b = i.Infinity,
                w = m,
                U = v.abs,
                _ = v.pow,
                V = v.floor,
                H = v.log,
                z = v.LN2,
                i = "byteLength",
                v = "byteOffset",
                C = s ? "_b" : "buffer",
                k = s ? "_l" : i,
                x = s ? "_o" : v;

            function S(e, t, i) {
                var s, n, a, o = new Array(i),
                    r = 8 * i - t - 1,
                    i = (1 << r) - 1,
                    l = i >> 1,
                    d = 23 === t ? _(2, -24) - _(2, -77) : 0,
                    c = 0,
                    u = e < 0 || 0 === e && 1 / e < 0 ? 1 : 0;
                for ((e = U(e)) != e || e === b ? (n = e != e ? 1 : 0, s = i) : (s = V(H(e) / z), e * (a = _(2, -s)) < 1 && (s--, a *= 2), 2 <= (e += 1 <= s + l ? d / a : d * _(2, 1 - l)) * a && (s++, a /= 2), i <= s + l ? (n = 0, s = i) : 1 <= s + l ? (n = (e * a - 1) * _(2, t), s += l) : (n = e * _(2, l - 1) * _(2, t), s = 0)); 8 <= t; o[c++] = 255 & n, n /= 256, t -= 8);
                for (s = s << t | n, r += t; 0 < r; o[c++] = 255 & s, s /= 256, r -= 8);
                return o[--c] |= 128 * u, o
            }

            function T(e, t, i) {
                var s, n = 8 * i - t - 1,
                    a = (1 << n) - 1,
                    o = a >> 1,
                    r = n - 7,
                    l = i - 1,
                    n = e[l--],
                    d = 127 & n;
                for (n >>= 7; 0 < r; d = 256 * d + e[l], l--, r -= 8);
                for (s = d & (1 << -r) - 1, d >>= -r, r += t; 0 < r; s = 256 * s + e[l], l--, r -= 8);
                if (0 === d) d = 1 - o;
                else {
                    if (d === a) return s ? NaN : n ? -b : b;
                    s += _(2, t), d -= o
                }
                return (n ? -1 : 1) * s * _(2, d - t)
            }

            function E(e) {
                return e[3] << 24 | e[2] << 16 | e[1] << 8 | e[0]
            }

            function A(e) {
                return [255 & e]
            }

            function P(e) {
                return [255 & e, e >> 8 & 255]
            }

            function $(e) {
                return [255 & e, e >> 8 & 255, e >> 16 & 255, e >> 24 & 255]
            }

            function W(e) {
                return S(e, 52, 8)
            }

            function Y(e) {
                return S(e, 23, 4)
            }

            function M(e, t, i) {
                R(e[p], t, {
                    get: function() {
                        return this[i]
                    }
                })
            }

            function D(e, t, i, s) {
                i = c(+i);
                if (i + t > e[k]) throw y(f);
                var n = e[C]._b,
                    i = i + e[x],
                    e = n.slice(i, i + t);
                return s ? e : e.reverse()
            }

            function I(e, t, i, s, n, a) {
                i = c(+i);
                if (i + t > e[k]) throw y(f);
                for (var o = e[C]._b, r = i + e[x], l = s(+n), d = 0; d < t; d++) o[r + d] = l[a ? d : t - d - 1]
            }
            if (n.ABV) {
                if (!r(function() {
                        m(1)
                    }) || !r(function() {
                        new m(-1)
                    }) || r(function() {
                        return new m, new m(1.5), new m(NaN), m.name != u
                    })) {
                    for (var L, r = (m = function(e) {
                            return l(this, m), new w(c(e))
                        })[p] = w[p], j = d(w), G = 0; j.length > G;)(L = j[G++]) in m || a(m, L, w[L]);
                    O || (r.constructor = m)
                }
                var d = new g(new m(2)),
                    X = g[p].setInt8;
                d.setInt8(0, 2147483648), d.setInt8(1, 2147483649), !d.getInt8(0) && d.getInt8(1) || o(g[p], {
                    setInt8: function(e, t) {
                        X.call(this, e, t << 24 >> 24)
                    },
                    setUint8: function(e, t) {
                        X.call(this, e, t << 24 >> 24)
                    }
                }, !0)
            } else m = function(e) {
                l(this, m, u);
                e = c(e);
                this._b = B.call(new Array(e), 0), this[k] = e
            }, g = function(e, t, i) {
                l(this, g, h), l(e, m, h);
                var s = e[k],
                    t = q(t);
                if (t < 0 || s < t) throw y("Wrong offset!");
                if (s < t + (i = void 0 === i ? s - t : N(i))) throw y("Wrong length!");
                this[C] = e, this[x] = t, this[k] = i
            }, s && (M(m, i, "_l"), M(g, "buffer", "_b"), M(g, i, "_l"), M(g, v, "_o")), o(g[p], {
                getInt8: function(e) {
                    return D(this, 1, e)[0] << 24 >> 24
                },
                getUint8: function(e) {
                    return D(this, 1, e)[0]
                },
                getInt16: function(e) {
                    e = D(this, 2, e, arguments[1]);
                    return (e[1] << 8 | e[0]) << 16 >> 16
                },
                getUint16: function(e) {
                    e = D(this, 2, e, arguments[1]);
                    return e[1] << 8 | e[0]
                },
                getInt32: function(e) {
                    return E(D(this, 4, e, arguments[1]))
                },
                getUint32: function(e) {
                    return E(D(this, 4, e, arguments[1])) >>> 0
                },
                getFloat32: function(e) {
                    return T(D(this, 4, e, arguments[1]), 23, 4)
                },
                getFloat64: function(e) {
                    return T(D(this, 8, e, arguments[1]), 52, 8)
                },
                setInt8: function(e, t) {
                    I(this, 1, e, A, t)
                },
                setUint8: function(e, t) {
                    I(this, 1, e, A, t)
                },
                setInt16: function(e, t) {
                    I(this, 2, e, P, t, arguments[2])
                },
                setUint16: function(e, t) {
                    I(this, 2, e, P, t, arguments[2])
                },
                setInt32: function(e, t) {
                    I(this, 4, e, $, t, arguments[2])
                },
                setUint32: function(e, t) {
                    I(this, 4, e, $, t, arguments[2])
                },
                setFloat32: function(e, t) {
                    I(this, 4, e, Y, t, arguments[2])
                },
                setFloat64: function(e, t) {
                    I(this, 8, e, W, t, arguments[2])
                }
            });
            e(m, u), e(g, h), a(g[p], n.VIEW, !0), t[u] = m, t[h] = g
        }, {
            "./_an-instance": 61,
            "./_array-fill": 64,
            "./_descriptors": 79,
            "./_fails": 85,
            "./_global": 89,
            "./_hide": 91,
            "./_library": 108,
            "./_object-dp": 118,
            "./_object-gopn": 122,
            "./_redefine-all": 133,
            "./_set-to-string-tag": 138,
            "./_to-index": 147,
            "./_to-integer": 148,
            "./_to-length": 150,
            "./_typed": 155
        }],
        155: [function(e, t, i) {
            for (var s, n = e("./_global"), a = e("./_hide"), e = e("./_uid"), o = e("typed_array"), r = e("view"), e = !(!n.ArrayBuffer || !n.DataView), l = e, d = 0, c = "Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(","); d < 9;)(s = n[c[d++]]) ? (a(s.prototype, o, !0), a(s.prototype, r, !0)) : l = !1;
            t.exports = {
                ABV: e,
                CONSTR: l,
                TYPED: o,
                VIEW: r
            }
        }, {
            "./_global": 89,
            "./_hide": 91,
            "./_uid": 156
        }],
        156: [function(e, t, i) {
            var s = 0,
                n = Math.random();
            t.exports = function(e) {
                return "Symbol(".concat(void 0 === e ? "" : e, ")_", (++s + n).toString(36))
            }
        }, {}],
        157: [function(e, t, i) {
            e = e("./_global").navigator;
            t.exports = e && e.userAgent || ""
        }, {
            "./_global": 89
        }],
        158: [function(e, t, i) {
            var s = e("./_is-object");
            t.exports = function(e, t) {
                if (s(e) && e._t === t) return e;
                throw TypeError("Incompatible receiver, " + t + " required!")
            }
        }, {
            "./_is-object": 100
        }],
        159: [function(e, t, i) {
            var s = e("./_global"),
                n = e("./_core"),
                a = e("./_library"),
                o = e("./_wks-ext"),
                r = e("./_object-dp").f;
            t.exports = function(e) {
                var t = n.Symbol || (n.Symbol = !a && s.Symbol || {});
                "_" == e.charAt(0) || e in t || r(t, e, {
                    value: o.f(e)
                })
            }
        }, {
            "./_core": 75,
            "./_global": 89,
            "./_library": 108,
            "./_object-dp": 118,
            "./_wks-ext": 160
        }],
        160: [function(e, t, i) {
            i.f = e("./_wks")
        }, {
            "./_wks": 161
        }],
        161: [function(e, t, i) {
            var s = e("./_shared")("wks"),
                n = e("./_uid"),
                a = e("./_global").Symbol,
                o = "function" == typeof a;
            (t.exports = function(e) {
                return s[e] || (s[e] = o && a[e] || (o ? a : n)("Symbol." + e))
            }).store = s
        }, {
            "./_global": 89,
            "./_shared": 140,
            "./_uid": 156
        }],
        162: [function(e, t, i) {
            var s = e("./_classof"),
                n = e("./_wks")("iterator"),
                a = e("./_iterators");
            t.exports = e("./_core").getIteratorMethod = function(e) {
                if (null != e) return e[n] || e["@@iterator"] || a[s(e)]
            }
        }, {
            "./_classof": 70,
            "./_core": 75,
            "./_iterators": 107,
            "./_wks": 161
        }],
        163: [function(e, t, i) {
            var s = e("./_export");
            s(s.P, "Array", {
                copyWithin: e("./_array-copy-within")
            }), e("./_add-to-unscopables")("copyWithin")
        }, {
            "./_add-to-unscopables": 60,
            "./_array-copy-within": 63,
            "./_export": 83
        }],
        164: [function(e, t, i) {
            var s = e("./_export");
            s(s.P, "Array", {
                fill: e("./_array-fill")
            }), e("./_add-to-unscopables")("fill")
        }, {
            "./_add-to-unscopables": 60,
            "./_array-fill": 64,
            "./_export": 83
        }],
        165: [function(e, t, i) {
            "use strict";
            var s = e("./_export"),
                n = e("./_array-methods")(6),
                a = "findIndex",
                o = !0;
            a in [] && Array(1)[a](function() {
                o = !1
            }), s(s.P + s.F * o, "Array", {
                findIndex: function(e) {
                    return n(this, e, 1 < arguments.length ? arguments[1] : void 0)
                }
            }), e("./_add-to-unscopables")(a)
        }, {
            "./_add-to-unscopables": 60,
            "./_array-methods": 66,
            "./_export": 83
        }],
        166: [function(e, t, i) {
            "use strict";
            var s = e("./_export"),
                n = e("./_array-methods")(5),
                a = !0;
            "find" in [] && Array(1).find(function() {
                a = !1
            }), s(s.P + s.F * a, "Array", {
                find: function(e) {
                    return n(this, e, 1 < arguments.length ? arguments[1] : void 0)
                }
            }), e("./_add-to-unscopables")("find")
        }, {
            "./_add-to-unscopables": 60,
            "./_array-methods": 66,
            "./_export": 83
        }],
        167: [function(e, t, i) {
            "use strict";
            var u = e("./_ctx"),
                s = e("./_export"),
                h = e("./_to-object"),
                p = e("./_iter-call"),
                f = e("./_is-array-iter"),
                m = e("./_to-length"),
                g = e("./_create-property"),
                v = e("./core.get-iterator-method");
            s(s.S + s.F * !e("./_iter-detect")(function(e) {
                Array.from(e)
            }), "Array", {
                from: function(e) {
                    var t, i, s, n, a = h(e),
                        e = "function" == typeof this ? this : Array,
                        o = arguments.length,
                        r = 1 < o ? arguments[1] : void 0,
                        l = void 0 !== r,
                        d = 0,
                        c = v(a);
                    if (l && (r = u(r, 2 < o ? arguments[2] : void 0, 2)), null == c || e == Array && f(c))
                        for (i = new e(t = m(a.length)); d < t; d++) g(i, d, l ? r(a[d], d) : a[d]);
                    else
                        for (n = c.call(a), i = new e; !(s = n.next()).done; d++) g(i, d, l ? p(n, r, [s.value, d], !0) : s.value);
                    return i.length = d, i
                }
            })
        }, {
            "./_create-property": 76,
            "./_ctx": 77,
            "./_export": 83,
            "./_is-array-iter": 97,
            "./_iter-call": 102,
            "./_iter-detect": 105,
            "./_to-length": 150,
            "./_to-object": 151,
            "./core.get-iterator-method": 162
        }],
        168: [function(e, t, i) {
            "use strict";
            var s = e("./_add-to-unscopables"),
                n = e("./_iter-step"),
                a = e("./_iterators"),
                o = e("./_to-iobject");
            t.exports = e("./_iter-define")(Array, "Array", function(e, t) {
                this._t = o(e), this._i = 0, this._k = t
            }, function() {
                var e = this._t,
                    t = this._k,
                    i = this._i++;
                return !e || i >= e.length ? (this._t = void 0, n(1)) : n(0, "keys" == t ? i : "values" == t ? e[i] : [i, e[i]])
            }, "values"), a.Arguments = a.Array, s("keys"), s("values"), s("entries")
        }, {
            "./_add-to-unscopables": 60,
            "./_iter-define": 104,
            "./_iter-step": 106,
            "./_iterators": 107,
            "./_to-iobject": 149
        }],
        169: [function(e, t, i) {
            "use strict";
            var s = e("./_export"),
                n = e("./_create-property");
            s(s.S + s.F * e("./_fails")(function() {
                function e() {}
                return !(Array.of.call(e) instanceof e)
            }), "Array", {
                of: function() {
                    for (var e = 0, t = arguments.length, i = new("function" == typeof this ? this : Array)(t); e < t;) n(i, e, arguments[e++]);
                    return i.length = t, i
                }
            })
        }, {
            "./_create-property": 76,
            "./_export": 83,
            "./_fails": 85
        }],
        170: [function(e, t, i) {
            var s = e("./_object-dp").f,
                n = Function.prototype,
                a = /^\s*function ([^ (]*)/;
            "name" in n || e("./_descriptors") && s(n, "name", {
                configurable: !0,
                get: function() {
                    try {
                        return ("" + this).match(a)[1]
                    } catch (e) {
                        return ""
                    }
                }
            })
        }, {
            "./_descriptors": 79,
            "./_object-dp": 118
        }],
        171: [function(e, t, i) {
            "use strict";
            var s = e("./_collection-strong"),
                n = e("./_validate-collection");
            t.exports = e("./_collection")("Map", function(e) {
                return function() {
                    return e(this, 0 < arguments.length ? arguments[0] : void 0)
                }
            }, {
                get: function(e) {
                    e = s.getEntry(n(this, "Map"), e);
                    return e && e.v
                },
                set: function(e, t) {
                    return s.def(n(this, "Map"), 0 === e ? 0 : e, t)
                }
            }, s, !0)
        }, {
            "./_collection": 74,
            "./_collection-strong": 72,
            "./_validate-collection": 158
        }],
        172: [function(e, t, i) {
            var s = e("./_export"),
                n = e("./_math-log1p"),
                a = Math.sqrt,
                e = Math.acosh;
            s(s.S + s.F * !(e && 710 == Math.floor(e(Number.MAX_VALUE)) && e(1 / 0) == 1 / 0), "Math", {
                acosh: function(e) {
                    return (e = +e) < 1 ? NaN : 94906265.62425156 < e ? Math.log(e) + Math.LN2 : n(e - 1 + a(e - 1) * a(e + 1))
                }
            })
        }, {
            "./_export": 83,
            "./_math-log1p": 111
        }],
        173: [function(e, t, i) {
            var e = e("./_export"),
                s = Math.asinh;
            e(e.S + e.F * !(s && 0 < 1 / s(0)), "Math", {
                asinh: function e(t) {
                    return isFinite(t = +t) && 0 != t ? t < 0 ? -e(-t) : Math.log(t + Math.sqrt(t * t + 1)) : t
                }
            })
        }, {
            "./_export": 83
        }],
        174: [function(e, t, i) {
            var e = e("./_export"),
                s = Math.atanh;
            e(e.S + e.F * !(s && 1 / s(-0) < 0), "Math", {
                atanh: function(e) {
                    return 0 == (e = +e) ? e : Math.log((1 + e) / (1 - e)) / 2
                }
            })
        }, {
            "./_export": 83
        }],
        175: [function(e, t, i) {
            var s = e("./_export"),
                n = e("./_math-sign");
            s(s.S, "Math", {
                cbrt: function(e) {
                    return n(e = +e) * Math.pow(Math.abs(e), 1 / 3)
                }
            })
        }, {
            "./_export": 83,
            "./_math-sign": 112
        }],
        176: [function(e, t, i) {
            e = e("./_export");
            e(e.S, "Math", {
                clz32: function(e) {
                    return (e >>>= 0) ? 31 - Math.floor(Math.log(e + .5) * Math.LOG2E) : 32
                }
            })
        }, {
            "./_export": 83
        }],
        177: [function(e, t, i) {
            var e = e("./_export"),
                s = Math.exp;
            e(e.S, "Math", {
                cosh: function(e) {
                    return (s(e = +e) + s(-e)) / 2
                }
            })
        }, {
            "./_export": 83
        }],
        178: [function(e, t, i) {
            var s = e("./_export"),
                e = e("./_math-expm1");
            s(s.S + s.F * (e != Math.expm1), "Math", {
                expm1: e
            })
        }, {
            "./_export": 83,
            "./_math-expm1": 109
        }],
        179: [function(e, t, i) {
            var s = e("./_export");
            s(s.S, "Math", {
                fround: e("./_math-fround")
            })
        }, {
            "./_export": 83,
            "./_math-fround": 110
        }],
        180: [function(e, t, i) {
            var e = e("./_export"),
                l = Math.abs;
            e(e.S, "Math", {
                hypot: function(e, t) {
                    for (var i, s, n = 0, a = 0, o = arguments.length, r = 0; a < o;) r < (i = l(arguments[a++])) ? (n = n * (s = r / i) * s + 1, r = i) : n += 0 < i ? (s = i / r) * s : i;
                    return r === 1 / 0 ? 1 / 0 : r * Math.sqrt(n)
                }
            })
        }, {
            "./_export": 83
        }],
        181: [function(e, t, i) {
            var s = e("./_export"),
                n = Math.imul;
            s(s.S + s.F * e("./_fails")(function() {
                return -5 != n(4294967295, 5) || 2 != n.length
            }), "Math", {
                imul: function(e, t) {
                    var e = +e,
                        t = +t,
                        i = 65535 & e,
                        s = 65535 & t;
                    return 0 | i * s + ((65535 & e >>> 16) * s + i * (65535 & t >>> 16) << 16 >>> 0)
                }
            })
        }, {
            "./_export": 83,
            "./_fails": 85
        }],
        182: [function(e, t, i) {
            e = e("./_export");
            e(e.S, "Math", {
                log10: function(e) {
                    return Math.log(e) * Math.LOG10E
                }
            })
        }, {
            "./_export": 83
        }],
        183: [function(e, t, i) {
            var s = e("./_export");
            s(s.S, "Math", {
                log1p: e("./_math-log1p")
            })
        }, {
            "./_export": 83,
            "./_math-log1p": 111
        }],
        184: [function(e, t, i) {
            e = e("./_export");
            e(e.S, "Math", {
                log2: function(e) {
                    return Math.log(e) / Math.LN2
                }
            })
        }, {
            "./_export": 83
        }],
        185: [function(e, t, i) {
            var s = e("./_export");
            s(s.S, "Math", {
                sign: e("./_math-sign")
            })
        }, {
            "./_export": 83,
            "./_math-sign": 112
        }],
        186: [function(e, t, i) {
            var s = e("./_export"),
                n = e("./_math-expm1"),
                a = Math.exp;
            s(s.S + s.F * e("./_fails")(function() {
                return -2e-17 != !Math.sinh(-2e-17)
            }), "Math", {
                sinh: function(e) {
                    return Math.abs(e = +e) < 1 ? (n(e) - n(-e)) / 2 : (a(e - 1) - a(-e - 1)) * (Math.E / 2)
                }
            })
        }, {
            "./_export": 83,
            "./_fails": 85,
            "./_math-expm1": 109
        }],
        187: [function(e, t, i) {
            var s = e("./_export"),
                n = e("./_math-expm1"),
                a = Math.exp;
            s(s.S, "Math", {
                tanh: function(e) {
                    var t = n(e = +e),
                        i = n(-e);
                    return t == 1 / 0 ? 1 : i == 1 / 0 ? -1 : (t - i) / (a(e) + a(-e))
                }
            })
        }, {
            "./_export": 83,
            "./_math-expm1": 109
        }],
        188: [function(e, t, i) {
            e = e("./_export");
            e(e.S, "Math", {
                trunc: function(e) {
                    return (0 < e ? Math.floor : Math.ceil)(e)
                }
            })
        }, {
            "./_export": 83
        }],
        189: [function(e, t, i) {
            e = e("./_export");
            e(e.S, "Number", {
                EPSILON: Math.pow(2, -52)
            })
        }, {
            "./_export": 83
        }],
        190: [function(e, t, i) {
            var s = e("./_export"),
                n = e("./_global").isFinite;
            s(s.S, "Number", {
                isFinite: function(e) {
                    return "number" == typeof e && n(e)
                }
            })
        }, {
            "./_export": 83,
            "./_global": 89
        }],
        191: [function(e, t, i) {
            var s = e("./_export");
            s(s.S, "Number", {
                isInteger: e("./_is-integer")
            })
        }, {
            "./_export": 83,
            "./_is-integer": 99
        }],
        192: [function(e, t, i) {
            e = e("./_export");
            e(e.S, "Number", {
                isNaN: function(e) {
                    return e != e
                }
            })
        }, {
            "./_export": 83
        }],
        193: [function(e, t, i) {
            var s = e("./_export"),
                n = e("./_is-integer"),
                a = Math.abs;
            s(s.S, "Number", {
                isSafeInteger: function(e) {
                    return n(e) && a(e) <= 9007199254740991
                }
            })
        }, {
            "./_export": 83,
            "./_is-integer": 99
        }],
        194: [function(e, t, i) {
            e = e("./_export");
            e(e.S, "Number", {
                MAX_SAFE_INTEGER: 9007199254740991
            })
        }, {
            "./_export": 83
        }],
        195: [function(e, t, i) {
            e = e("./_export");
            e(e.S, "Number", {
                MIN_SAFE_INTEGER: -9007199254740991
            })
        }, {
            "./_export": 83
        }],
        196: [function(e, t, i) {
            var s = e("./_export");
            s(s.S + s.F, "Object", {
                assign: e("./_object-assign")
            })
        }, {
            "./_export": 83,
            "./_object-assign": 116
        }],
        197: [function(e, t, i) {
            var s = e("./_is-object"),
                n = e("./_meta").onFreeze;
            e("./_object-sap")("freeze", function(t) {
                return function(e) {
                    return t && s(e) ? t(n(e)) : e
                }
            })
        }, {
            "./_is-object": 100,
            "./_meta": 113,
            "./_object-sap": 128
        }],
        198: [function(e, t, i) {
            var s = e("./_to-iobject"),
                n = e("./_object-gopd").f;
            e("./_object-sap")("getOwnPropertyDescriptor", function() {
                return function(e, t) {
                    return n(s(e), t)
                }
            })
        }, {
            "./_object-gopd": 120,
            "./_object-sap": 128,
            "./_to-iobject": 149
        }],
        199: [function(e, t, i) {
            e("./_object-sap")("getOwnPropertyNames", function() {
                return e("./_object-gopn-ext").f
            })
        }, {
            "./_object-gopn-ext": 121,
            "./_object-sap": 128
        }],
        200: [function(e, t, i) {
            var s = e("./_to-object"),
                n = e("./_object-gpo");
            e("./_object-sap")("getPrototypeOf", function() {
                return function(e) {
                    return n(s(e))
                }
            })
        }, {
            "./_object-gpo": 124,
            "./_object-sap": 128,
            "./_to-object": 151
        }],
        201: [function(e, t, i) {
            var s = e("./_is-object");
            e("./_object-sap")("isExtensible", function(t) {
                return function(e) {
                    return !!s(e) && (!t || t(e))
                }
            })
        }, {
            "./_is-object": 100,
            "./_object-sap": 128
        }],
        202: [function(e, t, i) {
            var s = e("./_is-object");
            e("./_object-sap")("isFrozen", function(t) {
                return function(e) {
                    return !s(e) || !!t && t(e)
                }
            })
        }, {
            "./_is-object": 100,
            "./_object-sap": 128
        }],
        203: [function(e, t, i) {
            var s = e("./_is-object");
            e("./_object-sap")("isSealed", function(t) {
                return function(e) {
                    return !s(e) || !!t && t(e)
                }
            })
        }, {
            "./_is-object": 100,
            "./_object-sap": 128
        }],
        204: [function(e, t, i) {
            var s = e("./_export");
            s(s.S, "Object", {
                is: e("./_same-value")
            })
        }, {
            "./_export": 83,
            "./_same-value": 135
        }],
        205: [function(e, t, i) {
            var s = e("./_to-object"),
                n = e("./_object-keys");
            e("./_object-sap")("keys", function() {
                return function(e) {
                    return n(s(e))
                }
            })
        }, {
            "./_object-keys": 126,
            "./_object-sap": 128,
            "./_to-object": 151
        }],
        206: [function(e, t, i) {
            var s = e("./_is-object"),
                n = e("./_meta").onFreeze;
            e("./_object-sap")("preventExtensions", function(t) {
                return function(e) {
                    return t && s(e) ? t(n(e)) : e
                }
            })
        }, {
            "./_is-object": 100,
            "./_meta": 113,
            "./_object-sap": 128
        }],
        207: [function(e, t, i) {
            var s = e("./_is-object"),
                n = e("./_meta").onFreeze;
            e("./_object-sap")("seal", function(t) {
                return function(e) {
                    return t && s(e) ? t(n(e)) : e
                }
            })
        }, {
            "./_is-object": 100,
            "./_meta": 113,
            "./_object-sap": 128
        }],
        208: [function(e, t, i) {
            var s = e("./_export");
            s(s.S, "Object", {
                setPrototypeOf: e("./_set-proto").set
            })
        }, {
            "./_export": 83,
            "./_set-proto": 136
        }],
        209: [function(i, j, F) {
            "use strict";

            function s() {}
            var t, n, a, o, r = i("./_library"),
                h = i("./_global"),
                l = i("./_ctx"),
                e = i("./_classof"),
                d = i("./_export"),
                c = i("./_is-object"),
                u = i("./_a-function"),
                p = i("./_an-instance"),
                f = i("./_for-of"),
                m = i("./_species-constructor"),
                g = i("./_task").set,
                v = i("./_microtask")(),
                y = i("./_new-promise-capability"),
                b = i("./_perform"),
                w = i("./_user-agent"),
                _ = i("./_promise-resolve"),
                C = "Promise",
                k = h.TypeError,
                x = h.process,
                S = x && x.versions,
                T = S && S.v8 || "",
                E = h[C],
                A = "process" == e(x),
                P = n = y.f,
                S = !! function() {
                    try {
                        var e = E.resolve(1),
                            t = (e.constructor = {})[i("./_wks")("species")] = function(e) {
                                e(s, s)
                            };
                        return (A || "function" == typeof PromiseRejectionEvent) && e.then(s) instanceof t && 0 !== T.indexOf("6.6") && -1 === w.indexOf("Chrome/66")
                    } catch (e) {}
                }(),
                $ = function(e) {
                    var t;
                    return !(!c(e) || "function" != typeof(t = e.then)) && t
                },
                M = function(u, i) {
                    var s;
                    u._n || (u._n = !0, s = u._c, v(function() {
                        for (var n, d = u._v, c = 1 == u._s, e = 0, t = function(e) {
                                var t, i, s, n, a = c ? e.ok : e.fail,
                                    o = e.resolve,
                                    r = e.reject,
                                    l = e.domain;
                                try {
                                    a ? (c || (2 == u._h && (n = u, g.call(h, function() {
                                        var e;
                                        A ? x.emit("rejectionHandled", n) : (e = h.onrejectionhandled) && e({
                                            promise: n,
                                            reason: n._v
                                        })
                                    })), u._h = 1), !0 === a ? t = d : (l && l.enter(), t = a(d), l && (l.exit(), s = !0)), t === e.promise ? r(k("Promise-chain cycle")) : (i = $(t)) ? i.call(t, o, r) : o(t)) : r(d)
                                } catch (e) {
                                    l && !s && l.exit(), r(e)
                                }
                            }; s.length > e;) t(s[e++]);
                        u._c = [], u._n = !1, i && !u._h && (n = u, g.call(h, function() {
                            var e, t, i = n._v,
                                s = D(n);
                            if (s && (e = b(function() {
                                    A ? x.emit("unhandledRejection", i, n) : (t = h.onunhandledrejection) ? t({
                                        promise: n,
                                        reason: i
                                    }) : (t = h.console) && t.error && t.error("Unhandled promise rejection", i)
                                }), n._h = A || D(n) ? 2 : 1), n._a = void 0, s && e.e) throw e.v
                        }))
                    }))
                },
                D = function(e) {
                    return 1 !== e._h && 0 === (e._a || e._c).length
                },
                I = function(e) {
                    var t = this;
                    t._d || (t._d = !0, (t = t._w || t)._v = e, t._s = 2, t._a || (t._a = t._c.slice()), M(t, !0))
                },
                L = function(e) {
                    var i, s = this;
                    if (!s._d) {
                        s._d = !0, s = s._w || s;
                        try {
                            if (s === e) throw k("Promise can't be resolved itself");
                            (i = $(e)) ? v(function() {
                                var t = {
                                    _w: s,
                                    _d: !1
                                };
                                try {
                                    i.call(e, l(L, t, 1), l(I, t, 1))
                                } catch (e) {
                                    I.call(t, e)
                                }
                            }): (s._v = e, s._s = 1, M(s, !1))
                        } catch (e) {
                            I.call({
                                _w: s,
                                _d: !1
                            }, e)
                        }
                    }
                };
            S || (E = function(e) {
                p(this, E, C, "_h"), u(e), t.call(this);
                try {
                    e(l(L, this, 1), l(I, this, 1))
                } catch (e) {
                    I.call(this, e)
                }
            }, (t = function(e) {
                this._c = [], this._a = void 0, this._s = 0, this._d = !1, this._v = void 0, this._h = 0, this._n = !1
            }).prototype = i("./_redefine-all")(E.prototype, {
                then: function(e, t) {
                    var i = P(m(this, E));
                    return i.ok = "function" != typeof e || e, i.fail = "function" == typeof t && t, i.domain = A ? x.domain : void 0, this._c.push(i), this._a && this._a.push(i), this._s && M(this, !1), i.promise
                },
                catch: function(e) {
                    return this.then(void 0, e)
                }
            }), a = function() {
                var e = new t;
                this.promise = e, this.resolve = l(L, e, 1), this.reject = l(I, e, 1)
            }, y.f = P = function(e) {
                return e === E || e === o ? new a : n(e)
            }), d(d.G + d.W + d.F * !S, {
                Promise: E
            }), i("./_set-to-string-tag")(E, C), i("./_set-species")(C), o = i("./_core")[C], d(d.S + d.F * !S, C, {
                reject: function(e) {
                    var t = P(this);
                    return (0, t.reject)(e), t.promise
                }
            }), d(d.S + d.F * (r || !S), C, {
                resolve: function(e) {
                    return _(r && this === o ? E : this, e)
                }
            }), d(d.S + d.F * !(S && i("./_iter-detect")(function(e) {
                E.all(e).catch(s)
            })), C, {
                all: function(e) {
                    var o = this,
                        t = P(o),
                        r = t.resolve,
                        l = t.reject,
                        i = b(function() {
                            var s = [],
                                n = 0,
                                a = 1;
                            f(e, !1, function(e) {
                                var t = n++,
                                    i = !1;
                                s.push(void 0), a++, o.resolve(e).then(function(e) {
                                    i || (i = !0, s[t] = e, --a) || r(s)
                                }, l)
                            }), --a || r(s)
                        });
                    return i.e && l(i.v), t.promise
                },
                race: function(e) {
                    var t = this,
                        i = P(t),
                        s = i.reject,
                        n = b(function() {
                            f(e, !1, function(e) {
                                t.resolve(e).then(i.resolve, s)
                            })
                        });
                    return n.e && s(n.v), i.promise
                }
            })
        }, {
            "./_a-function": 59,
            "./_an-instance": 61,
            "./_classof": 70,
            "./_core": 75,
            "./_ctx": 77,
            "./_export": 83,
            "./_for-of": 88,
            "./_global": 89,
            "./_is-object": 100,
            "./_iter-detect": 105,
            "./_library": 108,
            "./_microtask": 114,
            "./_new-promise-capability": 115,
            "./_perform": 130,
            "./_promise-resolve": 131,
            "./_redefine-all": 133,
            "./_set-species": 137,
            "./_set-to-string-tag": 138,
            "./_species-constructor": 141,
            "./_task": 145,
            "./_user-agent": 157,
            "./_wks": 161
        }],
        210: [function(e, t, i) {
            var s = e("./_export"),
                n = e("./_a-function"),
                a = e("./_an-object"),
                o = (e("./_global").Reflect || {}).apply,
                r = Function.apply;
            s(s.S + s.F * !e("./_fails")(function() {
                o(function() {})
            }), "Reflect", {
                apply: function(e, t, i) {
                    e = n(e), i = a(i);
                    return o ? o(e, t, i) : r.call(e, t, i)
                }
            })
        }, {
            "./_a-function": 59,
            "./_an-object": 62,
            "./_export": 83,
            "./_fails": 85,
            "./_global": 89
        }],
        211: [function(e, t, i) {
            var s = e("./_export"),
                n = e("./_object-create"),
                a = e("./_a-function"),
                o = e("./_an-object"),
                r = e("./_is-object"),
                l = e("./_fails"),
                d = e("./_bind"),
                c = (e("./_global").Reflect || {}).construct,
                u = l(function() {
                    function e() {}
                    return !(c(function() {}, [], e) instanceof e)
                }),
                h = !l(function() {
                    c(function() {})
                });
            s(s.S + s.F * (u || h), "Reflect", {
                construct: function(e, t) {
                    a(e), o(t);
                    var i = arguments.length < 3 ? e : a(arguments[2]);
                    if (h && !u) return c(e, t, i);
                    if (e == i) {
                        switch (t.length) {
                            case 0:
                                return new e;
                            case 1:
                                return new e(t[0]);
                            case 2:
                                return new e(t[0], t[1]);
                            case 3:
                                return new e(t[0], t[1], t[2]);
                            case 4:
                                return new e(t[0], t[1], t[2], t[3])
                        }
                        var s = [null];
                        return s.push.apply(s, t), new(d.apply(e, s))
                    }
                    s = i.prototype, i = n(r(s) ? s : Object.prototype), s = Function.apply.call(e, i, t);
                    return r(s) ? s : i
                }
            })
        }, {
            "./_a-function": 59,
            "./_an-object": 62,
            "./_bind": 69,
            "./_export": 83,
            "./_fails": 85,
            "./_global": 89,
            "./_is-object": 100,
            "./_object-create": 117
        }],
        212: [function(e, t, i) {
            var s = e("./_object-dp"),
                n = e("./_export"),
                a = e("./_an-object"),
                o = e("./_to-primitive");
            n(n.S + n.F * e("./_fails")(function() {
                Reflect.defineProperty(s.f({}, 1, {
                    value: 1
                }), 1, {
                    value: 2
                })
            }), "Reflect", {
                defineProperty: function(e, t, i) {
                    a(e), t = o(t, !0), a(i);
                    try {
                        return s.f(e, t, i), !0
                    } catch (e) {
                        return !1
                    }
                }
            })
        }, {
            "./_an-object": 62,
            "./_export": 83,
            "./_fails": 85,
            "./_object-dp": 118,
            "./_to-primitive": 152
        }],
        213: [function(e, t, i) {
            var s = e("./_export"),
                n = e("./_object-gopd").f,
                a = e("./_an-object");
            s(s.S, "Reflect", {
                deleteProperty: function(e, t) {
                    var i = n(a(e), t);
                    return !(i && !i.configurable) && delete e[t]
                }
            })
        }, {
            "./_an-object": 62,
            "./_export": 83,
            "./_object-gopd": 120
        }],
        214: [function(e, t, i) {
            var s = e("./_object-gopd"),
                n = e("./_export"),
                a = e("./_an-object");
            n(n.S, "Reflect", {
                getOwnPropertyDescriptor: function(e, t) {
                    return s.f(a(e), t)
                }
            })
        }, {
            "./_an-object": 62,
            "./_export": 83,
            "./_object-gopd": 120
        }],
        215: [function(e, t, i) {
            var s = e("./_export"),
                n = e("./_object-gpo"),
                a = e("./_an-object");
            s(s.S, "Reflect", {
                getPrototypeOf: function(e) {
                    return n(a(e))
                }
            })
        }, {
            "./_an-object": 62,
            "./_export": 83,
            "./_object-gpo": 124
        }],
        216: [function(e, t, i) {
            var a = e("./_object-gopd"),
                o = e("./_object-gpo"),
                r = e("./_has"),
                s = e("./_export"),
                l = e("./_is-object"),
                d = e("./_an-object");
            s(s.S, "Reflect", {
                get: function e(t, i) {
                    var s, n = arguments.length < 3 ? t : arguments[2];
                    return d(t) === n ? t[i] : (s = a.f(t, i)) ? r(s, "value") ? s.value : void 0 !== s.get ? s.get.call(n) : void 0 : l(s = o(t)) ? e(s, i, n) : void 0
                }
            })
        }, {
            "./_an-object": 62,
            "./_export": 83,
            "./_has": 90,
            "./_is-object": 100,
            "./_object-gopd": 120,
            "./_object-gpo": 124
        }],
        217: [function(e, t, i) {
            e = e("./_export");
            e(e.S, "Reflect", {
                has: function(e, t) {
                    return t in e
                }
            })
        }, {
            "./_export": 83
        }],
        218: [function(e, t, i) {
            var s = e("./_export"),
                n = e("./_an-object"),
                a = Object.isExtensible;
            s(s.S, "Reflect", {
                isExtensible: function(e) {
                    return n(e), !a || a(e)
                }
            })
        }, {
            "./_an-object": 62,
            "./_export": 83
        }],
        219: [function(e, t, i) {
            var s = e("./_export");
            s(s.S, "Reflect", {
                ownKeys: e("./_own-keys")
            })
        }, {
            "./_export": 83,
            "./_own-keys": 129
        }],
        220: [function(e, t, i) {
            var s = e("./_export"),
                n = e("./_an-object"),
                a = Object.preventExtensions;
            s(s.S, "Reflect", {
                preventExtensions: function(e) {
                    n(e);
                    try {
                        return a && a(e), !0
                    } catch (e) {
                        return !1
                    }
                }
            })
        }, {
            "./_an-object": 62,
            "./_export": 83
        }],
        221: [function(e, t, i) {
            var s = e("./_export"),
                n = e("./_set-proto");
            n && s(s.S, "Reflect", {
                setPrototypeOf: function(e, t) {
                    n.check(e, t);
                    try {
                        return n.set(e, t), !0
                    } catch (e) {
                        return !1
                    }
                }
            })
        }, {
            "./_export": 83,
            "./_set-proto": 136
        }],
        222: [function(e, t, i) {
            var r = e("./_object-dp"),
                l = e("./_object-gopd"),
                d = e("./_object-gpo"),
                c = e("./_has"),
                s = e("./_export"),
                u = e("./_property-desc"),
                h = e("./_an-object"),
                p = e("./_is-object");
            s(s.S, "Reflect", {
                set: function e(t, i, s) {
                    var n, a = arguments.length < 4 ? t : arguments[3],
                        o = l.f(h(t), i);
                    if (!o) {
                        if (p(n = d(t))) return e(n, i, s, a);
                        o = u(0)
                    }
                    if (c(o, "value")) {
                        if (!1 === o.writable || !p(a)) return !1;
                        if (n = l.f(a, i)) {
                            if (n.get || n.set || !1 === n.writable) return !1;
                            n.value = s, r.f(a, i, n)
                        } else r.f(a, i, u(0, s));
                        return !0
                    }
                    return void 0 !== o.set && (o.set.call(a, s), !0)
                }
            })
        }, {
            "./_an-object": 62,
            "./_export": 83,
            "./_has": 90,
            "./_is-object": 100,
            "./_object-dp": 118,
            "./_object-gopd": 120,
            "./_object-gpo": 124,
            "./_property-desc": 132
        }],
        223: [function(e, t, i) {
            e("./_descriptors") && "g" != /./g.flags && e("./_object-dp").f(RegExp.prototype, "flags", {
                configurable: !0,
                get: e("./_flags")
            })
        }, {
            "./_descriptors": 79,
            "./_flags": 87,
            "./_object-dp": 118
        }],
        224: [function(e, t, i) {
            e("./_fix-re-wks")("match", 1, function(s, n, e) {
                return [function(e) {
                    "use strict";
                    var t = s(this),
                        i = null == e ? void 0 : e[n];
                    return void 0 !== i ? i.call(e, t) : new RegExp(e)[n](String(t))
                }, e]
            })
        }, {
            "./_fix-re-wks": 86
        }],
        225: [function(e, t, i) {
            e("./_fix-re-wks")("replace", 2, function(n, a, o) {
                return [function(e, t) {
                    "use strict";
                    var i = n(this),
                        s = null == e ? void 0 : e[a];
                    return void 0 !== s ? s.call(e, i, t) : o.call(String(i), e, t)
                }, o]
            })
        }, {
            "./_fix-re-wks": 86
        }],
        226: [function(e, t, i) {
            e("./_fix-re-wks")("search", 1, function(s, n, e) {
                return [function(e) {
                    "use strict";
                    var t = s(this),
                        i = null == e ? void 0 : e[n];
                    return void 0 !== i ? i.call(e, t) : new RegExp(e)[n](String(t))
                }, e]
            })
        }, {
            "./_fix-re-wks": 86
        }],
        227: [function(t, e, i) {
            t("./_fix-re-wks")("split", 2, function(n, a, o) {
                "use strict";
                var p, f = t("./_is-regexp"),
                    m = o,
                    g = [].push,
                    e = "split",
                    v = "length";
                return "c" == "abbc" [e](/(b)*/)[1] || 4 != "test" [e](/(?:)/, -1)[v] || 2 != "ab" [e](/(?:ab)*/)[v] || 4 != "." [e](/(.?)(.?)/)[v] || 1 < "." [e](/()()/)[v] || "" [e](/.?/)[v] ? (p = void 0 === /()??/.exec("")[1], o = function(e, t) {
                    var i = String(this);
                    if (void 0 === e && 0 === t) return [];
                    if (!f(e)) return m.call(i, e, t);
                    var s, n, a, o, r, l = [],
                        d = (e.ignoreCase ? "i" : "") + (e.multiline ? "m" : "") + (e.unicode ? "u" : "") + (e.sticky ? "y" : ""),
                        c = 0,
                        u = void 0 === t ? 4294967295 : t >>> 0,
                        h = new RegExp(e.source, d + "g");
                    for (p || (s = new RegExp("^" + h.source + "$(?!\\s)", d));
                        (n = h.exec(i)) && !(c < (a = n.index + n[0][v]) && (l.push(i.slice(c, n.index)), !p && 1 < n[v] && n[0].replace(s, function() {
                            for (r = 1; r < arguments[v] - 2; r++) void 0 === arguments[r] && (n[r] = void 0)
                        }), 1 < n[v] && n.index < i[v] && g.apply(l, n.slice(1)), o = n[0][v], c = a, u <= l[v]));) h.lastIndex === n.index && h.lastIndex++;
                    return c === i[v] ? !o && h.test("") || l.push("") : l.push(i.slice(c)), u < l[v] ? l.slice(0, u) : l
                }) : "0" [e](void 0, 0)[v] && (o = function(e, t) {
                    return void 0 === e && 0 === t ? [] : m.call(this, e, t)
                }), [function(e, t) {
                    var i = n(this),
                        s = null == e ? void 0 : e[a];
                    return void 0 !== s ? s.call(e, i, t) : o.call(String(i), e, t)
                }, o]
            })
        }, {
            "./_fix-re-wks": 86,
            "./_is-regexp": 101
        }],
        228: [function(e, t, i) {
            "use strict";
            var s = e("./_collection-strong"),
                n = e("./_validate-collection");
            t.exports = e("./_collection")("Set", function(e) {
                return function() {
                    return e(this, 0 < arguments.length ? arguments[0] : void 0)
                }
            }, {
                add: function(e) {
                    return s.def(n(this, "Set"), e = 0 === e ? 0 : e, e)
                }
            }, s)
        }, {
            "./_collection": 74,
            "./_collection-strong": 72,
            "./_validate-collection": 158
        }],
        229: [function(e, t, i) {
            "use strict";
            var s = e("./_export"),
                n = e("./_string-at")(!1);
            s(s.P, "String", {
                codePointAt: function(e) {
                    return n(this, e)
                }
            })
        }, {
            "./_export": 83,
            "./_string-at": 142
        }],
        230: [function(e, t, i) {
            "use strict";
            var s = e("./_export"),
                n = e("./_to-length"),
                a = e("./_string-context"),
                o = "endsWith",
                r = "" [o];
            s(s.P + s.F * e("./_fails-is-regexp")(o), "String", {
                endsWith: function(e) {
                    var t = a(this, e, o),
                        i = 1 < arguments.length ? arguments[1] : void 0,
                        s = n(t.length),
                        i = void 0 === i ? s : Math.min(n(i), s),
                        s = String(e);
                    return r ? r.call(t, s, i) : t.slice(i - s.length, i) === s
                }
            })
        }, {
            "./_export": 83,
            "./_fails-is-regexp": 84,
            "./_string-context": 143,
            "./_to-length": 150
        }],
        231: [function(e, t, i) {
            var s = e("./_export"),
                a = e("./_to-absolute-index"),
                o = String.fromCharCode,
                e = String.fromCodePoint;
            s(s.S + s.F * (!!e && 1 != e.length), "String", {
                fromCodePoint: function(e) {
                    for (var t, i = [], s = arguments.length, n = 0; n < s;) {
                        if (t = +arguments[n++], a(t, 1114111) !== t) throw RangeError(t + " is not a valid code point");
                        i.push(t < 65536 ? o(t) : o(55296 + ((t -= 65536) >> 10), t % 1024 + 56320))
                    }
                    return i.join("")
                }
            })
        }, {
            "./_export": 83,
            "./_to-absolute-index": 146
        }],
        232: [function(e, t, i) {
            "use strict";
            var s = e("./_export"),
                n = e("./_string-context");
            s(s.P + s.F * e("./_fails-is-regexp")("includes"), "String", {
                includes: function(e) {
                    return !!~n(this, e, "includes").indexOf(e, 1 < arguments.length ? arguments[1] : void 0)
                }
            })
        }, {
            "./_export": 83,
            "./_fails-is-regexp": 84,
            "./_string-context": 143
        }],
        233: [function(e, t, i) {
            var s = e("./_export"),
                o = e("./_to-iobject"),
                r = e("./_to-length");
            s(s.S, "String", {
                raw: function(e) {
                    for (var t = o(e.raw), i = r(t.length), s = arguments.length, n = [], a = 0; a < i;) n.push(String(t[a++])), a < s && n.push(String(arguments[a]));
                    return n.join("")
                }
            })
        }, {
            "./_export": 83,
            "./_to-iobject": 149,
            "./_to-length": 150
        }],
        234: [function(e, t, i) {
            var s = e("./_export");
            s(s.P, "String", {
                repeat: e("./_string-repeat")
            })
        }, {
            "./_export": 83,
            "./_string-repeat": 144
        }],
        235: [function(e, t, i) {
            "use strict";
            var s = e("./_export"),
                n = e("./_to-length"),
                a = e("./_string-context"),
                o = "startsWith",
                r = "" [o];
            s(s.P + s.F * e("./_fails-is-regexp")(o), "String", {
                startsWith: function(e) {
                    var t = a(this, e, o),
                        i = n(Math.min(1 < arguments.length ? arguments[1] : void 0, t.length)),
                        e = String(e);
                    return r ? r.call(t, e, i) : t.slice(i, i + e.length) === e
                }
            })
        }, {
            "./_export": 83,
            "./_fails-is-regexp": 84,
            "./_string-context": 143,
            "./_to-length": 150
        }],
        236: [function(e, F, O) {
            "use strict";

            function s(e) {
                var t = P[e] = _(k[T]);
                return t._k = e, t
            }

            function o(e, t, i) {
                return e === M && o($, t, i), v(e), t = b(t, !0), v(i), (d(P, t) ? (i.enumerable ? (d(e, E) && e[E][t] && (e[E][t] = !1), i = _(i, {
                    enumerable: w(0, !1)
                })) : (d(e, E) || C(e, E, w(1, {})), e[E][t] = !0), L) : C)(e, t, i)
            }

            function i(e, t) {
                v(e);
                for (var i, s = U(t = y(t)), n = 0, a = s.length; n < a;) o(e, i = s[n++], t[i]);
                return e
            }

            function t(e) {
                var t = Q.call(this, e = b(e, !0));
                return !(this === M && d(P, e) && !d($, e)) && (!(t || !d(this, e) || !d(P, e) || d(this, E) && this[E][e]) || t)
            }

            function n(e, t) {
                var i;
                if (e = y(e), t = b(t, !0), e !== M || !d(P, t) || d($, t)) return !(i = X(e, t)) || !d(P, t) || d(e, E) && e[E][t] || (i.enumerable = !0), i
            }

            function a(e) {
                for (var t, i = J(y(e)), s = [], n = 0; i.length > n;) d(P, t = i[n++]) || t == E || t == q || s.push(t);
                return s
            }

            function r(e) {
                for (var t, i = e === M, s = J(i ? $ : y(e)), n = [], a = 0; s.length > a;) !d(P, t = s[a++]) || i && !d(M, t) || n.push(P[t]);
                return n
            }
            var l = e("./_global"),
                d = e("./_has"),
                c = e("./_descriptors"),
                u = e("./_export"),
                h = e("./_redefine"),
                q = e("./_meta").KEY,
                p = e("./_fails"),
                f = e("./_shared"),
                m = e("./_set-to-string-tag"),
                N = e("./_uid"),
                g = e("./_wks"),
                R = e("./_wks-ext"),
                B = e("./_wks-define"),
                U = e("./_enum-keys"),
                V = e("./_is-array"),
                v = e("./_an-object"),
                H = e("./_is-object"),
                y = e("./_to-iobject"),
                b = e("./_to-primitive"),
                w = e("./_property-desc"),
                _ = e("./_object-create"),
                z = e("./_object-gopn-ext"),
                W = e("./_object-gopd"),
                Y = e("./_object-dp"),
                G = e("./_object-keys"),
                X = W.f,
                C = Y.f,
                J = z.f,
                k = l.Symbol,
                x = l.JSON,
                S = x && x.stringify,
                T = "prototype",
                E = g("_hidden"),
                K = g("toPrimitive"),
                Q = {}.propertyIsEnumerable,
                A = f("symbol-registry"),
                P = f("symbols"),
                $ = f("op-symbols"),
                M = Object[T],
                f = "function" == typeof k,
                D = l.QObject,
                I = !D || !D[T] || !D[T].findChild,
                L = c && p(function() {
                    return 7 != _(C({}, "a", {
                        get: function() {
                            return C(this, "a", {
                                value: 7
                            }).a
                        }
                    })).a
                }) ? function(e, t, i) {
                    var s = X(M, t);
                    s && delete M[t], C(e, t, i), s && e !== M && C(M, t, s)
                } : C,
                j = f && "symbol" == typeof k.iterator ? function(e) {
                    return "symbol" == typeof e
                } : function(e) {
                    return e instanceof k
                };
            f || (h((k = function() {
                if (this instanceof k) throw TypeError("Symbol is not a constructor!");
                var t = N(0 < arguments.length ? arguments[0] : void 0),
                    i = function(e) {
                        this === M && i.call($, e), d(this, E) && d(this[E], t) && (this[E][t] = !1), L(this, t, w(1, e))
                    };
                return c && I && L(M, t, {
                    configurable: !0,
                    set: i
                }), s(t)
            })[T], "toString", function() {
                return this._k
            }), W.f = n, Y.f = o, e("./_object-gopn").f = z.f = a, e("./_object-pie").f = t, e("./_object-gops").f = r, c && !e("./_library") && h(M, "propertyIsEnumerable", t, !0), R.f = function(e) {
                return s(g(e))
            }), u(u.G + u.W + u.F * !f, {
                Symbol: k
            });
            for (var Z = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), ee = 0; Z.length > ee;) g(Z[ee++]);
            for (var te = G(g.store), ie = 0; te.length > ie;) B(te[ie++]);
            u(u.S + u.F * !f, "Symbol", {
                for: function(e) {
                    return d(A, e += "") ? A[e] : A[e] = k(e)
                },
                keyFor: function(e) {
                    if (!j(e)) throw TypeError(e + " is not a symbol!");
                    for (var t in A)
                        if (A[t] === e) return t
                },
                useSetter: function() {
                    I = !0
                },
                useSimple: function() {
                    I = !1
                }
            }), u(u.S + u.F * !f, "Object", {
                create: function(e, t) {
                    return void 0 === t ? _(e) : i(_(e), t)
                },
                defineProperty: o,
                defineProperties: i,
                getOwnPropertyDescriptor: n,
                getOwnPropertyNames: a,
                getOwnPropertySymbols: r
            }), x && u(u.S + u.F * (!f || p(function() {
                var e = k();
                return "[null]" != S([e]) || "{}" != S({
                    a: e
                }) || "{}" != S(Object(e))
            })), "JSON", {
                stringify: function(e) {
                    for (var t, i, s = [e], n = 1; n < arguments.length;) s.push(arguments[n++]);
                    if (i = t = s[1], (H(t) || void 0 !== e) && !j(e)) return V(t) || (t = function(e, t) {
                        if ("function" == typeof i && (t = i.call(this, e, t)), !j(t)) return t
                    }), s[1] = t, S.apply(x, s)
                }
            }), k[T][K] || e("./_hide")(k[T], K, k[T].valueOf), m(k, "Symbol"), m(Math, "Math", !0), m(l.JSON, "JSON", !0)
        }, {
            "./_an-object": 62,
            "./_descriptors": 79,
            "./_enum-keys": 82,
            "./_export": 83,
            "./_fails": 85,
            "./_global": 89,
            "./_has": 90,
            "./_hide": 91,
            "./_is-array": 98,
            "./_is-object": 100,
            "./_library": 108,
            "./_meta": 113,
            "./_object-create": 117,
            "./_object-dp": 118,
            "./_object-gopd": 120,
            "./_object-gopn": 122,
            "./_object-gopn-ext": 121,
            "./_object-gops": 123,
            "./_object-keys": 126,
            "./_object-pie": 127,
            "./_property-desc": 132,
            "./_redefine": 134,
            "./_set-to-string-tag": 138,
            "./_shared": 140,
            "./_to-iobject": 149,
            "./_to-primitive": 152,
            "./_uid": 156,
            "./_wks": 161,
            "./_wks-define": 159,
            "./_wks-ext": 160
        }],
        237: [function(e, t, i) {
            "use strict";
            var s = e("./_export"),
                n = e("./_typed"),
                a = e("./_typed-buffer"),
                l = e("./_an-object"),
                d = e("./_to-absolute-index"),
                c = e("./_to-length"),
                o = e("./_is-object"),
                r = e("./_global").ArrayBuffer,
                u = e("./_species-constructor"),
                h = a.ArrayBuffer,
                p = a.DataView,
                f = n.ABV && r.isView,
                m = h.prototype.slice,
                g = n.VIEW,
                a = "ArrayBuffer";
            s(s.G + s.W + s.F * (r !== h), {
                ArrayBuffer: h
            }), s(s.S + s.F * !n.CONSTR, a, {
                isView: function(e) {
                    return f && f(e) || o(e) && g in e
                }
            }), s(s.P + s.U + s.F * e("./_fails")(function() {
                return !new h(2).slice(1, void 0).byteLength
            }), a, {
                slice: function(e, t) {
                    if (void 0 !== m && void 0 === t) return m.call(l(this), e);
                    for (var i = l(this).byteLength, s = d(e, i), n = d(void 0 === t ? i : t, i), e = new(u(this, h))(c(n - s)), a = new p(this), o = new p(e), r = 0; s < n;) o.setUint8(r++, a.getUint8(s++));
                    return e
                }
            }), e("./_set-species")(a)
        }, {
            "./_an-object": 62,
            "./_export": 83,
            "./_fails": 85,
            "./_global": 89,
            "./_is-object": 100,
            "./_set-species": 137,
            "./_species-constructor": 141,
            "./_to-absolute-index": 146,
            "./_to-length": 150,
            "./_typed": 155,
            "./_typed-buffer": 154
        }],
        238: [function(e, t, i) {
            var s = e("./_export");
            s(s.G + s.W + s.F * !e("./_typed").ABV, {
                DataView: e("./_typed-buffer").DataView
            })
        }, {
            "./_export": 83,
            "./_typed": 155,
            "./_typed-buffer": 154
        }],
        239: [function(e, t, i) {
            e("./_typed-array")("Float32", 4, function(s) {
                return function(e, t, i) {
                    return s(this, e, t, i)
                }
            })
        }, {
            "./_typed-array": 153
        }],
        240: [function(e, t, i) {
            e("./_typed-array")("Float64", 8, function(s) {
                return function(e, t, i) {
                    return s(this, e, t, i)
                }
            })
        }, {
            "./_typed-array": 153
        }],
        241: [function(e, t, i) {
            e("./_typed-array")("Int16", 2, function(s) {
                return function(e, t, i) {
                    return s(this, e, t, i)
                }
            })
        }, {
            "./_typed-array": 153
        }],
        242: [function(e, t, i) {
            e("./_typed-array")("Int32", 4, function(s) {
                return function(e, t, i) {
                    return s(this, e, t, i)
                }
            })
        }, {
            "./_typed-array": 153
        }],
        243: [function(e, t, i) {
            e("./_typed-array")("Int8", 1, function(s) {
                return function(e, t, i) {
                    return s(this, e, t, i)
                }
            })
        }, {
            "./_typed-array": 153
        }],
        244: [function(e, t, i) {
            e("./_typed-array")("Uint16", 2, function(s) {
                return function(e, t, i) {
                    return s(this, e, t, i)
                }
            })
        }, {
            "./_typed-array": 153
        }],
        245: [function(e, t, i) {
            e("./_typed-array")("Uint32", 4, function(s) {
                return function(e, t, i) {
                    return s(this, e, t, i)
                }
            })
        }, {
            "./_typed-array": 153
        }],
        246: [function(e, t, i) {
            e("./_typed-array")("Uint8", 1, function(s) {
                return function(e, t, i) {
                    return s(this, e, t, i)
                }
            })
        }, {
            "./_typed-array": 153
        }],
        247: [function(e, t, i) {
            e("./_typed-array")("Uint8", 1, function(s) {
                return function(e, t, i) {
                    return s(this, e, t, i)
                }
            }, !0)
        }, {
            "./_typed-array": 153
        }],
        248: [function(e, t, i) {
            "use strict";

            function s(e) {
                return function() {
                    return e(this, 0 < arguments.length ? arguments[0] : void 0)
                }
            }
            var a, n = e("./_array-methods")(0),
                o = e("./_redefine"),
                r = e("./_meta"),
                l = e("./_object-assign"),
                d = e("./_collection-weak"),
                c = e("./_is-object"),
                u = e("./_fails"),
                h = e("./_validate-collection"),
                p = "WeakMap",
                f = r.getWeak,
                m = Object.isExtensible,
                g = d.ufstore,
                v = {},
                y = {
                    get: function(e) {
                        var t;
                        if (c(e)) return !0 === (t = f(e)) ? g(h(this, p)).get(e) : t ? t[this._i] : void 0
                    },
                    set: function(e, t) {
                        return d.def(h(this, p), e, t)
                    }
                },
                b = t.exports = e("./_collection")(p, s, y, d, !0, !0);
            u(function() {
                return 7 != (new b).set((Object.freeze || Object)(v), 7).get(v)
            }) && (l((a = d.getConstructor(s, p)).prototype, y), r.NEED = !0, n(["delete", "has", "get", "set"], function(s) {
                var e = b.prototype,
                    n = e[s];
                o(e, s, function(e, t) {
                    var i;
                    return c(e) && !m(e) ? (this._f || (this._f = new a), i = this._f[s](e, t), "set" == s ? this : i) : n.call(this, e, t)
                })
            }))
        }, {
            "./_array-methods": 66,
            "./_collection": 74,
            "./_collection-weak": 73,
            "./_fails": 85,
            "./_is-object": 100,
            "./_meta": 113,
            "./_object-assign": 116,
            "./_redefine": 134,
            "./_validate-collection": 158
        }],
        249: [function(e, t, i) {
            "use strict";
            var s = e("./_collection-weak"),
                n = e("./_validate-collection");
            e("./_collection")("WeakSet", function(e) {
                return function() {
                    return e(this, 0 < arguments.length ? arguments[0] : void 0)
                }
            }, {
                add: function(e) {
                    return s.def(n(this, "WeakSet"), e, !0)
                }
            }, s, !1, !0)
        }, {
            "./_collection": 74,
            "./_collection-weak": 73,
            "./_validate-collection": 158
        }],
        250: [function(e, t, i) {
            for (var s = e("./es6.array.iterator"), n = e("./_object-keys"), a = e("./_redefine"), o = e("./_global"), r = e("./_hide"), l = e("./_iterators"), e = e("./_wks"), d = e("iterator"), c = e("toStringTag"), u = l.Array, h = {
                    CSSRuleList: !0,
                    CSSStyleDeclaration: !1,
                    CSSValueList: !1,
                    ClientRectList: !1,
                    DOMRectList: !1,
                    DOMStringList: !1,
                    DOMTokenList: !0,
                    DataTransferItemList: !1,
                    FileList: !1,
                    HTMLAllCollection: !1,
                    HTMLCollection: !1,
                    HTMLFormElement: !1,
                    HTMLSelectElement: !1,
                    MediaList: !0,
                    MimeTypeArray: !1,
                    NamedNodeMap: !1,
                    NodeList: !0,
                    PaintRequestList: !1,
                    Plugin: !1,
                    PluginArray: !1,
                    SVGLengthList: !1,
                    SVGNumberList: !1,
                    SVGPathSegList: !1,
                    SVGPointList: !1,
                    SVGStringList: !1,
                    SVGTransformList: !1,
                    SourceBufferList: !1,
                    StyleSheetList: !0,
                    TextTrackCueList: !1,
                    TextTrackList: !1,
                    TouchList: !1
                }, p = n(h), f = 0; f < p.length; f++) {
                var m, g = p[f],
                    v = h[g],
                    y = o[g],
                    b = y && y.prototype;
                if (b && (b[d] || r(b, d, u), b[c] || r(b, c, g), l[g] = u, v))
                    for (m in s) b[m] || a(b, m, s[m], !0)
            }
        }, {
            "./_global": 89,
            "./_hide": 91,
            "./_iterators": 107,
            "./_object-keys": 126,
            "./_redefine": 134,
            "./_wks": 161,
            "./es6.array.iterator": 168
        }],
        251: [function(e, t, i) {
            var s = e("./_export"),
                e = e("./_task");
            s(s.G + s.B, {
                setImmediate: e.set,
                clearImmediate: e.clear
            })
        }, {
            "./_export": 83,
            "./_task": 145
        }],
        252: [function(e, t, i) {
            function s(n) {
                return function(e, t) {
                    var i = 2 < arguments.length,
                        s = !!i && o.call(arguments, 2);
                    return n(i ? function() {
                        ("function" == typeof e ? e : Function(e)).apply(this, s)
                    } : e, t)
                }
            }
            var n = e("./_global"),
                a = e("./_export"),
                e = e("./_user-agent"),
                o = [].slice,
                e = /MSIE .\./.test(e);
            a(a.G + a.B + a.F * e, {
                setTimeout: s(n.setTimeout),
                setInterval: s(n.setInterval)
            })
        }, {
            "./_export": 83,
            "./_global": 89,
            "./_user-agent": 157
        }],
        253: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var s, n = {};
            n.getBandwidthEstimate = function() {
                if ("undefined" != typeof window && (void 0 === navigator.onLine || navigator.onLine) && void 0 !== navigator.connection && (!(s = "string" == typeof navigator.connection.type && "" !== navigator.connection.type ? navigator.connection.type : null) || "none" !== s)) {
                    if ("number" == typeof navigator.connection.downlink && 0 < navigator.connection.downlink) return navigator.connection.downlink;
                    var e = function() {
                        var e = [.025, .035, .35, 1.4];
                        if (s) switch (s) {
                            case "bluetooth":
                            case "cellular":
                                e[3] = .7;
                                break;
                            case "ethernet":
                            case "wifi":
                            case "wimax":
                                e[3] = 2.1
                        }
                        return e
                    }();
                    if ("string" == typeof navigator.connection.effectiveType && "" !== navigator.connection.effectiveType) switch (navigator.connection.effectiveType) {
                        case "slow-2g":
                            return e[0];
                        case "2g":
                            return e[1];
                        case "3g":
                            return e[2];
                        case "4g":
                            return e[3]
                    }
                    if (s) switch (s) {
                        case "ethernet":
                        case "wifi":
                        case "wimax":
                            return 1.4;
                        case "bluetooth":
                            return .35
                    }
                }
                return -1
            }, i.default = n
        }, {}],
        254: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var s, n = {};
            n.getBandwidthEstimate = function() {
                if ("undefined" != typeof window && (void 0 === navigator.onLine || navigator.onLine) && void 0 !== navigator.connection && (!(s = "string" == typeof navigator.connection.type && "" !== navigator.connection.type ? navigator.connection.type : null) || "none" !== s)) {
                    if ("number" == typeof navigator.connection.downlink && 0 < navigator.connection.downlink) return navigator.connection.downlink;
                    var e = function() {
                        var e = [.025, .035, .35, 1.4];
                        if (s) switch (s) {
                            case "bluetooth":
                            case "cellular":
                                e[3] = .7;
                                break;
                            case "ethernet":
                            case "wifi":
                            case "wimax":
                                e[3] = 2.1
                        }
                        return e
                    }();
                    if ("string" == typeof navigator.connection.effectiveType && "" !== navigator.connection.effectiveType) switch (navigator.connection.effectiveType) {
                        case "slow-2g":
                            return e[0];
                        case "2g":
                            return e[1];
                        case "3g":
                            return e[2];
                        case "4g":
                            return e[3]
                    }
                    if (s) switch (s) {
                        case "ethernet":
                        case "wifi":
                        case "wimax":
                            return 1.4;
                        case "bluetooth":
                            return .35
                    }
                }
                return -1
            }, i.default = n
        }, {}],
        255: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var s = l(e("../fw/fw")),
                n = l(e("../fw/env")),
                a = l(e("../players/vast-player")),
                o = l(e("../players/content-player")),
                r = l(e("../players/vpaid"));

            function l(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            i.default = {
                attach: function(e) {
                    e.prototype.play = function() {
                        (this.adOnStage && this.adIsLinear ? this.isVPAID ? r.default.resumeAd : a.default.play : o.default.play).call(this)
                    }, e.prototype.pause = function() {
                        (this.adOnStage && this.adIsLinear ? this.isVPAID ? r.default.pauseAd : a.default.pause : o.default.pause).call(this)
                    }, e.prototype.getAdPaused = function() {
                        return !(!this.adOnStage || !this.adIsLinear) && (this.isVPAID ? r.default.getAdPaused.call(this) : this.vastPlayerPaused)
                    }, e.prototype.setVolume = function(e) {
                        var t;
                        s.default.isNumber(e) && (t = e < (t = 0) ? 0 : 1 < e ? 1 : e, this.adOnStage && this.adIsLinear && (this.isVPAID && r.default.setAdVolume.call(this, t), a.default.setVolume.call(this, t)), o.default.setVolume.call(this, t))
                    }, e.prototype.getVolume = function() {
                        return (this.adOnStage && this.adIsLinear ? this.isVPAID ? r.default.getAdVolume : a.default.getVolume : o.default.getVolume).call(this)
                    }, e.prototype.setMute = function(e) {
                        "boolean" == typeof e && (this.adOnStage && this.adIsLinear && (this.isVPAID ? e ? r.default.setAdVolume.call(this, 0) : r.default.setAdVolume.call(this, 1) : a.default.setMute.call(this, e)), o.default.setMute.call(this, e))
                    }, e.prototype.getMute = function() {
                        return this.adOnStage && this.adIsLinear ? this.isVPAID ? 0 === r.default.getAdVolume.call(this) : a.default.getMute.call(this) : o.default.getMute.call(this)
                    }, e.prototype.stopAds = function() {
                        this.adOnStage && (this.isVPAID ? r.default.stopAd : a.default.resumeContent).call(this)
                    }, e.prototype.getAdTagUrl = function() {
                        return this.adTagUrl
                    }, e.prototype.getAdMediaUrl = function() {
                        return this.adOnStage ? this.isVPAID ? r.default.getCreativeUrl.call(this) : this.adMediaUrl : null
                    }, e.prototype.getAdLinear = function() {
                        return this.adIsLinear
                    }, e.prototype.getAdSystem = function() {
                        return this.adSystem
                    }, e.prototype.getAdContentType = function() {
                        return this.adOnStage ? this.adIsLinear || this.isVPAID ? this.adContentType : this.nonLinearContentType : ""
                    }, e.prototype.getAdTitle = function() {
                        return this.adTitle
                    }, e.prototype.getAdDescription = function() {
                        return this.adDescription
                    }, e.prototype.getAdDuration = function() {
                        var e;
                        return this.adOnStage && this.adIsLinear ? this.isVPAID ? (0 < (e = r.default.getAdDuration.call(this)) && (e *= 1e3), e) : a.default.getDuration.call(this) : -1
                    }, e.prototype.getAdCurrentTime = function() {
                        var e, t;
                        return this.adOnStage && this.adIsLinear ? this.isVPAID ? (e = r.default.getAdRemainingTime.call(this), t = r.default.getAdDuration.call(this), -1 === e || -1 === t || t < e ? -1 : 1e3 * (t - e)) : a.default.getCurrentTime.call(this) : -1
                    }, e.prototype.getAdRemainingTime = function() {
                        var e, t;
                        return this.adOnStage && this.adIsLinear ? this.isVPAID ? r.default.getAdRemainingTime.call(this) : (e = a.default.getCurrentTime.call(this), t = a.default.getDuration.call(this), -1 === e || -1 === t || t < e ? -1 : 1e3 * (t - e)) : -1
                    }, e.prototype.getAdOnStage = function() {
                        return this.adOnStage
                    }, e.prototype.getAdMediaWidth = function() {
                        return this.adOnStage ? this.isVPAID ? r.default.getAdWidth.call(this) : this.adIsLinear ? this.adMediaWidth : this.nonLinearCreativeWidth : -1
                    }, e.prototype.getAdMediaHeight = function() {
                        return this.adOnStage ? this.isVPAID ? r.default.getAdHeight.call(this) : this.adIsLinear ? this.adMediaHeight : this.nonLinearCreativeHeight : -1
                    }, e.prototype.getClickThroughUrl = function() {
                        return this.clickThroughUrl
                    }, e.prototype.getIsSkippableAd = function() {
                        return this.isSkippableAd
                    }, e.prototype.getContentPlayerCompleted = function() {
                        return this.contentPlayerCompleted
                    }, e.prototype.setContentPlayerCompleted = function(e) {
                        "boolean" == typeof e && (this.contentPlayerCompleted = e)
                    }, e.prototype.getAdErrorMessage = function() {
                        return this.vastErrorMessage
                    }, e.prototype.getAdVastErrorCode = function() {
                        return this.vastErrorCode
                    }, e.prototype.getAdErrorType = function() {
                        return this.adErrorType
                    }, e.prototype.getEnvironment = function() {
                        return n.default
                    }, e.prototype.getFramework = function() {
                        return s.default
                    }, e.prototype.getVastPlayer = function() {
                        return this.vastPlayer
                    }, e.prototype.getContentPlayer = function() {
                        return this.contentPlayer
                    }, e.prototype.getVpaidCreative = function() {
                        return this.adOnStage && this.isVPAID ? r.default.getVpaidCreative.call(this) : null
                    }, e.prototype.getIsUsingContentPlayerForAds = function() {
                        return this.useContentPlayerForAds
                    }, e.prototype.initialize = function() {
                        this.rmpVastInitialized || a.default.init.call(this)
                    }, e.prototype.getInitialized = function() {
                        return this.rmpVastInitialized
                    }, e.prototype.getAdPodInfo = function() {
                        var e;
                        return 0 < this.adPodApiInfo.length ? ((e = {}).adPodCurrentIndex = this.adPodCurrentIndex, e.adPodLength = this.adPodApiInfo.length, e) : null
                    }, e.prototype.resizeAd = function(e, t, i) {
                        this.adOnStage && this.isVPAID && r.default.resizeAd.call(this, e, t, i)
                    }, e.prototype.expandAd = function() {
                        this.adOnStage && this.isVPAID && r.default.expandAd.call(this)
                    }, e.prototype.collapseAd = function() {
                        this.adOnStage && this.isVPAID && r.default.collapseAd.call(this)
                    }, e.prototype.skipAd = function() {
                        this.adOnStage && this.isVPAID && r.default.skipAd.call(this)
                    }, e.prototype.getAdExpanded = function() {
                        return this.adOnStage && this.isVPAID && r.default.getAdExpanded.call(this), !1
                    }, e.prototype.getAdSkippableState = function() {
                        return this.adOnStage && this.isVPAID && r.default.getAdSkippableState.call(this), !1
                    }, e.prototype.getAdCompanions = function() {
                        return this.adOnStage && this.isVPAID && r.default.getAdCompanions.call(this), ""
                    }
                }
            }
        }, {
            "../fw/env": 260,
            "../fw/fw": 261,
            "../players/content-player": 263,
            "../players/vast-player": 264,
            "../players/vpaid": 265
        }],
        256: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var v = n(e("../fw/fw")),
                s = n(e("../tracking/ping"));

            function n(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function y(e) {
                for (var t = [], i = 0, s = this.icons.length; i < s; i++) this.icons[i].program !== e && t.push(this.icons[i]);
                this.icons = t
            }

            function a(e, t) {
                var i = this;
                t && (t.stopPropagation(), "touchend" === t.type) && t.preventDefault(), v.default.openWindow(this.icons[e].iconClickThroughUrl), void 0 !== this.icons[e].iconClickTrackingUrl && 0 < (t = this.icons[e].iconClickTrackingUrl).length && t.forEach(function(e) {
                    s.default.tracking.call(i, e, null)
                })
            }

            function o(e) {
                s.default.tracking.call(this, this.icons[e].iconViewTrackingUrl, null)
            }
            e = {
                destroy: function() {
                    var e = this.adContainer.querySelectorAll(".rmp-ad-container-icons");
                    if (0 < e.length)
                        for (var t = 0, i = e.length; t < i; t++) v.default.removeElement(e[t])
                }
            };
            e.parse = function(e) {
                for (var t = e[0].getElementsByTagName("Icon"), i = 0, s = t.length; i < s; i++) {
                    var n = t[i],
                        a = n.getAttribute("program");
                    if (null !== a && "" !== a) {
                        var o = n.getAttribute("width");
                        if (!(null === o || "" === o || parseInt(o) <= 0)) {
                            var r = n.getAttribute("height");
                            if (!(null === r || "" === r || parseInt(r) <= 0)) {
                                var l = n.getAttribute("xPosition");
                                if (null !== l && "" !== l) {
                                    var d = n.getAttribute("yPosition");
                                    if (null !== d && "" !== d) {
                                        var c = n.getElementsByTagName("StaticResource");
                                        if (0 !== c.length) {
                                            var u = c[0].getAttribute("creativeType");
                                            if (null !== u && "" !== u && /^image\/(gif|jpeg|jpg|png)$/i.test(u)) {
                                                u = v.default.getNodeValue(c[0], !0);
                                                if (null !== u) {
                                                    y.call(this, a);
                                                    var h = {
                                                            program: a,
                                                            width: o,
                                                            height: r,
                                                            xPosition: l,
                                                            yPosition: d,
                                                            staticResourceUrl: u
                                                        },
                                                        c = n.getElementsByTagName("IconViewTracking"),
                                                        a = v.default.getNodeValue(c[0], !0),
                                                        o = (null !== a && (h.iconViewTrackingUrl = a), n.getElementsByTagName("IconClicks"));
                                                    if (0 < o.length) {
                                                        r = o[0].getElementsByTagName("IconClickThrough"), l = v.default.getNodeValue(r[0], !0);
                                                        if (null !== l) {
                                                            h.iconClickThroughUrl = l;
                                                            var p = o[0].getElementsByTagName("IconClickTracking");
                                                            if (0 < p.length) {
                                                                h.iconClickTrackingUrl = [];
                                                                for (var f = 0, m = p.length; f < m; f++) {
                                                                    var g = v.default.getNodeValue(p[f], !0);
                                                                    null !== g && h.iconClickTrackingUrl.push(g)
                                                                }
                                                            }
                                                        }
                                                    }
                                                    this.icons.push(h)
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            };
            e.append = function() {
                this.onPlayingAppendIcons = function() {
                    this.vastPlayer.removeEventListener("playing", this.onPlayingAppendIcons);
                    for (var e = 0, t = this.icons.length; e < t; e++) {
                        var i = document.createElement("img"),
                            s = (i.className = "rmp-ad-container-icons", i.style.width = parseInt(this.icons[e].width) + "px", i.style.height = parseInt(this.icons[e].height) + "px", this.icons[e].xPosition),
                            n = ("left" === s ? i.style.left = "0px" : "right" === s ? i.style.right = "0px" : 0 <= parseInt(s) ? i.style.left = s + "px" : i.style.left = "0px", this.icons[e].yPosition);
                        "top" === n ? i.style.top = "0px" : "bottom" === s ? i.style.bottom = "0px" : 0 <= parseInt(n) ? i.style.top = n + "px" : i.style.top = "0px", void 0 !== this.icons[e].iconViewTrackingUrl && i.addEventListener("load", o.bind(this, e)), void 0 !== this.icons[e].iconClickThroughUrl && (i.addEventListener("touchend", a.bind(this, e)), i.addEventListener("click", a.bind(this, e))), i.src = this.icons[e].staticResourceUrl, this.adContainer.appendChild(i)
                    }
                }.bind(this), this.vastPlayer.addEventListener("playing", this.onPlayingAppendIcons)
            }, i.default = e
        }, {
            "../fw/fw": 261,
            "../tracking/ping": 266
        }],
        257: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var I = o(e("../fw/fw")),
                L = o(e("../fw/env")),
                s = o(e("../utils/helpers")),
                j = o(e("../tracking/ping")),
                n = o(e("../players/content-player")),
                F = o(e("../players/vast-player")),
                O = o(e("../players/vpaid")),
                a = o(e("./skip")),
                q = o(e("./icons")),
                N = o(e("../utils/vast-errors")),
                R = o(e("../../../externals/rmp-connection"));

            function o(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            var e = {},
                B = /vpaid/i,
                U = /\/javascript/i,
                V = /(application\/vnd\.apple\.mpegurl|x-mpegurl)/i,
                H = /application\/dash\+xml/i,
                z = ["video/webm", "video/mp4", "video/ogg", "video/3gpp"];
            e.update = function(e, t) {
                var i = this;
                this.onDurationChange = function() {
                    this.vastPlayer.removeEventListener("durationchange", this.onDurationChange), this.vastPlayerDuration = F.default.getDuration.call(this), s.default.createApiEvent.call(this, "addurationchange")
                }.bind(this), this.vastPlayer.addEventListener("durationchange", this.onDurationChange), this.onLoadedmetadataPlay = function() {
                    this.vastPlayer.removeEventListener("loadedmetadata", this.onLoadedmetadataPlay), clearTimeout(this.creativeLoadTimeoutCallback), s.default.createApiEvent.call(this, "adloaded"), n.default.pause.call(this), I.default.show(this.adContainer), I.default.show(this.vastPlayer), this.adOnStage = !0, F.default.play.call(this, this.firstVastPlayerPlayRequest), this.firstVastPlayerPlayRequest && (this.firstVastPlayerPlayRequest = !1)
                }.bind(this), this.vastPlayer.addEventListener("loadedmetadata", this.onLoadedmetadataPlay), this.onContextMenu = function(e) {
                    e && (e.stopPropagation(), e.preventDefault())
                }.bind(this), this.vastPlayer.addEventListener("contextmenu", this.onContextMenu), this.onPlaybackError = function(e) {
                    var t;
                    e && e.target && (e = e.target, I.default.isObject(e.error)) && I.default.isNumber(e.error.code) && (t = e.error.code, "string" == typeof e.error.message && e.error.message, 4 === t) && (j.default.error.call(this, 401), N.default.process.call(this, 401))
                }.bind(this), this.creativeLoadTimeoutCallback = setTimeout(function() {
                    j.default.error.call(i, 402), N.default.process.call(i, 402)
                }, this.params.creativeLoadTimeout), this.useContentPlayerForAds ? (this.contentPlayer.addEventListener("error", this.onPlaybackError), this.contentPlayer.src = e) : (this.vastPlayer.addEventListener("error", this.onPlaybackError), this.vastPlayer.src = e, this.vastPlayer.load()), this.onClickThrough = function(e) {
                    e && e.stopPropagation(), L.default.isMobile || I.default.openWindow(this.clickThroughUrl), this.params.pauseOnClick && this.pause(), s.default.createApiEvent.call(this, "adclick"), s.default.dispatchPingEvent.call(this, "clickthrough")
                }.bind(this), this.clickThroughUrl && (L.default.isMobile ? function() {
                    this.clickUIOnMobile = document.createElement("a"), this.clickUIOnMobile.className = "rmp-ad-click-ui-mobile", this.clickUIOnMobile.textContent = this.params.textForClickUIOnMobile, this.clickUIOnMobile.addEventListener("touchend", this.onClickThrough), this.clickUIOnMobile.href = this.clickThroughUrl, this.clickUIOnMobile.target = "_blank", this.adContainer.appendChild(this.clickUIOnMobile)
                }.call(this) : this.vastPlayer.addEventListener("click", this.onClickThrough)), this.isSkippableAd && a.default.append.call(this)
            }, e.parse = function(e) {
                this.adIsLinear = !0;
                var t = e[0].getElementsByTagName("MediaFiles");
                if (0 === t.length) j.default.error.call(this, 101), N.default.process.call(this, 101);
                else {
                    var i = e[0].getElementsByTagName("Icons"),
                        i = (0 < i.length && q.default.parse.call(this, i), e[0].getElementsByTagName("AdParameters")),
                        s = (this.adParametersData = "", 0 < i.length && (this.adParametersData = I.default.getNodeValue(i[0], !1)), t[0].getElementsByTagName("MediaFile"));
                    if (0 === s.length) j.default.error.call(this, 101), N.default.process.call(this, 101);
                    else {
                        for (var n = [], a = [], o = 0, r = s.length; o < r; o++) {
                            n[o] = {};
                            var l = s[o],
                                d = I.default.getNodeValue(l, !0);
                            if (null !== d) {
                                var c = l.getAttribute("type");
                                if (null !== c && "" !== c) {
                                    n[o].url = d, n[o].type = c;
                                    d = l.getAttribute("codec"), d = (null !== d && "" !== d && (n[o].codec = d), n[o].apiFramework = l.getAttribute("apiFramework"));
                                    if (this.params.enableVpaid && d && B.test(d) && U.test(c)) {
                                        n = [n[o]], a = [], this.isVPAID = !0;
                                        break
                                    }
                                    d = l.getAttribute("width"), c = (null !== d && "" !== d || (d = 0), l.getAttribute("height")), l = (null !== c && "" !== c || (c = 0), l.getAttribute("bitrate"));
                                    (null === l || "" === l || l < 10) && (l = 0), n[o].width = parseInt(d), n[o].height = parseInt(c), n[o].bitrate = parseInt(l)
                                } else a.push(o)
                            } else a.push(o)
                        }
                        if (0 < a.length)
                            for (var u = a.length - 1; 0 <= u; u--) n.splice(a[u], 1);
                        for (var h = [], p = 0, f = n.length; p < f; p++) {
                            var m = n[p],
                                g = m.type,
                                v = m.url;
                            if (this.isVPAID && v) return O.default.loadCreative.call(this, v, this.params.vpaidSettings), void(this.adContentType = g);
                            if (V.test(g) && L.default.okHls) return F.default.append.call(this, v, g), void(this.adContentType = g);
                            if (H.test(g) && L.default.okDash) return F.default.append.call(this, v, g), void(this.adContentType = g);
                            h.push(m)
                        }
                        for (var y, b, w, _ = [], C = function(e, t) {
                                return t.codec && t.type === z[e] ? L.default.canPlayType(t.type, t.codec) : t.type === z[e] && L.default.canPlayType(t.type)
                            }, k = 0, x = z.length; k < x && !(0 < (_ = h.filter(C.bind(null, k))).length); k++);
                        if (0 === _.length)
                            for (var S = function(e, t, i) {
                                    return i.codec === e && i.type === t
                                }, T = 0, E = h.length; T < E; T++) {
                                var A = h[T];
                                A.codec && A.type && L.default.canPlayType(A.type, A.codec) && (_ = h.filter(S.bind(null, A.codec, A.type)))
                            }
                        if (0 === _.length)
                            for (var P = function(e, t) {
                                    return t.type === e
                                }, $ = 0, M = h.length; $ < M; $++) {
                                var D = h[$];
                                D.type && L.default.canPlayType(D.type) && (_ = h.filter(P.bind(null, D.type)))
                            }
                        0 === _.length ? (j.default.error.call(this, 403), N.default.process.call(this, 403)) : (_.sort(function(e, t) {
                            return e.width - t.width
                        }), e = void 0, i = [], t = [], 1 < _.length && (y = I.default.getWidth(this.container) * L.default.devicePixelRatio, b = I.default.getHeight(this.container) * L.default.devicePixelRatio, 0 === (i = 0 < y && 0 < b ? _.filter(function(e) {
                            return y >= e.width && b >= e.height
                        }) : i).length && (i = [_[0]]), -1 < (w = R.default.getBandwidthEstimate())) && 1 < i.length && (i.sort(function(e, t) {
                            return e.bitrate - t.bitrate
                        }), w = Math.round(1e3 * w), e = (t = i.filter(function(e) {
                            return w >= e.bitrate
                        }))[t.length - 1]), e = e || (0 < i.length ? i[i.length - 1] : (_.sort(function(e, t) {
                            return e.bitrate - t.bitrate
                        }), _[_.length - 1])), this.adMediaUrl = e.url, this.adMediaHeight = e.height, this.adMediaWidth = e.width, this.adContentType = e.type, F.default.append.call(this, e.url, e.type))
                    }
                }
            }, i.default = e
        }, {
            "../../../externals/rmp-connection": 254,
            "../fw/env": 260,
            "../fw/fw": 261,
            "../players/content-player": 263,
            "../players/vast-player": 264,
            "../players/vpaid": 265,
            "../tracking/ping": 266,
            "../utils/helpers": 269,
            "../utils/vast-errors": 270,
            "./icons": 256,
            "./skip": 259
        }],
        258: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var b = o(e("../fw/fw")),
                s = o(e("../fw/env")),
                n = o(e("../utils/helpers")),
                w = o(e("../tracking/ping")),
                _ = o(e("../players/vast-player")),
                a = o(e("../players/content-player")),
                C = o(e("../utils/vast-errors"));

            function o(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            e = {};
            e.update = function() {
                this.nonLinearContainer = document.createElement("div"), this.nonLinearContainer.className = "rmp-ad-non-linear-container", this.nonLinearContainer.style.width = this.nonLinearCreativeWidth.toString() + "px", this.nonLinearContainer.style.height = this.nonLinearCreativeHeight.toString() + "px", this.nonLinearATag = document.createElement("a"), this.nonLinearATag.className = "rmp-ad-non-linear-anchor", this.clickThroughUrl && (this.nonLinearATag.href = this.clickThroughUrl, this.nonLinearATag.target = "_blank", this.onNonLinearClickThrough = function(e) {
                        try {
                            e && e.stopPropagation(), this.params.pauseOnClick && this.pause(), n.default.createApiEvent.call(this, "adclick"), n.default.dispatchPingEvent.call(this, "clickthrough")
                        } catch (e) {
                            b.default.trace(e)
                        }
                    }.bind(this), s.default.isMobile ? this.nonLinearATag.addEventListener("touchend", this.onNonLinearClickThrough) : this.nonLinearATag.addEventListener("click", this.onNonLinearClickThrough)), this.nonLinearImg = document.createElement("img"), this.nonLinearImg.className = "rmp-ad-non-linear-img", this.onNonLinearLoadError = function() {
                        w.default.error.call(this, 502), C.default.process.call(this, 502)
                    }.bind(this), this.nonLinearImg.addEventListener("error", this.onNonLinearLoadError), this.onNonLinearLoadSuccess = function() {
                        this.adOnStage = !0, n.default.createApiEvent.call(this, "adloaded"), n.default.createApiEvent.call(this, "adimpression"), n.default.createApiEvent.call(this, "adstarted"), n.default.dispatchPingEvent.call(this, ["impression", "creativeView", "start"])
                    }.bind(this), this.nonLinearImg.addEventListener("load", this.onNonLinearLoadSuccess), this.nonLinearImg.src = this.adMediaUrl, this.nonLinearATag.appendChild(this.nonLinearImg), this.nonLinearContainer.appendChild(this.nonLinearATag), this.adContainer.appendChild(this.nonLinearContainer),
                    function() {
                        var e = this;
                        this.nonLinearClose = document.createElement("div"), this.nonLinearClose.className = "rmp-ad-non-linear-close", n.default.accessibleButton(this.nonLinearClose, "close ad button"), 0 < this.nonLinearMinSuggestedDuration ? (this.nonLinearClose.style.display = "none", setTimeout(function() {
                            e.nonLinearClose && (e.nonLinearClose.style.display = "block")
                        }, 1e3 * this.nonLinearMinSuggestedDuration)) : this.nonLinearClose.style.display = "block", this.onClickCloseNonLinear = function(e) {
                            e && (e.stopPropagation(), "touchend" === e.type) && e.preventDefault(), this.nonLinearContainer.style.display = "none", n.default.createApiEvent.call(this, "adclosed"), n.default.dispatchPingEvent.call(this, "close")
                        }.bind(this), this.nonLinearClose.addEventListener("touchend", this.onClickCloseNonLinear), this.nonLinearClose.addEventListener("click", this.onClickCloseNonLinear), this.nonLinearContainer.appendChild(this.nonLinearClose)
                    }.call(this), b.default.show(this.adContainer), a.default.play.call(this, this.firstContentPlayerPlayRequest), this.firstContentPlayerPlayRequest && (this.firstContentPlayerPlayRequest = !1)
            }, e.parse = function(e) {
                this.adIsLinear = !1;
                var t = e[0].getElementsByTagName("NonLinear");
                if (0 !== t.length) {
                    for (var i = void 0, s = "", n = !1, a = 0, o = t.length; a < o; a++) {
                        var n = !1,
                            r = (i = t[a]).getAttribute("width");
                        if (null !== r && "" !== r) {
                            var l = i.getAttribute("height");
                            if (null !== l && "" !== l) {
                                if (r = parseInt(r), l = parseInt(l), !(r <= 0 || l <= 0)) {
                                    var d = i.getAttribute("minSuggestedDuration"),
                                        c = (null !== d && "" !== d && b.default.isValidDuration(d) && (this.nonLinearMinSuggestedDuration = b.default.convertDurationToSeconds(d)), i.getElementsByTagName("StaticResource"));
                                    if (0 !== c.length) {
                                        for (var u = void 0, h = 0, p = c.length; h < p; h++) {
                                            var f = c[h];
                                            if (null !== (u = f.getAttribute("creativeType")) && "" !== u && /^image\/(png|jpeg|jpg|gif)$/i.test(u)) {
                                                if (!(r > b.default.getWidth(this.container))) {
                                                    s = b.default.getNodeValue(f, !0);
                                                    break
                                                }
                                                n = !0
                                            }
                                        }
                                        if ("" !== s) {
                                            this.adMediaUrl = s, this.nonLinearCreativeWidth = r, this.nonLinearCreativeHeight = l, this.nonLinearContentType = u;
                                            break
                                        }
                                    }
                                }
                            } else w.default.error.call(this, 101), C.default.process.call(this, 101)
                        } else w.default.error.call(this, 101), C.default.process.call(this, 101)
                    }
                    if (this.adMediaUrl && i) {
                        var e = i.getElementsByTagName("NonLinearClickThrough");
                        if (0 < e.length) {
                            this.clickThroughUrl = b.default.getNodeValue(e[0], !0);
                            var m = t[0].getElementsByTagName("NonLinearClickTracking");
                            if (0 < m.length)
                                for (var g = 0, v = m.length; g < v; g++) {
                                    var y = b.default.getNodeValue(m[g], !0);
                                    null !== y && this.trackingTags.push({
                                        event: "clickthrough",
                                        url: y
                                    })
                                }
                        }
                        _.default.append.call(this)
                    } else w.default.error.call(this, e = n ? 501 : 503), C.default.process.call(this, e)
                }
            }, i.default = e
        }, {
            "../fw/env": 260,
            "../fw/fw": 261,
            "../players/content-player": 263,
            "../players/vast-player": 264,
            "../tracking/ping": 266,
            "../utils/helpers": 269,
            "../utils/vast-errors": 270
        }],
        259: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var s = o(e("../fw/fw")),
                n = o(e("../utils/helpers")),
                a = o(e("../players/vast-player"));

            function o(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function r(e) {
                0 < Math.round(e) && (this.skipWaiting.textContent = this.params.skipWaitingMessage + " " + Math.round(e) + "s")
            }
            e = {};
            e.append = function() {
                this.skipButton = document.createElement("div"), this.skipButton.className = "rmp-ad-container-skip", this.skipButton.style.display = "none", n.default.accessibleButton(this.skipButton, "skip ad button"), this.skipWaiting = document.createElement("div"), this.skipWaiting.className = "rmp-ad-container-skip-waiting", r.call(this, this.skipoffset), this.skipWaiting.style.display = "block", this.skipMessage = document.createElement("div"), this.skipMessage.className = "rmp-ad-container-skip-message", this.skipMessage.textContent = this.params.skipMessage, this.skipMessage.style.display = "none", this.skipIcon = document.createElement("div"), this.skipIcon.className = "rmp-ad-container-skip-icon", this.skipIcon.style.display = "none", this.onClickSkip = function(e) {
                    e && (e.stopPropagation(), "touchend" === e.type) && e.preventDefault(), this.skippableAdCanBeSkipped && (n.default.createApiEvent.call(this, "adskipped"), this.hasSkipEvent && n.default.dispatchPingEvent.call(this, "skip"), a.default.resumeContent.call(this))
                }.bind(this), this.skipButton.addEventListener("click", this.onClickSkip), this.skipButton.addEventListener("touchend", this.onClickSkip), this.skipButton.appendChild(this.skipWaiting), this.skipButton.appendChild(this.skipMessage), this.skipButton.appendChild(this.skipIcon), this.adContainer.appendChild(this.skipButton), this.onTimeupdateCheckSkip = function() {
                    var e;
                    "none" === this.skipButton.style.display && (this.skipButton.style.display = "block"), this.vastPlayerCurrentTime = this.vastPlayer.currentTime, s.default.isNumber(this.vastPlayerCurrentTime) && 0 < this.vastPlayerCurrentTime && (e = s.default.convertOffsetToSeconds(this.skipoffset, this.vastPlayerDuration), this.vastPlayerCurrentTime >= e ? (this.vastPlayer.removeEventListener("timeupdate", this.onTimeupdateCheckSkip), function() {
                        this.skipWaiting.style.display = "none", this.skipMessage.style.display = "block", this.skipIcon.style.display = "block"
                    }.call(this), this.skippableAdCanBeSkipped = !0, n.default.createApiEvent.call(this, "adskippablestatechanged")) : 0 < e - this.vastPlayerCurrentTime && r.call(this, e - this.vastPlayerCurrentTime))
                }.bind(this), this.vastPlayer.addEventListener("timeupdate", this.onTimeupdateCheckSkip)
            }, i.default = e
        }, {
            "../fw/fw": 261,
            "../players/vast-player": 264,
            "../utils/helpers": 269
        }],
        260: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });

            function s(e) {
                if (null !== l) {
                    e = l.match(e);
                    if (Array.isArray(e) && void 0 !== e[1]) return parseInt(e[1], 10)
                }
                return -1
            }
            var n, e = e("./fw"),
                e = e && e.__esModule ? e : {
                    default: e
                },
                a = {},
                o = document.createElement("video"),
                r = !!(void 0 !== window.ontouchstart || window.DocumentTouch && document instanceof window.DocumentTouch),
                l = window.navigator && window.navigator.userAgent ? window.navigator.userAgent : null,
                d = (d = [!1, -1], d = r && /(ipad|iphone|ipod)/i.test(l) ? [!0, s(/os\s+(\d+)_/i)] : d),
                c = void 0 !== o.canPlayType,
                u = c && "" !== o.canPlayType('video/mp4; codecs="avc1.42E01E,mp4a.40.2"');
            a.isIos = d, a.isAndroid = (n = [!1, -1], n = !d[0] && r && /android/i.test(l) ? [!0, s(/android\s*(\d+)\./i)] : n), a.isMacOSX = !(d[0] || !/(macintosh|mac\s+os)/i.test(l)), a.isSafari = (r = !1, n = -1, /safari\/[.0-9]*/i.test(l) && !/(chrome|chromium|android|crios|fxios)/i.test(l) && (r = !0, n = s(/version\/(\d+)\./i)), [r, n]), a.isFirefox = !(!/firefox\//i.test(l) || /seamonkey\//i.test(l)), a.isMobile = !1, (a.isIos[0] || a.isAndroid[0]) && (a.isMobile = !0), a.okMp4 = u, a.okHls = function() {
                if (c && u) {
                    var e = o.canPlayType("application/vnd.apple.mpegurl"),
                        t = o.canPlayType("application/x-mpegurl");
                    if ("" !== e || "" !== t) return !0
                }
                return !1
            }(), a.okDash = c && "" !== o.canPlayType("application/dash+xml"), a.canPlayType = function(e, t) {
                if (c)
                    if (e && t) {
                        if ("" !== o.canPlayType(e + '; codecs="' + t + '"')) return !0
                    } else if (e && !t && "" !== o.canPlayType(e)) return !0;
                return !1
            }, a.hasNativeFullscreenSupport = !(!(d = document.documentElement) || void 0 === d.requestFullscreen && void 0 === d.webkitRequestFullscreen && void 0 === d.mozRequestFullScreen && void 0 === d.msRequestFullscreen && void 0 === o.webkitEnterFullscreen), a.devicePixelRatio = (r = 1, r = e.default.isNumber(window.devicePixelRatio) && 1 < window.devicePixelRatio ? window.devicePixelRatio : r), i.default = a
        }, {
            "./fw": 261
        }],
        261: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });

            function s(e, t) {
                var i;
                return t = t, i = "", -1 < (e = (e = (i = e && "function" == typeof window.getComputedStyle && (e = window.getComputedStyle(e, null)) ? (i = e.getPropertyValue(t)).toString().toLowerCase() : i) || 0).toString()).indexOf("px") && (e = e.replace("px", "")), parseFloat(e)
            }
            var r = {
                    nullFn: function() {
                        return null
                    },
                    addClass: function(e, t) {
                        e && "string" == typeof t && (e.className ? -1 === e.className.indexOf(t) && (e.className = (e.className + " " + t).replace(/\s\s+/g, " ")) : e.className = t)
                    },
                    removeClass: function(e, t) {
                        e && "string" == typeof t && -1 < e.className.indexOf(t) && (e.className = e.className.replace(t, "").replace(/\s\s+/g, " "))
                    },
                    createStdEvent: function(e, t) {
                        var i = void 0;
                        if (t)
                            if ("function" == typeof window.Event) try {
                                i = new Event(e), t.dispatchEvent(i)
                            } catch (e) {
                                r.trace(e)
                            } else try {
                                (i = document.createEvent("Event")).initEvent(e, !0, !0), t.dispatchEvent(i)
                            } catch (e) {
                                r.trace(e)
                            }
                    }
                },
                n = (r.getWidth = function(e) {
                    return e ? r.isNumber(e.offsetWidth) && 0 !== e.offsetWidth ? e.offsetWidth : s(e, "width") : 0
                }, r.getHeight = function(e) {
                    return e ? r.isNumber(e.offsetHeight) && 0 !== e.offsetHeight ? e.offsetHeight : s(e, "height") : 0
                }, r.show = function(e) {
                    e && (e.style.display = "block")
                }, r.hide = function(e) {
                    e && (e.style.display = "none")
                }, r.removeElement = function(e) {
                    if (e && e.parentNode) try {
                        e.parentNode.removeChild(e)
                    } catch (e) {
                        r.trace(e)
                    }
                }, r.ajax = function(s, n, a, o) {
                    return new Promise(function(e, t) {
                        var i;
                        window.XMLHttpRequest ? ((i = new XMLHttpRequest).open("GET", s, !0), i.timeout = n, o && (i.withCredentials = !0), i.onloadend = function() {
                            r.isNumber(i.status) && 200 <= i.status && i.status < 300 && "string" == typeof i.responseText && "" !== i.responseText ? a ? e(i.responseText) : e() : t()
                        }, i.ontimeout = function() {
                            r.log("XMLHttpRequest timeout"), t()
                        }, i.send(null)) : t()
                    })
                }, r.log = function(e) {
                    window.console && window.console.log && ("string" == typeof e ? window.console.log("rmp-vast: " + e) : window.console.log(e))
                }, r.trace = function(e) {}, r.hasDOMParser = function() {
                    return void 0 !== window.DOMParser
                }, r.vastReadableTime = function(e) {
                    var t, i, s, n;
                    return r.isNumber(e) && 0 <= e ? (n = (s = i = t = 0) === (n = Math.floor(e % 1e3)) ? "000" : n < 10 ? "00" + n : n < 100 ? "0" + n : n.toString(), 59 < (t = Math.floor(+e / 1e3)) && (t -= 60 * (i = Math.floor(+t / 60))), t = 0 === t ? "00" : t < 10 ? "0" + t : t.toString(), 59 < i && (i -= 60 * (s = Math.floor(+i / 60))), i = 0 === i ? "00" : i < 10 ? "0" + i : i.toString(), (s = 0 === s ? "00" : s < 10 ? "0" + s : 23 < s ? "00" : s.toString()) + ":" + i + ":" + t + "." + n) : "00:00:00.000"
                }, r.generateCacheBusting = function() {
                    for (var e = "", t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", i = 0; i < 8; i++) e += t.charAt(Math.floor(Math.random() * t.length));
                    return e
                }, r.getNodeValue = function(e, t) {
                    for (var i = e.childNodes, s = "", n = 0, a = i.length; n < a; n++) i[n] && i[n].textContent && (s += i[n].textContent.trim());
                    if (s) {
                        if (/^<!\[CDATA\[.*\]\]>$/i.test(s) && (s = s.replace("<![CDATA[", "").replace("]]>", "")), !t) return s;
                        if (/^(https?:)?\/\//i.test(s)) return s
                    }
                    return null
                }, r.RFC3986EncodeURIComponent = function(e) {
                    return encodeURIComponent(e).replace(/[!'()*]/g, function(e) {
                        return "%" + e.charCodeAt(0).toString(16)
                    })
                }, r.isValidDuration = function(e) {
                    return !!/^\d+:\d+:\d+(\.\d+)?$/i.test(e)
                }, r.convertDurationToSeconds = function(e) {
                    e = e.split(".")[0].split(":");
                    return 60 * parseInt(e[0]) * 60 + 60 * parseInt(e[1]) + parseInt(e[2])
                }, /^\d+:\d+:\d+(\.\d+)?$/i),
                a = /^\d+%$/i;
            r.isValidOffset = function(e) {
                return !(!n.test(e) && !a.test(e))
            }, r.convertOffsetToSeconds = function(e, t) {
                var i, s = 0;
                return n.test(e) ? (i = e.split(".")[0].split(":"), s = 60 * parseInt(i[0]) * 60 + 60 * parseInt(i[1]) + parseInt(i[2])) : a.test(e) && 0 < t && (i = e.split("%"), i = parseInt(i[0]), s = Math.round(t * i / 100)), s
            }, r.logVideoEvents = function(t, i) {
                ["loadstart", "durationchange", "loadedmetadata", "loadeddata", "canplay", "canplaythrough"].forEach(function(e) {
                    t.addEventListener(e, function(e) {
                        e && e.type && r.log(i + " player event - " + e.type)
                    })
                })
            }, r.isNumber = function(e) {
                return !(void 0 === e || "number" != typeof e || !Number.isFinite(e))
            }, r.isObject = function(e) {
                return null != e && "object" == typeof e
            }, r.openWindow = function(e) {
                try {
                    window.open(e, "_blank")
                } catch (e) {
                    r.trace(e)
                }
            }, i.default = r
        }, {}],
        262: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var y = o(e("./fw/fw")),
                b = o(e("./fw/env")),
                w = o(e("./utils/helpers")),
                _ = o(e("./tracking/ping")),
                C = o(e("./creatives/linear")),
                k = o(e("./creatives/non-linear")),
                x = o(e("./tracking/tracking-events")),
                s = o(e("./api/api")),
                n = o(e("./players/content-player")),
                a = o(e("./utils/default")),
                S = o(e("./utils/vast-errors")),
                T = o(e("./creatives/icons"));

            function o(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function E(e) {
                if (Array.isArray(e)) {
                    for (var t = 0, i = Array(e.length); t < e.length; t++) i[t] = e[t];
                    return i
                }
                return Array.from(e)
            }

            function r(e, t) {
                "string" == typeof e && "" !== e && (this.id = e, this.container = document.getElementById(this.id), this.contentWrapper = this.container.querySelector(".rmp-content"), this.contentPlayer = this.container.querySelector(".rmp-video"), null !== this.container) && null !== this.contentWrapper && null !== this.contentPlayer && (a.default.instanceVariables.call(this), a.default.loadAdsVariables.call(this), a.default.fullscreen.call(this), w.default.filterParams.call(this, t))
            }
            s.default.attach(r);
            var A = function() {
                    w.default.createApiEvent.call(this, "adfollowingredirect");
                    var e = y.default.getNodeValue(this.vastAdTagURI[0], !0);
                    null !== e ? this.params.maxNumRedirects > this.redirectsFollowed ? (this.redirectsFollowed++, this.runningAdPod && (this.adPodItemWrapper = !0), this.loadAds(e)) : (_.default.error.call(this, 302), S.default.process.call(this, 302)) : (_.default.error.call(this, 300), S.default.process.call(this, 300))
                },
                P = function(e) {
                    var t = void 0;
                    if (0 < this.adPod.length && !this.adPodItemWrapper) t = e[0], this.adPodCurrentIndex++, this.adPod.shift();
                    else if (0 < this.adPod.length && this.adPodItemWrapper) {
                        this.adPodItemWrapper = !1;
                        for (var i = 0, s = e.length; i < s; i++) {
                            var n = e[i].getAttribute("sequence");
                            if ("" === n || null === n) {
                                t = e[i];
                                break
                            }
                        }
                    } else {
                        for (var a = [], o = 0, r = e.length; o < r; o++) {
                            var l = e[o].getAttribute("sequence");
                            ("" === l || null === l ? a : this.adPod).push(e[o])
                        }
                        0 === this.adPod.length && 0 < a.length ? t = a[0] : 0 < this.adPod.length && (this.runningAdPod = !0, this.adPodApiInfo = [].concat(E(this.adPod)), this.adPodWrapperTrackings = [].concat(E(this.trackingTags)), this.adPod.length > this.params.maxNumItemsInAdPod && (this.adPod.length = this.params.maxNumItemsInAdPod), this.standaloneAdsInPod = a, this.adPod.sort(function(e, t) {
                            return parseInt(e.getAttribute("sequence")) - parseInt(t.getAttribute("sequence"))
                        }), t = this.adPod[0], this.adPod.shift(), this.onAdDestroyLoadNextAdInPod = function() {
                            this.adPodItemWrapper = !1, 0 < this.adPod.length ? P.call(this, this.adPod) : (this.container.removeEventListener("addestroyed", this.onAdDestroyLoadNextAdInPod), this.adPod = [], this.standaloneAdsInPod = [], this.runningAdPod = !1, this.adPodCurrentIndex = 0, this.adPodApiInfo = [], this.adPodWrapperTrackings = [], w.default.createApiEvent.call(this, "adpodcompleted"))
                        }.bind(this), this.container.addEventListener("addestroyed", this.onAdDestroyLoadNextAdInPod))
                    }
                    if (t) {
                        var d = t.getElementsByTagName("InLine"),
                            c = t.getElementsByTagName("Wrapper");
                        if (0 === d.length && 0 === c.length) _.default.error.call(this, 101), S.default.process.call(this, 101);
                        else {
                            var u = void 0,
                                c = (0 < c.length ? (this.isWrapper = !0, this.vastAdTagURI = (u = c)[0].getElementsByTagName("VASTAdTagURI")) : u = d, u[0].getElementsByTagName("AdSystem")),
                                h = u[0].getElementsByTagName("Impression"),
                                d = u[0].getElementsByTagName("Error"),
                                d = (0 < d.length && null !== (d = y.default.getNodeValue(d[0], !0)) && this.inlineOrWrapperErrorTags.push({
                                    event: "error",
                                    url: d
                                }), u[0].getElementsByTagName("AdTitle")),
                                p = u[0].getElementsByTagName("Description"),
                                u = u[0].getElementsByTagName("Creatives");
                            if (this.isWrapper) {
                                if (0 === this.vastAdTagURI.length) return _.default.error.call(this, 101), void S.default.process.call(this, 101)
                            } else if (0 === u.length) return _.default.error.call(this, 101), void S.default.process.call(this, 101);
                            var f = void 0;
                            if (0 < u.length && (f = u[0].getElementsByTagName("Creative"), !this.isWrapper) && 0 === f.length) _.default.error.call(this, 101), S.default.process.call(this, 101);
                            else {
                                if (0 < d.length && (this.adSystem = y.default.getNodeValue(c[0], !1)), 0 < h.length)
                                    for (var m = 0, g = h.length; m < g; m++) {
                                        var v = y.default.getNodeValue(h[m], !0);
                                        null !== v && this.trackingTags.push({
                                            event: "impression",
                                            url: v
                                        })
                                    }
                                this.isWrapper || (0 < d.length && (this.adTitle = y.default.getNodeValue(d[0], !1)), 0 < p.length && (this.adDescription = y.default.getNodeValue(p[0], !1))), !this.isWrapper || f ? function(e) {
                                    for (var t = 0, i = e.length; t < i; t++) {
                                        var s = e[t],
                                            n = s.getElementsByTagName("NonLinearAds"),
                                            a = s.getElementsByTagName("Linear");
                                        if (!(0 < s.getElementsByTagName("CompanionAds").length)) {
                                            if (0 === n.length && 0 === a.length) return _.default.error.call(this, 101), void S.default.process.call(this, 101);
                                            if (0 < n.length) return 0 < (s = n[0].getElementsByTagName("TrackingEvents")).length && x.default.filterPush.call(this, s), this.isWrapper ? void A.call(this) : void k.default.parse.call(this, n);
                                            if (0 < a.length) {
                                                s = a[0].getAttribute("skipoffset");
                                                if (!this.isWrapper && "" !== this.params.skipMessage && null !== s && "" !== s && y.default.isValidOffset(s) && (this.isSkippableAd = !0, this.skipoffset = s, b.default.isIos[0]) && b.default.isIos[1] < 10) return _.default.error.call(this, 200), void S.default.process.call(this, 200);
                                                var n = a[0].getElementsByTagName("TrackingEvents"),
                                                    s = (0 < n.length && x.default.filterPush.call(this, n), a[0].getElementsByTagName("VideoClicks"));
                                                if (0 < s.length) {
                                                    var n = s[0].getElementsByTagName("ClickThrough"),
                                                        o = s[0].getElementsByTagName("ClickTracking");
                                                    if (0 < n.length && (this.clickThroughUrl = y.default.getNodeValue(n[0], !0)), 0 < o.length)
                                                        for (var r = 0, l = o.length; r < l; r++) {
                                                            var d = y.default.getNodeValue(o[r], !0);
                                                            null !== d && this.trackingTags.push({
                                                                event: "clickthrough",
                                                                url: d
                                                            })
                                                        }
                                                }
                                                return this.isWrapper ? (0 < (s = a[0].getElementsByTagName("Icons")).length && T.default.parse.call(this, s), void A.call(this)) : void C.default.parse.call(this, a)
                                            }
                                        }
                                    }
                                    this.isWrapper && A.call(this)
                                }.call(this, f) : A.call(this)
                            }
                        }
                    } else _.default.error.call(this, 200), S.default.process.call(this, 200)
                };
            r.prototype.loadAds = function(e) {
                var t;
                this.rmpVastInitialized || this.initialize(), this.getAdOnStage() ? (this.onDestroyLoadAds = function(e) {
                    this.container.removeEventListener("addestroyed", this.onDestroyLoadAds), this.loadAds(e)
                }.bind(this, e), this.container.addEventListener("addestroyed", this.onDestroyLoadAds), this.stopAds()) : (t = n.default.getCurrentTime.call(this), this.useContentPlayerForAds && (this.currentContentSrc = this.contentPlayer.src, this.currentContentCurrentTime = t, n.default.preventSeekingForCustomPlayback.call(this)), function(e) {
                    var i = this;
                    "string" == typeof e && "" !== e ? y.default.hasDOMParser() ? (w.default.createApiEvent.call(this, "adtagstartloading"), this.isWrapper = !1, this.vastAdTagURI = null, this.adTagUrl = e, y.default.ajax(this.adTagUrl, this.params.ajaxTimeout, !0, this.params.ajaxWithCredentials).then(function(e) {
                        w.default.createApiEvent.call(i, "adtagloaded");
                        var t = void 0;
                        try {
                            t = (new DOMParser).parseFromString(e, "text/xml")
                        } catch (e) {
                            return y.default.trace(e), _.default.error.call(i, 100), void S.default.process.call(i, 100)
                        }! function(e) {
                            if (0 < e.getElementsByTagName("vmap:VMAP").length) S.default.process.call(this, 200);
                            else {
                                e = e.getElementsByTagName("VAST");
                                if (0 === e.length) _.default.error.call(this, 100), S.default.process.call(this, 100);
                                else {
                                    var t, i = e[0],
                                        s = i.getElementsByTagName("Error");
                                    if (0 < s.length)
                                        for (var n = 0, a = s.length; n < a; n++) s[n].parentNode === i && null !== (t = y.default.getNodeValue(s[n], !0)) && this.vastErrorTags.push({
                                            event: "error",
                                            url: t
                                        });
                                    var e = i.getAttribute("version");
                                    /^(2|3|4)\./i.test(e) ? 0 === (e = i.getElementsByTagName("Ad")).length ? (_.default.error.call(this, 303), S.default.process.call(this, 303)) : P.call(this, e) : (_.default.error.call(this, 102), S.default.process.call(this, 102))
                                }
                            }
                        }.call(i, t)
                    }).catch(function(e) {
                        y.default.trace(e), _.default.error.call(i, 1e3), S.default.process.call(i, 1e3)
                    })) : S.default.process.call(this, 1002) : S.default.process.call(this, 1001)
                }.call(this, e))
            }, i.default = r
        }, {
            "./api/api": 255,
            "./creatives/icons": 256,
            "./creatives/linear": 257,
            "./creatives/non-linear": 258,
            "./fw/env": 260,
            "./fw/fw": 261,
            "./players/content-player": 263,
            "./tracking/ping": 266,
            "./tracking/tracking-events": 267,
            "./utils/default": 268,
            "./utils/helpers": 269,
            "./utils/vast-errors": 270
        }],
        263: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var s = a(e("../fw/fw")),
                n = a(e("../utils/helpers"));

            function a(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            i.default = {
                play: function(e) {
                    this.contentPlayer && this.contentPlayer.paused && n.default.playPromise.call(this, "content", e)
                },
                pause: function() {
                    this.contentPlayer && !this.contentPlayer.paused && this.contentPlayer.pause()
                },
                setVolume: function(e) {
                    this.contentPlayer && (this.contentPlayer.volume = e)
                },
                getVolume: function() {
                    return this.contentPlayer ? this.contentPlayer.volume : -1
                },
                getMute: function() {
                    return !!this.contentPlayer && this.contentPlayer.muted
                },
                setMute: function(e) {
                    this.contentPlayer && (e && !this.contentPlayer.muted ? this.contentPlayer.muted = !0 : !e && this.contentPlayer.muted && (this.contentPlayer.muted = !1))
                },
                getDuration: function() {
                    if (this.contentPlayer) {
                        var e = this.contentPlayer.duration;
                        if (s.default.isNumber(e)) return Math.round(1e3 * e)
                    }
                    return -1
                },
                getCurrentTime: function() {
                    if (this.contentPlayer) {
                        var e = this.contentPlayer.currentTime;
                        if (s.default.isNumber(e)) return Math.round(1e3 * e)
                    }
                    return -1
                },
                seekTo: function(e) {
                    s.default.isNumber(e) && 0 <= e && this.contentPlayer && (e = Math.round(e / 1e3 * 100) / 100, this.contentPlayer.currentTime = e)
                },
                preventSeekingForCustomPlayback: function() {
                    var e = this;
                    this.contentPlayer && (this.antiSeekLogicInterval = setInterval(function() {
                        e.adIsLinear && e.adOnStage && (1 < Math.abs(e.customPlaybackCurrentTime - e.contentPlayer.currentTime) && (e.contentPlayer.currentTime = e.customPlaybackCurrentTime), e.customPlaybackCurrentTime = e.contentPlayer.currentTime)
                    }, 200))
                }
            }
        }, {
            "../fw/fw": 261,
            "../utils/helpers": 269
        }],
        264: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var s = f(e("../fw/fw")),
                n = f(e("../fw/env")),
                a = f(e("../utils/helpers")),
                o = f(e("../players/content-player")),
                r = f(e("../players/vpaid")),
                l = f(e("../creatives/icons")),
                d = f(e("../utils/default")),
                c = f(e("../tracking/tracking-events")),
                u = f(e("../creatives/non-linear")),
                h = f(e("../creatives/linear")),
                p = f(e("../utils/vast-errors"));

            function f(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            e = {
                init: function() {
                    var e = this;
                    this.adContainer = document.createElement("div"), this.adContainer.className = "rmp-ad-container", this.contentWrapper.appendChild(this.adContainer), s.default.hide(this.adContainer), this.useContentPlayerForAds ? this.vastPlayer = this.contentPlayer : (this.vastPlayer = document.createElement("video"), n.default.isAndroid[0] && void 0 !== this.vastPlayer.disableRemotePlayback && (this.vastPlayer.disableRemotePlayback = !0), this.vastPlayer.className = "rmp-ad-vast-video-player", this.vastPlayer.controls = !1, this.contentPlayer.hasAttribute("muted") && (this.contentPlayer.muted = !0), this.contentPlayer.muted && (this.vastPlayer.muted = !0), this.vastPlayer.poster = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII=", this.vastPlayer.setAttribute("x-webkit-airplay", "allow"), "boolean" == typeof this.contentPlayer.playsInline && this.contentPlayer.playsInline ? this.vastPlayer.playsInline = !0 : n.default.isMobile && this.vastPlayer.setAttribute("webkit-playsinline", !0), this.vastPlayer.defaultPlaybackRate = 1, s.default.hide(this.vastPlayer), this.adContainer.appendChild(this.vastPlayer)), this.contentPlayer.addEventListener("ended", function() {
                        e.adOnStage || (e.contentPlayerCompleted = !0)
                    }), this.vastPlayer.preload = "auto", n.default.isMobile ? (this.useContentPlayerForAds || this.contentPlayer.load(), this.vastPlayer.load()) : this.useContentPlayerForAds && this.vastPlayer.load(), this.rmpVastInitialized = !0
                },
                append: function(e, t) {
                    if (!this.vastPlayer)
                        if (this.useContentPlayerForAds) this.vastPlayer = this.contentPlayer;
                        else {
                            var i = this.adContainer.querySelector(".rmp-ad-vast-video-player");
                            if (null === i) return void p.default.process.call(this, 1004);
                            this.vastPlayer = i
                        } if (this.adIsLinear) e && t && h.default.update.call(this, e, t);
                    else {
                        if (this.params.outstream) return void p.default.process.call(this, 201);
                        u.default.update.call(this)
                    }
                    c.default.wire.call(this), !this.useContentPlayerForAds && 0 < this.icons.length && l.default.append.call(this)
                },
                setVolume: function(e) {
                    this.vastPlayer && (this.vastPlayer.volume = e)
                },
                getVolume: function() {
                    return this.vastPlayer ? this.vastPlayer.volume : -1
                },
                setMute: function(e) {
                    this.vastPlayer && (e && !this.vastPlayer.muted ? (this.vastPlayer.muted = !0, a.default.dispatchPingEvent.call(this, "mute")) : !e && this.vastPlayer.muted && (this.vastPlayer.muted = !1, a.default.dispatchPingEvent.call(this, "unmute")))
                },
                getMute: function() {
                    return !!this.vastPlayer && this.vastPlayer.muted
                },
                play: function(e) {
                    this.vastPlayer && this.vastPlayer.paused && a.default.playPromise.call(this, "vast", e)
                },
                pause: function() {
                    this.vastPlayer && !this.vastPlayer.paused && this.vastPlayer.pause()
                },
                getDuration: function() {
                    if (this.vastPlayer) {
                        var e = this.vastPlayer.duration;
                        if (s.default.isNumber(e)) return Math.round(1e3 * e)
                    }
                    return -1
                },
                getCurrentTime: function() {
                    if (this.vastPlayer) {
                        var e = this.vastPlayer.currentTime;
                        if (s.default.isNumber(e)) return Math.round(1e3 * e)
                    }
                    return -1
                },
                resumeContent: function() {
                    (function() {
                        var e = this;
                        if (0 < this.icons.length && l.default.destroy.call(this), this.isVPAID && r.default.destroy.call(this), function() {
                                if (this.nonLinearContainer) {
                                    this.nonLinearImg.removeEventListener("load", this.onNonLinearLoadSuccess), this.nonLinearImg.removeEventListener("error", this.onNonLinearLoadError), this.nonLinearATag.removeEventListener("click", this.onNonLinearClickThrough), this.nonLinearATag.removeEventListener("touchend", this.onNonLinearClickThrough), this.nonLinearClose.removeEventListener("click", this.onClickCloseNonLinear), this.nonLinearClose.removeEventListener("touchend", this.onClickCloseNonLinear);
                                    for (var e = 0, t = this.trackingTags.length; e < t; e++) this.nonLinearContainer.removeEventListener(this.trackingTags[e].event, this.onEventPingTracking)
                                }
                                if (this.vastPlayer) {
                                    this.vastPlayer.removeEventListener("error", this.onPlaybackError), this.vastPlayer.removeEventListener("durationchange", this.onDurationChange), this.vastPlayer.removeEventListener("loadedmetadata", this.onLoadedmetadataPlay), this.vastPlayer.removeEventListener("contextmenu", this.onContextMenu), this.vastPlayer.removeEventListener("pause", this.onPause), this.vastPlayer.removeEventListener("play", this.onPlay), this.vastPlayer.removeEventListener("playing", this.onPlaying), this.vastPlayer.removeEventListener("ended", this.onEnded), this.vastPlayer.removeEventListener("volumechange", this.onVolumeChange), this.vastPlayer.removeEventListener("timeupdate", this.onTimeupdate);
                                    for (var i = 0, s = this.trackingTags.length; i < s; i++) this.vastPlayer.removeEventListener(this.trackingTags[i].event, this.onEventPingTracking);
                                    null !== this.onClickThrough && this.vastPlayer.removeEventListener("click", this.onClickThrough), null !== this.onPlayingAppendIcons && this.vastPlayer.removeEventListener("playing", this.onPlayingAppendIcons), null !== this.onTimeupdateCheckSkip && this.vastPlayer.removeEventListener("timeupdate", this.onTimeupdateCheckSkip), this.skipButton && null !== this.onClickSkip && (this.skipButton.removeEventListener("click", this.onClickSkip), this.skipButton.removeEventListener("touchend", this.onClickSkip)), this.clickUIOnMobile && null !== this.onClickThrough && this.clickUIOnMobile.removeEventListener("touchend", this.onClickThrough)
                                }
                                this.contentPlayer && this.contentPlayer.removeEventListener("error", this.onPlaybackError)
                            }.call(this), this.clickUIOnMobile && s.default.removeElement(this.clickUIOnMobile), this.isSkippableAd && s.default.removeElement(this.skipButton), s.default.hide(this.adContainer), clearInterval(this.antiSeekLogicInterval), clearTimeout(this.creativeLoadTimeoutCallback), this.useContentPlayerForAds)
                            if (this.params.outstream) try {
                                this.contentPlayer && (this.contentPlayer.pause(), this.contentPlayer.removeAttribute("src"), this.contentPlayer.load())
                            } catch (e) {
                                s.default.trace(e)
                            } else this.nonLinearContainer ? s.default.removeElement(this.nonLinearContainer) : (4e3 < this.currentContentCurrentTime && (this.needsSeekAdjust = !0, this.contentPlayerCompleted && (this.needsSeekAdjust = !1), this.seekAdjustAttached || (this.seekAdjustAttached = !0, this.contentPlayer.addEventListener("playing", function() {
                                e.needsSeekAdjust && (e.needsSeekAdjust = !1, o.default.seekTo.call(e, e.currentContentCurrentTime))
                            }))), this.contentPlayer.src = this.currentContentSrc);
                            else try {
                                this.vastPlayer && (this.vastPlayer.pause(), this.vastPlayer.removeAttribute("src"), this.vastPlayer.load(), s.default.hide(this.vastPlayer)), this.nonLinearContainer && s.default.removeElement(this.nonLinearContainer)
                            } catch (e) {
                                s.default.trace(e)
                            }
                        d.default.loadAdsVariables.call(this), a.default.createApiEvent.call(this, "addestroyed")
                    }).call(this), this.contentPlayerCompleted || this.params.outstream || o.default.play.call(this), this.contentPlayerCompleted = !1
                }
            };
            i.default = e
        }, {
            "../creatives/icons": 256,
            "../creatives/linear": 257,
            "../creatives/non-linear": 258,
            "../fw/env": 260,
            "../fw/fw": 261,
            "../players/content-player": 263,
            "../players/vpaid": 265,
            "../tracking/tracking-events": 267,
            "../utils/default": 268,
            "../utils/helpers": 269,
            "../utils/vast-errors": 270
        }],
        265: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var n = h(e("../fw/fw")),
                s = h(e("../fw/env")),
                a = h(e("../utils/helpers")),
                o = h(e("../utils/vast-errors")),
                r = h(e("../tracking/ping")),
                l = h(e("../players/vast-player")),
                d = h(e("../creatives/icons")),
                c = h(e("../tracking/tracking-events")),
                u = h(e("../players/content-player"));

            function h(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function p() {
                var e, t = this;
                if (this.vpaidAvailableInterval && clearInterval(this.vpaidAvailableInterval), this.vpaidLoadTimeout && clearTimeout(this.vpaidLoadTimeout), this.vpaidCreative = this.vpaidIframe.contentWindow.getVPAIDAd(), this.vpaidCreative && "function" == typeof this.vpaidCreative.handshakeVersion) {
                    var i, s = void 0;
                    try {
                        s = this.vpaidCreative.handshakeVersion("2.0")
                    } catch (e) {
                        return n.default.trace(e), r.default.error.call(this, 901), void o.default.process.call(this, 901)
                    }(this.vpaidVersion = parseInt(s), this.vpaidVersion < 1) ? (r.default.error.call(this, 901), o.default.process.call(this, 901)) : "function" != typeof(e = this.vpaidCreative).initAd || "function" != typeof e.startAd || "function" != typeof e.stopAd || "function" != typeof e.skipAd || "function" != typeof e.resizeAd || "function" != typeof e.pauseAd || "function" != typeof e.resumeAd || "function" != typeof e.expandAd || "function" != typeof e.collapseAd || "function" != typeof e.subscribe || "function" != typeof e.unsubscribe ? (r.default.error.call(this, 901), o.default.process.call(this, 901)) : (function() {
                        if (this.vpaidCreative) {
                            this.vpaidCallbacks = {
                                AdLoaded: function() {
                                    var e = this;
                                    this.vpaidAdLoaded = !0, this.vpaidCreative && (this.initAdTimeout && clearTimeout(this.initAdTimeout), this.vpaidCallbacks.AdLoaded && this.vpaidCreative.unsubscribe(this.vpaidCallbacks.AdLoaded, "AdLoaded"), this.startAdTimeout = setTimeout(function() {
                                        e.vpaidAdStarted || l.default.resumeContent.call(e), e.vpaidAdStarted = !1
                                    }, this.params.creativeLoadTimeout), u.default.pause.call(this), this.adOnStage = !0, this.vpaidCreative.startAd(), a.default.createApiEvent.call(this, "adloaded"))
                                }.bind(this),
                                AdStarted: function() {
                                    this.vpaidAdStarted = !0, this.vpaidCreative && (this.startAdTimeout && clearTimeout(this.startAdTimeout), this.vpaidCallbacks.AdStarted && this.vpaidCreative.unsubscribe(this.vpaidCallbacks.AdStarted, "AdStarted"), 1 === this.vpaidVersion && (this.vpaid1AdDuration = f.getAdRemainingTime.call(this)), !f.getAdIcons.call(this) && !this.useContentPlayerForAds && 0 < this.icons.length && d.default.append.call(this), "function" == typeof this.vpaidCreative.getAdLinear && (this.adIsLinear = this.vpaidCreative.getAdLinear()), a.default.dispatchPingEvent.call(this, "creativeView"))
                                }.bind(this),
                                AdStopped: m.bind(this),
                                AdSkipped: function() {
                                    this.adSkippedTimeout && clearTimeout(this.adSkippedTimeout), a.default.createApiEvent.call(this, "adskipped"), a.default.dispatchPingEvent.call(this, "skip")
                                }.bind(this),
                                AdSkippableStateChange: function() {
                                    a.default.createApiEvent.call(this, "adskippablestatechanged")
                                }.bind(this),
                                AdDurationChange: function() {
                                    var e;
                                    this.vpaidCreative && ("function" == typeof this.vpaidCreative.getAdRemainingTime && 0 <= (e = this.vpaidCreative.getAdRemainingTime()) && (this.vpaidRemainingTime = e), a.default.createApiEvent.call(this, "addurationchange"))
                                }.bind(this),
                                AdVolumeChange: function() {
                                    var e = f.getAdVolume.call(this);
                                    null !== e && (0 < this.vpaidCurrentVolume && 0 === e ? a.default.dispatchPingEvent.call(this, "mute") : 0 === this.vpaidCurrentVolume && 0 < e && a.default.dispatchPingEvent.call(this, "unmute"), this.vpaidCurrentVolume = e, a.default.createApiEvent.call(this, "advolumechanged"))
                                }.bind(this),
                                AdImpression: function() {
                                    a.default.createApiEvent.call(this, "adimpression"), a.default.dispatchPingEvent.call(this, "impression")
                                }.bind(this),
                                AdVideoStart: function() {
                                    this.vpaidPaused = !1;
                                    var e = f.getAdVolume.call(this);
                                    this.vpaidCurrentVolume = e = null === e ? 1 : e, a.default.createApiEvent.call(this, "adstarted"), a.default.dispatchPingEvent.call(this, "start")
                                }.bind(this),
                                AdVideoFirstQuartile: function() {
                                    a.default.createApiEvent.call(this, "adfirstquartile"), a.default.dispatchPingEvent.call(this, "firstQuartile")
                                }.bind(this),
                                AdVideoMidpoint: function() {
                                    a.default.createApiEvent.call(this, "admidpoint"), a.default.dispatchPingEvent.call(this, "midpoint")
                                }.bind(this),
                                AdVideoThirdQuartile: function() {
                                    a.default.createApiEvent.call(this, "adthirdquartile"), a.default.dispatchPingEvent.call(this, "thirdQuartile")
                                }.bind(this),
                                AdVideoComplete: function() {
                                    a.default.createApiEvent.call(this, "adcomplete"), a.default.dispatchPingEvent.call(this, "complete")
                                }.bind(this),
                                AdClickThru: function(e, t, i) {
                                    a.default.createApiEvent.call(this, "adclick"), a.default.dispatchPingEvent.call(this, "clickthrough"), "boolean" == typeof i && i && (i = void 0, e ? i = e : this.clickThroughUrl && (i = this.clickThroughUrl), i) && (this.clickThroughUrl = i, n.default.openWindow(this.clickThroughUrl))
                                }.bind(this),
                                AdPaused: function() {
                                    this.vpaidPaused = !0, a.default.createApiEvent.call(this, "adpaused"), a.default.dispatchPingEvent.call(this, "pause")
                                }.bind(this),
                                AdPlaying: function() {
                                    this.vpaidPaused = !1, a.default.createApiEvent.call(this, "adresumed"), a.default.dispatchPingEvent.call(this, "resume")
                                }.bind(this),
                                AdLog: function(e) {}.bind(this),
                                AdError: function(e) {
                                    r.default.error.call(this, 901), o.default.process.call(this, 901)
                                }.bind(this),
                                AdInteraction: function() {
                                    a.default.createApiEvent.call(this, "adinteraction")
                                }.bind(this),
                                AdUserAcceptInvitation: function() {
                                    a.default.createApiEvent.call(this, "aduseracceptinvitation"), a.default.dispatchPingEvent.call(this, "acceptInvitation")
                                }.bind(this),
                                AdUserMinimize: function() {
                                    a.default.createApiEvent.call(this, "adcollapse"), a.default.dispatchPingEvent.call(this, "collapse")
                                }.bind(this),
                                AdUserClose: function() {
                                    a.default.createApiEvent.call(this, "adclose"), a.default.dispatchPingEvent.call(this, "close")
                                }.bind(this),
                                AdSizeChange: function() {
                                    a.default.createApiEvent.call(this, "adsizechange")
                                }.bind(this),
                                AdLinearChange: function() {
                                    this.vpaidCreative && "function" == typeof this.vpaidCreative.getAdLinear && (this.adIsLinear = this.vpaidCreative.getAdLinear(), a.default.createApiEvent.call(this, "adlinearchange"))
                                }.bind(this),
                                AdExpandedChange: function() {
                                    a.default.createApiEvent.call(this, "adexpandedchange")
                                }.bind(this),
                                AdRemainingTimeChange: function() {
                                    var e;
                                    this.vpaidCreative || "function" != typeof this.vpaidCreative.getAdRemainingTime || 0 <= (e = this.vpaidCreative.getAdRemainingTime()) && (this.vpaidRemainingTime = e), a.default.createApiEvent.call(this, "adremainingtimechange")
                                }.bind(this)
                            };
                            for (var e = Object.keys(this.vpaidCallbacks), t = 0, i = e.length; t < i; t++) {
                                var s = e[t];
                                this.vpaidCreative.subscribe(this.vpaidCallbacks[s], s)
                            }
                        }
                    }.call(this), c.default.wire.call(this), (s = {}).AdParameters = this.adParametersData, n.default.show(this.adContainer), n.default.show(this.vastPlayer), i = {}, this.vpaidSlot = document.createElement("div"), this.vpaidSlot.className = "rmp-vpaid-container", this.adContainer.appendChild(this.vpaidSlot), i.slot = this.vpaidSlot, i.videoSlot = this.vastPlayer, i.videoSlotCanAutoPlay = !0, this.initAdTimeout = setTimeout(function() {
                        t.vpaidAdLoaded || l.default.resumeContent.call(t), t.vpaidAdLoaded = !1
                    }, 10 * this.params.creativeLoadTimeout), this.vpaidCreative.initAd(this.initialWidth, this.initialHeight, this.initialViewMode, this.desiredBitrate, s, i))
                }
            }
            var f = {
                    getAdWidth: function() {
                        return this.vpaidCreative && "function" == typeof this.vpaidCreative.getAdWidth ? this.vpaidCreative.getAdWidth() : -1
                    },
                    getAdHeight: function() {
                        return this.vpaidCreative && "function" == typeof this.vpaidCreative.getAdHeight ? this.vpaidCreative.getAdHeight() : -1
                    },
                    getAdDuration: function() {
                        if (this.vpaidCreative) {
                            if ("function" == typeof this.vpaidCreative.getAdDuration) return this.vpaidCreative.getAdDuration();
                            if (-1 < this.vpaid1AdDuration) return this.vpaid1AdDuration
                        }
                        return -1
                    },
                    getAdRemainingTime: function() {
                        return 0 <= this.vpaidRemainingTime ? this.vpaidRemainingTime : -1
                    },
                    getCreativeUrl: function() {
                        return this.vpaidCreativeUrl || ""
                    },
                    getVpaidCreative: function() {
                        return this.vpaidCreative
                    },
                    getAdVolume: function() {
                        return this.vpaidCreative && "function" == typeof this.vpaidCreative.getAdVolume ? this.vpaidCreative.getAdVolume() : null
                    },
                    getAdPaused: function() {
                        return this.vpaidPaused
                    },
                    getAdExpanded: function() {
                        return !(!this.vpaidCreative || "function" != typeof this.vpaidCreative.getAdExpanded) && this.vpaidCreative.getAdExpanded()
                    },
                    getAdSkippableState: function() {
                        return !(!this.vpaidCreative || "function" != typeof this.vpaidCreative.getAdSkippableState) && this.vpaidCreative.getAdSkippableState()
                    },
                    getAdIcons: function() {
                        return this.vpaidCreative && "function" == typeof this.vpaidCreative.getAdIcons ? this.vpaidCreative.getAdIcons() : null
                    },
                    getAdCompanions: function() {
                        return this.vpaidCreative && "function" == typeof this.vpaidCreative.getAdCompanions ? this.vpaidCreative.getAdCompanions() : ""
                    }
                },
                m = function() {
                    this.adStoppedTimeout && clearTimeout(this.adStoppedTimeout), l.default.resumeContent.call(this)
                };
            f.resizeAd = function(e, t, i) {
                this.vpaidCreative && n.default.isNumber(e) && n.default.isNumber(t) && "string" == typeof i && !(e <= 0 || t <= 0) && this.vpaidCreative.resizeAd(e, t, "fullscreen" === i ? i : "normal")
            }, f.stopAd = function() {
                var e = this;
                this.vpaidCreative && (this.adStoppedTimeout = setTimeout(function() {
                    m.call(e)
                }, this.params.creativeLoadTimeout), this.vpaidCreative.stopAd())
            }, f.pauseAd = function() {
                this.vpaidCreative && !this.vpaidPaused && this.vpaidCreative.pauseAd()
            }, f.resumeAd = function() {
                this.vpaidCreative && this.vpaidPaused && this.vpaidCreative.resumeAd()
            }, f.expandAd = function() {
                this.vpaidCreative && this.vpaidCreative.expandAd()
            }, f.collapseAd = function() {
                this.vpaidCreative && this.vpaidCreative.collapseAd()
            }, f.skipAd = function() {
                var e = this;
                this.vpaidCreative && (this.adSkippedTimeout = setTimeout(function() {
                    m.call(e)
                }, this.params.creativeLoadTimeout), this.vpaidCreative.skipAd())
            }, f.setAdVolume = function(e) {
                this.vpaidCreative && n.default.isNumber(e) && 0 <= e && e <= 1 && "function" == typeof this.vpaidCreative.setAdVolume && this.vpaidCreative.setAdVolume(e)
            };
            f.loadCreative = function(e, t) {
                if (this.initialWidth = t.width, this.initialHeight = t.height, this.initialViewMode = t.viewMode, this.desiredBitrate = t.desiredBitrate, this.vpaidCreativeUrl = e, !this.vastPlayer)
                    if (this.useContentPlayerForAds) this.vastPlayer = this.contentPlayer;
                    else {
                        t = this.adContainer.querySelector(".rmp-ad-vast-video-player");
                        if (null === t) return void o.default.process.call(this, 1004);
                        this.vastPlayer = t
                    } this.vpaidIframe = document.createElement("iframe"), this.vpaidIframe.id = "vpaid-frame", this.vpaidIframe.style.visibility = "hidden", this.vpaidIframe.style.width = "0px", this.vpaidIframe.style.height = "0px", this.vpaidIframe.style.border = "none";
                e = "about:self";
                (s.default.isFirefox || this.useContentPlayerForAds) && (e = ""), this.vpaidIframe.onload = function() {
                    var e, t, i = this;
                    this.vpaidIframe.onload = this.vpaidIframe.onerror = n.default.nullFn, this.vpaidIframe.contentWindow && this.vpaidIframe.contentWindow.document && this.vpaidIframe.contentWindow.document.body ? (t = (e = this.vpaidIframe.contentWindow.document).body, this.vpaidScript = e.createElement("script"), this.vpaidLoadTimeout = setTimeout(function() {
                        i.vpaidScript.removeEventListener("load", i.onJSVPAIDLoaded), i.vpaidScript.removeEventListener("error", i.onJSVPAIDError), l.default.resumeContent.call(i)
                    }, this.params.creativeLoadTimeout), this.onJSVPAIDLoaded = function() {
                        var e = this,
                            t = (this.vpaidScript.removeEventListener("load", this.onJSVPAIDLoaded), this.vpaidIframe.contentWindow);
                        "function" == typeof t.getVPAIDAd ? p.call(this) : this.vpaidAvailableInterval = setInterval(function() {
                            "function" == typeof t.getVPAIDAd && p.call(e)
                        }, 100)
                    }.bind(this), this.onJSVPAIDError = function() {
                        this.vpaidScript.removeEventListener("error", this.onJSVPAIDError), r.default.error.call(this, 901), o.default.process.call(this, 901)
                    }.bind(this), this.vpaidScript.addEventListener("load", this.onJSVPAIDLoaded), this.vpaidScript.addEventListener("error", this.onJSVPAIDError), t.appendChild(this.vpaidScript), this.vpaidScript.src = this.vpaidCreativeUrl) : (r.default.error.call(this, 901), o.default.process.call(this, 901))
                }.bind(this), this.vpaidIframe.onerror = function() {
                    this.vpaidIframe.onload = this.vpaidIframe.onerror = n.default.nullFn, r.default.error.call(this, 901), o.default.process.call(this, 901)
                }.bind(this), this.vpaidIframe.src = e, this.adContainer.appendChild(this.vpaidIframe)
            }, f.destroy = function() {
                this.vpaidAvailableInterval && clearInterval(this.vpaidAvailableInterval), this.vpaidLoadTimeout && clearTimeout(this.vpaidLoadTimeout), this.initAdTimeout && clearTimeout(this.initAdTimeout), this.startAdTimeout && clearTimeout(this.startAdTimeout),
                    function() {
                        if (this.vpaidCreative)
                            for (var e = Object.keys(this.vpaidCallbacks), t = 0, i = e.length; t < i; t++) {
                                var s = e[t];
                                this.vpaidCreative.unsubscribe(this.vpaidCallbacks[s], s)
                            }
                    }.call(this), this.vpaidScript && (this.vpaidScript.removeEventListener("load", this.onJSVPAIDLoaded), this.vpaidScript.removeEventListener("error", this.onJSVPAIDError)), this.vpaidSlot && n.default.removeElement(this.vpaidSlot), this.vpaidIframe && n.default.removeElement(this.vpaidIframe)
            }, i.default = f
        }, {
            "../creatives/icons": 256,
            "../fw/env": 260,
            "../fw/fw": 261,
            "../players/content-player": 263,
            "../players/vast-player": 264,
            "../tracking/ping": 266,
            "../tracking/tracking-events": 267,
            "../utils/helpers": 269,
            "../utils/vast-errors": 270
        }],
        266: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var n = s(e("../fw/fw")),
                a = s(e("../players/content-player"));

            function s(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function o(e) {
                if (Array.isArray(e)) {
                    for (var t = 0, i = Array(e.length); t < e.length; t++) i[t] = e[t];
                    return i
                }
                return Array.from(e)
            }

            function r(e, t, i) {
                (s = /\[CACHEBUSTING\]/gi).test(e) && (e = e.replace(s, n.default.generateCacheBusting()));
                (s = /\[ERRORCODE\]/gi).test(e) && n.default.isNumber(t) && 0 < t && t < 1e3 && (e = e.replace(s, t));
                var s = /\[CONTENTPLAYHEAD\]/gi,
                    t = a.default.getCurrentTime.call(this);
                return s.test(e) && -1 < t && (t = n.default.vastReadableTime(t), e = e.replace(s, n.default.RFC3986EncodeURIComponent(t))), e = (s = /\[ASSETURI\]/gi).test(e) && "string" == typeof i && "" !== i ? e.replace(s, n.default.RFC3986EncodeURIComponent(i)) : e
            }

            function l(e) {
                var t = new Image;
                t.addEventListener("load", function() {
                    t = null
                }), t.addEventListener("error", function() {
                    t = null
                }), t.src = e
            }
            e = {
                events: ["impression", "creativeView", "start", "firstQuartile", "midpoint", "thirdQuartile", "complete", "mute", "unmute", "pause", "resume", "fullscreen", "exitFullscreen", "skip", "progress", "clickthrough", "close", "collapse", "acceptInvitation"]
            };
            e.tracking = function(e, t) {
                e = r.call(this, e, null, t);
                l(e)
            }, e.error = function(e) {
                var t = this.inlineOrWrapperErrorTags;
                if (0 < (t = 303 === e && 0 < this.vastErrorTags.length ? [].concat(o(t), o(this.vastErrorTags)) : t).length)
                    for (var i = 0, s = t.length; i < s; i++) {
                        var n = r.call(this, t[i].url, e, null);
                        l(n)
                    }
            }, i.default = e
        }, {
            "../fw/fw": 261,
            "../players/content-player": 263
        }],
        267: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var r = a(e("../fw/fw")),
                l = a(e("./ping")),
                s = a(e("../utils/helpers")),
                n = a(e("../players/vast-player"));

            function a(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            e = {};
            e.wire = function() {
                this.vastPlayer && this.adIsLinear && !this.isVPAID && (this.onPause = function() {
                    if (!this.vastPlayerPaused) {
                        this.vastPlayerPaused = !0, s.default.createApiEvent.call(this, "adpaused");
                        for (var e = 0, t = this.trackingTags.length; e < t; e++)
                            if ("pause" === this.trackingTags[e].event) return;
                        s.default.dispatchPingEvent.call(this, "pause")
                    }
                }.bind(this), this.vastPlayer.addEventListener("pause", this.onPause), this.onPlay = function() {
                    this.vastPlayerPaused && (this.vastPlayerPaused = !1, s.default.createApiEvent.call(this, "adresumed"), s.default.dispatchPingEvent.call(this, "resume"))
                }.bind(this), this.vastPlayer.addEventListener("play", this.onPlay), this.onPlaying = function() {
                    this.vastPlayer.removeEventListener("playing", this.onPlaying), s.default.createApiEvent.call(this, "adimpression"), s.default.createApiEvent.call(this, "adstarted"), s.default.dispatchPingEvent.call(this, ["impression", "creativeView", "start"])
                }.bind(this), this.vastPlayer.addEventListener("playing", this.onPlaying), this.onEnded = function() {
                    this.vastPlayer.removeEventListener("ended", this.onEnded), s.default.createApiEvent.call(this, "adcomplete"), s.default.dispatchPingEvent.call(this, "complete"), n.default.resumeContent.call(this)
                }.bind(this), this.vastPlayer.addEventListener("ended", this.onEnded), this.onVolumeChange = function() {
                    this.vastPlayer.muted || 0 === this.vastPlayer.volume ? (s.default.createApiEvent.call(this, "advolumemuted"), s.default.dispatchPingEvent.call(this, "mute"), this.vastPlayerMuted = !0) : this.vastPlayerMuted && (s.default.dispatchPingEvent.call(this, "unmute"), this.vastPlayerMuted = !1), s.default.createApiEvent.call(this, "advolumechanged")
                }.bind(this), this.vastPlayer.addEventListener("volumechange", this.onVolumeChange), this.onTimeupdate = function() {
                    var t = this;
                    this.vastPlayerCurrentTime = n.default.getCurrentTime.call(this), 0 < this.vastPlayerCurrentTime && (0 < this.vastPlayerDuration && this.vastPlayerDuration > this.vastPlayerCurrentTime && (this.vastPlayerCurrentTime >= .25 * this.vastPlayerDuration && !this.firstQuartileEventFired ? (this.firstQuartileEventFired = !0, s.default.createApiEvent.call(this, "adfirstquartile"), s.default.dispatchPingEvent.call(this, "firstQuartile")) : this.vastPlayerCurrentTime >= .5 * this.vastPlayerDuration && !this.midpointEventFired ? (this.midpointEventFired = !0, s.default.createApiEvent.call(this, "admidpoint"), s.default.dispatchPingEvent.call(this, "midpoint")) : this.vastPlayerCurrentTime >= .75 * this.vastPlayerDuration && !this.thirdQuartileEventFired && (this.thirdQuartileEventFired = !0, s.default.createApiEvent.call(this, "adthirdquartile"), s.default.dispatchPingEvent.call(this, "thirdQuartile"))), this.isSkippableAd) && (null === this.progressEventOffsetsSeconds && (this.progressEventOffsetsSeconds = [], this.progressEventOffsets.forEach(function(e) {
                        t.progressEventOffsetsSeconds.push({
                            offsetSeconds: r.default.convertOffsetToSeconds(e, t.vastPlayerDuration),
                            offsetRaw: e
                        })
                    }), this.progressEventOffsetsSeconds.sort(function(e, t) {
                        return e.offsetSeconds - t.offsetSeconds
                    })), Array.isArray(this.progressEventOffsetsSeconds)) && 0 < this.progressEventOffsetsSeconds.length && this.vastPlayerCurrentTime >= 1e3 * this.progressEventOffsetsSeconds[0].offsetSeconds && (s.default.dispatchPingEvent.call(this, "progress-" + this.progressEventOffsetsSeconds[0].offsetRaw), this.progressEventOffsetsSeconds.shift())
                }.bind(this), this.vastPlayer.addEventListener("timeupdate", this.onTimeupdate)), this.onEventPingTracking = function(t) {
                    var e;
                    t && t.type && 0 < (e = this.trackingTags.filter(function(e) {
                        return t.type === e.event
                    })).length && function(e) {
                        var t = this;
                        e.forEach(function(e) {
                            l.default.tracking.call(t, e.url, t.getAdMediaUrl())
                        })
                    }.call(this, e)
                }.bind(this);
                for (var e = 0, t = this.trackingTags.length; e < t; e++)(this.adIsLinear || this.isVPAID ? this.vastPlayer : this.nonLinearContainer).addEventListener(this.trackingTags[e].event, this.onEventPingTracking)
            }, e.filterPush = function(e) {
                var t = e[0].getElementsByTagName("Tracking");
                0 < this.adPodWrapperTrackings.length && (this.trackingTags = this.adPodWrapperTrackings);
                for (var i = 0, s = t.length; i < s; i++) {
                    var n = t[i].getAttribute("event"),
                        a = r.default.getNodeValue(t[i], !0);
                    if (null !== n && "" !== n && -1 < l.default.events.indexOf(n) && null !== a) {
                        if (this.isSkippableAd)
                            if ("progress" === n) {
                                var o = t[i].getAttribute("offset");
                                if (null === o || "" === o || !r.default.isValidOffset(o)) continue;
                                this.progressEventOffsets.push(o), n = n + "-" + o
                            } else "skip" === n && (this.hasSkipEvent = !0);
                        this.trackingTags.push({
                            event: n,
                            url: a
                        })
                    }
                }
            }, i.default = e
        }, {
            "../fw/fw": 261,
            "../players/vast-player": 264,
            "../utils/helpers": 269,
            "./ping": 266
        }],
        268: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var s = o(e("../fw/fw")),
                n = o(e("../fw/env")),
                a = o(e("./helpers"));

            function o(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            i.default = {
                instanceVariables: function() {
                    this.adContainer = null, this.rmpVastInitialized = !1, this.useContentPlayerForAds = !1, this.contentPlayerCompleted = !1, this.currentContentSrc = "", this.currentContentCurrentTime = -1, this.needsSeekAdjust = !1, this.seekAdjustAttached = !1, this.onDestroyLoadAds = null, this.firstVastPlayerPlayRequest = !0, this.firstContentPlayerPlayRequest = !0, this.params = {}, this.adPod = [], this.standaloneAdsInPod = [], this.onAdDestroyLoadNextAdInPod = s.default.nullFn, this.runningAdPod = !1, this.adPodItemWrapper = !1, this.adPodCurrentIndex = 0, this.adPodApiInfo = [], this.adPodWrapperTrackings = [], (n.default.isIos[0] || n.default.isMacOSX && n.default.isSafari[0]) && (this.useContentPlayerForAds = !0)
                },
                loadAdsVariables: function() {
                    this.onLoadedmetadataPlay = null, this.onPlaybackError = null, this.onPause = null, this.onPlay = null, this.onPlaying = null, this.onEnded = null, this.onVolumeChange = null, this.onTimeupdate = null, this.onEventPingTracking = null, this.onClickThrough = null, this.onPlayingAppendIcons = null, this.onTimeupdateCheckSkip = null, this.onClickSkip = null, this.onNonLinearLoadSuccess = null, this.onNonLinearLoadError = null, this.onNonLinearClickThrough = null, this.onContextMenu = null, this.adTagUrl = "", this.vastPlayer = null, this.vpaidSlot = null, this.trackingTags = [], this.vastErrorTags = [], this.inlineOrWrapperErrorTags = [], this.adMediaUrl = "", this.adMediaHeight = null, this.adMediaWidth = null, this.vastPlayerMuted = !1, this.vastPlayerDuration = -1, this.vastPlayerCurrentTime = -1, this.firstQuartileEventFired = !1, this.midpointEventFired = !1, this.thirdQuartileEventFired = !1, this.vastPlayerPaused = !1, this.vastErrorCode = -1, this.adErrorType = "", this.vastErrorMessage = "", this.adSystem = "", this.adIsLinear = !1, this.adContentType = "", this.adTitle = "", this.adDescription = "", this.adOnStage = !1, this.clickThroughUrl = "", this.isWrapper = !1, this.vastAdTagURI = null, this.redirectsFollowed = 0, this.icons = [], this.clickUIOnMobile = null, this.customPlaybackCurrentTime = 0, this.antiSeekLogicInterval = null, this.creativeLoadTimeoutCallback = null, this.isSkippableAd = !1, this.hasSkipEvent = !1, this.skipoffset = "", this.progressEventOffsets = [], this.progressEventOffsetsSeconds = null, this.skipButton = null, this.skipWaiting = null, this.skipMessage = null, this.skipIcon = null, this.skippableAdCanBeSkipped = !1, this.nonLinearContainer = null, this.nonLinearATag = null, this.nonLinearImg = null, this.onClickCloseNonLinear = null, this.nonLinearCreativeHeight = 0, this.nonLinearCreativeWidth = 0, this.nonLinearContentType = "", this.nonLinearMinSuggestedDuration = 0, this.isVPAID = !1, this.vpaidCreative = null, this.vpaidScript = null, this.vpaidIframe = null, this.vpaidLoadTimeout = null, this.initAdTimeout = null, this.startAdTimeout = null, this.vpaidAvailableInterval = null, this.adStoppedTimeout = null, this.adSkippedTimeout = null, this.adParametersData = "", this.vpaidCurrentVolume = 1, this.vpaidPaused = !0, this.vpaidCreativeUrl = "", this.vpaidRemainingTime = -1, this.vpaidVersion = -1, this.vpaid1AdDuration = -1, this.initialWidth = 640, this.initialHeight = 360, this.initialViewMode = "normal", this.desiredBitrate = 500, this.vpaidAdLoaded = !1, this.vpaidAdStarted = !1, this.vpaidCallbacks = {}, this.onJSVPAIDLoaded = s.default.nullFn, this.onJSVPAIDError = s.default.nullFn
                },
                fullscreen: function() {
                    var e, t = !1;
                    n.default.hasNativeFullscreenSupport && (e = function(e) {
                        e && e.type && ("fullscreenchange" === e.type ? t ? (t = !1, this.adOnStage && this.adIsLinear && a.default.dispatchPingEvent.call(this, "exitFullscreen")) : (t = !0, this.adOnStage && this.adIsLinear && a.default.dispatchPingEvent.call(this, "fullscreen")) : "webkitbeginfullscreen" === e.type ? this.adOnStage && this.adIsLinear && a.default.dispatchPingEvent.call(this, "fullscreen") : "webkitendfullscreen" === e.type && this.adOnStage && this.adIsLinear && a.default.dispatchPingEvent.call(this, "exitFullscreen"))
                    }.bind(this), n.default.isIos[0] ? (this.contentPlayer.addEventListener("webkitbeginfullscreen", e), this.contentPlayer.addEventListener("webkitendfullscreen", e)) : document.addEventListener("fullscreenchange", e))
                }
            }
        }, {
            "../fw/env": 260,
            "../fw/fw": 261,
            "./helpers": 269
        }],
        269: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var a = s(e("../fw/fw")),
                o = s(e("./vast-errors")),
                r = s(e("../tracking/ping"));

            function s(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            var l = {
                filterParams: function(e) {
                    if (this.params = {
                            ajaxTimeout: 5e3,
                            creativeLoadTimeout: 8e3,
                            ajaxWithCredentials: !1,
                            maxNumRedirects: 4,
                            maxNumItemsInAdPod: 10,
                            pauseOnClick: !0,
                            skipMessage: "Skip ad",
                            skipWaitingMessage: "Skip ad in",
                            textForClickUIOnMobile: "Learn more",
                            enableVpaid: !0,
                            outstream: !1,
                            vpaidSettings: {
                                width: 640,
                                height: 360,
                                viewMode: "normal",
                                desiredBitrate: 500
                            }
                        }, a.default.isObject(e)) {
                        for (var t = Object.keys(e), i = 0, s = t.length; i < s; i++) {
                            var n = t[i];
                            typeof e[n] == typeof this.params[n] && (a.default.isNumber(e[n]) && 0 < e[n] || "number" != typeof e[n]) && ("vpaidSettings" === n ? (a.default.isNumber(e.vpaidSettings.width) && 0 < e.vpaidSettings.width && (this.params.vpaidSettings.width = e.vpaidSettings.width), a.default.isNumber(e.vpaidSettings.height) && 0 < e.vpaidSettings.height && (this.params.vpaidSettings.height = e.vpaidSettings.height), "string" == typeof e.vpaidSettings.viewMode && "fullscreen" === e.vpaidSettings.viewMode && (this.params.vpaidSettings.viewMode = e.vpaidSettings.viewMode), a.default.isNumber(e.vpaidSettings.desiredBitrate) && 0 < e.vpaidSettings.desiredBitrate && (this.params.vpaidSettings.desiredBitrate = e.vpaidSettings.desiredBitrate)) : this.params[n] = e[n])
                        }
                        30 < this.params.maxNumRedirects && (this.params.maxNumRedirects = 30)
                    }
                },
                createApiEvent: function(e) {
                    "string" == typeof e && "" !== e && a.default.createStdEvent(e, this.container)
                },
                dispatchPingEvent: function(e) {
                    var t;
                    e && (t = void 0, this.adIsLinear && this.vastPlayer ? t = this.vastPlayer : !this.adIsLinear && this.nonLinearContainer && (t = this.nonLinearContainer), t) && (Array.isArray(e) ? e.forEach(function(e) {
                        a.default.createStdEvent(e, t)
                    }) : a.default.createStdEvent(e, t))
                },
                playPromise: function(t, i) {
                    var e, s = this,
                        n = void 0;
                    switch (t) {
                        case "content":
                            n = this.contentPlayer;
                            break;
                        case "vast":
                            n = this.vastPlayer
                    }
                    n && void 0 !== (e = n.play()) && e.then(function() {
                        i && l.createApiEvent.call(s, "adinitialplayrequestsucceeded")
                    }).catch(function(e) {
                        i && "vast" === t && s.adIsLinear ? (r.default.error.call(s, 400), o.default.process.call(s, 400), l.createApiEvent.call(s, "adinitialplayrequestfailed")) : i && "content" === t && !s.adIsLinear && l.createApiEvent.call(s, "adinitialplayrequestfailed")
                    })
                },
                accessibleButton: function(i, e) {
                    i.tabIndex = 0, i.setAttribute("role", "button"), i.addEventListener("keyup", function(e) {
                        var t = e.which;
                        13 !== t && 32 !== t || (e.stopPropagation(), e.preventDefault(), a.default.createStdEvent("click", i))
                    }), e && i.setAttribute("aria-label", e)
                }
            };
            i.default = l
        }, {
            "../fw/fw": 261,
            "../tracking/ping": 266,
            "./vast-errors": 270
        }],
        270: [function(e, t, i) {
            "use strict";
            Object.defineProperty(i, "__esModule", {
                value: !0
            }), a(e("../fw/fw"));
            var s = a(e("../utils/helpers")),
                n = a(e("../players/vast-player"));

            function a(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            var e = {},
                o = [100, 101, 102, 300, 301, 302, 303, 900, 1e3, 1001],
                r = [200, 201, 202, 203, 400, 401, 402, 403, 405, 500, 501, 502, 503, 600, 601, 602, 603, 604, 901, 1002, 1003, 1004],
                l = [{
                    code: 100,
                    description: "XML parsing error."
                }, {
                    code: 101,
                    description: "VAST schema validation error."
                }, {
                    code: 102,
                    description: "VAST version of response not supported."
                }, {
                    code: 200,
                    description: "Trafficking error. Video player received an Ad type that it was not expecting and/or cannot display."
                }, {
                    code: 201,
                    description: "Video player expecting different linearity."
                }, {
                    code: 202,
                    description: "Video player expecting different duration."
                }, {
                    code: 203,
                    description: "Video player expecting different size."
                }, {
                    code: 300,
                    description: "General Wrapper error."
                }, {
                    code: 301,
                    description: "Timeout of VAST URI provided in Wrapper element, or of VAST URI provided in a subsequent Wrapper element. (URI was either unavailable or reached a timeout as defined by the video player.)"
                }, {
                    code: 302,
                    description: "Wrapper limit reached, as defined by the video player. Too many Wrapper responses have been received with no InLine response."
                }, {
                    code: 303,
                    description: "No Ads VAST response after one or more Wrappers."
                }, {
                    code: 400,
                    description: "General Linear error. Video player is unable to display the Linear Ad."
                }, {
                    code: 401,
                    description: "File not found. Unable to find Linear/MediaFile from URI."
                }, {
                    code: 402,
                    description: "Timeout of MediaFile URI."
                }, {
                    code: 403,
                    description: "Couldn't find MediaFile that is supported by this video player, based on the attributes of the MediaFile element."
                }, {
                    code: 405,
                    description: "Problem displaying MediaFile. Video player found a MediaFile with supported type but couldn't display it. MediaFile may include: unsupported codecs, different MIME type than MediaFile@type, unsupported delivery method, etc."
                }, {
                    code: 500,
                    description: "General NonLinearAds error."
                }, {
                    code: 501,
                    description: "Unable to display NonLinear Ad because creative dimensions do not align with creative display area (i.e. creative dimension too large)."
                }, {
                    code: 502,
                    description: "Unable to fetch NonLinearAds/NonLinear resource."
                }, {
                    code: 503,
                    description: "Couldn't find NonLinear resource with supported type."
                }, {
                    code: 600,
                    description: "General CompanionAds error."
                }, {
                    code: 601,
                    description: "Unable to display Companion because creative dimensions do not fit within Companion display area (i.e., no available space)."
                }, {
                    code: 602,
                    description: "Unable to display Required Companion."
                }, {
                    code: 603,
                    description: "Unable to fetch CompanionAds/Companion resource."
                }, {
                    code: 604,
                    description: "Couldn't find Companion resource with supported type."
                }, {
                    code: 900,
                    description: "Undefined Error."
                }, {
                    code: 901,
                    description: "General VPAID error."
                }, {
                    code: 1e3,
                    description: "Error processing AJAX call to retrieve adTag"
                }, {
                    code: 1001,
                    description: "Invalid input for loadAds method"
                }, {
                    code: 1002,
                    description: "Required DOMParser API is not available"
                }, {
                    code: 1003,
                    description: "Could not get source for content player"
                }, {
                    code: 1004,
                    description: "Could not find vast player in DOM"
                }];
            e.process = function(e) {
                (function(t) {
                    var e = l.filter(function(e) {
                        return e.code === t
                    });
                    0 < e.length ? (this.vastErrorCode = e[0].code, this.vastErrorMessage = e[0].description) : (this.vastErrorCode = -1, this.vastErrorMessage = "Error getting VAST error"), -1 < this.vastErrorCode && (-1 < o.indexOf(this.vastErrorCode) ? this.adErrorType = "adLoadError" : -1 < r.indexOf(this.vastErrorCode) && (this.adErrorType = "adPlayError"))
                }).call(this, e), s.default.createApiEvent.call(this, "aderror"), n.default.resumeContent.call(this)
            }, i.default = e
        }, {
            "../fw/fw": 261,
            "../players/vast-player": 264,
            "../utils/helpers": 269
        }]
    }, {}, [54]),
    function(s) {
        var e;
        void 0 !== s.fuckAdBlock || void 0 !== s.FuckAdBlock ? ("object" != typeof s.rmpGlobals && (s.rmpGlobals = {}), s.rmpGlobals.adBlockerDetected = !0) : ((e = function(e) {
            this._options = {
                checkOnLoad: !1,
                resetOnEnd: !1,
                loopCheckTime: 50,
                loopMaxNumber: 5,
                baitClass: "pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",
                baitStyle: "width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;",
                debug: !1
            }, this._var = {
                version: "3.2.1",
                bait: null,
                checking: !1,
                loop: null,
                loopNumber: 0,
                event: {
                    detected: [],
                    notDetected: []
                }
            }, void 0 !== e && this.setOption(e);

            function t() {
                setTimeout(function() {
                    !0 === i._options.checkOnLoad && (!0 === i._options.debug && i._log("onload->eventCallback", "A check loading is launched"), null === i._var.bait && i._creatBait(), setTimeout(function() {
                        i.check()
                    }, 1))
                }, 1)
            }
            var i = this;
            void 0 !== s.addEventListener ? s.addEventListener("load", t, !1) : s.attachEvent("onload", t)
        }).prototype._options = null, e.prototype._var = null, e.prototype._bait = null, e.prototype._log = function(e, t) {
            console.log("[adblockDetector][" + e + "] " + t)
        }, e.prototype.setOption = function(e, t) {
            var i, s;
            for (s in void 0 !== t && (i = e, (e = {})[i] = t), e) this._options[s] = e[s], !0 === this._options.debug && this._log("setOption", 'The option "' + s + '" was assigned to "' + e[s] + '"');
            return this
        }, e.prototype._creatBait = function() {
            var e = document.createElement("div");
            e.setAttribute("class", this._options.baitClass), e.setAttribute("style", this._options.baitStyle), this._var.bait = s.document.body.appendChild(e), this._var.bait.offsetParent, this._var.bait.offsetHeight, this._var.bait.offsetLeft, this._var.bait.offsetTop, this._var.bait.offsetWidth, this._var.bait.clientHeight, this._var.bait.clientWidth, !0 === this._options.debug && this._log("_creatBait", "Bait has been created")
        }, e.prototype._destroyBait = function() {
            s.document.body.removeChild(this._var.bait), !(this._var.bait = null) === this._options.debug && this._log("_destroyBait", "Bait has been removed")
        }, e.prototype.check = function(e) {
            if (void 0 === e && (e = !0), !0 === this._options.debug && this._log("check", "An audit was requested " + (!0 === e ? "with a" : "without") + " loop"), !0 === this._var.checking) return !0 === this._options.debug && this._log("check", "A check was canceled because there is already an ongoing"), !1;
            this._var.checking = !0, null === this._var.bait && this._creatBait();
            var t = this;
            return !(this._var.loopNumber = 0) === e && (this._var.loop = setInterval(function() {
                t._checkBait(e)
            }, this._options.loopCheckTime)), setTimeout(function() {
                t._checkBait(e)
            }, 1), !0 === this._options.debug && this._log("check", "A check is in progress ..."), !0
        }, e.prototype._checkBait = function(e) {
            var t, i = !1;
            null === this._var.bait && this._creatBait(), null === s.document.body.getAttribute("abp") && null !== this._var.bait.offsetParent && 0 !== this._var.bait.offsetHeight && 0 !== this._var.bait.offsetLeft && 0 !== this._var.bait.offsetTop && 0 !== this._var.bait.offsetWidth && 0 !== this._var.bait.clientHeight && 0 !== this._var.bait.clientWidth || (i = !0), void 0 === s.getComputedStyle || !(t = s.getComputedStyle(this._var.bait, null)) || "none" !== t.getPropertyValue("display") && "hidden" !== t.getPropertyValue("visibility") || (i = !0), !0 === this._options.debug && this._log("_checkBait", "A check (" + (this._var.loopNumber + 1) + "/" + this._options.loopMaxNumber + " ~" + (1 + this._var.loopNumber * this._options.loopCheckTime) + "ms) was conducted and detection is " + (!0 === i ? "positive" : "negative")), !0 === e && (this._var.loopNumber++, this._var.loopNumber >= this._options.loopMaxNumber) && this._stopLoop(), !0 === i ? (this._stopLoop(), this._destroyBait(), this.emitEvent(!0), !0 === e && (this._var.checking = !1)) : null !== this._var.loop && !1 !== e || (this._destroyBait(), this.emitEvent(!1), !0 === e && (this._var.checking = !1))
        }, e.prototype._stopLoop = function() {
            clearInterval(this._var.loop), this._var.loop = null, !(this._var.loopNumber = 0) === this._options.debug && this._log("_stopLoop", "A loop has been stopped")
        }, e.prototype.emitEvent = function(e) {
            !0 === this._options.debug && this._log("emitEvent", "An event with a " + (!0 === e ? "positive" : "negative") + " detection was called");
            var t, i = this._var.event[!0 === e ? "detected" : "notDetected"];
            for (t in i) !0 === this._options.debug && this._log("emitEvent", "Call function " + (parseInt(t) + 1) + "/" + i.length), i.hasOwnProperty(t) && i[t]();
            return !0 === this._options.resetOnEnd && this.clearEvent(), this
        }, e.prototype.clearEvent = function() {
            this._var.event.detected = [], this._var.event.notDetected = [], !0 === this._options.debug && this._log("clearEvent", "The event list has been cleared")
        }, e.prototype.on = function(e, t) {
            return this._var.event[!0 === e ? "detected" : "notDetected"].push(t), !0 === this._options.debug && this._log("on", 'A type of event "' + (!0 === e ? "detected" : "notDetected") + '" was added'), this
        }, e.prototype.onDetected = function(e) {
            return this.on(!0, e)
        }, e.prototype.onNotDetected = function(e) {
            return this.on(!1, e)
        }, s.FuckAdBlock = e, void 0 === s.fuckAdBlock && (s.fuckAdBlock = new e({
            checkOnLoad: !0,
            resetOnEnd: !0
        })))
    }(window), ! function(s) {
        "use strict";
        var e = document.documentElement,
            t = function() {},
            i = (e.addEventListener ? t = function(e, t, i) {
                e.addEventListener(t, i, !1)
            } : e.attachEvent && (t = function(t, e, i) {
                t[e + i] = i.handleEvent ? function() {
                    var e = s.event;
                    e.target = e.target || e.srcElement, i.handleEvent.call(i, e)
                } : function() {
                    var e = s.event;
                    e.target = e.target || e.srcElement, i.call(t, e)
                }, t.attachEvent("on" + e, t[e + i])
            }), function() {}),
            e = (e.removeEventListener ? i = function(e, t, i) {
                e.removeEventListener(t, i, !1)
            } : e.detachEvent && (i = function(t, i, s) {
                t.detachEvent("on" + i, t[i + s]);
                try {
                    delete t[i + s]
                } catch (e) {
                    t[i + s] = void 0
                }
            }), {
                bind: t,
                unbind: i
            });
        "function" == typeof define && define.amd ? define(e) : s.eventie = e
    }(this), ! function(t) {
        "use strict";
        var s = t.document,
            n = [];

        function a(e) {
            "function" == typeof e && (a.isReady ? e() : n.push(e))
        }

        function i(e) {
            e = "readystatechange" === e.type && "complete" !== s.readyState;
            if (!a.isReady && !e) {
                a.isReady = !0;
                for (var t = 0, i = n.length; t < i; t++)(0, n[t])()
            }
        }

        function e(e) {
            return e.bind(s, "DOMContentLoaded", i), e.bind(s, "readystatechange", i), e.bind(t, "load", i), a
        }
        a.isReady = !1, "function" == typeof define && define.amd ? (a.isReady = "function" == typeof requirejs, define(["eventie/eventie"], e)) : t.docReady = e(t.eventie)
    }(this), ! function(e) {
        "use strict";
        var n = "Webkit Moz ms Ms O".split(" "),
            a = document.documentElement.style;

        function t(e) {
            if (e) {
                if ("string" == typeof a[e]) return e;
                var t;
                e = e.charAt(0).toUpperCase() + e.slice(1);
                for (var i = 0, s = n.length; i < s; i++)
                    if (t = n[i] + e, "string" == typeof a[t]) return t
            }
        }
        "function" == typeof define && define.amd ? define(function() {
            return t
        }) : e.getStyleProperty = t
    }(window), ! function() {
        "use strict";

        function e() {}
        var t = e.prototype;

        function a(e, t) {
            for (var i = e.length; i--;)
                if (e[i].listener === t) return i;
            return -1
        }

        function i(e) {
            return function() {
                return this[e].apply(this, arguments)
            }
        }
        t.getListeners = function(e) {
            var t, i, s = this._getEvents();
            if ("object" == typeof e)
                for (i in t = {}, s) s.hasOwnProperty(i) && e.test(i) && (t[i] = s[i]);
            else t = s[e] || (s[e] = []);
            return t
        }, t.flattenListeners = function(e) {
            for (var t = [], i = 0; i < e.length; i += 1) t.push(e[i].listener);
            return t
        }, t.getListenersAsObject = function(e) {
            var t, i = this.getListeners(e);
            return i instanceof Array && ((t = {})[e] = i), t || i
        }, t.addListener = function(e, t) {
            var i, s = this.getListenersAsObject(e),
                n = "object" == typeof t;
            for (i in s) s.hasOwnProperty(i) && -1 === a(s[i], t) && s[i].push(n ? t : {
                listener: t,
                once: !1
            });
            return this
        }, t.on = i("addListener"), t.addOnceListener = function(e, t) {
            return this.addListener(e, {
                listener: t,
                once: !0
            })
        }, t.once = i("addOnceListener"), t.defineEvent = function(e) {
            return this.getListeners(e), this
        }, t.defineEvents = function(e) {
            for (var t = 0; t < e.length; t += 1) this.defineEvent(e[t]);
            return this
        }, t.removeListener = function(e, t) {
            var i, s, n = this.getListenersAsObject(e);
            for (s in n) n.hasOwnProperty(s) && -1 !== (i = a(n[s], t)) && n[s].splice(i, 1);
            return this
        }, t.off = i("removeListener"), t.addListeners = function(e, t) {
            return this.manipulateListeners(!1, e, t)
        }, t.removeListeners = function(e, t) {
            return this.manipulateListeners(!0, e, t)
        }, t.manipulateListeners = function(e, t, i) {
            var s, n, a = e ? this.removeListener : this.addListener,
                o = e ? this.removeListeners : this.addListeners;
            if ("object" != typeof t || t instanceof RegExp)
                for (s = i.length; s--;) a.call(this, t, i[s]);
            else
                for (s in t) t.hasOwnProperty(s) && (n = t[s]) && ("function" == typeof n ? a : o).call(this, s, n);
            return this
        }, t.removeEvent = function(e) {
            var t, i = typeof e,
                s = this._getEvents();
            if ("string" == i) delete s[e];
            else if ("object" == i)
                for (t in s) s.hasOwnProperty(t) && e.test(t) && delete s[t];
            else delete this._events;
            return this
        }, t.removeAllListeners = i("removeEvent"), t.emitEvent = function(e, t) {
            var i, s, n, a = this.getListenersAsObject(e);
            for (n in a)
                if (a.hasOwnProperty(n))
                    for (s = a[n].length; s--;) !0 === (i = a[n][s]).once && this.removeListener(e, i.listener), i.listener.apply(this, t || []) === this._getOnceReturnValue() && this.removeListener(e, i.listener);
            return this
        }, t.trigger = i("emitEvent"), t.emit = function(e) {
            var t = Array.prototype.slice.call(arguments, 1);
            return this.emitEvent(e, t)
        }, t.setOnceReturnValue = function(e) {
            return this._onceReturnValue = e, this
        }, t._getOnceReturnValue = function() {
            return !this.hasOwnProperty("_onceReturnValue") || this._onceReturnValue
        }, t._getEvents = function() {
            return this._events || (this._events = {})
        }, "function" == typeof define && define.amd ? define(function() {
            return e
        }) : "object" == typeof module && module.exports ? module.exports = e : this.EventEmitter = e
    }.call(this), ! function(e) {
        "use strict";
        var a = e.jQuery,
            o = e.console,
            r = void 0 !== o;

        function l(e, t) {
            for (var i in t) e[i] = t[i];
            return e
        }
        var n = Object.prototype.toString;

        function d(e) {
            var t = [];
            if ("[object Array]" === n.call(e)) t = e;
            else if ("number" == typeof e.length)
                for (var i = 0, s = e.length; i < s; i++) t.push(e[i]);
            else t.push(e);
            return t
        }

        function t(e, t) {
            function n(e, t, i) {
                if (!(this instanceof n)) return new n(e, t);
                "string" == typeof e && (e = document.querySelectorAll(e)), this.elements = d(e), this.options = l({}, this.options), "function" == typeof t ? i = t : l(this.options, t), i && this.on("always", i), this.getImages(), a && (this.jqDeferred = new a.Deferred);
                var s = this;
                setTimeout(function() {
                    s.check()
                })
            }(n.prototype = new e).options = {}, n.prototype.getImages = function() {
                this.images = [];
                for (var e = 0, t = this.elements.length; e < t; e++)
                    for (var i = this.elements[e], s = ("IMG" === i.nodeName && this.addImage(i), i.querySelectorAll("img")), n = 0, a = s.length; n < a; n++) {
                        var o = s[n];
                        this.addImage(o)
                    }
            }, n.prototype.addImage = function(e) {
                e = new s(e);
                this.images.push(e)
            }, n.prototype.check = function() {
                var i = this,
                    s = 0,
                    n = this.images.length;
                if (this.hasAnyBroken = !1, n)
                    for (var e = 0; e < n; e++) {
                        var t = this.images[e];
                        t.on("confirm", a), t.check()
                    } else this.complete();

                function a(e, t) {
                    return i.options.debug && r && o.log("confirm", e, t), i.progress(e), ++s === n && i.complete(), !0
                }
            }, n.prototype.progress = function(e) {
                this.hasAnyBroken = this.hasAnyBroken || !e.isLoaded;
                var t = this;
                setTimeout(function() {
                    t.emit("progress", t, e), t.jqDeferred && t.jqDeferred.notify(t, e)
                })
            }, n.prototype.complete = function() {
                var t = this.hasAnyBroken ? "fail" : "done",
                    i = (this.isComplete = !0, this);
                setTimeout(function() {
                    var e;
                    i.emit(t, i), i.emit("always", i), i.jqDeferred && (e = i.hasAnyBroken ? "reject" : "resolve", i.jqDeferred[e](i))
                })
            }, a && (a.fn.imagesLoaded = function(e, t) {
                return new n(this, e, t).jqDeferred.promise(a(this))
            });
            var i = {};

            function s(e) {
                this.img = e
            }
            return (s.prototype = new e).check = function() {
                var e = i[this.img.src];
                e ? this.useCached(e) : (i[this.img.src] = this).img.complete && void 0 !== this.img.naturalWidth ? this.confirm(0 !== this.img.naturalWidth, "naturalWidth") : (e = this.proxyImage = new Image, t.bind(e, "load", this), t.bind(e, "error", this), e.src = this.img.src)
            }, s.prototype.useCached = function(e) {
                var t;
                e.isConfirmed ? this.confirm(e.isLoaded, "cached was confirmed") : (t = this, e.on("confirm", function(e) {
                    return t.confirm(e.isLoaded, "cache emitted confirmed"), !0
                }))
            }, s.prototype.confirm = function(e, t) {
                this.isConfirmed = !0, this.isLoaded = e, this.emit("confirm", this, t)
            }, s.prototype.handleEvent = function(e) {
                var t = "on" + e.type;
                this[t] && this[t](e)
            }, s.prototype.onload = function() {
                this.confirm(!0, "onload"), this.unbindProxyEvents()
            }, s.prototype.onerror = function() {
                this.confirm(!1, "onerror"), this.unbindProxyEvents()
            }, s.prototype.unbindProxyEvents = function() {
                t.unbind(this.proxyImage, "load", this), t.unbind(this.proxyImage, "error", this)
            }, n
        }
        "function" == typeof define && define.amd ? define(["eventEmitter/EventEmitter", "eventie/eventie"], t) : e.imagesLoaded = t(e.EventEmitter, e.eventie)
    }(window), ! function(e) {
        "use strict";
        var t = document.defaultView,
            S = t && t.getComputedStyle,
            T = S ? function(e) {
                return t.getComputedStyle(e, null)
            } : function(e) {
                return e.currentStyle
            };

        function E(e) {
            var t = parseFloat(e);
            return -1 === e.indexOf("%") && !isNaN(t) && t
        }
        var A = ["paddingLeft", "paddingRight", "paddingTop", "paddingBottom", "marginLeft", "marginRight", "marginTop", "marginBottom", "borderLeftWidth", "borderRightWidth", "borderTopWidth", "borderBottomWidth"];

        function i(e) {
            var k, t, i, x = e("boxSizing");
            return x && ((e = document.createElement("div")).style.width = "200px", e.style.padding = "1px 2px 3px 4px", e.style.borderStyle = "solid", e.style.borderWidth = "1px 2px 3px 4px", e.style[x] = "border-box", (t = document.body || document.documentElement).appendChild(e), i = T(e), k = 200 === E(i.width), t.removeChild(e)),
                function(e) {
                    if ((e = "string" == typeof e ? document.querySelector(e) : e) && "object" == typeof e && e.nodeType) {
                        var t = T(e);
                        if ("none" === t.display) {
                            for (var i = {
                                    width: 0,
                                    height: 0,
                                    innerWidth: 0,
                                    innerHeight: 0,
                                    outerWidth: 0,
                                    outerHeight: 0
                                }, s = 0, n = A.length; s < n; s++) i[A[s]] = 0;
                            return i
                        }
                        for (var a, o, r, l, d = {}, c = (d.width = e.offsetWidth, d.height = e.offsetHeight, d.isBorderBox = !(!x || !t[x] || "border-box" !== t[x])), u = 0, h = A.length; u < h; u++) {
                            var p = A[u],
                                f = t[p],
                                m = (m = e, f = f, l = r = o = a = void 0, S || -1 === f.indexOf("%") || (a = m.style, o = a.left, r = m.runtimeStyle, (l = r && r.left) && (r.left = m.currentStyle.left), a.left = f, f = a.pixelLeft, a.left = o, l && (r.left = l)), parseFloat(f));
                            d[p] = isNaN(m) ? 0 : m
                        }
                        var g = d.paddingLeft + d.paddingRight,
                            v = d.paddingTop + d.paddingBottom,
                            y = d.marginLeft + d.marginRight,
                            b = d.marginTop + d.marginBottom,
                            w = d.borderLeftWidth + d.borderRightWidth,
                            _ = d.borderTopWidth + d.borderBottomWidth,
                            c = c && k,
                            C = E(t.width),
                            C = (!1 !== C && (d.width = C + (c ? 0 : g + w)), E(t.height));
                        return !1 !== C && (d.height = C + (c ? 0 : v + _)), d.innerWidth = d.width - (g + w), d.innerHeight = d.height - (v + _), d.outerWidth = d.width + y, d.outerHeight = d.height + b, d
                    }
                }
        }
        "function" == typeof define && define.amd ? define(["get-style-property/get-style-property"], i) : e.getSize = i(e.getStyleProperty)
    }(window), ! function(e) {
        "use strict";
        var d = Array.prototype.slice;

        function t() {}

        function i(r) {
            var l;
            r && (l = "undefined" == typeof console ? t : function(e) {
                console.error(e)
            }, r.bridget = function(e, t) {
                var i, a, o;
                (i = t).prototype.option || (i.prototype.option = function(e) {
                    r.isPlainObject(e) && (this.options = r.extend(!0, this.options, e))
                }), a = e, o = t, r.fn[a] = function(t) {
                    if ("string" != typeof t) return this.each(function() {
                        var e = r.data(this, a);
                        e ? (e.option(t), e._init()) : (e = new o(this, t), r.data(this, a, e))
                    });
                    for (var e = d.call(arguments, 1), i = 0, s = this.length; i < s; i++) {
                        var n = this[i],
                            n = r.data(n, a);
                        if (n)
                            if (r.isFunction(n[t]) && "_" !== t.charAt(0)) {
                                n = n[t].apply(n, e);
                                if (void 0 !== n) return n
                            } else l("no such method '" + t + "' for " + a + " instance");
                        else l("cannot call methods on " + a + " prior to initialization; attempted to call '" + t + "'")
                    }
                    return this
                }
            })
        }
        "function" == typeof define && define.amd ? define(["jquery"], i) : i(e.jQuery)
    }(window), ! function(n) {
        "use strict";
        var e, i = function() {
            if (n.matchesSelector) return "matchesSelector";
            for (var e = ["webkit", "moz", "ms", "o"], t = 0, i = e.length; t < i; t++) {
                var s = e[t] + "MatchesSelector";
                if (n[s]) return s
            }
        }();

        function s(e, t) {
            return e[i](t)
        }

        function a(e) {
            e.parentNode || document.createDocumentFragment().appendChild(e)
        }
        e = i ? s(document.createElement("div"), "div") ? s : function(e, t) {
            return a(e), s(e, t)
        } : function(e, t) {
            a(e);
            for (var i = e.parentNode.querySelectorAll(t), s = 0, n = i.length; s < n; s++)
                if (i[s] === e) return !0;
            return !1
        }, "function" == typeof define && define.amd ? define(function() {
            return e
        }) : window.matchesSelector = e
    }(Element.prototype), ! function(e) {
        "use strict";
        var t = document.defaultView,
            y = t && t.getComputedStyle ? function(e) {
                return t.getComputedStyle(e, null)
            } : function(e) {
                return e.currentStyle
            };

        function i(e, t, a) {
            var i = a("transition"),
                s = a("transform"),
                n = i && s,
                o = !!a("perspective"),
                r = {
                    WebkitTransition: "webkitTransitionEnd",
                    MozTransition: "transitionend",
                    OTransition: "otransitionend",
                    transition: "transitionend"
                } [i],
                l = ["transform", "transition", "transitionDuration", "transitionProperty"],
                d = function() {
                    for (var e = {}, t = 0, i = l.length; t < i; t++) {
                        var s = l[t],
                            n = a(s);
                        n && n !== s && (e[s] = n)
                    }
                    return e
                }();

            function c(e, t) {
                e && (this.element = e, this.layout = t, this.position = {
                    x: 0,
                    y: 0
                }, this._create())
            }
            var u, h = c.prototype,
                p = e.prototype;
            for (u in p) h[u] = p[u];
            c.prototype._create = function() {
                this._transition = {
                    ingProperties: {},
                    clean: {},
                    onEnd: {}
                }, this.css({
                    position: "absolute"
                })
            }, c.prototype.handleEvent = function(e) {
                var t = "on" + e.type;
                this[t] && this[t](e)
            }, c.prototype.getSize = function() {
                this.size = t(this.element)
            }, c.prototype.css = function(e) {
                var t, i = this.element.style;
                for (t in e) i[d[t] || t] = e[t]
            }, c.prototype.getPosition = function() {
                var e = y(this.element),
                    t = this.layout.options,
                    i = t.isOriginLeft,
                    t = t.isOriginTop,
                    s = parseInt(e[i ? "left" : "right"], 10),
                    e = parseInt(e[t ? "top" : "bottom"], 10),
                    s = isNaN(s) ? 0 : s,
                    e = isNaN(e) ? 0 : e,
                    n = this.layout.size;
                s -= i ? n.paddingLeft : n.paddingRight, e -= t ? n.paddingTop : n.paddingBottom, this.position.x = s, this.position.y = e
            }, c.prototype.layoutPosition = function() {
                var e = this.layout.size,
                    t = this.layout.options,
                    i = {};
                t.isOriginLeft ? (i.left = this.position.x + e.paddingLeft + "px", i.right = "") : (i.right = this.position.x + e.paddingRight + "px", i.left = ""), t.isOriginTop ? (i.top = this.position.y + e.paddingTop + "px", i.bottom = "") : (i.bottom = this.position.y + e.paddingBottom + "px", i.top = ""), this.css(i), this.emitEvent("layout", [this])
            };
            var f = o ? function(e, t) {
                    return "translate3d(" + e + "px, " + t + "px, 0)"
                } : function(e, t) {
                    return "translate(" + e + "px, " + t + "px)"
                },
                m = (c.prototype._transitionTo = function(e, t) {
                    this.getPosition();
                    var i = this.position.x,
                        s = this.position.y,
                        n = parseInt(e, 10),
                        a = parseInt(t, 10),
                        n = n === this.position.x && a === this.position.y;
                    this.setPosition(e, t), n && !this.isTransitioning ? this.layoutPosition() : (a = e - i, n = t - s, a = (e = this.layout.options).isOriginLeft ? a : -a, n = e.isOriginTop ? n : -n, (i = {}).transform = f(a, n), this.transition({
                        to: i,
                        onTransitionEnd: {
                            transform: this.layoutPosition
                        },
                        isCleaning: !0
                    }))
                }, c.prototype.goTo = function(e, t) {
                    this.setPosition(e, t), this.layoutPosition()
                }, c.prototype.moveTo = n ? c.prototype._transitionTo : c.prototype.goTo, c.prototype.setPosition = function(e, t) {
                    this.position.x = parseInt(e, 10), this.position.y = parseInt(t, 10)
                }, c.prototype._nonTransition = function(e) {
                    for (var t in this.css(e.to), e.isCleaning && this._removeStyles(e.to), e.onTransitionEnd) e.onTransitionEnd[t].call(this)
                }, c.prototype._transition = function(e) {
                    if (parseFloat(this.layout.options.transitionDuration)) {
                        var t, i = this._transition;
                        for (t in e.onTransitionEnd) i.onEnd[t] = e.onTransitionEnd[t];
                        for (t in e.to) i.ingProperties[t] = !0, e.isCleaning && (i.clean[t] = !0);
                        e.from && (this.css(e.from), this.element.offsetHeight, 0), this.enableTransition(e.to), this.css(e.to), this.isTransitioning = !0
                    } else this._nonTransition(e)
                }, s && s.replace(/([A-Z])/g, function(e) {
                    return "-" + e.toLowerCase()
                }) + ",opacity"),
                g = (c.prototype.enableTransition = function() {
                    this.isTransitioning || (this.css({
                        transitionProperty: m,
                        transitionDuration: this.layout.options.transitionDuration
                    }), this.element.addEventListener(r, this, !1))
                }, c.prototype.transition = c.prototype[i ? "_transition" : "_nonTransition"], c.prototype.onwebkitTransitionEnd = function(e) {
                    this.ontransitionend(e)
                }, c.prototype.onotransitionend = function(e) {
                    this.ontransitionend(e)
                }, {
                    "-webkit-transform": "transform",
                    "-moz-transform": "transform",
                    "-o-transform": "transform"
                }),
                v = (c.prototype.ontransitionend = function(e) {
                    var t, i;
                    e.target === this.element && (t = this._transition, i = g[e.propertyName] || e.propertyName, delete t.ingProperties[i], function(e) {
                        for (var t in e) return;
                        return 1
                    }(t.ingProperties) && this.disableTransition(), i in t.clean && (this.element.style[e.propertyName] = "", delete t.clean[i]), i in t.onEnd && (t.onEnd[i].call(this), delete t.onEnd[i]), this.emitEvent("transitionEnd", [this]))
                }, c.prototype.disableTransition = function() {
                    this.removeTransitionStyles(), this.element.removeEventListener(r, this, !1), this.isTransitioning = !1
                }, c.prototype._removeStyles = function(e) {
                    var t, i = {};
                    for (t in e) i[t] = "";
                    this.css(i)
                }, {
                    transitionProperty: "",
                    transitionDuration: ""
                });
            return c.prototype.removeTransitionStyles = function() {
                this.css(v)
            }, c.prototype.removeElem = function() {
                this.element.parentNode.removeChild(this.element), this.emitEvent("remove", [this])
            }, c.prototype.remove = function() {
                var e;
                i && parseFloat(this.layout.options.transitionDuration) ? ((e = this).on("transitionEnd", function() {
                    return e.removeElem(), !0
                }), this.hide()) : this.removeElem()
            }, c.prototype.reveal = function() {
                delete this.isHidden, this.css({
                    display: ""
                });
                var e = this.layout.options;
                this.transition({
                    from: e.hiddenStyle,
                    to: e.visibleStyle,
                    isCleaning: !0
                })
            }, c.prototype.hide = function() {
                this.isHidden = !0, this.css({
                    display: ""
                });
                var e = this.layout.options;
                this.transition({
                    from: e.visibleStyle,
                    to: e.hiddenStyle,
                    isCleaning: !0,
                    onTransitionEnd: {
                        opacity: function() {
                            this.css({
                                display: "none"
                            })
                        }
                    }
                })
            }, c.prototype.destroy = function() {
                this.css({
                    position: "",
                    left: "",
                    right: "",
                    top: "",
                    bottom: "",
                    transition: "",
                    transform: ""
                })
            }, c
        }
        "function" == typeof define && define.amd ? define(["eventEmitter/EventEmitter", "get-size/get-size", "get-style-property/get-style-property"], i) : (e.Outlayer = {}, e.Outlayer.Item = i(e.EventEmitter, e.getSize, e.getStyleProperty))
    }(window), ! function(l) {
        "use strict";

        function u() {}
        var h = l.document,
            p = l.console,
            f = l.jQuery;

        function m(e, t) {
            for (var i in t) e[i] = t[i];
            return e
        }
        var n = Object.prototype.toString;

        function g(e) {
            var t = [];
            if ("[object Array]" === n.call(e)) t = e;
            else if (e && "number" == typeof e.length)
                for (var i = 0, s = e.length; i < s; i++) t.push(e[i]);
            else t.push(e);
            return t
        }
        var v = "object" == typeof HTMLElement ? function(e) {
                return e instanceof HTMLElement
            } : function(e) {
                return e && "object" == typeof e && 1 === e.nodeType && "string" == typeof e.nodeName
            },
            i = Array.prototype.indexOf ? function(e, t) {
                return e.indexOf(t)
            } : function(e, t) {
                for (var i = 0, s = e.length; i < s; i++)
                    if (e[i] === t) return i;
                return -1
            };

        function y(e, t) {
            e = i(t, e); - 1 !== e && t.splice(e, 1)
        }

        function e(e, t, i, n, d, s) {
            var a = 0,
                o = {};

            function r(e, t) {
                (e = "string" == typeof e ? h.querySelector(e) : e) && v(e) ? (this.element = e, this.options = m({}, this.options), this.option(t), t = ++a, this.element.outlayerGUID = t, (o[t] = this)._create(), this.options.isInitLayout && this.layout()) : p && p.error("Bad " + this.settings.namespace + " element: " + e)
            }

            function c(e, t) {
                e.prototype[t] = m({}, r.prototype[t])
            }
            return r.prototype.settings = {
                namespace: "outlayer",
                item: s
            }, r.prototype.options = {
                containerStyle: {
                    position: "relative"
                },
                isInitLayout: !0,
                isOriginLeft: !0,
                isOriginTop: !0,
                isResizeBound: !0,
                transitionDuration: "0.4s",
                hiddenStyle: {
                    opacity: 0,
                    transform: "scale(0.001)"
                },
                visibleStyle: {
                    opacity: 1,
                    transform: "scale(1)"
                }
            }, m(r.prototype, i.prototype), r.prototype.option = function(e) {
                m(this.options, e)
            }, r.prototype._create = function() {
                this.reloadItems(), this.stamps = [], this.stamp(this.options.stamp), m(this.element.style, this.options.containerStyle), this.options.isResizeBound && this.bindResize()
            }, r.prototype.reloadItems = function() {
                this.items = this._itemize(this.element.children)
            }, r.prototype._itemize = function(e) {
                for (var t = this._filterFindItemElements(e), i = this.settings.item, s = [], n = 0, a = t.length; n < a; n++) {
                    var o = new i(t[n], this);
                    s.push(o)
                }
                return s
            }, r.prototype._filterFindItemElements = function(e) {
                e = g(e);
                for (var t = this.options.itemSelector, i = [], s = 0, n = e.length; s < n; s++) {
                    var a = e[s];
                    if (v(a))
                        if (t) {
                            d(a, t) && i.push(a);
                            for (var o = a.querySelectorAll(t), r = 0, l = o.length; r < l; r++) i.push(o[r])
                        } else i.push(a)
                }
                return i
            }, r.prototype.getItemElements = function() {
                for (var e = [], t = 0, i = this.items.length; t < i; t++) e.push(this.items[t].element);
                return e
            }, r.prototype._init = r.prototype.layout = function() {
                this._resetLayout(), this._manageStamps();
                var e = void 0 !== this.options.isLayoutInstant ? this.options.isLayoutInstant : !this._isLayoutInited;
                this.layoutItems(this.items, e), this._isLayoutInited = !0
            }, r.prototype._resetLayout = function() {
                this.getSize()
            }, r.prototype.getSize = function() {
                this.size = n(this.element)
            }, r.prototype._getMeasurement = function(e, t) {
                var i, s = this.options[e];
                s ? ("string" == typeof s ? i = this.element.querySelector(s) : v(s) && (i = s), this[e] = i ? n(i)[t] : s) : this[e] = 0
            }, r.prototype.layoutItems = function(e, t) {
                e = this._getItemsForLayout(e), this._layoutItems(e, t), this._postLayout()
            }, r.prototype._getItemsForLayout = function(e) {
                for (var t = [], i = 0, s = e.length; i < s; i++) {
                    var n = e[i];
                    n.isIgnored || t.push(n)
                }
                return t
            }, r.prototype._layoutItems = function(e, t) {
                if (e && e.length) {
                    this._itemsOn(e, "layout", function() {
                        this.emitEvent("layoutComplete", [this, e])
                    });
                    for (var i = [], s = 0, n = e.length; s < n; s++) {
                        var a = e[s],
                            o = this._getItemLayoutPosition(a);
                        o.item = a, o.isInstant = t, i.push(o)
                    }
                    this._processLayoutQueue(i)
                } else this.emitEvent("layoutComplete", [this, e])
            }, r.prototype._getItemLayoutPosition = function() {
                return {
                    x: 0,
                    y: 0
                }
            }, r.prototype._processLayoutQueue = function(e) {
                for (var t = 0, i = e.length; t < i; t++) {
                    var s = e[t];
                    this._positionItem(s.item, s.x, s.y, s.isInstant)
                }
            }, r.prototype._positionItem = function(e, t, i, s) {
                s ? e.goTo(t, i) : e.moveTo(t, i)
            }, r.prototype._postLayout = function() {
                var e = this._getContainerSize();
                e && (this._setContainerMeasure(e.width, !0), this._setContainerMeasure(e.height, !1))
            }, r.prototype._getContainerSize = u, r.prototype._setContainerMeasure = function(e, t) {
                var i;
                void 0 !== e && ((i = this.size).isBorderBox && (e += t ? i.paddingLeft + i.paddingRight + i.borderLeftWidth + i.borderRightWidth : i.paddingBottom + i.paddingTop + i.borderTopWidth + i.borderBottomWidth), e = Math.max(e, 0), this.element.style[t ? "width" : "height"] = e + "px")
            }, r.prototype._itemsOn = function(e, t, i) {
                var s = 0,
                    n = e.length,
                    a = this;

                function o() {
                    return ++s === n && i.call(a), !0
                }
                for (var r = 0, l = e.length; r < l; r++) e[r].on(t, o)
            }, r.prototype.ignore = function(e) {
                e = this.getItem(e);
                e && (e.isIgnored = !0)
            }, r.prototype.unignore = function(e) {
                e = this.getItem(e);
                e && delete e.isIgnored
            }, r.prototype.stamp = function(e) {
                if (e = this._find(e)) {
                    this.stamps = this.stamps.concat(e);
                    for (var t = 0, i = e.length; t < i; t++) {
                        var s = e[t];
                        this.ignore(s)
                    }
                }
            }, r.prototype.unstamp = function(e) {
                if (e = this._find(e))
                    for (var t = 0, i = e.length; t < i; t++) {
                        var s = e[t];
                        y(s, this.stamps), this.unignore(s)
                    }
            }, r.prototype._find = function(e) {
                if (e) return e = g(e = "string" == typeof e ? this.element.querySelectorAll(e) : e)
            }, r.prototype._manageStamps = function() {
                if (this.stamps && this.stamps.length) {
                    this._getBoundingRect();
                    for (var e = 0, t = this.stamps.length; e < t; e++) {
                        var i = this.stamps[e];
                        this._manageStamp(i)
                    }
                }
            }, r.prototype._getBoundingRect = function() {
                var e = this.element.getBoundingClientRect(),
                    t = this.size;
                this._boundingRect = {
                    left: e.left + t.paddingLeft + t.borderLeftWidth,
                    top: e.top + t.paddingTop + t.borderTopWidth,
                    right: e.right - (t.paddingRight + t.borderRightWidth),
                    bottom: e.bottom - (t.paddingBottom + t.borderBottomWidth)
                }
            }, r.prototype._manageStamp = u, r.prototype._getElementOffset = function(e) {
                var t = e.getBoundingClientRect(),
                    i = this._boundingRect,
                    e = n(e);
                return {
                    left: t.left - i.left - e.marginLeft,
                    top: t.top - i.top - e.marginTop,
                    right: i.right - t.right - e.marginRight,
                    bottom: i.bottom - t.bottom - e.marginBottom
                }
            }, r.prototype.handleEvent = function(e) {
                var t = "on" + e.type;
                this[t] && this[t](e)
            }, r.prototype.bindResize = function() {
                this.isResizeBound || (e.bind(l, "resize", this), this.isResizeBound = !0)
            }, r.prototype.unbindResize = function() {
                e.unbind(l, "resize", this), this.isResizeBound = !1
            }, r.prototype.onresize = function() {
                this.resizeTimeout && clearTimeout(this.resizeTimeout);
                var e = this;
                this.resizeTimeout = setTimeout(function() {
                    e.resize(), delete e.resizeTimeout
                }, 100)
            }, r.prototype.resize = function() {
                var e = n(this.element);
                this.size && e && e.innerWidth === this.size.innerWidth || this.layout()
            }, r.prototype.addItems = function(e) {
                e = this._itemize(e);
                return e.length && (this.items = this.items.concat(e)), e
            }, r.prototype.appended = function(e) {
                e = this.addItems(e);
                e.length && (this.layoutItems(e, !0), this.reveal(e))
            }, r.prototype.prepended = function(e) {
                var t, e = this._itemize(e);
                e.length && (t = this.items.slice(0), this.items = e.concat(t), this._resetLayout(), this._manageStamps(), this.layoutItems(e, !0), this.reveal(e), this.layoutItems(t))
            }, r.prototype.reveal = function(e) {
                if (e && e.length)
                    for (var t = 0, i = e.length; t < i; t++) e[t].reveal()
            }, r.prototype.hide = function(e) {
                if (e && e.length)
                    for (var t = 0, i = e.length; t < i; t++) e[t].hide()
            }, r.prototype.getItem = function(e) {
                for (var t = 0, i = this.items.length; t < i; t++) {
                    var s = this.items[t];
                    if (s.element === e) return s
                }
            }, r.prototype.getItems = function(e) {
                if (e && e.length) {
                    for (var t = [], i = 0, s = e.length; i < s; i++) {
                        var n = e[i],
                            n = this.getItem(n);
                        n && t.push(n)
                    }
                    return t
                }
            }, r.prototype.remove = function(e) {
                e = g(e);
                var t = this.getItems(e);
                if (t && t.length) {
                    this._itemsOn(t, "remove", function() {
                        this.emitEvent("removeComplete", [this, t])
                    });
                    for (var i = 0, s = t.length; i < s; i++) {
                        var n = t[i];
                        n.remove(), y(n, this.items)
                    }
                }
            }, r.prototype.destroy = function() {
                var e = this.element.style;
                e.height = "", e.position = "", e.width = "";
                for (var t = 0, i = this.items.length; t < i; t++) this.items[t].destroy();
                this.unbindResize(), delete this.element.outlayerGUID, f && f.removeData(this.element, this.settings.namespace)
            }, r.data = function(e) {
                e = e && e.outlayerGUID;
                return e && o[e]
            }, r.create = function(l, e) {
                function d() {
                    r.apply(this, arguments)
                }
                return m(d.prototype, r.prototype), c(d, "options"), c(d, "settings"), m(d.prototype.options, e), d.prototype.settings.namespace = l, d.data = r.data, (d.Item = function() {
                    s.apply(this, arguments)
                }).prototype = new s, d.prototype.settings.item = d.Item, t(function() {
                    for (var e = l.replace(/(.)([A-Z])/g, function(e, t, i) {
                            return t + "-" + i
                        }).toLowerCase(), t = h.querySelectorAll(".js-" + e), i = "data-" + e + "-options", s = 0, n = t.length; s < n; s++) {
                        var a, o = t[s],
                            r = o.getAttribute(i);
                        try {
                            a = r && JSON.parse(r)
                        } catch (e) {
                            p && p.error("Error parsing " + i + " on " + o.nodeName.toLowerCase() + (o.id ? "#" + o.id : "") + ": " + e);
                            continue
                        }
                        r = new d(o, a);
                        f && f.data(o, l, r)
                    }
                }), f && f.bridget && f.bridget(l, d), d
            }, r.Item = s, r
        }
        "function" == typeof define && define.amd ? define(["eventie/eventie", "doc-ready/doc-ready", "eventEmitter/EventEmitter", "get-size/get-size", "matches-selector/matches-selector", "./item"], e) : l.Outlayer = e(l.eventie, l.docReady, l.EventEmitter, l.getSize, l.matchesSelector, l.Outlayer.Item)
    }(window), ! function(e) {
        "use strict";
        var l = Array.prototype.indexOf ? function(e, t) {
            return e.indexOf(t)
        } : function(e, t) {
            for (var i = 0, s = e.length; i < s; i++)
                if (e[i] === t) return i;
            return -1
        };

        function t(e, r) {
            e = e.create("masonry");
            return e.prototype._resetLayout = function() {
                this.getSize(), this._getMeasurement("columnWidth", "outerWidth"), this._getMeasurement("gutter", "outerWidth"), this.measureColumns();
                var e = this.cols;
                for (this.colYs = []; e--;) this.colYs.push(0);
                this.maxY = 0
            }, e.prototype.measureColumns = function() {
                var e;
                this.getContainerWidth(), this.columnWidth || (e = (e = this.items[0]) && e.element, this.columnWidth = e && r(e).outerWidth || this.containerWidth), this.columnWidth += this.gutter, this.cols = Math.floor((this.containerWidth + this.gutter) / this.columnWidth), this.cols = Math.max(this.cols, 1)
            }, e.prototype.getContainerWidth = function() {
                var e = this.options.isFitWidth ? this.element.parentNode : this.element,
                    e = r(e);
                this.containerWidth = e && e.innerWidth
            }, e.prototype._getItemLayoutPosition = function(e) {
                e.getSize();
                for (var t = Math.ceil(e.size.outerWidth / this.columnWidth), t = Math.min(t, this.cols), t = this._getColGroup(t), i = Math.min.apply(Math, t), s = l(t, i), n = {
                        x: this.columnWidth * s,
                        y: i
                    }, a = i + e.size.outerHeight, o = this.cols + 1 - t.length, r = 0; r < o; r++) this.colYs[s + r] = a;
                return n
            }, e.prototype._getColGroup = function(e) {
                if (e < 2) return this.colYs;
                for (var t = [], i = this.cols + 1 - e, s = 0; s < i; s++) {
                    var n = this.colYs.slice(s, s + e);
                    t[s] = Math.max.apply(Math, n)
                }
                return t
            }, e.prototype._manageStamp = function(e) {
                for (var t = r(e), e = this._getElementOffset(e), i = this.options.isOriginLeft ? e.left : e.right, s = i + t.outerWidth, i = Math.floor(i / this.columnWidth), i = Math.max(0, i), n = Math.floor(s / this.columnWidth), n = Math.min(this.cols - 1, n), a = (this.options.isOriginTop ? e.top : e.bottom) + t.outerHeight, o = i; o <= n; o++) this.colYs[o] = Math.max(a, this.colYs[o])
            }, e.prototype._getContainerSize = function() {
                this.maxY = Math.max.apply(Math, this.colYs);
                var e = {
                    height: this.maxY
                };
                return this.options.isFitWidth && (e.width = this._getContainerFitWidth()), e
            }, e.prototype._getContainerFitWidth = function() {
                for (var e = 0, t = this.cols; --t && 0 === this.colYs[t];) e++;
                return (this.cols - e) * this.columnWidth - this.gutter
            }, e.prototype.resize = function() {
                var e = this.containerWidth;
                this.getContainerWidth(), e !== this.containerWidth && this.layout()
            }, e
        }
        "function" == typeof define && define.amd ? define(["outlayer/outlayer", "get-size/get-size"], t) : e.Masonry = t(e.Outlayer, e.getSize)
    }(window), ! function() {
        "use strict";
        var t = window.MD = {
            pages: {}
        };
        docReady(function() {
            document.querySelector("#notification");
            var e = document.body.getAttribute("data-page");
            e && "function" == typeof t[e] && t[e]()
        }), t.getSomeItemElements = function() {
            for (var e = document.createDocumentFragment(), t = [], i = 0; i < 3; i++) {
                var s = document.createElement("div"),
                    n = Math.random(),
                    n = .85 < n ? "w4" : .7 < n ? "w2" : "",
                    a = Math.random();
                s.className = "item " + n + " " + (.85 < a ? "h4" : .7 < a ? "h2" : ""), e.appendChild(s), t.push(s)
            }
        };
        document.documentElement.textContent
    }(), ! function(e) {
        "use strict";
        var r, l, d, s, t = e.MD,
            c = e.jQuery,
            u = c("#load-more-examples").data("model-id"),
            n = 0;
        c(document).on("click", "#previewImage, #previewImage img, #previewImage .close-btn, #galleryOverlay", function(e) {
            a()
        }), c(document).on("click", "#previewImage .carousel-control", function(e) {
            var t = c(this),
                i = "next" === t.attr("data-slide") ? "next" : "previous",
                t = t.parent().find("img").attr("data-gallery-id");
            e.stopPropagation(), s = c(".hero-masonry .hero-item.has-example").length - 1, n = c("[data-gallery-id=" + t + "]").parents(".has-example").data("idxKey"), setTimeout(function() {
                var e;
                n = "next" == i ? s < (e = n + 1) ? 0 : e : (e = n - 1) < 0 ? s : e, c(".hero-item[data-idx-key=" + n + "]").click()
            }, 100), a()
        }), c(document).on("click", "#previewImage p", function(e) {
            e.stopPropagation()
        }), (0 < c(".gallery-small").length || 0 < c(".hero-masonry").length) && c(document).keyup(function(e) {
            27 == e.which && a(), 39 == e.which && c("#previewImage .carousel-control.right").trigger("click"), 37 == e.which && c("#previewImage .carousel-control.left").trigger("click")
        }), c(document).on("click", ".nav-tabs [href=#gallery]", function(e) {
            var t;
            1 === c(".hero-masonry .hero-item").length && (t = document.querySelector("#hero"), r = t.querySelector(".hero-masonry"), l = new Masonry(r, {
                itemSelector: ".hero-item",
                columnWidth: ".grid-sizer"
            }), i())
        }), t.index = function() {
            0 < c(".hero-masonry").length && (c(document).on("click", ".hero-masonry .hero-item", function(e) {
                var t = c(this),
                    i = t.find("img"),
                    s = t.find(".picture-title").text(),
                    n = t.find("img").data("gallery-id"),
                    a = location.pathname.split("/");
                "true" !== i.attr("data-crush-only") && c.ajax({
                    url: "/includes/get_image.php",
                    data: {
                        imageId: n
                    },
                    dataType: "json"
                }).done(function(e) {
                    !1 === e.error && (i.attr("data-full-src", e.url), openPreview(i, s + " <br /> manyvids.com/Gallery/" + a[2] + "/" + a[3] + "/" + n, "", !1, !1))
                })
            }), c(document).on("click", ".delete-image", function(e) {
                e.stopPropagation();
                var e = c(this).data("id"),
                    t = "false" !== c("#newCummerCompliant").val(),
                    i = c(".hero-masonry").find("[data-gallery-id]").length,
                    s = parseInt(c("#newCummerMinPics").val());
                !0 == t && i === s ? c("#DeactivateUser").modal("show").find(".js-btn-submit").attr("data-delete-id", e) : deleteImage(e)
            })), 0 < c(".hero-masonry").length && (d = document.querySelector("#load-more-examples"), eventie.bind(d, "click", i)), c("#DeactivateUser .js-btn-submit").click(function() {
                var e = c(this).attr("data-delete-id");
                c("#DeactivateUser").modal("hide"), deleteImage(e)
            })
        };
        var h = 0,
            p = !1;

        function a() {
            c("#previewImage").removeClass("open").find(".preview-body").empty(), c("#galleryOverlay").remove()
        }

        function i() {
            p || (p = !0, c.ajax({
                type: "POST",
                url: "/includes/fetch_gallery.php?id=" + u + "&offset=" + h + "&limit=" + c("#load-more-examples").data("limit"),
                beforeSend: function() {
                    (c("body").hasClass("gallery") ? c("#loadingDiv,#loadingOverlay") : (c("#loadingDiv,#loadingOverlay").hide(), c("#hero .primary-content .loader-wrapper"))).show()
                },
                success: function(e) {
                    var t = e;
                    t.galleryList && t.galleryList.length && !(t.galleryList.length <= 9) || (t.galleryList.length < 8 && t.galleryList ? d.style.display = "none" : d.style.display = "block"), h += t.galleryList.length;
                    for (var i = [], s = document.createDocumentFragment(), n = 0, a = t.galleryList.length; n < a; n++) {
                        var o = function(e, t) {
                            var i = document.createElement("div"),
                                s = "hero-item has-example";
                            1 == e.isCrushOnly && (s += " is-crush-only");
                            i.className = s, i.setAttribute("data-item", !0);
                            var s = document.createElement("a"),
                                n = (s.className = "thumb", document.createElement("img")),
                                a = (n.src = e.urlThumbnail, n.setAttribute("data-full-src", e.urlFull), (n = blurImageIfCrushOnly(e, n, s)).setAttribute("data-gallery-id", e.id), n.setAttribute("data-gallery-likes", e.totalLikes), n.setAttribute("data-gallery-liked", e.liked), n.setAttribute("data-gallery-login", e.isLogged), document.createElement("div")),
                                o = document.createElement("p");
                            o.textContent = e.title, a.appendChild(o), a.className = "picture-footer-links picture-title", t && ((o = document.createElement("a")).className = "delete-image", c(o).attr({
                                title: "Delete your pic from gallery",
                                "data-id": e.id
                            }), (t = document.createElement("i")).className = "icon xsmall mv-icon-clear white-bg", o.appendChild(t), i.appendChild(o));
                            s.appendChild(n), "true" === n.getAttribute("data-crush-only") && ((t = document.createElement("a")).textContent = "SUBSCRIBE", t.className = "view-services text-highlight", t.title = "Subscribe", t.setAttribute("data-service", "crush"), t.setAttribute("data-model-username", e.username), t.setAttribute("data-model-id", e.user_id), c(t).css("color", "#2196F3"), a.appendChild(t));
                            return s.appendChild(a), i.appendChild(s), i
                        }(t.galleryList[n], t.current_model);
                        i.push(o), s.appendChild(o)
                    }
                    imagesLoaded(s).on("progress", function(e, t) {
                        t = t.img.parentNode.parentNode;
                        r.appendChild(t), l.appended(t)
                    }), setTimeout(function() {
                        var e = 0;
                        c(".hero-item.has-example").each(function() {
                            c(this).attr("data-idx-key", e), e++
                        })
                    }, 1500), c("body").attr("data-link-pic") && (p = !0, c.ajax({
                        type: "POST",
                        url: "/includes/fetch_gallery.php?id=" + u + "&offset=0&limit=1&pid=" + c("body").data("link-pic"),
                        beforeSend: function() {
                            (c("body").hasClass("gallery") ? c("#loadingDiv,#loadingOverlay") : (c("#loadingDiv,#loadingOverlay").hide(), c("#hero .primary-content .loader-wrapper"))).show()
                        },
                        success: function(e) {
                            var t = location.pathname.split("/");
                            c("body").hasClass("current-model") || "0" !== e.galleryList[0].isCrushOnly && ("1" !== e.galleryList[0].isCrushOnly || !0 !== e.galleryList[0].isCrushMembership) || (openPreview(e.galleryList[0].urlFull, e.galleryList[0].title + " <br /> manyvids.com/Gallery/" + t[2] + "/" + t[3] + "/" + e.galleryList[0].id, e, !0), c("body").removeAttr("data-link-pic"))
                        },
                        complete: function() {
                            p = !1, (c("body").hasClass("gallery") ? c("#loadingDiv,#loadingOverlay") : c("#hero .primary-content .loader-wrapper")).hide()
                        },
                        error: function() {},
                        dataType: "json"
                    }))
                },
                complete: function() {
                    p = !1, (c("body").hasClass("gallery") ? c("#loadingDiv,#loadingOverlay") : c("#hero .primary-content .loader-wrapper")).hide(), c("#load-more-examples").blur()
                },
                error: function() {},
                dataType: "json"
            }))
        }
    }(window), tmSummer = new Date(Date.UTC(2005, 6, 30, 0, 0, 0, 0)), so = -1 * tmSummer.getTimezoneOffset(), tmWinter = new Date(Date.UTC(2005, 12, 30, 0, 0, 0, 0)), wo = -1 * tmWinter.getTimezoneOffset(), -660 == so && -660 == wo && (tz = "Pacific/Midway"), -600 == so && -600 == wo && (tz = "Pacific/Tahiti"), -570 == so && -570 == wo && (tz = "Pacific/Marquesas"), -540 == so && -600 == wo && (tz = "America/Adak"), -540 == so && -540 == wo && (tz = "Pacific/Gambier"), -480 == so && -540 == wo && (tz = "US/Alaska"), -480 == so && -480 == wo && (tz = "Pacific/Pitcairn"), -420 == so && -480 == wo && (tz = "US/Pacific"), -420 == so && -420 == wo && (tz = "US/Arizona"), -360 == so && -420 == wo && (tz = "US/Mountain"), -360 == so && -360 == wo && (tz = "America/Guatemala"), -360 == so && -300 == wo && (tz = "Pacific/Easter"), -300 == so && -360 == wo && (tz = "US/Central"), -300 == so && -300 == wo && (tz = "America/Bogota"), -240 == so && -300 == wo && (tz = "US/Eastern"), -240 == so && -240 == wo && (tz = "America/Caracas"), -240 == so && -180 == wo && (tz = "America/Santiago"), -180 == so && -240 == wo && (tz = "Canada/Atlantic"), -180 == so && -180 == wo && (tz = "America/Montevideo"), -180 == so && -120 == wo && (tz = "America/Sao_Paulo"), -150 == so && -210 == wo && (tz = "America/St_Johns"), -120 == so && -180 == wo && (tz = "America/Godthab"), -120 == so && -120 == wo && (tz = "America/Noronha"), -60 == so && -60 == wo && (tz = "Atlantic/Cape_Verde"), 0 == so && -60 == wo && (tz = "Atlantic/Azores"), 0 == so && 0 == wo && (tz = "Africa/Casablanca"), 60 == so && 0 == wo && (tz = "Europe/London"), 60 == so && 60 == wo && (tz = "Africa/Algiers"), 60 == so && 120 == wo && (tz = "Africa/Windhoek"), 120 == so && 60 == wo && (tz = "Europe/Amsterdam"), 120 == so && 120 == wo && (tz = "Africa/Harare"), 180 == so && 120 == wo && (tz = "Europe/Athens"), 180 == so && 180 == wo && (tz = "Africa/Nairobi"), 240 == so && 180 == wo && (tz = "Europe/Moscow"), 240 == so && 240 == wo && (tz = "Asia/Dubai"), 270 == so && 210 == wo && (tz = "Asia/Tehran"), 270 == so && 270 == wo && (tz = "Asia/Kabul"), 300 == so && 240 == wo && (tz = "Asia/Baku"), 300 == so && 300 == wo && (tz = "Asia/Karachi"), 330 == so && 330 == wo && (tz = "Asia/Calcutta"), 345 == so && 345 == wo && (tz = "Asia/Katmandu"), 360 == so && 300 == wo && (tz = "Asia/Yekaterinburg"), 360 == so && 360 == wo && (tz = "Asia/Colombo"), 390 == so && 390 == wo && (tz = "Asia/Rangoon"), 420 == so && 360 == wo && (tz = "Asia/Almaty"), 420 == so && 420 == wo && (tz = "Asia/Bangkok"), 480 == so && 420 == wo && (tz = "Asia/Krasnoyarsk"), 480 == so && 480 == wo && (tz = "Australia/Perth"), 540 == so && 480 == wo && (tz = "Asia/Irkutsk"), 540 == so && 540 == wo && (tz = "Asia/Tokyo"), 570 == so && 570 == wo && (tz = "Australia/Darwin"), 570 == so && 630 == wo && (tz = "Australia/Adelaide"), 600 == so && 540 == wo && (tz = "Asia/Yakutsk"), 600 == so && 600 == wo && (tz = "Australia/Brisbane"), 600 == so && 660 == wo && (tz = "Australia/Sydney"), 630 == so && 660 == wo && (tz = "Australia/Lord_Howe"), 660 == so && 600 == wo && (tz = "Asia/Vladivostok"), 660 == so && 660 == wo && (tz = "Pacific/Guadalcanal"), 690 == so && 690 == wo && (tz = "Pacific/Norfolk"), 720 == so && 660 == wo && (tz = "Asia/Magadan"), 720 == so && 720 == wo && (tz = "Pacific/Fiji"), 720 == so && 780 == wo && (tz = "Pacific/Auckland"), 765 == so && 825 == wo && (tz = "Pacific/Chatham"), 780 == so && 780 == wo && (tz = "Pacific/Enderbury"), 840 == so && 840 == wo && (tz = "Pacific/Kiritimati"), "" == tz && (tz = "US/Pacific"), $.cookie("timezone", tz, {
        expires: 1,
        path: "/",
        domain: window.MV.isProd ? ".manyvids.com" : document.domain
    }), device.prototype.isMobile = !1, device.prototype.isTablet = !0, globalSettings.prototype.mvtoken = $("html").data("mvtoken"), generateCodeSource.prototype.start = "", globalSettings.prototype.bannedVidKeywords = [], globalSettings.prototype.vidTagArray = [], window.dataLayer = window.dataLayer || [], $(document).ready(function() {
        var i, s, e, t, n, a, o, r, l, d, c, u, h, p = $(document.body),
            f = ($("html"), p.hasClass("urlAnchor")),
            m = (p.hasClass("-no-footer"), $.cookie("preview"), navigator.userAgent),
            H = 0 < m.indexOf("MSIE ") || !!navigator.userAgent.match(/Trident.*rv\:11\./),
            g = (-1 < m.indexOf("Mozilla/5.0") && -1 < m.indexOf("Android ") && -1 < m.indexOf("AppleWebKit") && m.indexOf("Chrome"), 1 === $("html").data("mobile") || 1 === $("html").data("tablet")),
            v = 1 === $("html").data("tablet"),
            y = ($("#loginNow").click(function() {
                return $("#LoginSignupModal2").is(":visible") && $("#LoginSignupModal2").modal("hide"), $("#LoginSignInModal").modal("show"), !1
            }), campaignTracking(), window.MV.mvAnnouncementBanner.init(), document.getElementById("pageMetaDetails") && ((E = document.getElementById("pageMetaDetails")).getAttribute("data-meta-title") && (document.title = E.getAttribute("data-meta-title"), (x = document.createElement("meta")).name = "og:title", x.content = E.getAttribute("data-meta-title"), document.getElementsByTagName("head")[0].appendChild(x)), E.getAttribute("data-meta-description") && (document.querySelector('meta[name="description"]').setAttribute("content", E.getAttribute("data-meta-description")), (x = document.createElement("meta")).name = "og:description", x.content = E.getAttribute("data-meta-description"), document.getElementsByTagName("head")[0].appendChild(x)), E.getAttribute("data-meta-keywords") && document.querySelector('meta[name="keywords"]').setAttribute("content", E.getAttribute("data-meta-keywords")), E.getAttribute("data-meta-author") && document.querySelector('meta[name="author"]').setAttribute("content", E.getAttribute("data-meta-author")), E.getAttribute("data-meta-image")) && ((x = document.createElement("meta")).name = "og:image", x.content = E.getAttribute("data-meta-image"), document.getElementsByTagName("head")[0].appendChild(x)), /iPhone|iPad|iPod/i.test(m) && (p.addClass("ios"), $("video").css("width", "40px")), p.hasClass("ios"));

        function z(e, t, i) {
            var i = void 0 === i || i,
                t = t.slice(0);
            return !0 === i && -1 < (i = t.indexOf(e)) && "" !== e && t.splice(i, 1), -1 !== t.indexOf(e)
        }

        function b(e, t) {
            t = t || w(e);
            var t = u[t],
                i = (t.lastIndex = 0, e.val()),
                t = i.replace(t, "");
            i != t && e.val(t)
        }

        function w(e) {
            return e.hasClass("num-only") ? l : e.hasClass("js-limit-keys-username") ? c : d
        }
        g && ($("body.home, body.competition, body.store-item").addClass("scrollerDisabled"), p.addClass("android-native"), device.prototype.isMobile = !0, p.hasClass("store")), v && (device.prototype.isTablet = !0), $(".video-loop-wrapper").length && landingVideoRotator("init"), $(".global-search-wrapper").mvGlobalSearch(), lazyLoadingStart(), device.prototype.isMobile || $(".admin").length ? $("select").not(".is-hidden").addClass("visible-select").css("display", "inline") : $("select").niceSelect(), $(".contest-dropdown").click(function() {
            $(".contest-dropdown").toggleClass("open")
        }), $(document).on("submit", ".js-history-search-form", function(e) {
            e.preventDefault();
            var e = $("input[name=history_search]", $(this)).val(),
                t = $("body").data("filter-sort"),
                i = $("body").data("filter-uid");
            2 < e.length && (window.location.href = "/View-my-history/1/" + t + "&uid=" + i + "&s=" + e)
        }), $(".js-history-search-word i").click(function() {
            var e = $("body").data("filter-sort"),
                t = $("body").data("filter-uid");
            window.location.href = "/View-my-history/1/" + e + "&uid=" + t
        }), $("input").keypress(function(e) {
            13 == e.which && (e.preventDefault(), $(this).parents("form").find(".submit").trigger("click"))
        }), p.hasClass("carousel-page") && (E = (i = $("#imageCarousel")).find(".item"), s = [], $.each(E, function(e, t) {
            s.push($(this).find("img[data-username]").data("username"))
        }), S = {
            usernames: s
        }, $.ajax({
            type: "POST",
            url: "/includes/get_promo_banners.php",
            data: S,
            beforeSend: function() {
                $("#loadingDiv,#loadingOverlay").hide()
            },
            success: function(e) {
                $.each(e.banners, function(e, t) {
                    i.find('img[data-username="' + t.username + '"]').attr("src", t.banner)
                }), $("#imageCarousel").carousel({
                    interval: 5e3
                }), i.find(".loader").remove()
            },
            error: function(e) {},
            dataType: "json"
        })), $(document).on("click", "button[data-type=notification-new-feature]", function() {
            $("html").removeClass("notification-active");
            var e = $(this),
                e = {
                    type: e.data("type"),
                    cookie: e.data("cookie")
                };
            $.ajax({
                type: "POST",
                url: "/includes/create_notification_cookie.php",
                data: e,
                beforeSend: function() {
                    $("#loadingDiv,#loadingOverlay").hide()
                },
                success: function(e) {
                    $(window).trigger("resize"), fixHeight(!0)
                },
                error: function(e) {},
                dataType: "json"
            })
        }), $(".toggle-mainnav").click(function() {
            p.toggleClass("menu-open")
        }), $(".review-link").click(function() {
            $(".review-tab").trigger("click")
        }), $(".js-show-section-toggle").click(function() {
            var e = $(this),
                t = e.data("show-target"),
                i = e.data("hide-target");
            e.addClass("is-hidden"), $("." + t).removeClass("is-hidden"), $("." + i).addClass("is-hidden")
        }), $(".js-show-section-toggle-dropdown").change(function() {
            var e = $(this),
                t = e.find(":selected").data("show-target"),
                e = e.find(":selected").data("hide-target");
            $("." + t).removeClass("is-hidden"), $("." + t).find("input").prop("disabled", !1), $("." + e).addClass("is-hidden"), $("." + e).find("input").prop("disabled", !0)
        }), f && (t = window.location.hash.replace(/\s+/g, "-"), x = p.hasClass("contest"), $('.url-linked-tab [href="' + t + '"]').tab("show"), "#notifications" === t ? clearNotificationUnread($(".unread[href=#notifications]")) : "#about" === t ? $(".sidebar-nav .details").hide() : x || $('.nav-tabs li a[href="' + t + '"]').trigger("click"), x && addBoxSelect(t), lazyLoadingStart()), $(".trigger-scroll").click(function() {
            addBoxSelect("#" + $(this).data("hash"))
        }), p.hasClass("model-profile") && (m = (_ = (T = window.location.pathname).split("/"))[4].replace(/[^a-z0-9\s]/gi, ""), 0 < (e = $("a[data-service=" + m + "]:first")).length) && setTimeout(function() {
            e.trigger("click")
        }, 1500), p.hasClass("accord-anchor") && (_ = (T = window.location.pathname).substring(1, T.length).split("/"), t = window.location.hash, 1 < (v = _.length) && (E = _[v - 1].split("-"))[0] && (x = (f = $("." + E[0].toLowerCase())).parent().find(".accordion-toggle.edit"), f.collapse("show"), "mvscore" === E[0].toLowerCase() && (x.toggleClass("open"), setTimeout(function() {
            animateProgressMvScore(!0)
        }, 500)), "traffic" === E[0].toLowerCase() && getDayTraffic(moment().utc().format("M"), moment().utc().format("YYYY")), p.hasClass("anchor-scroll")) && $("html, body").animate({
            scrollTop: f.offset().top
        }, 800), t) && $(t).collapse("show"), g ? $(".masonry.js-masonry").attr("data-masonry-options", '{ "columnWidth": 160 }') : $(".masonry.js-masonry").attr("data-masonry-options", '{ "columnWidth": 225 }'), $(".signup-popup").on("click", function() {
            $(".account_link").attr("href", "/")
        }), $("#free").on("click", function() {
            $("#free").prop("checked") ? ($("#mv_girl").attr("disabled", !0), $(".account_link").attr("href", "/Be-an-MV-Member/")) : ($("#mv_girl").removeAttr("disabled"), $(".account_link").attr("href", ""))
        }), $("#mv_girl").on("click", function() {
            $("#mv_girl").prop("checked") ? ($("#free").attr("disabled", !0), $(".account_link").attr("href", "/Be-a-MV-Girl/")) : ($("#free").removeAttr("disabled"), $(".account_link").attr("href", ""))
        }), $(document).on("click", "#LoginSignupModal [data-state]", function() {
            toggleLoginSignupContent($(this).data("state"))
        }), $(document).on("click", "[href=#LoginSignupModal][data-type=login]", function() {
            toggleLoginSignupContent($(this).data("type"))
        }), $("div#ServicesCallout").on("hidden", function() {
            $(this).find(".radio-large-list").removeClass("smaller").end().find("h3").removeClass("line-height-icon").end().find(".quote").empty().end().find(".model-rules").show().end().find(".add-cart").html('<span class="cart-wrapper cart-big"><i class="cart-icon"></i></span>Checkout').end().find(".additional-details").remove().end()
        }), $("div#FundmeCallout").on("hidden", function() {
            $(this).find(".progress .progress-bar").css("width", "0%")
        }), $(".dropdown-toggle").dropdown(), $('[data-toggle="tooltip"]').tooltip(), $('[data-tooltip="hover"]').tooltip({
            trigger: "manual",
            html: !0
        }).on("mouseenter", function() {
            var e = this;
            $(this).tooltip("show"), $(".tooltip").on("mouseleave", function() {
                $(e).tooltip("hide")
            })
        }).on("mouseleave", function() {
            var e = this;
            setTimeout(function() {
                $(".tooltip:hover").length || $(e).tooltip("hide")
            }, 200)
        }), $(".logout-site").click(function() {
            var e = window.location.href.split("#");
            S = {
                currentURL: e[0],
                isIE: H
            }, $.ajax({
                type: "POST",
                url: "/Log-me-out/",
                data: S,
                cache: !1,
                success: function(e) {
                    $("#loadingDiv,#loadingOverlay").show(), window.location.href = e.location, $.cookie("jwtLocalStorage", 0, {
                        path: "/",
                        expires: -1
                    })
                },
                error: function(e) {},
                dataType: "json"
            })
        }), $("[data-bb=confirmUserDelete]").click(function(e) {
            var t = $(this);
            e.preventDefault(), window.MV.mvDialog.deleteMemberAccount("Delete Account? Are you sure you want to delete your account? (All your information and content will be removed and that this cannot be undone.)").promise.done(function(e) {
                e && (e = t.data("id"), $.ajax({
                    type: "POST",
                    url: "/includes/self-delete-user.php",
                    data: {
                        id: e
                    },
                    success: function(e) {
                        e.error ? gritter(e.error, "Oops!") : (success(e.success, "Great!"), t.parents("tr").remove(), e = {
                            currentURL: window.location.href.split("#")[0],
                            isIE: H
                        }, $.ajax({
                            type: "POST",
                            url: "/Log-me-out/",
                            data: e,
                            cache: !1,
                            success: function(e) {
                                $("#loadingDiv,#loadingOverlay").show(), window.location.href = e.location, $.cookie("jwtLocalStorage", 0, {
                                    path: "/",
                                    expires: -1
                                })
                            },
                            error: function(e) {},
                            dataType: "json"
                        }))
                    },
                    error: function() {},
                    dataType: "json"
                }))
            })
        }), $(".alpha-only").keyup(function() {
            var e = $(this).val();
            $(this).val(e.replace(/[^a-zA-Z0-9_ ]/g, ""))
        }), $("input[type=password]:not(.ignore)").blur(function() {
            var e = $(this),
                t = e.parents("form"),
                i = e.val(),
                t = $('[name="member_type"]:checked', t).val(),
                e = e.parents(".control-group");
            $(".resultPasswordStrength").empty().removeClass("weak"), 0 !== i.length && "1" !== t && checkPassword(i, e)
        }), $("a.submit, button.submit", $("form.signupForm")).click(function(e) {
            e.preventDefault(), submitModalSignupForm($(this).parents("form.signupForm"), null)
        }), $("a.submit-form", $("form")).click(function(e) {
            $(this).parents("form").submit()
        }), $("a.edit-float-btn").on("click", function() {
            var e = $(this).parents("[data-hover-edit]"),
                t = e.data("target");
            e.hasClass("active") || e.addClass("active").find("*:not(.edit-float-btn)").hide().end().find("." + t).show()
        }), $("a.cancel-field").on("click", function() {
            var e = $(this),
                t = e.parents("[data-hover-edit]").data("target");
            e.parents("[data-hover-edit]").removeClass("active").find("*:not(.edit-float-btn)").show().end().find("." + t).hide()
        }), $(".save-field").on("click", function() {
            var e = $(this),
                t = e.parents(".mv-controls");
            "" === t.find("textarea").val() || null === t.find("textarea").val() ? gritter("You cannot have an empty field.", "Oops!") : e.parents("form").submit(function() {
                $("<input />").attr("type", "hidden").attr("name", "mvtoken").attr("value", globalSettings.prototype.mvtoken).appendTo(e)
            })
        }), $("#formSave").on("click", function() {
            var e = $(this);
            e.parents("form").submit(function() {
                $("<input />").attr("type", "hidden").attr("name", "mvtoken").attr("value", globalSettings.prototype.mvtoken).appendTo(e)
            })
        }), $("select.js-go-to-url").on("change", function() {
            goToUrl($(this).val())
        }), $(".sub-header .mv-controls select").on("change", function() {
            $(".search-init").trigger("click")
        }), $(document).on("click", ".add-cart:not(.ignore)", function() {
            var s, e, t, i, n, a = $(this),
                o = $("body").hasClass("js-checkout-site");
            a.hasClass("added") || a.hasClass("disabled") || ("summary" === a.data("btn-type") ? a.parents(".js-video-card-flex") : a.parents(".js-video-player-wrapper"), s = a.data("type") || "video", e = a.data("id"), i = a.data("track-purchase"), n = $(".dropdown-menu.cart-items"), "bundle" === s && (t = a.data("image-src")), $.ajax({
                type: "POST",
                url: "/includes/add2cart.php",
                dataType: "json",
                data: {
                    id: e,
                    type: s,
                    imgSrc: t,
                    event: i
                },
                beforeSend: function() {
                    o ? $("#loadingDiv,#loadingOverlay").show() : $("#loadingDiv,#loadingOverlay").hide()
                },
                success: function(t) {
                    var e = "",
                        i = "";
                    t ? t.exceed_max_amount && t.max_amount ? e = "You cannot exceed $" + t.max_amount + " in a single transaction." : t.duplicate ? e = "This item is already in your cart." : t.duplicate_purchase ? (i = "You Already Bought This Vid!", e = "Psst! This vid is already in your library from a previous purchase.") : t.duplicate_membership ? (i = "This Vid Is Included in a Membership!", e = "Yay! This vid is already included in a model membership youÃ¢â‚¬â„¢ve purchased.") : t.error && (e = t.error) : e = "Something went terribly wrong! Contact support for additional questions.", e ? t && t.duplicate_purchase || t.duplicate_membership ? window.MV.mvDialog.alert(e, i, "Go to Library").promise.done(function() {
                        var e = "/View-my-history/1/" + (t.duplicate_membership ? "membership" : "");
                        document.location.href = e
                    }) : gritter(e, "Oops!") : ("video_download" == s ? (a.addClass("disabled added").find("i").removeClass("mv-icon-cart").addClass("mv-icon-purchased"), a.hasClass("js-video-cart-btn") && a.blur()) : (a.addClass("added").text("Added"), a.prop("title", "Added to Cart"), a.hasClass("js-video-cart-btn") && a.text("Added to Cart").blur()), window.dispatchEvent(new CustomEvent("mv-header:cart-quantity-items", {
                        detail: {
                            action: "add"
                        }
                    })), createCart(t, n, o))
                },
                error: function(e) {
                    gritter("Something went terribly wrong! Contact support for additional questions.", "Oops!")
                }
            }))
        }), $(document).on("click", ".empty-cart", function() {
            var t = $(".js-cart-wrapper"),
                i = $(".js-cart-wrapper ul"),
                s = $(".js-nav-cart"),
                n = $(".cart-icon .item-count");
            $.ajax({
                type: "POST",
                url: "/includes/emptycart.php",
                beforeSend: function() {
                    $("#loadingDiv,#loadingOverlay").hide()
                },
                success: function(e) {
                    0 < $(".checkout-full").length && window.location.reload(), i.empty(), $(".checkout-item", t).remove(), createCart([], t), n.addClass("animated rubberBand"), setTimeout(function() {
                        n.removeClass("animated rubberBand")
                    }, 1500), s.find(".item-count").hide().text(0), $("a.add-cart").hasClass("added") && ($("a.add-cart").removeClass("added").text("Add to Cart"), $("a.add-cart").prop("title", "Add to Cart")), $("a.js-video-cart-btn").text("Add to Cart"), $("a.js-video-cart-btn").prop("title", "Add to Cart"), window.dispatchEvent(new CustomEvent("mv-header:cart-quantity-items", {
                        detail: {
                            action: "empty"
                        }
                    }))
                },
                error: function(e) {},
                dataType: "json"
            })
        }), $(document).on("click", ".add-cart.added", function(e) {
            var t = $(this),
                i = t.data("id");
            $(".cart-items .remove-cart-item[data-id=" + i + "]").trigger("click"), t.find(".icon").clone().addClass("cloned removed animated-rapid fadeOut").appendTo(t.parents("div.buy-wrapper")), setTimeout(function() {
                $(".buy-wrapper .cloned.animated-rapid.fadeOut").remove()
            }, 800), window.dispatchEvent(new CustomEvent("mv-header:cart-quantity-items", {
                detail: {
                    action: "remove"
                }
            }))
        }), $(document).on("click", ".remove-cart-item", function(e) {
            var t = $(this),
                i = t.data("id"),
                s = t.data("price"),
                n = t.data("title"),
                t = t.data("brand");
            gtag && gtag("event", "remove_from_cart", {
                currency: "USD",
                value: s,
                items: [{
                    item_id: i,
                    item_name: n,
                    price: s,
                    item_brand: t,
                    quantity: 1
                }]
            })
        }), $(document).on("click", ".cart-items .remove-cart-item", function(e) {
            e.stopPropagation();
            var n, e = $(this),
                t = $(".js-cart-wrapper ul > li").length;
            1 === t ? $(".cart-items").find(".empty-cart").trigger("click") : (n = {
                items: [],
                removedItem: e.data("id")
            }, e.closest("li").remove(), $(".dropdown .item-count").text(t - 1), $.each($(".cart-items ul.cart-scroller-wrapper > li"), function(e, t) {
                var i = $(this),
                    s = i.find("a.remove-cart-item");
                n.items.push({
                    vid_id: s.data("id"),
                    type: s.data("type"),
                    imgSrc: i.find(".img-wrapper img").attr("src"),
                    title: i.find(".title").text().trim(),
                    event: i.data("track-purchase")
                })
            }), $.ajax({
                type: "POST",
                url: "/includes/remove_item_cart.php",
                data: n,
                beforeSend: function() {
                    $("#loadingDiv,#loadingOverlay").hide()
                },
                success: function(e) {
                    var t;
                    0 < $(".checkout-full").length ? window.location.reload() : (t = $("a.add-cart[data-id=" + e[0].removedItem + "]"), $(".cart-items .cart-total").text("$" + e[0].total_price), $(t).children().hasClass("line-through") ? $(t).removeClass("disabled added").find('.line-through, [class^="mv-icon-"]').replaceWith('<i class="line-through mv-icon-cart"></i>') : $(t).removeClass("disabled added").find('[class^="mv-icon-"]').replaceWith('<i class="mv-icon-cart"></i>'), t.text("Add to Cart"), t.prop("title", "Add to Cart"), e[0].promo_tokens_package ? $("#promo-tokens-package").show() : $("#promo-tokens-package").hide(), $(".promo-token-bonus-package .count").text("$" + e[0].amountToGetTokenBonus), 0 === parseInt(e[0].amountToGetTokenBonus) ? $("#promo-token-bonus").hide() : $("#promo-token-bonus").show())
                },
                error: function(e) {},
                dataType: "json"
            }))
        }), $(".checkout-full .remove-cart-item").click(function() {
            var e = $(this).data("id");
            $(".cart-items .remove-cart-item[data-id=" + e + "]").trigger("click")
        }), $(".js-store-item-shipping-country").on("change", function() {
            var e = $(this),
                t = $(".js-canadian-provinces"),
                i = $(".js-other-provinces");
            "Canada" === e.val() ? (t.removeClass("is-hidden"), i.addClass("is-hidden")) : (t.addClass("is-hidden"), i.removeClass("is-hidden"))
        }), $(".proceed-checkout").click(function(e) {
            e.preventDefault();
            var t = $(this),
                i = $("#shippingCheckoutForm"),
                e = $(".control-group input, select", i),
                s = 1 === i.data("shipping"),
                n = !1;
            e.each(function() {
                var e = $(this),
                    t = e.val(),
                    e = e.parents(".control-group"),
                    i = e.find("label").text();
                if ("" === t && !s) return e.addClass("error"), gritter("Please enter your " + i, "Oops!"), !(n = !0);
                e.removeClass("error")
            }), n || s ? !n && s && (setTimeout(function() {
                $("#loadingOverlay, #loadingDiv").show()
            }, 1e3), i.submit()) : (e = $('select[name="country"]', i).val(), e = {
                full_name: $('input[name="full_name"]', i).val(),
                address: $('input[name="street_address"]', i).val(),
                city: $('input[name="city"]', i).val(),
                province: ("Canada" === e ? $('select[name="province"]', i) : $('input[name="province"]', i)).val(),
                postal_code: $('input[name="postal_code"]', i).val(),
                country: e
            }, t.addClass("disabled"), $.ajax({
                type: "POST",
                url: "/includes/checkout_shipping_address.php",
                data: e,
                success: function(e) {
                    e.error ? (t.removeClass("disabled"), gritter(e.error, "Oops!")) : (setTimeout(function() {
                        $("#loadingOverlay, #loadingDiv").show()
                    }, 1e3), i.submit())
                },
                error: function() {},
                dataType: "json"
            }))
        }), $(document).on("keyup", ".limit-characters", function() {
            var e = $(this),
                t = e.val().length;
            e.data("limit") < t && (this.value = this.value.slice(0, -1))
        }), $(document).bind("paste", ".limit-characters", function(s) {
            setTimeout(function() {
                var e = $(s.currentTarget),
                    t = e.val().length,
                    i = e.data("limit");
                i < t && (this.value = e.val().substring(0, i))
            }, 0)
        }), $("input").keypress(function(e) {
            13 == e.which && (e.preventDefault(), $(this).parents("form").find(".submit").trigger("click"))
        }), loadDropdowns(), $(".js-datepicker-mvloft").datepicker({
            startDate: new Date,
            format: "yyyy-mm-dd",
            todayHighlight: !0
        }), $(".js-date-picker-madness").datepicker(), $(".js-date-picker-grind").datepicker(), $(".js-datepicker-month-viewmode").datepicker({
            viewMode: "months",
            minViewMode: "months",
            autoclose: !0
        }).on("changeDate", function(e) {
            redirect_datepicker_url(e.date)
        }), $(".toolTip-container").tooltip({
            container: "body"
        }), $(".add-detail-item").click(function() {
            var e = $(this),
                t = e.data("name-link"),
                i = e.parents("p"),
                s = i.find("label").text(),
                n = i.find("input.counter"),
                a = i.find(".input-row:nth-last-child(2)"),
                o = i.find(".input-row").length,
                r = o + 1;
            o < 3 ? (e.hasClass("clone-select") ? a.clone(!0, !0).appendTo(i).insertBefore(n).find("select").val("").attr({
                "data-count": r,
                name: t + r
            }).removeClass("chzn-done").css("display", "block").removeAttr("id").end().find(".chzn-container").remove().end() : a.clone(!0, !0).appendTo(i).insertBefore(n).find("input").val("").attr({
                "data-count": r,
                name: t + r
            }), n.val(r)) : gritter("You cannot have more than " + o + " " + s + "s.", "Oops!", !0)
        }), $(".details .input-row > a").click(function() {
            var e = $(this),
                t = e.parents("p"),
                i = t.find("label").text(),
                s = t.find("input.counter"),
                n = t.find("label a.add-detail-item").data("name-link"),
                a = t.find(".input-row").length;
            1 < a ? (e.parent().remove(), e = t.find(".input-row"), $.each(e, function(e, t) {
                $(t).find("select").attr({
                    "data-count": e + 1,
                    name: n + (e + 1)
                })
            }), s.val(a - 1)) : gritter("You must have at least one " + i + ".", "Oops!")
        }), $(document).on("keyup", "input.external-link", function() {
            var e = $(this),
                t = e.val();
            "http" !== t.substring(0, 4) && 7 <= t.length && e.val("http://" + t)
        }), $("a[data-signup]").click(function() {
            var e, t, i = $(this),
                s = i.data("signup");
            $("#signupFormContainer");
            s = s, i = i, e = $("#signupFormContainer"), t = "", "studio" === s ? (t = "Producers or male talent<br />that create their own content", $(".alert", e).hide(), $("input[name=create_username]", e).attr("placeholder", "Stage name")) : "model" === s ? (t = "Independent girls that<br />star in their own content", $("input[name=create_username]", e).attr("placeholder", "Stage name"), $(".alert", e).hide()) : (t = "Sign Up Now<br />Get access to FREE vids", $("input[name=create_username]", e).attr("placeholder", "Username"), $(".alert", e).fadeIn()), $(".option-box.select").removeClass("select"), $(i).parents(".option-box").addClass("select"), e.find("form").attr("action", "/includes/" + s + "_signup_be.php").end().find(".section-text").html(t), e.fadeIn()
        }), $(document).on("click", "a.like", function(e) {
            e.stopPropagation();
            var e = window.MV.isLoggedIn,
                t = $(this),
                i = t.data("type"),
                s = t.data("id"),
                n = t.data("active"),
                a = t.data("likes"),
                o = t.data("competition"),
                r = t.data("model-id") || 0,
                l = t.data("competition-date"),
                d = t.find("i").hasClass("heart xsmall"),
                c = t.find("i").hasClass("heart small"),
                u = !0 === t.find("i").data("count"),
                h = t.parent().hasClass("like-disabled"),
                p = (t.parent().hasClass("like-no-msg"), t.hasClass("all-girls")),
                f = "video" === i ? "addVideoLike.php" : "addLike.php";
            e ? (d && !u ? ("active" == n ? a - 1 == 0 ? t.html('<i class="icon heart xsmall animated rubberBand"></i>') : t.html('<i class="icon heart xsmall animated rubberBand"></i>' + (a - 1)) : t.html('<i class="icon heart xsmall active animated rubberBand"></i>' + (a + 1)), p && "active" == n ? t.parents("li").clone().remove().appendTo("ul.fav-girls").attr("data-model-id", r).find(".like.all-girls").removeClass("all-girls").addClass("fav-girls") : ($("ul.fav-girls li[data-model-id=" + r + "]").remove(), $("ul.all-girls").find(".like[data-id=" + s + "] i").removeClass("active"))) : d && u ? "active" == n ? a - 1 <= 0 ? t.html('<i class="icon heart xsmall animated rubberBand "></i>') : t.html('<i data-count="true" class="icon heart xsmall animated rubberBand "></i>' + (a - 1)) : t.html('<i data-count="true" class="icon heart xsmall active animated rubberBand "></i>' + (a + 1)) : c ? (e = $(".video-item a.like[data-id=" + s + "]"), parseInt(e.text()), t.find(".heart").remove().end().find(".heart").prepend('<i class="icon heart small like-disabled ' + n + ' animated rubberBand"></i>').end().find(".like-count").text(a), "active" === n ? e.html('<i data-count="true" class="icon heart xsmall animated rubberBand"></i> ' + a) : e.html('<i data-count="true" class="icon heart xsmall active animated rubberBand"></i> ' + a), $(".card-flex js-video-card-flex").load(location.href + ".card-flex js-video-card-flex ")) : ($(".like[data-id=" + s + "]").html('<i data-count="true" class="icon xsmall heart' + n + '"></i> '), "active" == n ? (t.html('<i data-count="true" class="icon medium heart animated rubberBand"></i>'), t.prop("title", a - 1 + " total likes")) : (t.html('<i data-count="true" class="icon medium heart active animated rubberBand"></i>'), t.prop("title", a + 1 + " total likes")), "image" === i && (p = $("[data-gallery-id=" + s + "]"), d = parseInt(p.attr("data-gallery-likes")), "true" == p.attr("data-gallery-liked") ? (p.attr({
                "data-gallery-likes": d - 1,
                "data-gallery-liked": !1
            }), t.prop("title", d - 1 + " total likes")) : (p.attr({
                "data-gallery-likes": d + 1,
                "data-gallery-liked": !0
            }), t.prop("title", d + 1 + " total likes")))), "active" == n ? t.data("active", "") : t.data("active", "active"), "active" == n ? t.data("likes", a - 1) : t.data("likes", a + 1), h || (S = {
                id: s,
                type: i,
                attributeModelID: r,
                competition: o,
                competition_date: l
            }, $.ajax({
                type: "POST",
                url: "/includes/" + f,
                data: S,
                beforeSend: function() {
                    $("#loadingDiv,#loadingOverlay").hide()
                },
                success: function(e) {
                    e.error && $("#LoginSignupModal2").modal("show")
                },
                error: function() {},
                dataType: "json"
            }))) : $("#LoginSignupModal2").modal("show")
        }), $(".js-follow-btn").click(function(e) {
            var t = $(e.currentTarget),
                e = window.MV.isLoggedIn,
                i = $(this),
                s = i.data("id"),
                n = i.data("active");
            t.hasClass("js-clicked-follow") || (e ? (t.addClass("js-clicked-follow"), "active" == n ? i.html("Follow").removeClass("follow-highlight").addClass("follow-highlight-outline") : i.html("Following").removeClass("follow-highlight-outline").addClass("follow-highlight"), "active" == n ? i.data("active", "") : i.data("active", "active"), S = {
                user_id: s
            }, $.ajax({
                type: "POST",
                url: "/social/ajax/follow-post",
                data: S,
                beforeSend: function() {
                    $("#loadingDiv,#loadingOverlay").hide()
                },
                success: function(e) {
                    e.error ? $("#LoginSignupModal2").modal("show") : e.isFirstFollowing && ($(".js-user-follow-name").html(e.followerName), $("#followingUser").modal("show")), t.removeClass("js-clicked-follow")
                },
                error: function() {},
                dataType: "json"
            })) : $("#LoginSignupModal2").modal("show"))
        }), $(document).on("click", "a.js-free-vote-profile", function() {
            var e = $(this);
            submitContestCheckout(e.data("contest-id"), e.data("user-id"), "", !1, "free", e.data("user-id"), !0, !1)
        }), $("#chooseAvatar").bind("click tap", function() {
            var e = $(".icon.avatar", ".avatar-wrapper").data("type");
            S = {
                avatar: e
            }, $.ajax({
                type: "POST",
                url: "/includes/save_avatar.php",
                data: S,
                success: function(e) {
                    e.error ? gritter(e.error, "Oops!") : window.location.reload()
                },
                error: function() {},
                dataType: "json"
            })
        }), $("#uploadProfilePic").bind("click tap", function(e) {
            e.preventDefault();
            var e = $("#editPic"),
                t = $(".model-usernames-wrapper .model-usernames", e),
                i = !1;
            "" !== $("input[name=image]", e).val() || $(".fakefile", e).data("contest-image") ? 0 < $("#contest_text", e).length && "" === $("#contest_text", e).val().trim() ? gritter("You must enter a contest quote.", "Oops!") : 0 < $("#contest_team_name", e).length && ("" === $("#contest_team_name", e).val().trim() || $("#contest_team_name", e).val().length < 4) ? gritter("Enter a team name of at least 4 characters.", "Oops!") : 0 < t.length && ($(t).each(function() {
                "" === $(this).val() && (gritter("You must select " + t.length + " team members.", "Oops!", !0), i = !0)
            }), i) || $(this).parents("form").submit() : gritter("You must select an image to upload.", "Oops!")
        }), $("#fileUploader").bind("click tap", function() {
            $("#uploadProfilePic").fadeIn()
        }), $("#fileUploader").on("change", function() {
            $(".img-crop .fakefile").removeAttr("data-contest-image").text($(this).val().split("\\").pop()), $(this).hasClass("contest-upload") || $("#uploadProfilePic").trigger("click")
        }), $(".icon.avatar").bind("click tap", function() {
            var e = $(this);
            $("#editPic .pic-wrapper img").hide(), $("#editPic .pic-wrapper .avatar").remove(), e.clone().addClass("animated flipInY").appendTo("#editPic .pic-wrapper"), $("#cancelPic").removeClass("is-hidden animated zoomOut"), $("#savePic").removeClass("is-hidden animated zoomOut"), $("#cancelPic").addClass("animated flipInY"), $("#savePic").addClass("animated flipInY"), device.prototype.isMobile && $("#chooseAvatar").trigger("click")
        }), $("#cancelPic").bind("click tap", function() {
            $("#cancelPic").removeClass("animated flipInY"), $("#savePic").removeClass("animated flipInY"), $("#cancelPic").addClass("animated zoomOut"), $("#savePic").addClass("animated zoomOut"), $("#editPic .pic-wrapper .avatar").remove(), $("#editPic .pic-wrapper img").fadeIn()
        }), $("input.binder").keyup(function() {
            bindFunction($(this))
        }), $("input.binder").bind("paste", function(e) {
            setTimeout(function() {
                bindFunction($(e.currentTarget))
            }, 0)
        }), $('.limit-check input[type="checkbox"]').change(function() {
            var e = $(this);
            5 < $('.limit-check input[type="checkbox"]:checked').length ? (e.prop("checked", !1).parent("label"), gritter("You can only select a maximum of 5 categories for your vid.", "Oops!", 1)) : e.parent("label").toggleClass("checked")
        }), $('.addons input[type="checkbox"], .shipping input[type="checkbox"], .shipping-price input[type="checkbox"]').change(function() {
            var e = $(this);
            e.parent("label").toggleClass("checked", !!e.prop("checked"))
        }), $(document).on("click", ".js-submit-confirm-2way", function() {
            loginSubmit($(this))
        }), $("input.amount").blur(function(e) {
            var t, i = $(this),
                s = i.parents(".active-service"),
                n = $("input.frequency", s).val(),
                a = $("input.amount.minutes", s).val(),
                o = $("input.amount.custom-month", s).val(),
                r = i.data("membership"),
                l = i.data("texting"),
                d = i.data("addon"),
                c = i.data("shipping"),
                u = i.data("item-price"),
                h = !i.hasClass("noformat"),
                p = i.hasClass("free-field"),
                f = "perminute" === i.data("calculate"),
                m = "percustommonth" === i.data("calculate"),
                g = "permonth" === i.data("calculate"),
                p = g || p ? parseFloat(i.val()) : $("input.amount:not(.minutes):not(.custom-month)", s).val();
            "" !== p ? (t = r ? (t = 39.99 < p && p <= 999.99 || 0 === parseFloat(p) ? cleanNum(p) : "39.99", 999.99 < p ? cleanNum(999.99) : t) : l ? (t = 3.99 < p && p <= 999.99 || 0 === parseFloat(p) ? cleanNum(p) : "3.99", 999.99 < p ? cleanNum(999.99) : t) : d ? (t = .99 < p && p <= 200 ? cleanNum(p) : "0.99", 199.99 < p ? cleanNum(199.99) : t) : (t = !u && c ? 0 < p && p <= 999.99 ? cleanNum(p) : "0.00" : 1.99 < p && p <= 999.99 ? cleanNum(p) : "1.99", 999.99 < p ? cleanNum(999.99) : t), h ? (i.val(t), r ? p < 39.99 && 0 !== parseFloat(p) && gritter("You cannot charge less than $39.99.", "Oops!", 1) : l ? p < 3.99 && 0 !== parseFloat(p) && gritter("You cannot charge less than $3.99.", "Oops!", 1) : d ? p < .99 && gritter("You cannot charge less than $0.99.", "Oops!", 1) : !u && c || p < 1.99 && gritter("You cannot charge less than $1.99.", "Oops!", 1), 999.99 < p && !d ? gritter("You cannot exceed $999.99", "Oops!", 1) : d && 199.99 < p && gritter("You cannot exceed $199.99", "Oops!", 1)) : $("input.amount:not(.minutes):not(.custom-month)", s).val(t), (f || m) && convertPerCustomField(t, f ? a : o, s), g && (convertPerMonth(t, n, s), convertPerYear(t, n, s))) : ((f || m) && convertPerCustomField(0, f ? a : o, s), g && (convertPerMonth(0, n, s), convertPerYear(0, n, s)))
        }), $(".js-collapse-toggle").click(function() {
            "false" === $(".js-collapse-toggle").attr("aria-expanded") ? setTimeout(function() {
                animateProgressMvScore(!0)
            }, 500) : animateProgressMvScore(!1)
        }), $(".accordion-toggle.edit").click(function() {
            var e = $(this);
            e.hasClass("collapsed");
            e.toggleClass("open"), e.hasClass("view-mvscore") ? e.hasClass("open") ? setTimeout(function() {
                animateProgressMvScore(!0)
            }, 500) : animateProgressMvScore(!1) : ($(".accordion-toggle.edit.open").removeClass("open"), animateProgressMvScore(!1))
        }), $("#reset-tip-goal-form").on("click", function() {
            window.MV.mvDialog.confirm('<div style="max-width:500px;">Are you sure you want to reset your goal? This will erase your current goal and your Profile will revert to the standard Ã¢â‚¬Å“TipÃ¢â‚¬Â option? </div>', "Reset", "Yes", "Cancel").promise.done(function(e) {
                var t, i;
                e && ((e = document.createElement("form")).setAttribute("action", "/includes/fund_me.php"), e.setAttribute("method", "post"), (t = document.createElement("input")).setAttribute("name", "fundMe_disable"), t.setAttribute("value", "1"), t.setAttribute("type", "hidden"), (i = document.createElement("input")).setAttribute("type", "hidden"), i.setAttribute("name", "mvtoken"), i.setAttribute("value", globalSettings.prototype.mvtoken), e.appendChild(t).appendChild(i), document.body.appendChild(e), e.submit())
            })
        }), $(document).on("click", ".save-services", function(e) {
            e.preventDefault();
            var t, e = $(this),
                a = e.parents("form"),
                i = !1;
            if ($("<input />").attr("type", "hidden").attr("name", "mvtoken").attr("value", globalSettings.prototype.mvtoken).appendTo(a[0]), $(".required", a).each(function() {
                    "" === (t = $(this)).val() ? (i = !0, t.parents(".control-group").addClass("error")) : (i = !1, t.parents(".control-group").removeClass("error"))
                }), "form_fundMe" === a.attr("id")) {
                var s = $("input[name=fundMe_goal]", a),
                    n = $("input[name=fundMe_title]", a),
                    o = $("textarea[name=fundMe_description]", a);
                0 != s.val() && "" !== s.val() || "" !== n.val() || "" !== o.val() ? s.val() < 10 ? (s.parents(".control-group").addClass("error"), gritter("Your Tip Goal amount must be at least $10.", "Oops!")) : 1e3 < s.val() ? gritter("Your Tip Goal amount must be below $1000.", "Oops!") : "" === n.val() ? gritter("Your title cannot be empty.", "Oops!") : "" === o.val() ? gritter("Your description cannot be empty.", "Oops!") : a.submit() : gritter("Please fill all fields", "Oops!")
            } else if ("form_contest" === a.attr("id")) {
                var s = $("input[name=contest_title]", a),
                    n = $("textarea[name=contest_description]", a),
                    o = $("textarea[name=available_start_date]", a),
                    r = $("textarea[name=available_start_time]", a),
                    l = $("textarea[name=available_end_date]", a),
                    d = $("textarea[name=available_end_time]", a);
                0 < $("input[name=image_contest_one]").length && $("input[name=image_contest_one]").val();
                "" === s.val() ? (s.parents(".control-group").addClass("error"), gritter("Enter a contest title", "Oops!")) : "" === n.val() ? (n.parents(".control-group").addClass("error"), gritter("Enter a contest description", "Oops!")) : "" === o.val() || "" === r.val() || "" === l.val() || "" === d.val() ? gritter("You must enter a Start & End date/time for your contest", "Oops!") : a.submit()
            } else if (i) gritter("Please fill out all the required fields", "Oops!");
            else if ("form_customVid" === a.attr("id") || "form_skype" === a.attr("id")) {
                var c = !0;
                $.each($("input.minutes", a), function(e, t) {
                    var i = (t = $(t)).val() || 0,
                        s = t.parents(".active-service").find(".user-price"),
                        n = s.val() || 0;
                    0 < i && (n = n / i, error_msg = "form_skype" === a.attr("id") ? "Video Chat Service cannot be under 2 minutes." : "Custom Vids cannot be under 2 minutes.", i < 2 && i && (gritter(error_msg, "Oops!"), t.addClass("error"), c = !1), t.removeClass("error"), n <= 1.49) && (gritter("You cannot charge less than $1.50 / min.", "Oops!"), s.addClass("error"), c = !1)
                }), c && ($("input", a).removeClass("error"), a.submit())
            } else if ("custom_vid_service" == a.attr("id"))
                if ("cancel" === e.data("action-type")) window.location.reload();
                else if ("delete" === e.data("action-type")) $("#certify").prop("checked") ? window.MV.mvDialog.confirm("Are you sure you want to delete your Custom Vids Service?").promise.done(function(e) {
                e && a.append('<input type="hidden" name="delete_service" value="1">').submit()
            }) : window.MV.mvDialog.alert("You must agree to the Terms and Conditions in order to delete the form.", "Custom Vids Service");
            else {
                for (var s = $(".js-custom-vids-form .js-custom-vids-new-inputs"), u = (0 < s.length && s.remove(), $(".js-custom-vids-form input").length), h = 0; h < u; h++) {
                    var p, f = $(".js-custom-vids-form input")[h];
                    void 0 !== $(f).data("package-id") && void 0 !== $(f).val() && "" !== $(f).val() && (0 === $(f).data("package-id") ? void 0 !== $(f).data("package-val") && a.append($("<input />").attr("type", "hidden").addClass("js-custom-vids-new-inputs").attr("name", "0[" + $(f).data("package-val") + "]").attr("value", $(f).val())) : (p = 1, 0 !== (p = 0 !== ($(f).data("type-checkbox") || 0) ? $(f).closest(".form-group").find('input[type="checkbox"]:checked').length : p) && a.append($("<input />").attr("type", "hidden").addClass("js-custom-vids-new-inputs").attr("name", $(f).data("package-id")).attr("value", $(f).val()))))
                }
                a.submit()
            } else a.submit()
        }), $(".js-save-all-membership").click(function() {
            var e = $(this).parents(".js-membership-form"),
                t = $("input[name=subs_price_1m]", e).not(":disabled").val(),
                i = $("input[name=subs_frequency_1m]", e).not(":disabled").val(),
                s = $("input[name=best_deal_1m]:checked", e).not(":disabled").val(),
                n = $("input[name=subs_price_3m]", e).not(":disabled").val(),
                a = $("input[name=subs_frequency_3m]", e).not(":disabled").val(),
                o = $("input[name=best_deal_3m]:checked", e).not(":disabled").val(),
                r = $("input[name=subs_price_6m]", e).not(":disabled").val(),
                l = $("input[name=subs_frequency_6m]", e).not(":disabled").val(),
                d = $("input[name=best_deal_6m]:checked", e).not(":disabled").val(),
                c = $("input[name=subs_price_12m]", e).not(":disabled").val(),
                u = $("input[name=subs_frequency_12m]", e).not(":disabled").val(),
                h = $("input[name=best_deal_12m]:checked", e).not(":disabled").val(),
                e = $("input[name=stream_only]:checked", e).not(":disabled").val() || 0;
            $.ajax({
                type: "POST",
                url: "/includes/saveMembership.php",
                dataType: "json",
                data: {
                    subs_price_1m: t,
                    subs_frequency_1m: i,
                    bestdeal_1m: s,
                    subs_price_3m: n,
                    subs_frequency_3m: a,
                    bestdeal_3m: o,
                    subs_price_6m: r,
                    subs_frequency_6m: l,
                    bestdeal_6m: d,
                    subs_price_12m: c,
                    subs_frequency_12m: u,
                    bestdeal_12m: h,
                    stream_only: e
                },
                success: function(e) {
                    e.error ? gritter(e.error, "Oops!") : (success(e.success, "Great!"), setTimeout(function() {
                        window.location.reload()
                    }, 2e3))
                },
                error: function() {}
            })
        }), $("a.delete-membership").click(function() {
            var e = $(this).attr("data-id");
            $("#alertBox").modal("show").find(".js-btn-submit").attr("data-delete-id", e)
        }), $("#alertBox .js-btn-submit").click(function() {
            var e = $(this).attr("data-delete-id");
            $.ajax({
                type: "POST",
                url: "/includes/deleteMembership.php",
                data: {
                    id: e
                },
                success: function(e) {
                    e.error ? gritter(e.error, "Oops!") : (success(e.success, "Great!"), window.location.reload())
                },
                error: function() {},
                dataType: "json"
            })
        }), $(document).on("click", "a.delvideo", function() {
            var e = $(this),
                t = e.attr("data-id"),
                i = "library" === e.attr("data-type"),
                s = "false" !== $("#newCummerCompliant").val(),
                n = parseInt($("#vidsCount").val()),
                a = parseInt($("#minVids").val()),
                e = parseInt(e.attr("data-launched"));
            i ? createGenericPopup("Remove vid", "<p>Are you sure you want to permanently remove this video from your Library?</p>", '<a class="btn btn-lg btn-primary" id="removeFromLibrary" data-id="' + t + '" href="javascript:;" title="Remove this video from your library">Remove vid</a>', !0, !0) : (!0 == s && n === a && 1 === e ? $("#DeactivateUser") : $("#DeleteItem")).modal("show").find(".js-btn-submit").attr("data-delete-id", t).attr("data-type", "video").attr("data-launched", e)
        }), $(document).on("click", "#removeFromLibrary", function() {
            var t = $(this).attr("data-id");
            S = {
                vid: t
            }, $.ajax({
                type: "POST",
                url: "/includes/removeFromLibrary.php",
                data: S,
                success: function(e) {
                    e.error ? gritter(e.error, "Oops!") : (success(e.success, "Great!"), 0 < $(".vid-list.library").length && $("a.delvideo[data-type=library][data-id=" + t + "]").parents(".video-summary").parent().remove(), $("#genericPopup").modal("hide"))
                },
                error: function() {},
                dataType: "json"
            })
        }), $(document).on("click", "a.delstoreitem", function() {
            var e = $(this).attr("data-id");
            $("#DeleteItem").modal("show").find(".js-btn-submit").attr("data-delete-id", e).attr("data-type", "store")
        }), $(document).on("click", "#delete-store-permanently", function() {
            var e = $(this).attr("data-id");
            $("#DeleteItem").modal("show").find(".js-btn-submit").attr("data-delete-id", e).attr("data-type", "store")
        }), $("#DeleteItem .js-btn-submit, #DeactivateUser .js-btn-submit").click(function() {
            var e = $(this),
                t = e.attr("data-delete-id"),
                i = e.attr("data-type"),
                e = e.attr("data-launched");
            i && (S = {
                id: t,
                type: i,
                launched: e
            }, $("#DeleteItem").modal("hide"), $.ajax({
                type: "POST",
                url: "/includes/deleteItem.php",
                data: S,
                success: function(e) {
                    e.error ? gritter(e.error, "Oops!") : (success(e.success, "Great!"), e[0] && "Redirect-To-Content-Manager" === e[0] ? window.location = "/MV-Content-Manager/" : (-1 !== e.success.indexOf("Store") ? "" !== window.location.hash || "#" === window.location.href.substr(-1) ? (window.location.hash = "", window.location.href += "store") : window.location.href += "#store" : -1 !== e.success.indexOf("Video") && "" !== window.location.hash && (window.location.hash = ""), window.location.reload()))
                },
                error: function() {},
                dataType: "json"
            }))
        }), $(document).on("click", "a.delservice", function() {
            var e = $(this),
                t = e.data("id"),
                e = e.data("type");
            $("#DeleteService").modal("show").find(".js-btn-submit").attr("data-id", t).attr("data-type", e)
        }), $(document).on("click", "a.end-contest", function() {
            var t = $(this).data("id");
            window.MV.mvDialog.endcontest("Are you sure you want to end your contest?").promise.done(function(e) {
                S = {
                    id: t
                }, $.ajax({
                    type: "POST",
                    url: "/includes/delete_contest.php",
                    data: S,
                    success: function(e) {
                        e.error ? gritter(e.error, "Oops!") : (success(e.success, "Great!"), window.location.href = e.href)
                    },
                    error: function() {},
                    dataType: "json"
                })
            })
        }), $("#DeleteService .js-btn-submit").click(function() {
            var e = $(this),
                t = e.data("id"),
                e = e.data("type");
            S = {
                id: t,
                type: e
            }, $.ajax({
                type: "POST",
                url: "/includes/delete-service.php",
                data: S,
                success: function(e) {
                    e.error ? gritter(e.error, "Oops!") : (success(e.success, "Great!"), window.location.reload())
                },
                error: function() {},
                dataType: "json"
            })
        }), $(document).on("click", "a.delcampaign", function() {
            var e = $(this),
                t = e.attr("data-id"),
                e = e.attr("data-type");
            $("#DeleteCampaign").modal("show").find(".js-btn-submit").attr("data-id", t), $("#DeleteCampaign").modal("show").find(".js-btn-submit").attr("data-type", e)
        }), $("#DeleteCampaign .js-btn-submit").click(function() {
            var e = $(this),
                t = e.attr("data-id"),
                e = e.attr("data-type");
            S = {
                id: t,
                type: e
            }, $.ajax({
                type: "POST",
                url: "/includes/delete-campaign.php",
                data: S,
                success: function(e) {
                    e.error ? gritter(e.error, "Oops!") : (success(e.success, "Great!"), window.location.reload())
                },
                error: function() {},
                dataType: "json"
            })
        }), $(".save-privacy").click(function(e) {
            var t = $(this).parents(".accordion-inner"),
                i = $("input[name=newsletter]", t).prop("checked"),
                s = $("input[name=newModels]", t).prop("checked"),
                n = $("input[name=newVideos]", t).prop("checked"),
                a = $("input[name=pm_models]", t).prop("checked"),
                o = $("input[name=pmReceived]", t).prop("checked"),
                t = $("input[name=hide_recentlyViewed]", t).prop("checked");
            S = {
                newsletter: i,
                newModels: s,
                newVideos: n,
                pm_models: a,
                pmReceived: o,
                hide_recentlyViewed: t
            }, $.ajax({
                type: "POST",
                url: "/includes/privacy.php",
                data: S,
                success: function(e) {
                    e.error ? gritter(e.error, "Oops!") : (success(e.success, "Great!"), window.location.reload())
                },
                error: function() {},
                dataType: "json"
            })
        }), $("#saveShippingAddress").click(function(e) {
            e.preventDefault();
            var e = $("#shipping_full_name").val(),
                t = $("#street_address").val(),
                i = $("#shipping_city").val(),
                s = $("#shipping_province").val(),
                n = $("#shipping_postal_code").val(),
                a = $("#country").val();
            0 < e.length && 0 < t.length && 0 < i.length && 0 < s.length && 0 < n.length && 0 < a.length ? $.ajax({
                type: "POST",
                url: "/includes/shippingAddress.php",
                data: {
                    full_name: e,
                    street_address: t,
                    city: i,
                    province: s,
                    postal_code: n,
                    country: a
                },
                success: function(e) {
                    e.error ? gritter(e.error, "Oops!") : (success(e.success, "Great!"), e.reload && setTimeout(function() {
                        window.location.reload()
                    }, 1600))
                },
                error: function() {},
                dataType: "json"
            }) : gritter("Please fill out every field.", "Oops!")
        }), $(".save-settings").click(function(e) {
            var t, i, s, n, a, o, r, l, d, c, u = $(this),
                h = u.parents(".js-form"),
                p = u.data("settings"),
                f = $("input[name=settings_check_password]", h).val(),
                m = $("input[name=settings_current_password_email]", h).val(),
                g = $("input[name=settings_email]", h),
                v = g.val(),
                y = g.data("current-email"),
                b = $("input[name=settings_stage_name]", h),
                w = b.val(),
                _ = $("input[name=settings_alias1]", h),
                C = $("input[name=settings_alias2]", h),
                k = $("input[name=settings_alias3]", h),
                b = b.data("current-stage-name"),
                x = $("input[name=newsletter]", h).prop("checked"),
                O = $("select[name=blocked_region]", h).val(),
                q = $("select[name=blocked_region2]", h).val(),
                N = $("select[name=blocked_region3]", h).val(),
                R = $("select[name=blocked_country]", h).val(),
                B = $("select[name=blocked_country2]", h).val(),
                U = $("select[name=blocked_country3]", h).val(),
                S = $("input[name=settings_current_password]", h).val(),
                T = $("input[name=settings_new_password]", h).val(),
                E = $("input[name=settings_confirm_password]", h).val(),
                A = $("input[name=two_way_generated_code]", h).val(),
                V = $("input[name=two_way_secret]", h).val(),
                P = !1,
                M = !1,
                D = 1 === $("[name=settings_twitter]").length,
                I = u.hasClass("disabled"),
                L = {};
            if (D && (t = $("input[name=settings_twitter]", h).val(), i = $("input[name=settings_instagram]", h).val(), s = $("input[name=settings_facebook]", h).val(), n = $("input[name=settings_tumblr]", h).val(), a = $("input[name=settings_pinterest]", h).val(), o = $("input[name=settings_googleplus]", h).val(), r = $("input[name=settings_flickr]", h).val(), l = $("input[name=settings_youtube]", h).val(), d = $("input[name=settings_fetlife]", h).val(), c = $("input[name=settings_reddit]", h).val()), !I) {
                if (v) {
                    var D = g.parents(".control-group");
                    if (!(P = checkEmail(v, D))) return
                }
                if (v && P)
                    if (m)
                        if (y !== v || b !== w || _.data("current-alias1") !== _.val() || _.data("current-alias2") !== C.val() || _.data("current-alias3") !== k.val()) {
                            if (w.length < 6 || 20 < w.length) return void gritter("Your Display name must be between 6 and 20 characters.", "Oh no!");
                            var I = [_, C, k],
                                j = [_.val(), C.val(), k.val()],
                                F = "";
                            if (void 0 !== j[0] && $.each(I, function(e, t) {
                                    var i = $(this);
                                    if (i.val(i.val().trim()), 0 < i.val().length) {
                                        if (!0 === z(i.val(), j)) return F = "Alias " + (e + 1) + " is duplicated.", !1;
                                        if (-1 !== i.val().indexOf(" "))
                                            if (!0 === z(i.val().replace(" ", ""), j, !1)) return F = "Your Alias " + (e + 1) + " is composed of the mix of other aliases.", !1;
                                        if (0 < i.val().length && (i.val().length < i.attr("minlength") || i.val().length > i.attr("maxlength"))) return F = "Your Alias " + (e + 1) + " must be between 6 and 20 characters.", !1; - 1 !== $.inArray(i.val(), globalSettings.prototype.bannedVidKeywords) && (F = "Your Alias " + (e + 1) + " contains invalid keywords.")
                                    }
                                }), "" !== F) return M = !1, void gritter(F, "Oh no!");
                            L = {
                                settings_email: v,
                                current_email: y,
                                settings_stage_name: w,
                                current_stage_name: b,
                                newsletter: x,
                                settings_current_password_email: m,
                                change_email: !0
                            }, void 0 !== j[0] && (L.alias1 = _.val(), L.alias2 = C.val(), L.alias3 = k.val()), M = !0
                        } else y === v && b === w && gritter("No changes detected.", "Oops!");
                else gritter("You must enter your current password for any changes.", "Oops!");
                else !v && S && T == E ? (passvalid2 = checkPassword(T, $("input[name=settings_new_password]", h).parents(".control-group"))) && (L = {
                    settings_current_password: S,
                    settings_new_password: T,
                    settings_confirm_password: E
                }, M = !0) : "social" === p ? (L = {
                    twitter: t,
                    instagram: i,
                    facebook: s,
                    tumblr: n,
                    pinterest: a,
                    googleplus: o,
                    flickr: r,
                    youtube: l,
                    fetlife: d,
                    reddit: c,
                    social: !0
                }, M = !0) : "security" === p ? (L = {
                    blocked_region: O,
                    blocked_region2: q,
                    blocked_region3: N,
                    blocked_country: R,
                    blocked_country2: B,
                    blocked_country3: U
                }, $("select.js-blocked-region", h).each(function() {
                    var e = $(this).val();
                    if (!(M = check_duplicate_region_countries("js-blocked-region", e, "Regions"))) return M
                }), M && $("select.js-blocked-country", h).each(function() {
                    var e = $(this).val();
                    if (!(M = check_duplicate_region_countries("js-blocked-country", e, "Countries"))) return M
                })) : "two-way-authentication-step-1" === p ? (e.preventDefault(), L = {
                    current_password: f,
                    two_way_authentication: !0
                }, "" !== f ? M = !0 : (M = !1, gritter("You must enter your account password.", "Oops!"))) : "two-way-authentication-step-3" === p ? (e.preventDefault(), L = {
                    current_password: f,
                    two_way_generated_code: A,
                    two_way_secret: V,
                    two_way_authentication: !0
                }, "" !== f ? M = !0 : "" === f ? (M = !1, gritter("You must enter your account password.", "Oops!")) : "" === A && (M = !1, gritter("You must enter your 6-digit generated code from your mobile authenticator.", "Oops!"))) : "two-way-authentication-disable" === p ? (e.preventDefault(), L = {
                    current_password: f,
                    two_way_authentication: !0,
                    two_way_authentication_disable: !0
                }, "" !== f ? M = !0 : (M = !1, gritter("You must enter your account password.", "Oops!"))) : "wire" === p || "ach" === p ? (g = $(":input, select", h), D = $(":checkbox", h), g.removeClass("error"), !g.filter(function() {
                    if ("" === $.trim(this.value) && !$(this).is(":disabled")) return $(this).addClass("error"), "" === $.trim(this.value)
                }).length && D.prop("checked") || (e.preventDefault(), D.prop("checked") ? gritter("Please enter all required fields for this payment method.", "Oops!") : gritter("Please accept the disclaimer.", "Oops!"))) : 1099 === p ? M = !0 : gritter("Your <strong>new password</strong> and <strong>confirmation password</strong> do not match.", "Oops!");
                M && $.ajax({
                    type: "POST",
                    url: "/includes/change_settings.php",
                    data: L,
                    success: function(e) {
                        var t;
                        e.error ? e.logout ? (e = {
                            currentURL: window.location.href.split("#")[0],
                            isIE: H
                        }, $.ajax({
                            type: "POST",
                            url: "/Log-me-out/",
                            data: e,
                            cache: !1,
                            success: function(e) {
                                $("#loadingDiv,#loadingOverlay").show(), window.location.href = e.location, $.cookie("jwtLocalStorage", 0, {
                                    path: "/",
                                    expires: -1
                                })
                            },
                            error: function(e) {},
                            dataType: "json"
                        })) : (gritter(e.error, "Oops!"), $("#emailResetMsg").remove()) : e.barcode ? (t = $("form.two_way_authentication"), $(".step1", t).hide(), $(".step2", t).show().find(".qr-code-wrapper").empty().html('<img src="' + e.barcode + '" /><input type="hidden" value="' + e.secret + '" name="two_way_secret"/>'), $(".step2", t).find(".secret-wrapper").empty().html('<pre style="width:50%">' + e.secret + "</pre>")) : (success(e.success, "Great!"), e.reload && setTimeout(function() {
                            window.location.reload()
                        }, 1600), e.redirect && (window.location.href = "/Login/"), v && P && ($("#emailResetMsg").remove(), $("input[name=settings_current_password_email]", h).val(""), u.closest(".row-fluid").after('<div class="alert-success alert text-center" id="emailResetMsg">' + e.success + "</div>")), !e.redirect && e.logout && (e = {
                            currentURL: window.location.href.split("#")[0],
                            isIE: H
                        }, $.ajax({
                            type: "POST",
                            url: "/Log-me-out/",
                            data: e,
                            cache: !1,
                            success: function(e) {
                                $("#loadingDiv,#loadingOverlay").show(), window.location.href = e.location, $.cookie("jwtLocalStorage", 0, {
                                    path: "/",
                                    expires: -1
                                })
                            },
                            error: function(e) {},
                            dataType: "json"
                        })))
                    },
                    error: function() {},
                    dataType: "json"
                })
            }
        }), $(document).on("click", ".js-control-login-activity", function() {
            var e = $(this),
                t = e.parents(".js-login-location-row"),
                i = t.data("region"),
                s = t.data("country"),
                t = t.data("ip"),
                e = e.data("action");
            S = {
                region: i,
                country: s,
                ip: t,
                action: e
            }, $.ajax({
                type: "POST",
                url: "/includes/control_login_activity.php",
                data: S,
                success: function(e) {
                    e.success ? (success(e.success, "Great!!"), setTimeout(function() {
                        window.location.reload()
                    }, 2e3)) : gritter(e.error, "Oops!")
                },
                error: function() {},
                dataType: "json"
            })
        }), $(document).on("click", ".js-control-login-activity-v2", function() {
            var e = $(this),
                t = e.parents(".js-login-location-row"),
                i = t.data("region"),
                s = t.data("country"),
                n = t.data("regioncode"),
                t = t.data("countrycode"),
                a = e.data("action");
            "country" === e.data("geolocationtype") && (n = i = "ALL"), S = {
                regionCode: n,
                countryCode: t,
                region: i,
                country: s,
                action: a
            }, $.ajax({
                type: "POST",
                url: "/includes/control_login_activity_v2.php",
                data: S,
                success: function(e) {
                    e.success ? (success(e.success, "Great!!"), setTimeout(function() {
                        window.location.reload()
                    }, 2e3)) : gritter(e.error, "Oops!")
                },
                error: function() {},
                dataType: "json"
            })
        }), $(document).on("click", ".js-toggle-barcode-key", function() {
            toggle_barcode_and_secret($(this).data("action"))
        }), $(document).on("click", ".js-settings-next-step", function() {
            jump_settings_next_step($(this).data("step"))
        }), $(document).on("keyup", "form.js-payment-method-form input", function() {
            var e = $(this).parents("form.js-payment-method-form");
            0 < $("input.js-payment-method-changed", e).length || e.append('<input value="1" name="payment_method_changed" type="hidden" class="js-payment-method-changed"/>')
        }), $(document).on("change", "form.js-payment-method-form .js-payment-minimum", function() {
            var e = $(this).parents("form.js-payment-method-form");
            0 < $("select.payment_method_changed", e).length || (e.append('<input value="1" name="payment_method_changed" type="hidden" />'), $(".js-payment-minimum", e).addClass("payment_method_changed"))
        }), $(document).on("click", "a.poSetup", function() {
            $.ajax({
                type: "POST",
                url: "/includes/signup-po.php"
            })
        }), $(".settings-form input").keyup(function() {
            $(this).parents(".settings-form").find(".save-settings").removeClass("disabled").attr("disabled", !1)
        }), $("a.create-membership").click(function() {
            var e = $(this),
                t = e.parents(".accordion-group");
            e.addClass("is-hidden"), t.find(".active-service").removeClass("is-hidden").end().find(".bestDeal").removeClass("is-hidden").end().find("input").attr("disabled", !1), t.find(".accordion-heading .is-hidden").removeClass("is-hidden").addClass("show").fadeIn()
        }), $("a.accordion-toggle.cancel").click(function() {
            var e = $(this).parents(".accordion-group");
            e.find(".active-service").addClass("is-hidden").end().find(".bestDeal").addClass("is-hidden").end().find("input").attr("disabled", !0), e.find(".accordion-heading .show").removeClass("show").addClass("is-hidden").fadeOut(), e.find("a.create-membership").removeClass("is-hidden")
        }), $(document).on("click", ".js-visit-video", function() {
            window.location.href = $(".js-visit-video-container").data("link")
        }), $(window).on("hashchange", function() {
            -1 < window.location.href.indexOf("specialTokenOffer") && $("#specialTokenOffer").modal("show")
        }), $(document).on("click", ".view-services", function(e) {
            e.preventDefault();
            var e = $(this),
                t = e.data("model-id"),
                i = "fundme" === e.data("service") ? $("#FundmeCallout") : "tip" === e.data("service") ? $("#ServiceRain") : $("#ServicesCallout"),
                s = e.data("model-username"),
                n = e.data("renew"),
                a = e.data("service"),
                o = e.data("tip-name"),
                r = e.data("user-id");
            "crush" === e.data("service") ? (S = {
                modelId: t
            }, $.ajax({
                type: "POST",
                url: "/includes/checkCrushMembership.php",
                data: S,
                success: function(e) {
                    !0 === e.isCrushMemberSubscribed || r === t ? window.location.href = "/Inbox/" + t + "/#crushnotes" : callModelServices(i, t, a, s, n, o)
                },
                error: function(e) {
                    console.log(e)
                },
                dataType: "json"
            })) : callModelServices(i, t, a, s, n, o)
        }), $("#ServicesCallout .serviceCheckout, #FundmeCallout .serviceCheckout, #walletModal .serviceCheckout").click(function(e) {
            e.preventDefault();
            var e = $(this),
                t = e.parents(".modal"),
                i = t.find("form"),
                s = t.find("input[name=serviceChoice]:checked").val(),
                n = t.find("input[name=userField]"),
                a = n.parents(".user-fields"),
                o = (t.find("select").val(), n.parents(".control-group")),
                r = n.val();
            if (price = s.split("-"), inputId = t.find("input[name=serviceChoice]:checked").attr("id"), $(".modal-footer .price").val(price[0]), e.addClass("disabled"), gtag && gtag("event", "begin_checkout", {
                    currency: "USD",
                    value: price[0],
                    items: [{
                        item_name: "Load Funds",
                        quantity: 1,
                        item_category: "Wallet",
                        item_price: price[0],
                        item_id: inputId
                    }]
                }), !a.hasClass("is-hidden") && 0 < n.length && "" === r) return o.addClass("error"), gritter(n.attr("placeholder"), "Oops!"), e.removeClass("disabled"), !1;
            i.submit()
        }), $("#ServiceRain .serviceCheckout").click(function(e) {
            e.preventDefault();
            var e = $(this),
                t = e.parents(".modal"),
                i = t.find("form"),
                s = t.find("input[name=serviceChoice]:checked").val(),
                n = t.find("input[name=userField]"),
                a = n.parents(".user-fields"),
                t = (t.find("select").val(), n.parents(".control-group")),
                o = n.val();
            if (price = s.split("-"), $(".modal-footer .price").val(price[0]), price[0] <= 1e3) {
                if (e.addClass("disabled"), !a.hasClass("is-hidden") && 0 < n.length && "" === o) return t.addClass("error"), gritter(n.attr("placeholder"), "Oops!"), e.removeClass("disabled"), !1;
                i.submit()
            }
        }), $(".js-make-it-rain").on("keypress", "input#inputCustomTip", function(e) {
            13 == e.which && (e.preventDefault(), $(".js-make-it-rain .serviceCheckout").length ? ("" == $(this).val() && $(".js-make-it-rain .radio-large-list li:first-child label").trigger("click"), $(".js-make-it-rain .serviceCheckout").trigger("click")) : ((e = $(".js-make-it-rain .modal-footer .btn")).trigger("click"), window.location.href = e.attr("href")))
        }), $(".js-make-it-rain").on("input change", "input#inputCustomTip", function(e) {
            e.preventDefault();
            var e = Math.round($(this).val().replace(/[$a-zA-Z]/gi, "")),
                t = $(".js-make-it-rain .makeitrain-custom__radio");
            $(".custom-tip-limit").addClass("is-hidden"), 1e3 < e && $(".custom-tip-limit").removeClass("is-hidden"), 0 < e ? ($(".js-make-it-rain .radio-large-list li.selected").removeClass("selected"), t.val(e.toString() + "-" + t.attr("data-label") + "-" + t.attr("data-user-id").toString()).trigger("click"), $(this).val("$" + e)) : ($(".js-make-it-rain .radio-large-list li:first-child label").trigger("click"), $(this).val(""), t.val(""))
        }), $(".js-make-it-rain").on("click", "li", function(e) {
            $(".js-make-it-rain .makeitrain-custom__input").val("")
        }), $(".js-make-it-rain").on("focusin", ".makeitrain-custom__input", function() {
            $(".js-make-it-rain .makeitrain-custom__radio").trigger("click"), $(".js-make-it-rain .radio-large-list li.selected").removeClass("selected")
        }), $(".js-make-it-rain").on("focusout", ".makeitrain-custom__input", function() {
            "" == $(this).val() && $(".js-make-it-rain .radio-large-list li:first-child label").trigger("click")
        }), $(".js-serviceCheckout").click(function(e) {
            e.preventDefault();
            var e = $(this),
                t = e.parents(".modal").find("form");
            e.addClass("disabled"), t.submit()
        }), $("#specialTokenOffer.modal, #specialTokenOffer .modal-close").click(function() {
            var e, t, i = window.location;
            "pushState" in history ? history.pushState("", document.title, i.pathname + i.search) : (e = document.body.scrollTop, t = document.body.scrollLeft, i.hash = "", document.body.scrollTop = e, document.body.scrollLeft = t)
        }), $(document).on("change", ".toggler", function() {
            var e = $(this),
                t = $("." + e.data("target-toggle"));
            "Natural" === e.val() ? t.attr("disabled", "disabled").parent().hide() : t.removeAttr("disabled").parent().show()
        }), $(document).on("change", ".toggler", function() {
            var e = $(this),
                t = $("." + e.data("target-toggle"));
            "Natural" === e.val() ? t.attr("disabled", "disabled").parent().hide() : t.removeAttr("disabled").parent().show()
        }), $(document).on("click", ".js-toggle-click", function() {
            var e = $(this),
                t = e.data("target-toggle"),
                i = $("." + t),
                s = e.data("menu"),
                n = $("." + s + "[data-toggle-link=" + t + "]"),
                a = $("." + e.data("target-group"));
            n.hasClass("active") || (a.removeClass("active").hide(), i.addClass("active").show(), s && ($("." + s).removeClass("active"), n.addClass("active")), e.hasClass("js-activity-control") && switchFeedActivity(t, i.attr("data-timestamp"), e.data("user-id")))
        }), $(document).on("click", ".js-show-all-activity-item", function(e) {
            e.stopPropagation(), e.preventDefault();
            var e = $(this),
                t = e.closest(".card-flex.-col-1-5.-square-img");
            t.length && (t.removeClass("-col-1-5"), e.addClass("is-hidden"))
        }), $(document).on("click", ".js-append-allActivity", function() {
            var t = $(this),
                i = t.data("offset");
            i && (type = "POST", url = "/includes/get_feed.php", t.html("Loading More...").addClass("disabled"), $.ajax({
                type: type,
                url: url,
                data: {
                    allActivity: !0,
                    offset: i
                },
                beforeSend: function() {},
                success: function(e) {
                    void 0 !== e && e ? (t.parent().before(e.activityArray), enableActivityFeedHeart(e.likedVideo), t.parent().html('<button type="button" class="btn btn-primary-outline js-append-allActivity" data-offset="' + ++i + '">Load More</button>')) : t.remove(), lazyLoadingStart()
                },
                error: function() {},
                dataType: "json"
            }))
        }), $(document).on("click", ".js-append-feed", function() {
            var i, e = $(this),
                r = "none",
                l = e.data("offset"),
                d = e.data("user-id");
            (new Date).getTime(), d && ((i = $(".js-append-feed")).html('Loading More... <img src="https://cdn3.manyvids.com/site_files/images/icons/loader-icon.png" alt="" class="loader-icon loading-anim loading middle-x-y">').addClass("disabled"), $.ajax({
                type: "POST",
                url: "/includes/get_feed.php",
                data: {
                    filterDate: r,
                    userID: d,
                    offset: "" !== l ? l : 0
                },
                beforeSend: function() {
                    $("#loadingDiv,#loadingOverlay").hide()
                },
                success: function(e) {
                    var t, s, n, a, o;
                    void 0 !== e.activityArray && (e.feedItems = e.activityArray.feedItems), void 0 !== e && 0 < e.feedItems.length && (r = e.feedItems[0].dates), t = e.feedItems, a = "", o = $(".js-append-feed"), $.each(t, function(e, t) {
                        s = "" !== t.itemTitle ? '<a class="is-link mr-1" href="' + t.itemLink + '" title="' + t.htmlTitle + '">' + t.itemTitle + "</a>" : "", n = "" !== t.soldItemLink ? '<a class="is-link mr-1" href="' + t.soldItemLink + '" title="' + t.soldItemTitle + '">' + t.soldItemTitle + "</a>" : t.soldItemTitle, flexRowCenterClass = 0 < s.indexOf("manymote-sticker") ? "" : " flex-row-center", 0;
                        /\/Profile\/(\d+)\/.*/gm.exec(t.profileLink)[1];
                        var i = t.profileLink;
                        a = '<div class="ctn-activity-feed flex-row-center mb-3 "><div class="my-activity-feed"><div class="user-pic square-size-3 "><a href="' + i + '" title="Visit the profile of ' + t.stageName + '"><img class="b-lazy user-pic-img" src="/img/loader-blank-1px.png" data-src="' + t.pic + '" alt="' + t.stageName + '"></a></div><p class="pl-2 pl-lg-1"><a href="' + t.profileLink + '" title="Visit the profile of ' + t.stageName + '"><span class="font-weight-bold">' + t.stageName + '</span></a><span class="mx-1">' + t.comment + "</span>" + n + s + "<span>" + t.dates + "</span></p></div></div>", o.parent().before(a)
                    }), lazyLoadingStart(), l += 100, void 0 !== e && e.feedItems.length < 100 ? i.remove() : i.parent().html('<button type="button" class="btn btn-primary-outline js-append-feed" data-offset="' + l + '" data-user-id="' + d + '">Load More</button>')
                },
                error: function() {},
                dataType: "json"
            }))
        }), $(document).on("click", '.btn:not([class*="-outline"])', function() {
            var t = $(this);
            t.hasClass("mdBtnAnimated") ? t.removeClass("mdBtnAnimated") : t.addClass("mdBtnAnimated"), t.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend", function(e) {
                t.removeClass("mdBtnAnimated")
            })
        }), $(document).on("click", "#emailShareSubmit", function() {
            var e = $(this),
                t = e.data("id"),
                i = e.parents("form#sendEmail").find("input[name=email]"),
                s = i.val(),
                i = i.parents(".control-group"),
                e = e.data("title");
            checkEmail(s, i) && (S = {
                id: t,
                title: e,
                email: s
            }, $.ajax({
                type: "POST",
                url: "/includes/send_share_email.php",
                data: S,
                success: function(e) {
                    e.success ? success("Your email has been sent to <strong>" + e.email + "</strong>", "Great!") : ($("#EmailShare").hide(), gritter("Something went terribly wrong.", "Oops!")), $("#EmailShare").modal("hide")
                },
                error: function() {},
                dataType: "json"
            }))
        }), $(".saveProfileOrder").click(function() {
            $(this);
            var i = [];
            $.each($("#vidsOrderList li"), function(e, t) {
                i.push($(t).attr("data-vid-id"))
            }), S = {
                vids: i
            }, $.ajax({
                type: "POST",
                url: "/includes/save_order_profile_vids.php",
                data: S,
                success: function(e) {
                    e.success ? window.location.href = e.url : gritter(e.error, "Oops!")
                },
                error: function() {},
                dataType: "json"
            })
        }), $("#modelAgreementForm button[type=submit]").click(function(e) {
            e.preventDefault();
            var e = $("#modelAgreementForm"),
                t = $("input#full_name"),
                i = $("input#dp1"),
                s = $("input#certify"),
                n = ($("input[name=img_id_1]"), $(this).data("contract-type")),
                a = "" !== t.val(),
                o = "" !== i.val(),
                r = s.is(":checked"),
                l = ($("input[name=img_id_1]").val(), $(".confirm-image-wrapper .photo-wrapper").length);
            e.find(".control-group.error").removeClass("error"), a && o && r && (1 <= l && !n || 2 <= l && n) ? e.submit() : (a || t.parents(".control-group").addClass("error"), r || s.parents(".control-group").addClass("error"), o || i.parents(".control-group").addClass("error"), gritter(n && 2 !== l ? "As a studio, you must upload 1 valid government ID, as well as a picture of you holding your ID." : "Please make sure you fill out all the fields and agree to the MV contract.", "Oops!"))
        }), $(document).on("click", ".js-mvstar-block-membership-notice", function() {
            createGenericPopup("Congrats on Your Membership Sale!", '<p>Your fan will have access to their new membership once we approve the purchase.</p><p>Contact our MV Support Team for more info <a href="mailto:help@manyvids.com" title="Email our Support Team">help@manyvids.com</a></p><p>Keep up the great work!</p>', "", !0, !0)
        }), $(document).on("click", ".js-download-btn:not(.ready)", function(e) {
            e.preventDefault(), e.stopPropagation();
            var e = $(this),
                t = e.attr("href");
            $("#downloadVideo"), e.parents(".video-info").find("h3 a").text();
            $.ajax({
                type: "POST",
                url: t,
                success: function(e) {
                    var t;
                    e.error ? e.premiumPopup ? e.session ? $(".js-url-linked-premium-pop-up").trigger("click") : $("#LoginSignupModal2").modal("show") : e.membershipBlock ? createGenericPopup("Thank you!", '<p>Your Purchase was Successful!</p><p>This transaction is on hold for review. Just one more step to get membership access! Please contact our MV Support Team at <a href="mailto:help@manyvids.com" title="Email our Support Team">help@manyvids.com</a></p><p>Good things come to those who wait!</p>', "", !0, !0) : gritter(e.error, "Oops!") : ((t = $("#downloadVidModal")).modal("show"), $("#downloadOriginalVid [rel=size]").text("(" + e.original.file_size + ")"), $("#downloadOriginalVid", t).attr({
                        href: e.original.file_url,
                        download: e.original.file_title + "." + e.original.file_ext,
                        "data-file-extension": e.original.file_ext
                    }).addClass("ready"), e.transcoded && "#" !== e.transcoded.file_url ? ($("#downloadTranscodedVid [rel=size]").text("(" + e.transcoded.file_size + ")"), $("#downloadTranscodedVid", t).attr({
                        href: e.transcoded.file_url,
                        download: e.transcoded.file_title + "." + e.transcoded.file_ext,
                        "data-file-extension": e.transcoded.file_ext
                    }).addClass("ready").show()) : $("#downloadTranscodedVid", t).hide())
                },
                error: function() {},
                dataType: "json"
            })
        }), $(document).on("click", ".js-download-file", function(e) {
            e.preventDefault(), e.stopPropagation();
            e = "/download_file.php?" + $(this).data("download");
            $.ajax({
                type: "POST",
                url: e,
                success: function(e) {
                    var t, i;
                    e.error ? gritter(e.error, "Oops!") : (t = $("#downloadFileModal"), i = e.file_url, t.modal("show"), $("#downloadFile", t).attr({
                        href: i,
                        download: e.file_title
                    }))
                },
                error: function() {},
                dataType: "json"
            })
        }), $("select.selectToggle").change(function() {
            var e = $(this),
                t = e.data("target"),
                e = e.val();
            "" !== t && ($("." + t).hide().removeClass("animated fadeIn"), $("." + e).show().addClass("animated fadeIn"), lazyLoadingStart())
        }), $(document).on("click", "#downloadVid", function() {
            var e = $(this).data("file-extension").toLowerCase();
            $("#downloadVidModal").modal("hide"), !y || "wmv" !== e && "avi" !== e || ($("#loadingDiv,#loadingOverlay").fadeIn(), $("#loadingDiv").append('<div class="t-margin-less"></div>Downloading Vid<br />to iPhone'))
        }), $(document).on("click", "#downloadFile", function() {
            $("#downloadFileModal").modal("hide")
        }), $(".forgot_details", $("#LoginSignupModal")).click(function() {
            var e = $(this),
                i = e.data("action"),
                t = e.parents("form"),
                s = $("input[name=email]", t),
                n = $("input[name=new_pass]", t),
                a = $("input[name=con_pass]", t),
                o = $("input[name=username]", t),
                r = $("input[name=token]", t);
            if ("confirm-password" === i) {
                if (n.val() !== a.val()) return gritter("Your passwords do not match. Please make sure both the new password and confirm password fields are the same.", "Oops!"), n.addClass("error"), void a.addClass("error");
                if (!checkPassword(n.val(), e.parents(".control-group"))) return void n.addClass("error")
            } else if ("" === s.val()) return s.addClass("error"), void gritter("Please enter your email address", "Oops!");
            $("input", t).removeClass("error");
            a = {
                action: i,
                email: s.val(),
                password: n.val(),
                token: r.val(),
                username: o.val()
            };
            $.ajax({
                type: "POST",
                url: "/includes/get_credentials.php",
                data: a,
                success: function(e) {
                    var t;
                    e.success ? (-1 != ["username", "password", "confirm-password"].indexOf(i) ? (t = $(".alert.alert-success.global").html(e.success).removeClass("is-hidden abs").fadeIn("fast").insertAfter(".insert-alert-" + i), setTimeout(function() {
                        t.fadeOut(function() {
                            $(this).addClass("is-hidden abs").empty().insertAfter("#warning18Popup")
                        })
                    }, 3500)) : success(e.success, ""), "confirm-password" === i && setTimeout(function() {
                        window.location.href = "/Login"
                    }, 1e3)) : (0 !== $(".gritter-item-wrapper").length && $("#gritter-notice-wrapper").remove(), gritter(e.error, "Oops!"))
                },
                error: function() {},
                dataType: "json"
            })
        }), $(document).on("click", "#getShippingDetails", function() {
            var e = $(this).data("id"),
                t = $("#viewShippingDetails");
            S = {
                id: e
            }, $.ajax({
                type: "POST",
                url: "/includes/get_shipping_details.php",
                data: S,
                success: function(e) {
                    e = e.shipping_info;
                    t.find("p > span").empty(), t.modal("show"), t.find(".fullname").text(e.full_name).end().find(".address").text(e.street_address).end().find(".city").text(e.city).end().find(".province").text(e.province).end().find(".country").text(e.country).end().find(".postal-code").text(e.postal_code)
                },
                error: function(e) {},
                dataType: "json"
            })
        }), $(document).on("click tap", "[data-toggle=tab]", function(e) {
            e.stopPropagation();
            $(this);
            lazyLoadingStart()
        }), $("ol.vertical.fixed-height").on("scroll", function() {
            lazyLoadingStart()
        }), $(document).on("click", ".radio-large-list > li", function() {
            $(".radio-large-list > li").removeClass("selected"), $(this).addClass("selected"), $(this).find("input").prop("checked", !0)
        }), n = $(".typeahead.js-conversation-new-message-username"), a = null, n.typeahead({
            hint: !0,
            minLength: 3,
            items: 10,
            name: "usernames",
            displayKey: "value",
            source: function(e, s) {
                var t, i = {
                    type: "POST",
                    url: "/includes/get_inboxable_usernames.php",
                    cache: "false",
                    data: {
                        username: e
                    },
                    dataType: "json",
                    error: function(e) {
                        e.error && gritter(e.error, "Oops!")
                    },
                    beforeSend: function(e) {
                        $("#loadingDiv,#loadingOverlay").hide()
                    },
                    success: function(e) {
                        if (e.error) return gritter(e.error, "Oops!", !0), !1;
                        for (var t = [], i = 0; i < e.usernames.length; i++) t.push(e.usernames[i].profile_pic + "," + e.usernames[i].username + "," + e.usernames[i].studio);
                        s(t)
                    }
                };
                t = function() {
                    $.ajax(i)
                }, e = 800, clearTimeout(a), a = setTimeout(function() {
                    t()
                }, e)
            },
            highlighter: function(e) {
                var t = "",
                    e = e.split(","),
                    t = '<div class="media m-1"><div class="pr-2 flex-center-center ' + (t = "true" === e[2] ? "orange" : t) + '"><span class="user-pic square-size-2"><img alt="" class="user-pic-img" src="' + e[0] + '"></span></div><div class="media-body text-truncate">' + e[1] + "</div></div>";
                return $(".js-conversation-new-message-profile-pic").length && $(".js-conversation-new-message-profile-pic").html(""), t
            },
            sorter: function(e) {
                return e
            },
            updater: function(e) {
                e = e.split(",");
                return $(".typeahead.inbox-usernames").val(e[1]), n.trigger("mv:new-user-selected", {
                    user: e
                }), e[1]
            }
        }), m = {
            hint: !0,
            minLength: 2,
            items: 5,
            matcher: function(e, t) {
                return !0
            },
            source: function(e, n) {
                var t = $(this)[0].$element,
                    e = {
                        type: "POST",
                        url: "/includes/get_mvgirls_studios_usernames.php",
                        cache: "false",
                        data: {
                            username: e,
                            contest: t.hasClass("js-contest-entry"),
                            contestID: t.data("contest-id")
                        },
                        dataType: "json",
                        error: function(e) {
                            e.error && gritter(e.error, "Oops!")
                        },
                        beforeSend: function(e) {
                            $("#loadingDiv,#loadingOverlay").hide()
                        },
                        success: function(e) {
                            if (e.error) return gritter(e.error, "Oops!", !0), !1;
                            for (var t = [], i = 0; i < e.usernames.length; i++) {
                                var s = !1;
                                e.usernames[i].contest && (s = e.usernames[i].contest.team_name), t.push(e.usernames[i].profile_pic + "," + e.usernames[i].username + "," + e.usernames[i].studio + "," + e.usernames[i].uid + "," + s)
                            }
                            n(t)
                        }
                    };
                $.ajax(e)
            },
            highlighter: function(e) {
                var t = "",
                    i = "",
                    e = e.split(",");
                return "true" === e[2] && (t = "orange"), '<div class="media m-1 ' + (i = "false" !== e[4] ? "disabled" : i) + '"><div class="pr-2 flex-center-center ' + t + '"><span class="user-pic square-size-2"><img alt="" class="user-pic-img" src="' + e[0] + '"></span></div><div class="media-body text-truncate">' + e[1] + "</div></div>"
            },
            sorter: function(e) {
                return e
            },
            updater: function(e) {
                var t, e = e.split(","),
                    i = $(this)[0].$element;
                if ($("body").hasClass("js-shipping-to") && (t = $("#shippingCheckoutForm"), $("input:not(.skip-disabled), select", t).prop("disabled", !0), t.addClass("js-reactivate-shipping-address").attr("data-shipping", "1").find(".control-group").addClass("semi-opacity"), $("[name=recipiant_id]", t).val(e[3])), "false" === e[4] || i.data("old-value") === e[1]) return $(this).val(e[1]), e[1];
                gritter(e[1] + " is already part of team " + e[4] + ".", "Oops!")
            },
            name: "usernames",
            displayKey: "value"
        }, 0 < $("body.js-typeahead-models-studios").length && $(".typeahead.model-usernames").typeahead(m), $(document).on("keyup", ".js-typeahead-models-studios .typeahead.model-usernames", function(e) {
            e.stopPropagation()
        }), $(document).on("click", "a[href=#GeneralPopup]", function(e) {
            var t = $(this),
                i = t.parents("form").attr("id"),
                s = t.attr("title"),
                n = t.attr("data-body"),
                a = t.attr("data-btn-text"),
                o = $(t.attr("href")),
                r = t.data("graph");
            e.preventDefault(), o.modal("show"), o.find(".modal-body").html(n), r ? (o.find(".btn").hide(), o.find("h3").html('<a href="http://www.alexa.com/siteinfo/manyvids.com" title="View MV alexa ranking" target="_blank">' + s + "</a>"), getAlexaGraphInfo()) : (o.find("h3").html(s), i = 0 < t.parents("form").length ? i : o.find("form").attr("id"), o.find(".btn").show(), o.find(".js-btn-submit").attr("data-target", i).text(a))
        }), $("#GeneralPopup .js-btn-submit").click(function(e) {
            var t = $(this).attr("data-target");
            $("#" + t).submit()
        }), $(document).on("submit", "#commentHistoryForm", function(e) {
            var t = $(this).find("textarea");
            submitComment(t)
        }), $(document).on("submit", ".js-promo-blaster-form", function(e) {
            e.preventDefault(), socialFrequency1 = $("input[name=frequency_1]:checked").val(), socialFrequency2 = $("input[name=frequency_2]:checked").val(), creativeType = $("input[name=creative_type]:checked").val(), socialFrequency1 && socialFrequency2 && creativeType ? ($(this), (e = new FormData($(this)[0])).append("mvtoken", globalSettings.prototype.mvtoken), $.ajax({
                url: "/includes/save_promo_blaster.php",
                type: "POST",
                data: e,
                dataType: "json",
                success: function(e) {
                    e.error ? gritter(e.error, "Oops!") : success("Your Promo Blaster settings have been saved.", "Great!")
                },
                cache: !1,
                contentType: !1,
                processData: !1
            })) : gritter("Please select all frequency settings for tweets.", "Oops!")
        }), g ? $(document).on("click", "ol.boxone li a, ol.boxtwo li a", function() {
            var e = $(this).parent(),
                t = $(".btn[href=#generateMVcode]"),
                i = $(this).parent().parent(),
                s = "Vids";
            (i.hasClass("boxoneStore") || i.hasClass("boxtwoStore")) && (s = "Store"), e.clone().appendTo(".box" + e.parent().data("target") + s), e.remove(), 0 !== $("#vidsShared > li").length ? t.removeClass("disabled") : t.addClass("disabled"), $("#included-membership-title b").html($("#vidsMembership > li").length), $("#excluded-membership-title b").html($("#vidsNonMembership > li").length)
        }) : 0 < $("ol.simple_with_animation").length && (o = $("ol.simple_with_animation").html(), $("ol.simple_with_animation").sortable({
            group: "simple_with_animation",
            pullPlaceholder: !1,
            onDrop: function(e, t, i) {
                var s = $("<li/>").css({
                        height: 0
                    }),
                    n = $(".btn[href=#generateMVcode]"),
                    a = parseInt($(".mvcredit-number").text());
                e.before(s), s.detach(), i(e), generateCodeSource.prototype.start != t.target.attr("id") && (parseInt($(".mvcredit-number b").text()) <= "0" ? $("ol.simple_with_animation").sortable("disable") : "vidsLibrary" === t.target.attr("id") ? $(".mvcredit-number b").text(a + 1) : $(".mvcredit-number b").text(a - 1)), 0 !== $("#vidsShared > li").length ? n.removeClass("disabled") : n.addClass("disabled")
            },
            onDragStart: function(e, t, i) {
                var s, n;
                parseInt($(".mvcredit-number b").text()) <= "0" ? ($("ol.simple_with_animation").sortable("disable"), gritter("You are now out of credits. Click on 'Buy credits' in order to add more vids.", "Oops!")) : (generateCodeSource.prototype.start = t.target.attr("id"), s = e.offset(), n = t.rootGroup.pointer, r = {
                    left: n.left - s.left,
                    top: n.top - s.top
                }, i(e, t))
            },
            onDrag: function(e, t) {
                e.css({
                    left: t.left - r.left,
                    top: t.top - r.top
                })
            }
        })), 0 < $("ol.sortable_only").length && $("ol.sortable_only").sortable(), $(document).on("click", "#saveVidList:not(.disabled)", function() {
            var i = [],
                e = $(this).parents("form"),
                t = ($.each($("#vidsShared li"), function(e, t) {
                    i.push($(t).attr("data-vid-id"))
                }), [{
                    name: "listIds",
                    value: i
                }]);
            e.append($.map(t, function(e) {
                return $("<input>", {
                    type: "hidden",
                    name: e.name,
                    value: e.value
                })
            })), e.submit()
        }), $(document).on("click", ".btn[href=#generateMVcode]:not(.disabled)", function() {
            var i = [],
                t = $(this),
                e = t.data("test"),
                e = ($.each($("#vidsShared li"), function(e, t) {
                    i.push($(t).attr("data-vid-id"))
                }), {
                    vid_array: i,
                    test: e
                });
            0 < i.length ? $.ajax({
                type: "POST",
                url: "/includes/generate_mvcode.php",
                data: e,
                success: function(e) {
                    e.success ? (t.addClass("disabled"), success("Your MV link has been created.", "Great!"), $(".mvcredit-number b").text(e.balance), $("#generateMVcode").find("input").val("https://www.manyvids.com/MVlink/" + e.MVcode).end().modal("show"), $("ol#vidsLibrary").html(o), $("ol#vidsShared").html("")) : gritter(e.error, "Oh no!")
                },
                error: function() {},
                dataType: "json"
            }) : gritter("Please drag at least 1 vid to the right.", "Oh no!")
        }), $(document).on("click", ".delete_mvcode", function() {
            var t = $(this),
                i = t.data("mvcode-id");
            window.MV.mvDialog.deletemvcode("Are you sure you want to delete this MV Link?").promise.done(function(e) {
                $.ajax({
                    type: "POST",
                    url: "/includes/delete_mvcode.php",
                    data: {
                        mvcode_id: i
                    },
                    success: function(e) {
                        "complete" === e.status ? (t.parents("tr").remove(), $(".mvcredit-number b").text(parseInt($(".mvcredit-number b").text()) + parseInt(e.refund)), success("Your MV link has been deleted and can no longer be used.", "Great!")) : "redeemed" === e.status ? gritter("Your MV link has already been redeemed on the " + e.date_redeemed + ".", "Oh no!") : gritter(e.error, "Oh no!")
                    },
                    error: function() {},
                    dataType: "json"
                })
            })
        }), $(document).on("click", ".js-form-submit-checkout:not(.disabled)", function() {
            var e = $(this),
                t = e.hasClass("itemCheckout"),
                i = e.parents("form"),
                s = i.find('input[name="string"]');
            0 == s.length && (s = i.find('input[name="encryptedString"]'));
            try {
                var n, a, o = s.data("cart-items");
                o && (n = s.data("cart-value"), a = s.data("cart-coupon"), gtag) && gtag("event", "purchase", {
                    currency: "USD",
                    value: n,
                    coupon: a,
                    items: o
                })
            } catch (e) {}
            t || ($(".js-form-submit-checkout").addClass("disabled"), $(".js-form-submit-checkout").prop("disabled", !0), "mvpay" === e.data("type") ? e.text("Purchasing...") : "one-click" === e.data("type") ? e.text("Processing...") : e.text("Redirecting..."), i.submit())
        }), $(document).on("click", "#deletePromoCode", function(e) {
            var t = {
                id: $(this).data("id")
            };
            $.ajax({
                type: "POST",
                url: "/includes/delete_promo_codes.php",
                data: t,
                success: function(e) {
                    e.success ? (success(e.success, "Great!"), $("#genericPopup").modal("hide"), setTimeout(function() {
                        window.location.href = "/Promo-codes/"
                    }, 500)) : gritter(e.error, "Oops!")
                },
                error: function() {},
                dataType: "json"
            })
        }), $(document).on("click", ".js-delete-promo-code", function(e) {
            createGenericPopup("Delete promo code", "<p>Are you sure you want to delete this code for good !?</p>", '<a class="btn btn-lg btn-primary" id="deletePromoCode" data-id="' + $(this).data("id") + '" href="javascript:;" title="Delete this promo code permanantly">Delete</a>', !0, !0)
        }), $(".js-promo-code-type").change(function() {
            var e = $(this).val(),
                t = $(".js-percentage-dd-label"),
                i = $(".js-percentage-dd-discount"),
                s = $(".js-percentage-dd-markup");
            "1" === e ? (t.text("Discount %"), i.parents(".js-dd-promo-wrapper").show(), s.parents(".js-dd-promo-wrapper").hide(), i.removeAttr("disabled"), s.attr("disabled", "disabled")) : "2" === e && (t.text("Markup %"), i.parents(".js-dd-promo-wrapper").hide(), s.parents(".js-dd-promo-wrapper").show(), i.attr("disabled", "disabled"), s.removeAttr("disabled")), i.niceSelect("update"), s.niceSelect("update")
        }), $(document).on("click", ".js-control-profile-vid-search", function(e) {
            var t = $(this).data("tag-id"),
                i = $(".js-profile-categories");
            $(".js-vid-list-tab", ".profile-nav-inner").trigger("click"), i.val(t).trigger("chosen:updated"), i.trigger("change")
        }), $(document).on("submit", "#createPromoCodeForm", function(e) {
            e.preventDefault();
            var e = $(this),
                t = $("input[name=title]", e),
                i = "2" === $(".js-promo-code-type:checked").val() ? $(".js-percentage-dd-markup", e) : $(".js-percentage-dd-discount", e),
                s = $(".js-who-can-use input:checked", e).length,
                n = $(".js-apply-to-what input:checked", e).length,
                e = ($("input[name=code_active]:checked", e), new FormData(e[0]));
            e.append("mvtoken", globalSettings.prototype.mvtoken), "" === t.val() ? gritter("Please enter a title for your promo code.", "Oops!") : "" === i.val() ? gritter("Please enter a precentage for your promo code.", "Oops!") : 0 === s ? gritter("Please choose at least one group of users who can use this code.", "Oops!") : 0 === n ? gritter("Please choose at least 1 category your promo code can be applied to.", "Oops!") : $.ajax({
                type: "POST",
                url: "/includes/create_promo_codes.php",
                data: e,
                success: function(e) {
                    var t;
                    e.success ? (success(e.success, "Great!"), e.code_details && (t = "<tr><td>" + (t = e.code_details).code + "</td><td>" + t.title + '</td><td class="text-center">' + t.discount + '%</td><td class="text-center">' + t.start_date + '</td><td class="text-center">' + t.end_date + '</td><td class="text-center">' + ("1" === t.status ? "Yes" : "No") + '</td><td class="text-center">0<small>x</small></td><td class="text-center"><a href="/Promo-codes/' + t.id + '" title="Edit promo code" class="btn btn-mini info l-margin-less">Edit</a><a href="javascript:;" id="deletePromoCode" title="Delete promo code" data-id="' + t.id + '"><i class="icon xsmall mv-icon-clear l-margin-less"></i></a></td></tr>', $("#promo_code_history tbody").prepend(t)), setTimeout(function() {
                        window.location.href = "/Promo-codes/"
                    }, 500)) : gritter(e.error, "Oops!")
                },
                error: function() {},
                dataType: "json",
                cache: !1,
                contentType: !1,
                processData: !1
            })
        }), $(document).on("click", ".js-reactivate-shipping-address", function() {
            var e = $(this);
            e.removeClass("js-reactivate-shipping-address").removeAttr("data-shipping").find(".semi-opacity").removeClass("semi-opacity"), $("input, select", e).prop("disabled", !1), e.find(".control-group:first input").focus(), $(".typeahead.model-usernames, [name=recipiant_id]").val("")
        }), $(".itemCheckout:not(.disabled)").click(function(e) {
            e.preventDefault();
            var e = $(this),
                t = e.attr("href");
            $("#shippingCheckoutForm");
            e.hasClass("js-form-submit-checkout") ? e.parents("form").submit() : window.location.href = t
        }), $(document).on("change", "select#sale", function() {
            var e = $(this).val();
            "" !== e && "0" !== e && $("i.icon.promo").attr("class", "").addClass("icon promo p" + e).hide().fadeIn()
        }), $(".storeStatusFlag").on("change", function() {
            var e = $(this),
                t = e.data("id"),
                i = e.val(),
                s = 1 === e.find('option[value=""]').length,
                e = e.attr("data-current-status");
            "" !== i && i !== e && setStoreStatus(t, i, s)
        }), $(".js-select-submit").on("change", function() {
            var e = $(this);
            "" !== e.val() && e.parents("form").submit()
        }), $(document).on("click", "#modifyMembershipVids", function() {
            var s = [],
                i = [],
                e = ($.each($("#vidsMembership li"), function(e, t) {
                    var i = $(t).find("[name=exclusive_checkbox_" + $(t).attr("data-vid-id") + "]:checked").val() || 0;
                    s.push($(t).attr("data-vid-id") + "-" + i)
                }), $.each($("#vidsNonMembership li"), function(e, t) {
                    i.push($(t).attr("data-vid-id"))
                }), {
                    vid_membership_array: s,
                    vid_nonmembership_array: i
                });
            $.ajax({
                type: "POST",
                url: "/includes/customize_membership_vids.php",
                data: e,
                success: function(e) {
                    e.success ? (success("Your Vid Bundle has been customized.", "Great!"), setTimeout(function() {
                        window.location.reload()
                    }, 1e3)) : gritter(e.error, "Oh no!")
                },
                error: function() {},
                dataType: "json"
            })
        }), $(".rateForm.active .star-rating").hover(function() {
            for (var e = $(this), t = e.parent(".rateForm"), i = (t.find(".star-rating").html("&#9675"), e.data("rating")), s = 1; s <= i; s++) t.find(".star-rating[data-rating=" + s + "]").html("&#9679")
        }, function() {
            for (var e = $(this).parent(".rateForm"), t = (e.find(".star-rating").html("&#9675"), e.find(".userRating").val()), i = 1; i <= t; i++) e.find(".star-rating[data-rating=" + i + "]").html("&#9679");
            t % 1 != 0 && e.find(".star" + Math.ceil(t)).html("&#9680")
        }), $(".rateForm.active .star-rating").click(function() {
            for (var e = $(this), t = e.parent(".rateForm"), i = (t.find(".star-rating").html("&#9675"), e.data("rating")), s = 1; s <= i; s++) t.find(".star-rating[data-rating=" + s + "]").html("&#9679");
            t.find(".userRating").attr("value", i)
        }), $(".rateForm .rate").click(function() {
            var e = $(this),
                t = e.siblings(".userRating").val();
            "0" != (t = "2" != t && "3" != t && "4" != t && "5" != t ? "0" : t) && (S = {
                rating: t,
                type: e.data("type"),
                type_id: e.data("type-id")
            }, $.ajax({
                type: "POST",
                url: "/includes/add_rating.php",
                data: S,
                success: function(e) {
                    e.error ? gritter(e.error, "Oops!") : success(e.success, "Great!")
                },
                error: function() {},
                dataType: "json"
            }))
        }), $("#shippingConfirm").click(function() {
            var e = $(this),
                t = $("#storeConfirmShipping"),
                e = e.attr("data-id"),
                i = t.find("[name=shipping_company]"),
                s = t.find("[name=tracking_number]");
            if ("" === i.val()) return i.parents(".control-group").addClass("error"), gritter("You must enter a shipping company.", "Oops!"), !1;
            t.find("error").removeClass("error");
            e = {
                id: e,
                status: "Shipped",
                shipping_company: i.val(),
                tracking_number: s.val()
            };
            t.modal("hide"), saveStoreStatus("Shipped", e, !1)
        }), $(".js-store-addon-checkbox").on("change", function() {
            var e = $(this).parents(".js-store-addon-container"),
                t = $(".js-store-total-price"),
                i = $(".js-final-price"),
                s = +t.data("original-price"),
                e = e.find(".js-store-addon-checkbox:checked");
            e.each(function(e) {
                s += +$(this).data("price")
            }), i.text("$" + cleanNum(s)), t.removeClass("is-hidden", !e.length)
        }), $(".video-preview-popup").click(function() {
            createGenericPopup("Video", '<video id="tour_video" class="video-js vjs-default-skin b-margin popupVid"controls preload="auto" width="100%" height="368"poster="https://s3.amazonaws.com/manyvids-site-data/site_files/videos/tour.jpg"' + "data-setup=\"{'controls': false, 'loop': 'true', 'autoplay': false, 'preload': true}\"><source src=\"" + $(this).data("video-src") + '" type="video/mp4" /><p class="vjs-no-js">To view this video please enable JavaScript, and consider upgrading to a web browser that <a href="http://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a></p></video>', "", !1, !0)
        }), $(document).on("hidden.bs.modal", "#genericPopup", function() {
            $(this).remove()
        }), $(".video-blog-gallery").click(function() {
            var e = $(this),
                t = e.data("video-src"),
                i = e.data("gallery-video-id"),
                s = $("#defaultGalleryVideoExternal"),
                n = 1 === e.data("external"),
                a = $(".js-post-thumb"),
                i = $(".js-rmp-player[data-vid=" + i + "]"),
                e = e.data("vimeo");
            a.find("img:not(.rmp-poster-img)").hide(), $(".control-video-layer").show(), n ? 0 === s.length ? a.append(e ? '<iframe id="defaultGalleryVideoExternal" src="https://player.vimeo.com/video/' + t + '?color=ff4081&byline=0" width="100%" style="min-height:492px" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>' : '<div class="video-iframe-wrapper"><iframe width="100%" style="min-height:492px" id="defaultGalleryVideoExternal" src="' + t + '" frameborder="0" allowfullscreen></iframe></div>') : s.show() : (0 < $("#defaultGalleryVideo").length && $("#defaultGalleryVideo").remove(), 0 !== i.length && 0 < i.length && i.show())
        }), $(document).on("click tap", ".image-blog-popover", function() {
            openPreview($(this), "", "", !1, !0)
        }), $(document).on("click", ".poll-wrapper:not(.answered) .poll-select-option", function() {
            var e = $(this),
                n = e.parents(".poll-wrapper"),
                a = $(".poll-result", n),
                t = e.find("input[name=poll_option]"),
                i = n.data("poll-id"),
                i = {
                    option_id: t.val(),
                    poll_id: i
                };
            $(".poll-select-option", n).removeClass("selected"), e.addClass("selected"), t.prop("checked", !0), $.ajax({
                type: "POST",
                url: "/includes/submit_poll_option.php",
                data: i,
                success: function(e) {
                    var t, i = e.result_answer,
                        s = e.result_description;
                    textAnswer = e.answer ? (t = '<i class="icon medium correct-icon"></i>', "You got it right!") : (t = '<i class="icon medium wrong-icon"></i>', "You got it wrong!"), $(".result_answer_flag", a).html(t + " " + textAnswer), $(".result_answer", a).html(i), $(".result_description", a).text(s), a.removeClass("is-hidden"), n.addClass("answered"), e.result_preview ? (t = '<video muted loop class="video-container video-js vjs-default-skin b-margin" id="vidPollResult"><source src="' + e.result_preview + '.mp4" type="video/mp4"><source src="' + e.result_preview + '.ogg" type="video/ogg"></video>', $(".video-item", a).html(t), $("html, body").animate({
                        scrollTop: a.offset().top - 100
                    }, 500)) : $(".result_description", a).parent().removeClass("span6").addClass("span12")
                },
                error: function() {},
                dataType: "json"
            })
        }), $(document).on("click", '.js-blog-article-poll [name="poll_option"]', function() {
            var e, t;
            $('.js-blog-article-poll [name="poll_option"]').hasClass("js-is-logged-in") || (e = $(this).parent(), t = $('.js-blog-article-poll [name="poll_option"]'), (pra = t.parent()).removeClass("poll-row-selected"), e.addClass("poll-row-selected"), $(".js-blog-article-poll .js-btn-poll-vote").prop("disabled", !1))
        }), $(document).on("click", ".js-blog-article-poll .js-btn-poll-vote", function() {
            $(".js-blog-article-poll .js-btn-poll-vote").prop("disabled", !0), $('.js-blog-article-poll [name="poll_option"]').prop("disabled", !0);
            var e = "",
                t = "",
                i = ($('.js-blog-article-poll [name="poll_option"]').each(function() {
                    e += t + $(this).data("model_id"), t = ","
                }), $('.js-blog-article-poll [name="poll_option"]:checked')),
                s = i.data("model_id"),
                i = {
                    article_id: i.data("article"),
                    model_id: s,
                    model_ids: e
                };
            $.ajax({
                type: "POST",
                url: "/includes/mv_blog_article_poll_vote.php",
                data: i,
                success: function(e) {
                    void 0 === e ? gritter("Something went terribly wrong!", "Oops!") : e.error ? gritter(e.error, "Oops!") : (success(e.success, "Great!"), $(".js-blog-article-poll-text-left").html("Thanks for voting!"), $(".js-btn-poll-vote").addClass("is-hidden"), $(".js-blog-article-poll-ul").html(e.poll), lazyLoadingStart())
                },
                error: function() {},
                dataType: "json"
            })
        }), $(document).on("click", ".js-add-free-vid-to-library", function() {
            var e = +$(this).data("id");
            window.MV.isLoggedIn ? window.MV.mvDialog.alert("YouÃ¢â‚¬â„¢ll Be Able to View It From Your Purchase History.", "Add Vid?", "Yes, Gimme My FREE Vid!").promise.done(function() {
                $.ajax({
                    type: "POST",
                    url: "/includes/add_free_vid_library.php",
                    dataType: "json",
                    data: {
                        vid: e
                    },
                    success: function(e) {
                        e.error ? gritter(e.error, "Oops!") : document.location.href = e.url
                    },
                    error: function() {}
                })
            }) : window.MV.mvDialog.alert('Ready to enjoy your vids? All you need to do is sign up! Browse our <a class="is-link" href="/Vids/?content_type=1&other=free&page=1&search_type=1&sort=1">FREE vids.', "Get access to FREE vids", "Join FREE!").promise.done(function() {
                window.location.href = "/Create-Free-Account/"
            })
        }), $(document).on("click", ".js-send-submission:not(.disabled)", function(e) {
            e.preventDefault();
            var e = $(this),
                t = $("#submissionForm"),
                i = $("#edit", t).editable("getHTML", !0, !0),
                s = $("input[name=title]", t).val(),
                n = ($("input[name=summary]", t).val(), $("[name=type]", t).val());
            "" === s ? gritter("Please enter a title.", "Oops!") : "1" === n && fileTokensListArray.length < 2 ? gritter("You must upload at least 2 selfies.", "Oops!") : "2" === n && fileTokensListArray.length < 4 ? gritter("You must upload at least 4 HD professional pictures.", "Oops!") : (t.append('<input id="article_body" name="body" type="hidden" value=""/>'), $("#article_body", t).val(i), t.append('<input id="gallery_images" name="gallery_images" type="hidden" value="' + fileTokensListArray + '"/>'), e.addClass("disabled").text("Saving and uploading images/vids to S3..."), $("#loadingDiv,#loadingOverlay").show(), setTimeout(function() {
                t.submit()
            }, 500))
        }), $(document).on("click", ".js-send-form-with-editor:not(.disabled)", function(e) {
            e.preventDefault();
            var e = $(this),
                t = e.parents("form"),
                i = $("#edit", t).editable("getHTML", !0, !0);
            "" === $(i).text() ? gritter("You must write a message with your MV Loft application.", "Oops!") : (t.append('<input id="article_body" name="body" type="hidden" value=""/>'), $("#article_body", t).val(i), e.addClass("disabled").text("Sending application..."), $("#loadingDiv,#loadingOverlay").show(), setTimeout(function() {
                t.submit()
            }, 500))
        }), $(".zoom-pic").bind("click tap", function() {
            $("#previewFaq").show().addClass("open"), $("#siteOverlay").show()
        }), $(".x-btn").bind("click tap", function() {
            $("#previewFaq").removeClass("open").hide(), $("#siteOverlay").hide()
        }), $("#previewFaq img").bind("click tap", function() {
            $("#previewFaq").removeClass("open").hide(), $("#siteOverlay").hide()
        }), $(".plus-btn").on("click", function() {
            $(".service-btn");
            var e = $(".extra-services");
            $(".extra-services .pic-wrapper").removeClass("delay2-5 animated-fast fadeIn"), e.addClass("open-services"), $(".plus-btn").hide(), $(".plus-btn").removeClass("animated-fast rotateIn"), $(".x-btn").show(), $(".x-btn").addClass("animated-fast rotateIn")
        }), $(".x-btn").on("click", function() {
            $(".service-btn");
            $(".extra-services").removeClass("open-services"), $(".extra-services .pic-wrapper").addClass("delay2-5 animated-fast fadeIn"), $(".x-btn").hide(), $(".x-btn").removeClass("animated-fast rotateIn"), $(".plus-btn").show(), $(".plus-btn").addClass("animated-fast rotateIn")
        }), d = "a-zA-Z0-9ÃƒÂ¡ÃƒÂ©ÃƒÂ­ÃƒÂ³ÃƒÂºÃƒÂÃƒâ€°ÃƒÂÃƒâ€œÃƒÅ¡ÃƒÂ¢ÃƒÂªÃƒÂ®ÃƒÂ´Ãƒâ€šÃƒÅ ÃƒÅ½Ãƒâ€ÃƒÂ£ÃƒÂµÃƒÆ’Ãƒâ€¢ÃƒÂ§Ãƒâ€¡:! _", c = "a-zA-Z0-9_ ", h = {}, (u = {})[l = "0-9"] = new RegExp("[^" + l + "]", "g"), u[d] = new RegExp("[^" + d + "]", "g"), u[c] = new RegExp("[^" + c + "]", "g"), h[l] = new RegExp("[" + l + "]"), h[d] = new RegExp("[" + d + "]"), h[c] = new RegExp("[" + c + "]"), $(document).on("paste", ".js-limit-keystrokes, .limit-keystrokes", function() {
            var e = $(this);
            setTimeout(function() {
                b(e)
            }, 0)
        }), $(document).on("keypress", ".js-limit-keystrokes, .limit-keystrokes", function(e) {
            var t = e.which,
                i = String.fromCharCode(t),
                s = w($(this)),
                s = h[s];
            if (!e.ctrlKey && t && 8 != t && 13 != t && !s.test(i)) return e.preventDefault(), !1
        }), $(document).on("keyup", ".js-limit-keystrokes, .limit-keystrokes", function() {
            b($(this))
        }), $(document).on("blur", ".js-limit-keystrokes, .limit-keystrokes", function() {
            this.value = this.value.trim()
        }), $(document).on("click", ".block-user", function() {
            var e = $(this),
                t = e.attr("data-user-id") || "",
                i = e.attr("data-action"),
                s = e.hasClass("userfield") ? $("#block_user", e.parent()).val() : "",
                n = i && "unblock" === i ? "Are you sure you want to unblock this user?" : "Are you sure you want to block this user?",
                a = i && "unblock" === i ? "Unblock User?" : "Block User?";
            (e.hasClass("userfield") && "" !== s || !e.hasClass("userfield")) && (s = s.replace(/[<>'"]/g, ""), $("#block_user", e.parent()).val(s), createGenericPopup(a, "<p>" + n + "</p>", '<a class="btn btn-primary btn-lg" id="block_user_confirm" data-user-id="' + t + '" href="javascript:;" data-action="' + i + '" data-username="' + s + '">Yes</a>', !0, !0))
        }), $(document).on("click", "#block_user_confirm", function() {
            var e = $(this),
                t = e.data("user-id");
            block_user(t, e.data("action"), $(".block-user[data-user-id=" + t + "]"), e.data("username"))
        }), $(document).on("click", ".js-report-flag", function() {
            $(this);
            createGenericPopup("Report", '<form class="mv-controls"><textarea style="min-height: 90px;" class="w100" name="help_msg" placeholder="Tell us the reason behind this report"></textarea></form>', '<a class="btn btn-lg btn-primary" id="sendReport" href="javascript:;" title="Send">Send</a>', !0, !0)
        }), $(document).on("click", "#sendReport", function() {
            var e = $(this),
                t = $(".inbox-conversation.-selected").data("conversation-iuid"),
                e = e.parents(".modal").find("textarea").val(),
                t = window.location.href + t;
            e.length < 10 ? gritter("You must enter at least 10 characters explaining what you are reporting.", "Oops!") : send_report(e, t)
        }), $(document).on("click", ".js-mv-share", function() {
            $.post("/api/ads/shortenlink", {
                originalUrl: window.location.href
            }, function(e) {
                createGenericPopup("Share Vid", '<div class="mv-share-popup"><form class="mv-controls"><input id="shortUrlInput" type="text" class="mv-share-input" value="' + e.shortURL + '" readonly /></form></div>', '<a id="copyLink" class="btn btn-lg btn-primary copy-link-btn" href="javascript:;" title="Copy Link">Copy Link</a>', !0, !0)
            }).fail(function() {
                createGenericPopup("Share Vid Error", '<div class="mv-share-popup"><span>MV Share URL couldn\'t be created now. Try again later!</span></div>', "", !0, !0)
            })
        }), $(document).on("click", "#copyLink", function() {
            navigator.clipboard.writeText($("#shortUrlInput").val()).then(function() {
                $("#copyLink").removeClass("btn-primary").addClass("copied-link-btn").prop("disabled", !0).prop("title", "Now you can close this window.").html("Copied!")
            }, function() {
                $("#copyLink").removeClass("btn-primary").addClass("not-copied-link-btn").prop("disabled", !0).prop("title", "Now you can close this window.").html("Copy failed!")
            })
        }), $(document).on("click", ".multi-dropdown-list .remove-tag", function() {
            var e = $(this).parents("li");
            removeA(globalSettings.prototype.vidTagArray, parseInt(e.find("input").val())), e.fadeOut(), setTimeout(function() {
                e.remove()
            }, 600)
        }), $(".multi-select-wrapper").on("mousedown", "ul.typeahead", function(e) {
            e.preventDefault()
        }), $(".typeahead.multi-select.vid-categories").typeahead({
            items: 100,
            source: function(e, s) {
                var i = 0,
                    n = {
                        type: "GET",
                        url: $(this.$element.context).hasClass("js-custom-tags") ? "https://cdn3.manyvids.com/site_files/json/vid_categories_and_customs.json?timestamp=" + (new Date).getTime() : "https://cdn3.manyvids.com/site_files/json/vid_categories.json",
                        cache: !1,
                        data: {
                            username: e
                        },
                        dataType: "json",
                        error: function(e) {
                            var t;
                            0 == i && -1 < n.url.indexOf("vid_categories.json") ? (i = 1, t = (new Date).getTime(), n.url = "/includes/json/vid_categories.php?" + t, $.ajax(n)) : e.error && gritter(e.error, "Oops!")
                        },
                        beforeSend: function(e) {
                            $("#loadingDiv,#loadingOverlay").hide()
                        },
                        success: function(e) {
                            if (e.error) return gritter(e.error, "Oops!", !0), !1;
                            for (var t = [], i = 0; i < e.length; i++) "1199" !== e[i].id && t.push(e[i].id + "," + e[i].label + "," + e[i].type);
                            s(t)
                        }
                    };
                $.ajax(n)
            },
            highlighter: function(e) {
                return e.split(",")[1]
            },
            sorter: function(e) {
                return e
            },
            updater: function(e) {
                var e = e.split(","),
                    t = $(".categories .multi-dropdown-list"),
                    i = t.find("li"),
                    s = "";
                return 0 === globalSettings.prototype.vidTagArray.length && 0 < i.length && $(i).each(function() {
                    globalSettings.prototype.vidTagArray.push(parseInt($(this).find("input").val()))
                }), 0 === globalSettings.prototype.vidTagArray.length || -1 === $.inArray(parseInt(e[0]), globalSettings.prototype.vidTagArray) ? i.length <= 4 ? (e[2] && "undefined" !== e[2] && (s = "-" + e[2]), t.append('<li><a href="javascript:;" class="remove-tag" title="Remove tag">x</a>' + e[1] + '<input name="tags[]" type="hidden" value="' + e[0] + s + '"/></li>', " "), buildTagArray(e[0])) : gritter("You cannot select more than 5 categories.", "Oops!") : gritter("You have already chosen this category", "Oops!"), ""
            }
        }), g && $(".search .dropdown-menu>li>a").click(function() {
            var e = $(this),
                t = e.parents(".btn-group").find(".dropdown-search");
            t.empty(), e.find("svg").clone().appendTo(t), t.append('<span class="caret"></span>')
        }), $(document).on("change", ".js-donate-checkout", function() {
            var e = $(this);
            "" !== e.val() && (window.MV.isLoggedIn ? e.parents("form").submit() : $("#LoginSignupModal2").modal("show"))
        }), $(document).on("click", ".js-team-member-select li a", function() {
            var e = $(this),
                t = e.parents(".js-participant"),
                i = e.data("mid"),
                s = $(".contest-checkout", t);
            s.data("mid");
            $(".js-team-member-select .pic-wrapper", t).removeClass("selected"), e.addClass("selected"), s.attr("data-mid", i)
        }), $(document).on("click", "a.vote-spot", function() {
            var e = $(this),
                t = e.parents(".js-participant"),
                t = $("form", t),
                i = $(".contest-checkout", t);
            cid = i.data("cid"), notActive = e.hasClass("disabled"), model_id = i.data("mid"), checkVotingStatus(cid, model_id, t, notActive, "")
        }), $(document).on("click", ".checkout-contest", function() {
            var e = $(this).parents("form"),
                t = $("select", e),
                i = t.data("cid"),
                s = t.data("model-id"),
                n = t.val();
            submitContestCheckout(i, s, e, t.hasClass("disabled"), n, "", "", !1)
        }), $(document).on("change", ".contest-participant form", function() {
            var e = $(this),
                t = $("select", e),
                i = t.data("cid"),
                s = t.data("mid"),
                n = t.val();
            submitContestCheckout(i, s, e, t.hasClass("disabled"), n, "", "", !1)
        }), $(document).on("click", ".js-remove-contest-participant", function(e) {
            var t = $(this),
                i = t.attr("data-id"),
                s = t.attr("data-user-id"),
                n = t.attr("data-user"),
                t = t.attr("data-page"),
                a = "Delete participant";
            text = "Are you sure you want to remove this participant from the contest?", n && (text = "Are you sure you want to delete this participation?", a = "Delete participation"), n = text, createGenericPopup(a, "<p>" + n + "</p>", '<a class="btn btn-lg btn-primary" id="js-remove-contest-participant-confirm" data-id="' + i + '" data-user-id="' + s + '" data-page="' + t + '" href="javascript:;" title="Delete participation">Delete</a>', !0, !0)
        }), $(document).on("click", "#js-remove-contest-participant-confirm:not(.disabled)", function(e) {
            var t = $(this);
            S = {
                id: t.data("id"),
                user_id: t.data("user-id"),
                page: t.data("page")
            }, t.addClass("disabled"), $.ajax({
                type: "POST",
                url: "/includes/delete-contest-participant.php",
                data: S,
                success: function() {
                    S.error ? (gritter(S.error, "Oops!"), t.removeClass("disabled")) : window.location.reload()
                },
                error: function() {},
                dataType: "json"
            })
        }), 0 < $("#editBlogArticle").length && $("#editBlogArticle").editable({
            inlineMode: !1,
            headers: {
                "X-Requested-With": "XMLHttpRequest"
            },
            key: "QB-8pG-7jbA-16rdD2zuv==",
            imageUploadURL: "/includes/upload_image_wysiwyg.php?mvtoken=" + globalSettings.prototype.mvtoke,
            imageDeleteURL: "/includes/delete_image_wysiwyg.php?mvtoken=" + globalSettings.prototype.mvtoken
        }).on("editable.afterRemoveImage", function(e, t, i) {
            t.options.imageDeleteParams = {
                src: i.attr("src")
            }, t.deleteImage(i)
        }), $(document).on("change", "#massDiscountRate", function() {
            var e = $(this),
                t = $(".discount-date-row"),
                e = e.find("option:selected").val();
            "0" === e || "" === e ? (t.addClass("semi-opacity"), $('input[name=discountDate][value="1"], input[name=discountEndDate][value="1"]').prop("checked", !0)) : t.removeClass("semi-opacity")
        }), $(document).on("click tap", ".generate-code-box .add-all", function() {
            var e = "",
                i = "";
            $(this).hasClass("Vids") && (e = ".vidsLibraryVids", i = ".boxtwoVids"), $(this).hasClass("Store") && (e = ".vidsLibraryStore", i = ".boxtwoStore"), $.each($(e + " li"), function(e, t) {
                $(t).appendTo(i)
            }), 0 !== $("#vidsShared > li").length && $(".btn[href=#generateMVcode]").removeClass("disabled")
        }), $(document).on("click tap", ".generate-code-box .remove-all", function() {
            var e = "",
                i = "";
            $(this).hasClass("Vids") && (e = ".vidsSharedVids", i = ".boxoneVids"), $(this).hasClass("Store") && (e = ".vidsSharedStore", i = ".boxoneStore"), $.each($(e + "  li"), function(e, t) {
                $(t).appendTo(i)
            }), 0 === $("#vidsShared > li").length && $(".btn[href=#generateMVcode]").addClass("disabled")
        }), $(document).on("click", ".saveMassDiscount", function() {
            var n = "",
                i = ($(this).hasClass("btn_save_massDiscount_vids") ? n = "Vids" : $(this).hasClass("btn_save_massDiscount_store") && (n = "Store"), []),
                e = $(this).data("type"),
                a = $("#massDiscountRate" + n).val(),
                p = $("[name=discountDate" + n + "]:checked").val(),
                t = $("[name=available_promo_time_start" + n + "]").val(),
                s = $("[name=available_promo_date_start" + n + "]").val(),
                f = $("[name=discountEndDate" + n + "]:checked").val(),
                o = $("[name=available_promo_time_end" + n + "]").val(),
                r = $("[name=available_promo_date_end" + n + "]").val();
            if ("" === a) return gritter("Please choose a discount rate.", "Oops!"), !1;
            $.each($(".vidsShared" + n + " li"), function(e, t) {
                i.push($(t).attr("data-vid-id"))
            });
            t = {
                vid_array: i.join(","),
                discount: a,
                discountDateCheck: p,
                available_promo_time_start: t,
                available_promo_date_start: s,
                discountDateEndCheck: f,
                available_promo_time_end: o,
                available_promo_date_end: r,
                type: e
            };
            if (!(0 < i.length)) return gritter("Please choose any " + n + " item to apply a discount rate.", "Oops!"), !1;
            $.ajax({
                type: "POST",
                url: "/includes/save_mass_discounts.php",
                data: t,
                success: function(e) {
                    var t, i, o, s, r, l, d, c, u, h;
                    e.error ? gritter(e.error, "Oops!") : (t = e.success, s = $("#vidsShared" + n + " li").length, 0 < (i = e.deniedIds.length) && s !== i ? success(t = t + "<br /><strong>" + i + " item" + (1 === i ? "" : "s") + " could not be put on discount as the discounted price was below $1.99.</strong>", "Great!") : s === i ? gritter(t = "<strong>" + i + " item" + (1 === i ? "" : "s") + " could not be put on discount as the discounted price was below $1.99.</strong>", "Oops!") : success(t, "Great!"), o = e.deniedIds, s = e.allIds, r = e.discount_start_date, l = e.discount_end_date, d = a, c = p, u = f, h = n, $.each(s, function(e, t) {
                        var i = $(".boxtwo li[data-vid-id=" + t.id + "]"),
                            s = "",
                            n = "",
                            a = ""; - 1 !== $.inArray(t.id, o) ? i.prependTo(".boxone" + h) : (i.find("small.js-price,i").remove(), "0" === d ? i.find(".ellipsis div").append("<small>$" + t.salePrice + "</small>") : ("2" === c && (s = "<strong>Discount start date</strong><br />" + moment(r).format("llll") + "<br />"), "2" === u && (n = "<strong>Discount end date:</strong><br />" + moment(l).format("llll")), "" === s && "" === n || (a = '<i class="icon info-icon icon-display toolTip-container" data-trigger="hover" data-toggle="tooltip" data-placement="right" title="" data-html="true" data-original-title="' + s + n + '"></i>'), i.find(".flex-grow div").append('<small class="js-price"><span class="text-highlight">$' + t.salePrice + " - " + d + "%</span></small> " + a)), i.prependTo(".boxone" + h), $(".toolTip-container", ".boxone").tooltip({
                            container: "body"
                        }))
                    }), $("body, html").scrollTop(0), $(".boxone").animate({
                        scrollTop: 0
                    }, "slow"))
                },
                error: function() {},
                dataType: "json"
            })
        }), $(".js-date-picker-display").click(function(e) {
            $(this).parents(".discount-date-row").find("input[type=radio]").click()
        }), $(".file-picker-button").on("click", function() {
            var t = $(this).parents(".custom-file-picker");
            $("input[type=file]", t).change(function() {
                var e = $(this)[0].files[0];
                $(".file-picker-name", t).text(e.name)
            })
        }), p.hasClass("mv-blog") && $(".thumb-nav a").click(function() {
            var e = $(this),
                t = $("#largeThumb"),
                i = e.find("img").attr("src").replace(/thumbs\/thumb90_/g, ""),
                s = document.getElementById("rmpPlayer"),
                n = t.siblings(".video-iframe-wrapper");
            $(".thumb-nav li").removeClass("active"), $(this).parent().addClass("active"), e.hasClass("video-blog-gallery") || (0 < $(s).length && "" !== $(s).data("vid") && $(s).hide(), 0 < n.length && n.remove(), t.attr("src", ""), t.before('<img src="https://cdn3.manyvids.com/site_files/images/icons/loader-icon.png" alt="" class="loader-icon loading-anim loading middle-x-y">'), t.attr("src", i).fadeIn(), $(".control-video-layer").hide(), setTimeout(function() {
                t.siblings(".loading").remove()
            }, 500))
        }), $(".js-blog-category-select").change(function() {
            window.location = $(this).find("option:selected").val()
        }), $(".js-mv-fetish-category-filter").change(function() {
            window.location = $(this).find("option:selected").val()
        }), $("input.current-page.blog").on("keyup", function(e) {
            var t = parseInt($(this).siblings(".page-total").text()),
                i = parseInt(this.value);
            t < i && (this.value = t), this.value = this.value.replace(/[^0-9\.]/g, ""), 13 !== e.which && 9 !== e.which || "" === i || (e.preventDefault(), 0 === i && (i = this.value = 1), 5 === (t = window.location.pathname.split("/")).length ? parseInt(t[4]) === i && t[4] || (window.location.href = "/" + t[1] + "/" + t[2] + "/" + t[3] + "/" + i) : $(this).hasClass("js-string") ? window.location.href = "/" + t[1] + "/" + i + $(this).data("string") : parseInt(t[2]) === i && t[2] || (window.location.href = "/" + t[1] + "/" + i))
        }), $(document).on("click", ".js-treasure-hunt", function(e) {
            var t = $(this);
            S = {
                id: t.data("id"),
                title: t.attr("title")
            }, $.ajax({
                type: "POST",
                url: "/includes/treasure-hunt.php",
                data: S,
                success: function(e) {
                    var t;
                    e.nosession ? (t = "", e.showLoginButtons && (t = '<a href="/Create-Free-Account/" class="btn btn-primary float-right" title="Join FREE!">Join FREE!</a><a href="/Login/" class="btn btn-primary float-right" title="Login">Login</a>'), createGenericPopup(e.title, "<p>" + e.message + "</p>", t, !0, !0)) : e.error ? gritter(e.error, e.title, 1) : createGenericPopup(e.title, "<p>" + e.success + '</p><i class="icon treasure-hunt large ' + e.image_class + '"></i>', "", !0, !0)
                },
                error: function() {},
                dataType: "json"
            })
        }), device.prototype.isMobile && 0 < $("body.js-model-earnings").length && $('meta[name="viewport"]').attr("content", "width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"), $(document).on("click", ".js-cv-change-status-to-delivered", function() {
            var t = $(this);
            window.MV.mvDialog.confirm("Are you sure you want to mark this order as delivered?", "Update Status to Delivered", "OK", "Cancel").promise.done(function(e) {
                e && (e = t.data("service-id"), $.ajax({
                    type: "POST",
                    url: "/includes/custom_vids_change_status_to_delivered.php",
                    data: {
                        service_id: e
                    },
                    success: function(e) {
                        var t, i, s;
                        void 0 !== e && e.success && e.service_id ? (success(e.success, "Great!"), t = $('.js-cv-change-status-to-delivered[data-service-id="' + e.service_id + '"]'), i = $(".js-custom-vids-orders-number"), s = t.closest("tbody").children().length - 1, t.closest("tr").remove(), s <= 0 ? i.text("You have no pending orders at this time") : i.text("You have " + s + " Custom Vid order" + (1 < s ? "s" : ""))) : "undefined" !== e && e.error ? gritter(e.error, "Oh no!") : gritter("Something went terribly wrong! Contact support for additional questions.", "Oh no!")
                    },
                    error: function(e) {},
                    dataType: "json"
                }))
            })
        }), $(document).on("click", ".js-generate-customvid-summary", function() {
            var e = $(this),
                t = e.data("billing-id"),
                e = e.data("user");
            S = {
                billing_id: t,
                user: e
            }, $.ajax({
                type: "POST",
                url: "/includes/get_purchase_summary.php",
                data: S,
                success: function(e) {
                    e.error ? gritter(e.error, "Oh no!") : createCustomVidSummary(e)
                },
                error: function(e) {},
                dataType: "json"
            })
        }), $(document).on("click", ".js-generate-purchase-invoice", function() {
            var e = $(this),
                t = e.data("billing-id");
            S = {
                billing_id: t
            }, e.data("type") && "customvid" == e.data("type") && (S.type = e.data("type"), S.buyer = e.data("buyer"), S.seller = e.data("seller"), S.status = e.data("status"), S.delivery_date = e.data("delivery-date"), S.legacy = e.data("legacy")), $.ajax({
                type: "POST",
                url: "/includes/get_purchase_invoice.php",
                data: S,
                success: function(e) {
                    !e.error && 0 < e.items.length ? createPaymentInvoice(e) : gritter(e.error, "Oh no!")
                },
                error: function(e) {},
                dataType: "json"
            })
        }), $(document).on("click", "#printInvoice", function() {
            var e;
            0 === $(".js-generate-invoice").length && ((e = $("#invoiceModal .modal-content .modal-body")).css({
                "max-height": "none",
                "overflow-y": "visible"
            }), $(".modal.fade.in").css("display", "block"), $("#invoiceModal .modal-content").printArea({
                mode: "iframe",
                popClose: !0,
                extraCss: "/css/print_invoice.css",
                retainAttr: ["class", "style", "on"],
                extraHead: '<meta charset="utf-8" />,<meta http-equiv="X-UA-Compatible" content="IE=edge"/>'
            }), e.css({
                "max-height": "60vh",
                "overflow-y": "auto"
            }), $(".modal.fade.in").css("display", "flex"))
        }), $(".js-show-customvid-table").on("change", function() {
            $("input[name=launchOption]").removeAttr("checked"), $("#show_customvid_table").prop("checked") ? ($(".custom-vid-table").show(), $("#free_vid").prop("checked", !1), $(".custom-vid-setting").removeClass("is-hidden"), $("input[name=launchOption][value='3']").attr("checked", "checked"), $("#appendedPrependedInput").prop("disabled", !0)) : ($(".custom-vid-table").hide(), $("#" + $('input[name="sales_id"]:checked').attr("id")).prop("checked", !1), $("#exclusiveVid").prop("checked", !1), $(".custom-vid-setting").addClass("is-hidden"), $("input[name=launchOption][value='1']").attr("checked", "checked"), $("#membership1").prop("checked", !0), $("#appendedPrependedInput").prop("disabled", !1)), $(".js-div-upload-membership").removeClass("is-hidden"), $(".js-div-upload-price").removeClass("is-hidden")
        }), $('input[name="sales_id"]').on("change", function() {
            $("#exclusiveVid").prop("checked", !0), $("#launchNow").prop("checked", !1), $("#launchCustom").prop("checked", !1), $("#neverLaunch").prop("checked", !0), $("#appendedPrependedInput").prop("disabled", !1).removeClass("is-disabled"), $(".js-div-upload-price").removeClass("is-hidden"), $("#neverLaunch").trigger("change")
        }), "1" === $("#customExclusive").val() && ($(".custom-vid-setting").removeClass("is-hidden"), "2" === $("#customEscrowStatus").val()) && $("#show_customvid_table").change(), "undefined" != typeof customVidId && null !== customVidId && ($("#show_customvid_table").click(), $(customVidId).prop("checked", !1), $(customVidId).click(), $("#show_customvid_table").prop("disabled", !0), "exclusive" == $('input[name="sales_id"]').data().exclusive) && ($("#launchNow").prop("disabled", !0), $("#launchCustom").prop("disabled", !0), $("#appendedPrependedInput").prop("disabled", !0), $("#exclusiveVid").prop("disabled", !0));
        0 < $(".js-model-agreement-form").length && !1 === $(".js-model-agreement-form #full_name").prop("disabled") && $.validate({
            form: ".js-model-agreement-form",
            modules: "sanitize"
        }), $(".js-redirect .nav-link").on("click", function() {
            location.hash = $(this).attr("href")
        }), $(".js-close-modal-promotion-banners:not(.disabled)").click(function() {
            $(this).addClass("disabled"), event.stopPropagation(), window.location.reload()
        }), $(".js-accept-award").click(function() {
            $("#editPic").css("vertical-align", "middle"), $("#editPic").on("shown.bs.modal", function() {
                $(this).css("display", "flex")
            })
        }), 2 == $("input[name=member_type]:checked").val() && (whichMemberTypeIsChecked(), signUpCheckValidationLogic());
        var _, C, k, x, S, T = $(".js-io-blackbox"),
            E = (0 < T.length && T.attr("id", "io-blackbox"), $(".login-with-google-btn").click(function(e) {
                e.preventDefault(), $(this).prop("disabled", !0);
                var e = $("#io-blackbox").val(),
                    t = $(this).attr("href");
                window.location = t + "?blackbox=" + e
            }), $(document).ready(function() {
                new URLSearchParams(window.location.search).has("autosubmit") && ($("#loadingDiv,#loadingOverlay").show(), window.setTimeout(function() {
                    document.getElementById("loginAccountSubmit").click(), $("#loadingDiv,#loadingOverlay").hide()
                }, 1500))
            }), null !== (_ = document.querySelector("#js-livechat-model") || document.querySelector("#js-livechat-member")) && (v = /model/.test(_.id) ? "5ab2bcb5-71ae-469f-a069-43d57aac6e82" : "37d71143-fc5f-4078-9fb1-3de949936181", C = window, x = document, v = v, C[k = "_dixa"] = C[k] || function() {
                (C[k].q = C[k].q || []).push(arguments), C[k].handler && C[k].handler(arguments)
            }, C[k].l = +new Date, C[k].wid = v, v = x.createElement("script"), x = x.getElementsByTagName("script")[0], v.async = 1, v.setAttribute("charset", "utf-8"), v.src = "https://widget.dixa.io/assets/scripts/javascript/loader.js", x.parentNode.insertBefore(v, x), window._dixa("api.setUser", _.dataset.user, _.dataset.email)), $("body").hasClass("activity-overview") && $("#allActive").hasClass("active") && (S = {
                sessionId: parseInt($(".js-append-allActivity").data("session-id")),
                mvtoken: globalSettings.prototype.mvtoken
            }, $.ajax({
                type: "POST",
                url: "/includes/get_activity_video_like.php",
                data: S,
                success: function(e) {
                    e.error ? gritter(e.error, "Oh no!") : enableActivityFeedHeart(e.liked_vid)
                },
                error: function(e) {},
                dataType: "json"
            })), $(".js-live-mvstar-tweet").on("click", function(e) {
                var t = {
                    sessionDetails: $("html").data("session-details"),
                    mvtoken: globalSettings.prototype.mvtoken
                };
                $.ajax({
                    type: "POST",
                    url: "/includes/mv_star_live_rooms.php",
                    data: t,
                    success: function(e) {},
                    error: function(e) {},
                    dataType: "json"
                })
            }), $(".gender-preference")),
            A = (E.hasClass("-disabled") && E.prop("disabled", !0), 0 < $("div[data-page-name=Services]").length && $("a[href=" + location.hash + "]").click(), []);
        0 < $("#admin-video-edit").length && ($.ajax({
            url: "/banned-words/list/",
            type: "GET",
            success: function(e) {
                A = e.bannedWords
            }
        }), $("button[name=saveVideoChanges]").click(function(e) {
            var t = scanForKeywords($(".admin-video-title-edit").val(), A),
                t = (0 < t.length && (gritter("You cannot use the following words in your title due to our payment processor regulations: " + t, "Oops!"), e.preventDefault()), scanForKeywords($(".admin-video-description-edit").val(), A));
            0 < t.length && (gritter("You cannot use the following words in your description due to our payment processor regulations: " + t, "Oops!"), e.preventDefault())
        })), $("#back-icon-revenue").click(function() {
            document.referrer || (window.location = "/MV-Content-Manager/"), document.referrer.includes("Profile/Services/") && (window.location = "/MV-Content-Manager/");
            var e = 0 < document.referrer.match(/manyvids|protmv|mv-dev/g).length;
            window.location = e ? document.referrer : "/MV-Content-Manager/"
        }), device.prototype.isMobile && setTimeout(function() {
            var e = document.querySelector(".uppy-Dashboard-AddFiles-title");
            e && (e.firstChild.nodeValue = "", e.childNodes[1].textContent = e.childNodes[1].textContent[0].toUpperCase() + e.childNodes[1].textContent.slice(1, e.childNodes[1].textContent.length))
        }, 1e3)
    }), lazyLoadingStart.bLazyDebounceTimer = 0, $(document).on("click", ".vote-review", function() {
        var s = $(this),
            e = s.data("action"),
            n = s.data("review-id");
        s.hasClass("highlight") ? gritter("You have already " + (1 === e ? "upvoted" : "downvoted") + " this review", "Oops!") : $.ajax({
            type: "POST",
            url: "/includes/vote_review.php",
            data: {
                action: e,
                review_id: n
            },
            beforeSend: function() {
                $("#loadingDiv,#loadingOverlay").hide()
            },
            success: function(e) {
                var t, i;
                e.error && gritter(e.error, "Oops!"), e.success && (i = (t = $(".vote-review[data-review-id=" + n + "]")).find(".vote-count"), e = parseInt(i.text()) + e.action, t.removeClass("highlight"), s.addClass("highlight"), i.text(e), e < 0 ? i.addClass("red") : i.removeClass("red"))
            },
            error: function() {},
            dataType: "json"
        })
    }), jQuery(document).ready(function(e) {
        var t, i;
        device.prototype.isMobile && (t = e(".login-page .action-box input"), i = e("body"), t.focus(function() {
            i.addClass("-no-footer")
        }).blur(function() {
            i.removeClass("-no-footer")
        }))
    }), $(document).ready(function() {
        $(".js-nav-cart").length && $(".cart-items ul").scrollbar()
    }), $("select.js-purchase-history-select-category").on("change", function() {
        var e = $(this).val(),
            t = $("body").data("filter-uid"),
            i = $(".js-append-free-vids");
        ("16" !== e && "17" !== e || 0 !== $(".js-purchase-history-table > tbody > tr." + e).length) && "" !== t && (e = e + "&uid=" + t), window.location.href = "/View-my-history/1/" + e, "free" === e ? i.show() : i.hide()
    }), $(document).on("click", ".js-append-free-vids", function() {
        get_free_vids_history($(this).attr("data-category"), $(this).data("type"))
    }), ! function(g, v, y) {
        g.fn.sss = function(e) {
            var m = g.extend({
                slideShow: !0,
                startOn: 0,
                speed: 5e3,
                transition: 500,
                arrows: !0
            }, e);
            return this.each(function() {
                g(this);
                var i, e, s, n, a, o = g(".mv-slidee"),
                    r = g(".mv-slider"),
                    l = (g(".slide-dots .dot").length && g(".slide-dots .dot").length, o.length),
                    d = m.transition,
                    t = m.startOn,
                    c = l - 1 < t ? 0 : t,
                    u = !1;

                function h(e) {
                    var t, i;
                    u || (u = !0, t = o.eq(e), e = (i = g(".slide-dots .dot")).eq(e), t.fadeIn(d), e.addClass("active"), o.not(t).fadeOut(d), i.not(e).removeClass("active"), r.animate(d, function() {
                        u = !1
                    }), lazyLoadingStart(), reset_timer())
                }

                function p() {
                    h(c = c === l - 1 ? 0 : c + 1)
                }

                function f() {
                    h(c = 0 === c ? l - 1 : c - 1)
                }
                reset_timer = m.slideShow ? function() {
                    clearTimeout(e), e = setTimeout(p, m.speed)
                } : g.noop, m.arrows && r.append('<i class="icon arrow-left-grey-icon"></i>', '<i class="icon arrow-right-grey-icon"></i>'), a = r.find(".arrow-right-grey-icon"), n = r.find(".arrow-left-grey-icon"), g(v).load(function() {
                    r.click(function(e) {
                        (i = g(e.target)).is(a) ? p() : i.is(n) && f()
                    }), g(".mv-slider").swipe({
                        allowPageScroll: "auto",
                        swipe: function(e, t, i, s, n, a) {
                            if ("left" == t) p();
                            else {
                                if ("right" != t) return !1;
                                f()
                            }
                        },
                        threshold: 20
                    });
                    for (var e = '<div class="slide-dots">', t = 0; t < l; t++) e += '<span class="dot"></span>';
                    e += "</div>", g(".mv-slider").append(e), h(c), g(y).keydown(function(e) {
                        39 === (s = e.keyCode) ? p() : 37 === s && f()
                    })
                }), g(v).on("load resize", function() {
                    var e, t, i;
                    e = (g(".mv-blog-slider.mv-slidee").length ? g(".mv-slidee:visible img") : g(".mv-slidee:visible")).height(), t = g(".mv-blog-slider.mv-slidee").length ? g(".mv-slidee:visible .card-body").height() : 0, i = g(".mv-slidee ~ .icon"), t = e + t + (g(".activity-overview .mv-slidee").length ? 75 : 0), g(".slide-dots").css("padding-top", e + 15), i.css("top", e / 2), r.css("min-height", t)
                })
            })
        }
    }(jQuery, window, document), jQuery(function(e) {
        e(".mv-slider").sss()
    }), $(".js-top-earners-dropdown").on("change", function() {
        var e = $(this).val(),
            t = $(this).find(":selected").data("type"),
            i = ($(this).find(":selected").data("category"), "/Top-earners/");
        6 === t ? i = "/MV-live-top-earners/" : 8 === t && (i = "/MV-tube-stars/"), "" !== e && ("monthly" === e ? window.location.href = i : $(this).hasClass("js-contest-ddown") ? window.location.href = e : window.location.href = i + "?month=" + e)
    }), $(function() {
        device.prototype.isMobile && (earnersSelect(), $("#top-earners-select").change(earnersSelect))
    }), $(".js-stars-dropdown").on("change", function() {
        var e = $(this).val();
        "" !== e && ("MV Girls" === e ? window.location.href = "/MVGirls/" : "MV Boys" === e ? window.location.href = "/MVBoys/" : "MV Trans" === e ? window.location.href = "/MVTrans/" : "Producers" === e && (window.location.href = "/Producers/"))
    }), $(".js-date-picker-madness").datepicker().on("changeDate", function(e) {
        var t = $(this).val();
        window.location.href = "/MV-daily-madness/" + t
    }), $(".js-date-picker-grind").datepicker().on("changeDate", function(e) {
        var t = $(this).val();
        window.location.href = "/MV-daily-grind/" + t
    }), $(".js-date-picker-topearners").datepicker().on("changeDate", function(e) {
        redirect_datepicker_url(e.date)
    }), $(".js-bottom-orientation").datepicker({
        orientation: "bottom"
    }), $("input#dp1").datepicker().on("changeDate", function(e) {
        var t = $("#dp1-error-msg");
        t.addClass("d-none").text(""), isUnderAge(e.date) && t.removeClass("d-none").append("Underage performers are not permitted on ManyVids.<br>"), isInvalidDate(e.date) && t.removeClass("d-none").append("Invalid date.")
    }), $("body").click(function() {
        device.prototype.isMobile && setTimeout(checkIfDropdownOpen, 100)
    }), $(".dropdown-toggle").click(function() {
        $(".user-nav:not(.single-level-nav) > ul > li").removeClass("is-hovered"), $(".user-nav:not(.single-level-nav) > ul > li:first-child").addClass("is-hovered")
    }), jQuery().niceSelect && $(".gender-preference .dropdown-toggle").niceSelect(), $(".dropdown-menu-side li").click(function(e) {
        e.preventDefault();
        e = $(this).attr("data-section");
        setContentPreference(e)
    }), window.setContentPreference = function(e) {
        var t = {
                userPreferredContent: e,
                currentLocation: window.location.pathname
            },
            i = $(".gender-preference img").first().attr("src"),
            s = $(this).find("img").attr("src");
        $(this).hasClass("-is-selected") || ($(".dropdown-menu-side li").removeClass("-is-selected"), $(this).hasClass("-is-selected") || ($(this).addClass("-is-selected"), setGenderType(t)), $('.gender-preference img[src="' + i + '"]:first').attr("src", s), $.cookie("dataSectionTemp", e, {
            path: "/",
            expires: 1825
        }))
    }, $(document).ready(function() {
        var e;
        !device.prototype.isMobile && $("body").hasClass("js-headerTransform") && ($(".main-header").append('<div class="top-gradient trans-fast" style="z-index:-1;"></div>'), stickyHeaderTransform(), addPageVisibilityListener(function(e) {
            e || stickyHeaderTransform()
        }), $(window).scroll(function() {
            e && clearTimeout(e), e = setTimeout(stickyHeaderTransform, 16)
        }))
    }), $(document).ready(myfunction), $(window).on("resize", myfunction), $(document).ready(function() {
        window.setTimeout(function() {
            var e = $(".full-post-wrapper").height();
            $(".blog-article .js-side-slide").css("max-height", e)
        }, 500)
    }), $(".user-nav:not(.single-level-nav) > ul > li").hover(function() {
        $(".user-nav > ul > li").removeClass("is-hovered"), $(this).addClass("is-hovered")
    }), $(document).on("click", ".user-nav, .global-search-mobile", function(e) {
        $(this).attr("href") || e.stopPropagation()
    }), $(document).ready(function() {
        $(".mv-carrousel").slick({
            dots: !0,
            infinite: !0,
            speed: 500,
            fade: !0,
            cssEase: "linear"
        })
    }), $(document).ready(function() {
        0 < $(".tsg2-contentPreferences.modal").length && ($(".tsg2-contentPreferences.modal").appendTo("body"), $(document).on("click", ".tsg2-modalBtn", function() {
            $(".dropdown.login-menu-btn").removeClass("open")
        }))
    }), $(document).ready(function() {
        var e = $.cookie("community");
        0 < $("#community-video-bg").length && 0 < $("#community-disclaimer").length && "/" === window.location.pathname && !$.cookie("ageCheckDisclaimer") && null == e && $.cookie("community", "adult", {
            path: "/",
            expires: 1
        }), 0 < $("#warning18Popup").length && $("#warning18Popup").hasClass("js-age-claimer") && !$.cookie("ageCheckDisclaimer") ? $.cookie("community", "adult", {
            path: "/",
            expires: 1
        }) : 0 < $("#warning18Popup").length && "/" == window.location.pathname ? $.cookie("dataSectionTemp") || $.cookie("ageCheckDisclaimer") ? $.cookie("dataSectionTemp", $.cookie("dataSectionTemp") ? $.cookie("dataSectionTemp") : 0, {
            path: "/",
            expires: 1825
        }) : $.cookie("community", "adult", {
            path: "/",
            expires: 1
        }) : $.cookie("dataSectionTemp", 0, {
            path: "/",
            expires: 1825
        })
    }), $(document).on("click", "#selectCountrySubmit", function() {
        var e = $(this).parents("form#selectCountryForm").find('[name="modelCountry"]:checked');
        0 === e.length ? gritter("Please select.", "Oops!") : (e = e.val(), data = {
            modelCountry: e
        }, $.ajax({
            type: "POST",
            url: "/includes/select_model_country.php",
            data: data,
            success: function(e) {
                e.success ? "US" !== e.country && "CA" !== e.country || location.reload() : gritter("Something went terribly wrong.", "Oops!"), $("#selectCountryModal").modal("hide")
            },
            error: function() {},
            dataType: "json"
        }))
    }), ! function(s) {
        function t() {
            var e = s(this),
                t = e.find("option:selected").text(),
                t = s("<span></span>").html(t).appendTo("body"),
                i = 34 + (t.width() >> 0);
            t.remove(), e.css("width", i + "px")
        }
        s.fn.resizeSelect = function(e) {
            return this.each(function() {
                s.proxy(t, this)(), s(this).on("change mv:resizeselect", t)
            })
        }, s(".js-autoWidth > select, select.js-autoWidth").resizeSelect()
    }(jQuery), $(document).ready(function() {
        $(".js-scrollbar-init").scrollbar({
            onInit: function() {
                var e, t, i, s, n = $(".js-side-video-slider, .js-side-slide");
                0 < n.length && $(".scroll-content").css("max-height", n.css("max-height")), this.showArrows = this.container.hasClass("js-scrollbar-show-arrows"), this.autoScrollToElement = this.container.hasClass("js-auto-scroll"), this.autoScrollToElement && device.prototype.isMobile && (e = this, clearTimeout(this.debounceTimeout), this.debounceTimeout = setTimeout(function() {
                    ! function() {
                        var e = $(".js-anchor-current").width(),
                            t = $(".js-anchor-current").data("scrollto-anchor"),
                            e = e * t + 20 * t - 2;
                        $(".scrollbar-mv.js-auto-scroll").scrollLeft(e)
                    }.call(e)
                }, 50)), this.showArrows && (this.debounceTimeout = 0, this.scrollx.scrollArrowLess = $('<div class="scroll-arrow scroll-x scroll-arrow_less"></div>'), this.scrollx.scrollArrowMore = $('<div class="scroll-arrow scroll-x scroll-arrow_more"></div>'), this.scrolly.scrollArrowLess = $('<div class="scroll-arrow scroll-y scroll-arrow_less"></div>'), this.scrolly.scrollArrowMore = $('<div class="scroll-arrow scroll-y scroll-arrow_more"></div>'), this.wrapper.append(this.scrollx.scrollArrowLess), this.wrapper.append(this.scrollx.scrollArrowMore), this.wrapper.append(this.scrolly.scrollArrowLess), this.wrapper.append(this.scrolly.scrollArrowMore), t = this.scrollx, i = this.scrolly, s = this.container, this.scrollx.scrollArrowLess.on("click", function() {
                    var e = s.scrollLeft() - t.visible;
                    s[0].scrollLeft = e
                }), this.scrollx.scrollArrowMore.on("click", function() {
                    var e = s.scrollLeft() + t.visible;
                    s[0].scrollLeft = e
                }), this.scrolly.scrollArrowLess.on("click", function() {
                    var e = s.scrollTop() - i.visible;
                    s[0].scrollTop = e
                }), this.scrolly.scrollArrowMore.on("click", function() {
                    var e = s.scrollTop() + i.visible;
                    s[0].scrollTop = e
                }))
            },
            onScroll: function(e, t) {
                var i;
                this.showArrows && (i = this, clearTimeout(this.debounceTimeout), this.debounceTimeout = setTimeout(function() {
                    ! function(e, t) {
                        this.scrollx.scrollArrowLess.toggle(0 < e.scroll), this.scrollx.scrollArrowMore.toggle(e.scroll < e.maxScroll), this.scrolly.scrollArrowLess.toggle(0 < t.scroll), this.scrolly.scrollArrowMore.toggle(t.scroll < t.maxScroll)
                    }.call(i, t, e)
                }, 50))
            },
            onUpdate: function() {
                this.container.scroll()
            }
        }).off("scroll", lazyLoadingStart).on("scroll", lazyLoadingStart), $(document).on("click", "#saveNotes", function(e) {
            var t = $(this),
                i = $("#textareaNotes").val();
            data = {
                delete_id: t.data("delete_id"),
                user_id: t.data("id"),
                delete_notes: i
            }, $.ajax({
                type: "POST",
                url: "/admin/includes/actions/delete-user-notes.php",
                data: data,
                success: function(e) {
                    e.error ? gritter(e.error, "Oops!") : (success(e.success, "Great!"), $("#genericPopup").modal("hide"))
                },
                error: function() {},
                dataType: "json"
            })
        })
    }), jQuery.ajaxSetup({
        data: {
            mvtoken: globalSettings.prototype.mvtoken
        },
        beforeSend: function() {
            $("#loadingDiv,#loadingOverlay").fadeIn()
        },
        complete: function() {
            $("#loadingDiv,#loadingOverlay").fadeOut()
        },
        success: function() {},
        error: function(e) {},
        converters: {
            "text json": function(e) {
                var t;
                try {
                    t = jQuery.parseJSON(e)
                } catch (e) {}
                return t
            }
        }
    }), $(".js-recaptchav3-form-btn").click(function() {
        var e = $(this);
        executeRecaptchaV3(e.data("recaptcha-action"), e, !1)
    });
var LOGIN_INTERNAL_STATUS = {
    VALIDATION_REQUIRED: 0,
    RELOAD: 1,
    INVALID_CREDENTIALS: 2,
    SUCCEED: 3,
    TWO_WAY_AUTH: 4,
    LOGIN_FAILED: 5,
    PROFILE_REDIRECT: 6,
    ERROR: 7
};

function loginSubmit(t, e) {
    var i = t.parents("form"),
        s = i.find("input[name=username]").val(),
        n = i.find("input[name=password]").val(),
        a = i.find("input[name=twoway_authentication_code]").val(),
        o = t.data("return") || "";
    t.data("authenticate-code");
    data = {
        username: s,
        password: n,
        previousPage: o,
        captcha: e,
        authenticationCode: a,
        user_action: "login"
    }, -1 < window.location.href.indexOf("usecaptcha") && (data.usecaptcha = "1"), $.ajax({
        type: "POST",
        url: "/includes/login-access-user.php",
        data: data,
        success: function(e) {
            $(".js-captcha-input").remove(), e.internalStatus && e.internalStatus == LOGIN_INTERNAL_STATUS.RELOAD ? ($("#loadingDiv").show(), window.location.reload()) : e.internalStatus && e.internalStatus == LOGIN_INTERNAL_STATUS.INVALID_CREDENTIALS ? (ga("send", {
                hitType: "event",
                eventCategory: "User",
                eventAction: "Login",
                eventLabel: "Error"
            }), gritter("Check Username & Password are correct and re-try. Retrieve Username or Reset Password links below.", "Invalid Credentials", !0), t.removeClass("disabled")) : void 0 !== e.internalStatus && e.internalStatus == LOGIN_INTERNAL_STATUS.VALIDATION_REQUIRED ? (ga("send", {
                hitType: "event",
                eventCategory: "User",
                eventAction: "Login",
                eventLabel: "Error"
            }), gritter('You need to verify your account before you are able to log in to manyvids. Please check your email inbox. <br /><form method="post" action="/User-signup/" enctype="multipart/form-data"><input name="resend_verification_email" type="hidden" value="' + s + '" /><input type="submit" class="btn btn-primary mt-2" name="resend_verification" id="resendVerification" value="Resend verification email"/></form>', "Account validation required"), t.removeClass("disabled")) : e.internalStatus && e.internalStatus == LOGIN_INTERNAL_STATUS.SUCCEED ? ($("#loadingDiv").show(), conversionTrackingSignIn(), window.location.href = "/admin/") : e.internalStatus && e.internalStatus == LOGIN_INTERNAL_STATUS.TWO_WAY_AUTH ? toggleLoginSignupContent("twoWayAuthenticationCode") : e.internalStatus && e.internalStatus == LOGIN_INTERNAL_STATUS.LOGIN_FAILED ? (ga("send", {
                hitType: "event",
                eventCategory: "User",
                eventAction: "Login",
                eventLabel: "Error"
            }), gritter("Your authentication code is not correct. Please enter a new one", "Login error", !0), i.find("input[name=twoway_authentication_code]").val("").focus(), t.removeClass("disabled")) : e.internalStatus && e.internalStatus == LOGIN_INTERNAL_STATUS.PROFILE_REDIRECT ? ($("#loadingDiv").show(), conversionTrackingSignIn(), window.location.href = e.profile.location) : e.internalStatus && e.internalStatus == LOGIN_INTERNAL_STATUS.ERROR && (t.removeClass("disabled"), gritter(e.error, "Login error", !0))
        },
        error: function(e) {
            ga("send", {
                hitType: "event",
                eventCategory: "User",
                eventAction: "Login",
                eventLabel: "Error"
            })
        },
        cache: !1,
        dataType: "json"
    })
}

function getConversionParameter() {
    var t, e = localStorage.getItem("voluum-cid");
    if (e) return t = {
        cId: e,
        et: "SIGNIN",
        mvtoken: globalSettings.prototype.mvtoken
    }, Object.keys(t).map(function(e) {
        return encodeURIComponent(e) + "=" + encodeURIComponent(t[e])
    }).join("&")
}

function conversionTrackingSignIn() {
    var e, t = getConversionParameter();
    t && (t = "/api/ads/conversion?".concat(t), (e = new XMLHttpRequest).open("GET", t, !0), e.setRequestHeader("Content-Type", "application/json;charset=utf-8"), e.setRequestHeader("x-requested-with", "XMLHttpRequest"), e.onload = function() {
        200 !== e.status && console.error("Unable to run ads conversion on login. Error: ", e.status)
    }, e.onerror = function() {
        console.error("Unable to run ads conversion on login.")
    }, e.send())
}

function createPaymentInvoice(e) {
    0 < $("#invoiceModal").length && $("#invoiceModal").remove();
    var s = "",
        t = "",
        i = "",
        n = "",
        a = "",
        o = "",
        r = "",
        l = "",
        d = "",
        c = !1,
        u = 0,
        h = "Title";
    if (e.type && "customvid" == e.type)
        if (n = '<p class="mb-0">Buyer: ' + e.buyer + "</p>", a = '<p class="mb-0">Seller: ' + e.seller + "</p>", o = '<p class="mb-0 capitalize">Status: ' + e.status + "</p>", r = '<p class="mb-0">', "pending" == e.status ? r += "Order" : r += "Delivery", r += " Date: " + e.delivery_date + "</p>", "new" == e.legacy)
            if (h = "Item", c = !0, 0 < e.extras.length) {
                for (var l = "", p = 0; p < e.extras.length; p++) {
                    var f = e.extras[p];
                    "Package" == f.type ? l = (l = (l = (l += "<tr>") + '<td class="text-left">' + f.item_description + '</td><td class="text-left">Custom Vid</td>') + '<td class="text-right">$' + parseFloat(f.price).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g, "$1,") + "</td></tr>") + '<tr><td  class="text-left" colspan="3"><strong>The Story</strong><br />' + f.user_extra_description + "</td></tr>" : (l += '<tr><td class="text-left">' + f.description + ("Tip" === f.type ? "<br><small>Promos do not apply to tips</small>" : "") + "</td>", "Tip" === f.type && (f.type = ""), l += '<td class="text-left">' + f.type + '</td><td class="text-right">$' + parseFloat(f.price).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g, "$1,") + "</td></tr>"), u += parseFloat(f.price)
                }
                l += ""
            } else l = "";
    else l = "";
    var m = "",
        n = ("Netbanx" === e.processor && (t = '<p class="mb-0">Checkout Name: ' + e.name + "</p>"), "Netbanx" === e.processor && (i = '<p class="mb-0">Card: <strong>xxxx xxxx xxxx ' + e.cc_digits + "</strong></p>"), "verotel" === e.processor ? d = '<p class="mb-0">Descriptor Appearing on Statement: Verotel*vtsup.com</p>' : "netbanx" === e.processor || "Rocketgate" === e.processor ? d = '<p class="mb-0">Descriptor Appearing on Statement: MVBILLING.COM</p>' : "Trustpay" === e.processor ? (d = '<p class="mb-0">Descriptor Appearing on Statement: MVBILLING.COM</p>', m = '<p class="mb-0">APM: ' + e.payment_method + '</p><p class="mb-0">Debtor: ' + e.full_name + '</p><p class="mb-0">Debtor account: ' + e.debtor_account + '</p><p class="mb-0">Debtor agent: ' + e.debtor_agent + "</p>") : "Nmi" === e.processor && (e.processor = e.processor.toUpperCase()), '<div id="invoiceModal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog" role="document"><div class="modal-content"><a href="javascript:;" class="modal-close" data-dismiss="modal" aria-hidden="true"><i class="icon medium x-icon"></i></a><div class="modal-header text-left"><h1 class="h1 modal-title mt-2">Buyer Receipt</h1></div><div class="modal-body pt-0" id="printArea">' + n + a + d + '<p class="mb-0">Date: ' + (null !== e.date_purchased ? e.date_purchased : "-") + '</p><p class="mb-0">Customer ID: ' + e.user_id + '</p><p class="mb-0">Purchased Using ' + e.processor + "</p>" + i + t + (0 < e.items.length && "tokens" === e.items[0].type ? '<p class="mb-0">' + e.expiration_date + "</p>" : "") + '<p class="mb-0">Checkout Email: ' + e.email + "</p>" + m + '<p class="mb-0">IP: ' + e.ip + '</p><p class="mb-0">Region: ' + ("Unknown" === e.region ? "" : e.region) + '</p><p class="mb-0">Country: ' + e.country + '</p><p class="mb-0">Billing ID: ' + e.billing_id + '</p><p class="mb-0">Currency: USD</p>' + o + r + '<p>For any inquiries regarding this transaction, please contact <a href="/Support/" target="_blank" title="Contact support" class="is-link">help@manyvids.com</a></p><table class="table border-a text-left table-sm"></table></div><div class="modal-footer"><a href="javascript:;" class="btn btn-secondary btn-lg" data-dismiss="modal">Close</a><a id="printInvoice" class="btn btn-primary btn-lg" href="javascript:;" title="Print">Print</a></div></div></div></div>'),
        a = "<thead><tr><th><strong>" + h + '</strong></th><th><strong>Type</strong></th><th class="text-right"><strong>Price</strong></th></tr></thead>',
        d = "",
        g = 0,
        d = (c || $.each(e.items, function(e, t) {
            0 < t.buyer_discount_amount && (g = parseFloat(g) + parseFloat(t.buyer_discount_amount));
            var i = cleanNum(t.price).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g, "$1,");
            u += parseFloat(t.price), "tokens" == t.type && (t.type = "Tokens"), "crush" == t.type.toLowerCase() && (t.type = "Club"), s += '<tr><td class="text-left">' + t.title + ("" !== t.size_name && null !== t.size_name ? ", " + t.size_name : "") + " <br/> Qty: " + (null !== t.store_item_details_quantity ? t.store_item_details_quantity : 1) + ' </td><td class="text-left">' + t.type + '</td><td class="text-right ' + (0 < t.promo_rate ? "text-highlight" : "") + '">$' + i + "</td></tr>"
        }), s += l, "<tfoot>" + (0 < g ? '<tr class="text-highlight"><td class="text-left" colspan="2"><strong>Discount</strong></td><td class="text-right"><strong>-$' + g.toFixed(2).replace(/(\\d)(?=(\\d{3})+\\.)/g, "$1,") + "</strong></tr>" : "")),
        i = (parseFloat(e.customvid_buyer_discount_amount) ? d = (d += '<tr class="text-highlight"><td class="text-left" colspan="2"><strong>DirectorÃ¢â‚¬â„¢s Cut Promo</strong></td><td class="text-right"><strong>-$' + parseFloat(e.customvid_buyer_discount_amount).toFixed(2).replace(/(\\d)(?=(\\d{3})+\\.)/g, "$1,") + "</strong></tr>") + '<tr><td class="text-left" colspan="2"><strong>Subtotal</strong></td><td class="text-right"><strong>$' + (u - parseFloat(e.customvid_buyer_discount_amount)).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g, "$1,") + "</strong></tr>" : d += '<tr><td class="text-left" colspan="2"><strong>Subtotal</strong></td><td class="text-right"><strong>$' + (u - parseFloat(g)).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g, "$1,") + "</strong></tr>", 0 !== e.tax && (null === e.tax && (e.tax = 0), 0 < e.provincial_tax + e.federal_tax ? (0 < e.provincial_tax && (d += '<tr><td class="text-left" colspan="2"><strong>PST</strong></td><td class="text-right"><strong>$' + parseFloat(e.provincial_tax).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g, "$1,") + "</strong></tr>"), 0 < e.federal_tax && (d += '<tr><td class="text-left" colspan="2"><strong>GST / HST</strong></td><td class="text-right"><strong>$' + parseFloat(e.federal_tax).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g, "$1,") + "</strong></tr>")) : d += '<tr><td class="text-left" colspan="2"><strong>Sales Tax</strong></td><td class="text-right"><strong>$' + parseFloat(e.tax).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g, "$1,") + "</strong></tr>", e.customvid_buyer_discount_amount ? d += '<tr><td class="text-left" colspan="2"><strong>Total</strong></td><td class="text-right"><strong>$' + (u + parseFloat(e.tax) - parseFloat(e.customvid_buyer_discount_amount)).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g, "$1,") + "</strong></tr>" : d += '<tr><td class="text-left" colspan="2"><strong>Total</strong></td><td class="text-right"><strong>$' + (u + parseFloat(e.tax) - parseFloat(g)).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g, "$1,") + "</strong></tr>"), d += "</tfoot>", $("body").append(n), $("#invoiceModal")),
        t = $("#invoiceModal .modal-content .modal-body");
    i.find("table").append(a + "<tbody>" + s + "</tbody>" + d), $(t).css({
        "max-height": "60vh",
        "overflow-y": "auto"
    }), $(i).on("shown.bs.modal", function() {
        $(this).css("display", "block")
    }), i.modal("show")
}

function createCustomVidSummary(e) {
    0 < $("#invoiceModal").length && $("#invoiceModal").remove();
    var s = "",
        n = 0,
        t = '<div id="invoiceModal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog" role="document"><div class="modal-content"><a href="javascript:;" class="modal-close" data-dismiss="modal" aria-hidden="true"><i class="icon medium x-icon"></i></a><div class="modal-header text-left"><h1 class="h1 modal-title mt-2">Custom Vid Summary</h1></div><div class="modal-body pt-0"><p class="mb-0">Buyer: ' + e.items[0].buyer + '</p><p class="mb-0">Seller: ' + e.items[0].seller + '</p><p class="mb-0">Creation Date: ' + e.items[0].creation_date + '</p><p>For any inquiries regarding this transaction, please contact <a href="/Support/" target="_blank" title="Contact support" class="is-link">help@manyvids.com</a></p><table class="table border-a text-left table-sm"></table></div><div class="modal-footer"><a href="javascript:;" class="btn btn-secondary btn-lg" data-dismiss="modal">Close</a><a id="printInvoice" class="btn btn-primary btn-lg" href="javascript:;" title="Print">Print</a></div></div></div></div>',
        e = ($.each(e.items, function(e, t) {
            var i = cleanNum(t.price).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g, "$1,");
            n += parseFloat(t.price), "Package" == t.type ? s = (s = (s = (s += "<tr>") + '<td class="text-left">' + t.description + '</td><td class="text-left">Custom Vid</td>') + '<td class="text-right">$' + parseFloat(t.price).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g, "$1,") + "</td></tr><tr>") + '<td class="text-left" colspan="3"><strong>The Story</strong><br />' + t.user_extra + "</td></tr>" : s += '<tr><td class="text-left">' + t.description + ("Tip" === t.type ? "<br><small>Promos do not apply to tips</small>" : "") + '</td><td class="text-left">' + ("Tip" === t.type ? "" : t.type) + '</td><td class="text-right">$' + i + "</td></tr>"
        }), '<tfoot><tr><td class="text-left" colspan="2"><strong>Total</strong></td><td class="text-right"><strong>$' + n.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g, "$1,") + "</strong></tr></tfoot>"),
        t = ($("body").append(t), $("#invoiceModal")),
        i = $("#invoiceModal .modal-content .modal-body");
    t.find("table").append('<thead><tr><th><strong>Title</strong></th><th><strong>Type</strong></th><th class="text-right"><strong>Price</strong></th></tr></thead><tbody>' + s + "</tbody>" + e), $(i).css({
        "max-height": "60vh",
        "overflow-y": "auto"
    }), $(t).on("shown.bs.modal", function() {
        $(this).css("display", "flex")
    }), t.modal("show")
}

function submitModalSignupForm(t, i) {
    var e = $("input[name=create_username]", t).val(),
        s = $("div.js-username"),
        n = localStorage.getItem("tf_cpa_default_storage"),
        a = !(!$("#restricted").val() || "true" !== $("#restricted").val()),
        n = (-1 < window.location.href.indexOf("usecaptcha") && $("<input />").attr("type", "hidden").attr("name", "usecaptcha").attr("value", "1").appendTo(t), n && $("<input />").attr("type", "hidden").attr("name", "tf_cpa_token").attr("value", n).appendTo(t), $("<input />").attr("type", "hidden").attr("name", "user_action").attr("value", "signup").appendTo(t), new URLSearchParams(window.location.search)),
        o = n.get("cid"),
        o = ("function" == typeof window.getVoluumTrackingToken && (o = getVoluumTrackingToken()), $("<input />").attr("type", "hidden").attr("name", "cid").attr("value", o).appendTo(t), n.get("lid"));
    $("<input />").attr("type", "hidden").attr("name", "lid").attr("value", o).appendTo(t), t.attr("action", "/includes/user_signup_be_v2.php?restricted=" + a), $.when(checkNewUsernameAvailability(e, s)).done(function(e) {
        "true" === e.available && ($("button.submit", t).attr("disabled", "disabled"), null !== i) && t.submit(), $(".js-captcha-input").remove()
    })
}

function displayMessageValidation(e, t, i, s) {
    $("div.ctn-input-message span").remove();
    var e = $(e),
        n = (e.parent().hasClass("ctn-input-message") && e.unwrap(), $('<div class="ctn-input-message"></div>').addClass(t)),
        i = $("<span>" + i + "</span>").addClass(t);
    e.wrap(n).parent().append(i), s && e.focus()
}
$("body").hasClass("js-block-leaving") && ($("div.breadcrumb span.item:eq(0)").after('<span class="divider">/</span><span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a itemprop="item" ><span itemprop="name" id="show-stage-name">' + $("#profileLink").data().stagename + '</span></a><meta itemprop="position" content="1" /></span>'), $("form").on("keyup change", "input, select, textarea", function() {
    window.history.pushState("forward", null, "./#forward"), $("body").addClass("js-redirect"), $("body").removeClass("js-block-leaving")
})), $(document).on("click", ".js-block-leaving a:not(#mm)", function(e) {
    e.preventDefault();
    e = $(this).attr("href");
    return "Join FREE!" == e ? window.location.assign("/Create-Free-Account/") : "Login" == e ? window.location.assign("/Login/") : void 0 === e ? window.location.assign("/Profile/" + $("#profileLink").data().id + "/" + $("#profileLink").data().stagename + "/") : window.location.assign(e), !1
}), $("#education").on("change", function() {
    "0" === $("#education").val() ? $(".hide-text").css("display", "none") : $(".hide-text").css("display", "block")
}), $(document).on("click", ".js-redirect a:not(.modal-close,.add-cart,#mm) ,.js-redirect a.checkout-cart", function(e) {
    e.preventDefault();
    $(this).attr("title");
    var e = $(this).attr("href");
    (locationArray = []).push(e), popup = !1, window.MV.isLoggedIn ? "javascript" !== e.replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g, "") && (popup = !0) : "Join FREE!" == (e = $(this).attr("title")) ? window.location.assign("/Create-Free-Account/") : "Login" == e ? window.location.assign("/Login/") : popup = "javascript" != locationArray[0].replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g, ""), popup && window.MV.mvDialog.confirm('<div style="max-width:500px;">Are you sure you want to leave this page? </div>', "", "Yes").promise.done(function(e) {
        e && (void 0 === locationArray[0] ? window.location.assign("/Profile/" + $("#profileLink").data().id + "/" + $("#profileLink").data().stagename + "/") : window.location.assign(locationArray[0]))
    })
}), $(window).on("popstate", function() {
    0 < window.location.href.indexOf("Custom-vid") && (window.MV.mvDialog.confirm('<div style="max-width:500px;">Are you sure you want to leave this page? </div>', "Cancel", "Yes").promise.done(function(e) {
        e && window.location.assign("/Profile/" + $("#profileLink").data().id + "/" + $("#profileLink").data().stagename + "/")
    }), window.history.pushState("forward", null, "./#forward"))
}), $(function() {
    var e;
    null === sessionStorage.getItem("bannerShown") ? (e = "yes", sessionStorage.setItem("bannerShown", e)) : e = sessionStorage.getItem("bannerShown"), $(".banner-we-are-many").length && "yes" === e && ($("body").addClass("-has-notification"), $(document).on("click", ".banner-we-are-many .btn-close", function() {
        $("body").removeClass("-has-notification"), sessionStorage.setItem("bannerShown", "no")
    }))
}), ! function(t) {
    var e = $(".user-nav .has-right-arrow"),
        i = $(".user-nav.dropdown-menu"),
        s = ($(".top-header").length ? $(".top-header").height() : 0) + $(".main-header").height() + i.height() - t.innerHeight;
    e.on("click touch", function(e) {
        t.innerWidth <= 767 && $(".user-nav .primary-nav").is(":visible") && i.animate({
            scrollTop: s
        }, 500)
    })
}("undefined" != typeof window ? window : void 0), $(window).load(function() {
    var e; - 1 < window.location.href.indexOf("/Information/") && (e = window.location.hash.replace("#", ""), $("#" + e).collapse("show"))
});
var passwordPatterns = {
    charLength: function(e, t, i) {
        return e.length >= (void 0 === t ? 4 : t) && e.length <= (void 0 === t ? 20 : i)
    },
    lowercase: function(e) {
        return !!/^(?=.*[a-z]).+$/.test(e)
    },
    uppercase: function(e) {
        return !!/^(?=.*[A-Z]).+$/.test(e)
    },
    special: function(e) {
        return !!/([!,%,&,@,#,$,^,*,?,_,~])/.test(e)
    }
};

function checkPasswordComplexityForModels(e) {
    var e = $(e),
        t = e.parent(),
        i = (t.removeClass("mv-valid"), t.removeClass("mv-invalid"), t.find("span.mv-invalid").remove(), {
            charLength: $(".js-length"),
            lowercase: $(".js-lowercase"),
            uppercase: $(".js-uppercase"),
            special: $(".js-special")
        });

    function s(e, t) {
        e ? (t.addClass("valid"), t.removeClass("invalid")) : (t.addClass("invalid"), t.removeClass("valid"))
    }
    s(passwordPatterns.charLength(e.val()), i.charLength), s(passwordPatterns.lowercase(e.val()), i.lowercase), s(passwordPatterns.uppercase(e.val()), i.uppercase), s(passwordPatterns.special(e.val()), i.special), i.charLength.hasClass("valid") && i.lowercase.hasClass("valid") && i.uppercase.hasClass("valid") && i.special.hasClass("valid") && t.addClass("mv-valid")
}

function checkPasswordComplexityForMembers(e) {
    (e = $(e)).val().length < 4 ? displayMessageValidation(e, "mv-invalid", "Min. 4 characters", !0) : 20 < e.val().length ? displayMessageValidation(e, "mv-invalid", "Max. 20 characters", !0) : displayMessageValidation(e, "mv-valid", "", !0)
}

function whichMemberTypeIsChecked() {
    $('input[type="radio"][id="member_type2"]').is(":checked") ? ($("ul.ctn-helper-text").get(0).style.display = "grid", checkPasswordComplexityForModels("input.js-password"), $(".sso-login").hide()) : ($("ul.ctn-helper-text").get(0).style.display = "none", checkPasswordComplexityForMembers("input.js-password"), $(".sso-login").show())
}

function signUpLoadOnError() {
    displayMessageValidation("input[name=create_username].required", "mv-valid", "", !1), displayMessageValidation("input[name=create_email].required", "mv-valid", "", !1), displayMessageValidation("input[name=create_password].required", "mv-valid", "", !1), whichMemberTypeIsChecked()
}

function setButtonAsDisabled() {
    $("button.submit").addClass("disabled"), $("button.submit").prop("disabled", !0)
}

function signUpCheckValidationLogic() {
    return setButtonAsDisabled(), !!$("input[name=18_plus_check]").is(":checked") && !!($("input[name=create_username].required").parent().hasClass("mv-valid") && $("input[name=create_email].required").parent().hasClass("mv-valid") && $("#create_password").parent().hasClass("mv-valid")) && ($("button.submit").removeClass("disabled"), $("button.submit").prop("disabled", !1), !0)
}

function checkNewUsernameAvailability(e, t) {
    e = {
        username: e,
        available: "true"
    };
    return displayMessageValidation(t, "mv-valid", "", !1), e
}

function checkNewEmail(e, t) {
    if (new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i).test(t)) {
        if (t.length <= 100 && 6 <= t.length) return displayMessageValidation(e, "mv-valid", "", !1), !0;
        displayMessageValidation(e, "mv-invalid", "Your email must be between 6 to 20 characters.", !1)
    } else displayMessageValidation(e, "mv-invalid", "Please enter a valid email address.", !1)
}

function buildVoterList(e) {
    var t = $(".js-voter-list"),
        i = "",
        s = "";
    $.each(e, function(e, t) {
        s = '<span class="list-name">' + t.stage_name + "</span>", "0" === t.anonymous && (s = '<a href="' + t.profileUrl + '" class="is-link list-name" target="_blank">' + t.stage_name + "</a>"), i += '<li><div class="column"><a class="pic-wrapper square-size-3 float-left mr-1" href="' + t.profileUrl + '"  target="_blank"><img class="pic-fit" src="' + t.profile_pic + '"></a>' + s + '</div><div class="column">' + t.free_vote + '</div><div class="column text-right">$' + t.amount + "</div></li>"
    }), t.empty(), t.append('<li><div class="column">Voter</div><div class="column">Free</div><div class="column text-right">Paid</div></li>'), t.append(i), $("#contestVoterList").modal("show")
}

function sendServiceRenew(e) {
    $.ajax({
        type: "POST",
        url: "/includes/service_renew.php",
        dataType: "json",
        data: e,
        success: function(e) {
            e.error ? gritter(e.error, "Oops!") : e.success && (success(e.success, "Great!"), e.reload) && setTimeout(function() {
                window.location.reload()
            }, 1e3)
        }
    })
}
$("input[name=create_email]").on("blur", function(e) {
    var t;
    "" !== e.target.value && (t = (e = $(this)).val(), checkNewEmail(e, t), signUpCheckValidationLogic())
}), $("input[name=create_email]").on("keyup", function() {
    signUpCheckValidationLogic()
}), $("input[name=create_username].required").on("input", function(e) {
    "" !== e.target.value && ((e = $("input[name=create_username].required")).off("blur"), e.val().length < 6 ? (e.off("blur"), displayMessageValidation(e, "mv-invalid", "Min. 6 characters", !0)) : 20 < e.val().length ? (e.off("blur"), displayMessageValidation(e, "mv-invalid", "Max. 20 characters", !0)) : ($(e).next().remove(), e.parent().hasClass("ctn-input-message") && e.unwrap(), e.focus(), e.on("blur", function() {
        var e = $(this);
        checkNewUsernameAvailability(e.val(), e)
    }), signUpCheckValidationLogic()))
}), $("input[name=18_plus_check]").change(function() {
    signUpCheckValidationLogic()
}), $("#create_password").on("input", function(e) {
    "" === e.target.value && setButtonAsDisabled(), ("1" == $('input[type="radio"][name="member_type"]:checked').val() ? checkPasswordComplexityForMembers : checkPasswordComplexityForModels)("input.js-password"), signUpCheckValidationLogic()
}), $("div.toggle-password:first").on("click", function() {
    $(this).toggleClass("show-pwd hide-pwd");
    var e = document.getElementById("create_password");
    "password" == e.type ? e.type = "text" : "text" == e.type && (e.type = "password")
}), $('input[type="radio"][name="member_type"]').change(function() {
    whichMemberTypeIsChecked(), signUpCheckValidationLogic()
}), $(window).load(function() {
    var e; - 1 < window.location.href.indexOf("/Information/") && (e = window.location.hash.replace("#", ""), $("#" + e).collapse("show"))
}), $(".js-open-voter-list").on("click", function() {
    var e = $(this).data("contest-id");
    $.ajax({
        type: "POST",
        url: "/includes/get_contest_voter_list.php",
        dataType: "json",
        data: {
            contestId: e
        },
        success: function(e) {
            e.error ? gritter(e.error, "Oops!") : buildVoterList(e.list)
        }
    })
}), $(".js-make-primary-entry").on("click", function() {
    var e = $(this).data("contest-id"),
        t = $(this).data("mv-award"),
        i = $(this).data("user-id");
    $.ajax({
        type: "POST",
        url: "/includes/make_contest_entry_primary.php",
        dataType: "json",
        data: {
            contestId: e,
            mvAward: t,
            userId: i
        },
        success: function(e) {
            e.error ? gritter(e.error, "Oops!") : success(e.success, "Great!")
        }
    })
}), $(".js-wallSettings").on("click", function(e) {
    e.preventDefault();
    var e = $(this),
        e = (tp = e.parent(".js-form"), $("input[name=mvtoken]").val()),
        t = void 0 === $("input[name=walldisable]:checked").val() ? 0 : 1;
    $.ajax({
        type: "POST",
        url: "/includes/wall_settings.php",
        dataType: "json",
        data: {
            mvtoken: e,
            wallOption: t
        },
        success: function(e) {
            e.success ? success(e.success, "Great!") : gritter(e.error, "Oops!")
        }
    })
}), $(".js-service-renew").on("click", function(e) {
    e.preventDefault();
    var e = $(this),
        e = (tp = e.parent(".js-form"), $("input[name=mvtoken]").val()),
        t = void 0 === $("input[name=renewDisable]:checked").val() ? 0 : 1;
    $.ajax({
        type: "POST",
        url: "/includes/service_renew.php",
        dataType: "json",
        data: {
            mvtoken: e,
            renewOption: t,
            type: "premium"
        },
        success: function(e) {
            e.error ? gritter(e.error, "Oops!") : e.success && success(e.success, "Great!")
        }
    })
}), $(".js-toggle-auto-renew").on("click", function(e) {
    e.preventDefault();
    var e = $(this),
        t = e.data("type"),
        i = e.data("subscription-id"),
        s = e.data("user-id"),
        n = e.data("model-stagename"),
        e = e.data("renew-option"),
        a = "As of your expiry date, youÃ¢â‚¬â„¢ll lose access to all current and upcoming Crush content offered by " + n + ".<br>You may also be walking away from a great subscription option which is no longer offered.",
        o = ("membership" === t ? a = "As of your expiry date, youÃ¢â‚¬â„¢ll lose access to all current and upcoming Vids offered by " + n + ".<br>You may also be walking away from a great membership option which is no longer offered." : "text" === t && (a = "As of your expiry date, youÃ¢â‚¬â„¢ll lose access to all texting rights with " + n + ".<br>You may also be walking away from a great texting option which is no longer offered."), {
            type: t,
            type_id: i,
            renewOption: e,
            uid: s
        });
    1 === e ? sendServiceRenew(o) : window.MV.mvDialog.confirm(a, "Turn Off Renewal, Are You Sure?").promise.done(function(e) {
        sendServiceRenew(o)
    })
}), $(document).on("click", ".js-contest-vote-now", function(e) {
    e.preventDefault();
    var e = $(this),
        i = e.data("cid"),
        s = e.attr("data-mid"),
        n = e.parents(".js-participant"),
        a = n.data("participant-user-id"),
        o = e.data("type"),
        t = "1" == e.data("allowPaid"),
        r = e.parents("form"),
        l = e.hasClass("disabled"),
        d = e.hasClass("js-signup-trigger"),
        c = window.MV.isLoggedIn,
        u = e.data("team"),
        h = e.closest(".contest-participant").find(".js-team-member-select li a.selected").data("mid"),
        p = void 0 === e.data("contest-type") ? "" : e.data("contest-type"),
        f = e.closest(".contest-participant").find(".js-team-member-select li.dropdown-item").length,
        e = [{
            value: "free",
            desc: "Free (1)",
            sortOrder: 1
        }, {
            value: 75,
            desc: "$75 (750)",
            sortOrder: 11
        }, {
            value: 350,
            desc: "$350 (3.5k)",
            sortOrder: 8
        }, {
            value: 5,
            desc: "$5 (50)",
            sortOrder: 3
        }, {
            value: 100,
            desc: "$100 (1k)",
            sortOrder: 13
        }, {
            value: 500,
            desc: "$500 (5k)",
            sortOrder: 10
        }, {
            value: 10,
            desc: "$10 (100)",
            sortOrder: 5
        }, {
            value: 150,
            desc: "$150 (1.5k)",
            sortOrder: 2
        }, {
            value: 750,
            desc: "$750 (7.5k)",
            sortOrder: 12
        }, {
            value: 25,
            desc: "$25 (250)",
            sortOrder: 7
        }, {
            value: 200,
            desc: "$200 (2k)",
            sortOrder: 4
        }, {
            value: 1e3,
            desc: "$1000 (10k)",
            sortOrder: 14
        }, {
            value: 50,
            desc: "$50 (500)",
            sortOrder: 9
        }, {
            value: 250,
            desc: "$250 (2.5k)",
            sortOrder: 6
        }, {
            value: 2e3,
            desc: "$2000 (20k)",
            sortOrder: 15
        }],
        m = (t || (e = e.filter(function(e) {
            return "free" == e.value
        })), device.prototype.isMobile && (e = e.sort(function(e, t) {
            return e.sortOrder - t.sortOrder
        })), $("#ServiceRain"));
    m.find("li").remove(), $.each(e, function(e, t) {
        li = '<li class="awards-popup ' + (0 === e ? "selected" : "") + ' "><div class="row mv-controls"><div class="col-2 flex-column-center" ><input type="radio" name="serviceChoice" id="serviceChoice' + e + '"value="' + t.value + '"' + (0 === e ? "checked" : "") + '><label class="radio m-0" for="serviceChoice' + e + '"><span class="m-0"></span></label></div><div class="col-10 flex-column-center" style="max-width: 100%;"><span class="description-title">' + t.desc + '</span></div></div><input value="' + t.value + '" class="href" name="hidden-price" type="hidden"/></li>', m.find("ul").append(li)
    }), m.find('[name="anonymous-votes"]').attr("checked", !1), m.find(".vote-anonymously").removeClass("is-hidden"), m.find("p").remove(), m.find(".modal-title").html("Vote Now"), m.find(".checkout-cart").remove(), c && m.find(".modal-footer").html('<a href="javascript:;" class="btn btn-primary contest-checkout ">Vote</a>'), m.modal("show"), m.addClass("contestDiv"), $(".contest-checkout").on("click", function() {
        var e = $(this).parent().parent(),
            t = e.find(".selected").find("input").val(),
            e = void 0 !== e.find('[name="anonymous-votes"]:checked').val() ? 1 : 0;
        if ("" !== t) {
            if (1 === o && "free" !== t) return m.modal("hide"), void gritter("MV Stars can only contribute with a FREE Vote.");
            if (0 < $(".js-team-member-select", n).length && 0 === $(".js-team-member-select .pic-wrapper.selected", n).length && "free" !== t) return $(".animate-selected").removeClass("animate-selected"), $(".js-team-member-select", n).addClass("animate-selected"), $(".append-error-container").empty(), $(".append-error-container", n).append('<div class="append-error no-icon text-center"></div>'), $(".contest-checkout", n).val("").trigger("chosen:updated"), gritter("Select the Team member above in which you want to vote for."), void setTimeout(function() {
                $(".animate-selected").removeClass("animate-selected")
            }, 8e3)
        }
        u ? submitContestCheckout(i, h, r, l, t, a, "", d, !0, e, p, f) : "" === p ? submitContestCheckout(i, s, r, l, t, a, "", d, !0, e, p, 1) : submitContestCheckout(i, s, r, l, t, s, "", d, !1, e, p, 1)
    })
}), $(".js-change-starlight-content").on("change", function(e) {
    var t = $(this),
        t = (t.data("visiblity"), (t = t.find("option:selected").val()).replace(/\s+/g, "-"));
    window.location.pathname = "MV-Daily/" + t + "/"
}), $(".js-starlight-content").on("change", function(e) {
    var t = {
        contentType: $(this).val(),
        mvtoken: globalSettings.prototype.mvtoken
    };
    $.ajax({
        type: "POST",
        url: "/includes/get_starlight.php",
        data: t,
        success: function(t) {
            t.error ? gritter(t.error, "Oh no!") : jQuery.get("/views/mv-starlight-card.mustache", function(e) {
                e = Mustache.render(e, {
                    mv_starlight_card: t.success
                });
                $(".mv-starlight").html(e)
            })
        },
        error: function(e) {},
        dataType: "json"
    })
});
var _video = document.querySelector(".mv-store-trailer");

function isScrolledIntoView(e) {
    var t = e.getBoundingClientRect().top,
        e = e.getBoundingClientRect().bottom;
    return 0 <= t && e <= window.innerHeight
}

function campaignTracking() {
    var e = function() {
        var e = window.location.search;
        if ("URLSearchParams" in window) return function(e) {
            var i = {};
            return e.forEach(function(e, t) {
                i[t] = e
            }), i
        }(new URLSearchParams(e));
        return function(e) {
            var e = e.slice(e.indexOf("?") + 1).split("&"),
                i = {};
            return e.map(function(e) {
                var t = e.split("=")[0],
                    e = e.split("=")[1];
                i[t] = decodeURIComponent(e)
            }), i
        }(e)
    }();
    e.utm_campaign && (localStorage.setItem("campaignTrackingParams", JSON.stringify(e)), ga("send", {
        hitType: "event",
        eventCategory: "Campaign Tracking",
        eventAction: "Guess User Visit",
        eventLabel: e.utm_campaign
    }))
}
null !== _video && window.addEventListener("scroll", function() {
    isScrolledIntoView(_video) ? _video.play() : _video.pause()
}), $(document).on("click", ".watch-vid", function() {
    var e = $(this).parents(".js-video-card-flex").find(".js-video-preview").attr("href");
    window.location.href = e
}), $(document).on("click", ".js-link-bitsafe", function() {
    $("#loadingDiv,#loadingOverlay").show()
}), $(document).on("click", ".btn-delete-cc-info", function() {
    var t, i = $(this);
    "1" === $("#legacy_enable_processing_card_hash").val() ? (t = window.location.href.includes("manyvids.com") ? "https://card-hash.kiwi.manyvids.com/card-hash/" : "https://rocket.card-hash.mavtek.systems/card-hash/", window.MV.mvDialog.forget1ClickCardInfo("By clicking yes below, your saved card will no longer be available for purchases").promise.done(function(e) {
        e && ($("#loadingDiv,#loadingOverlay").show(), e = i.attr("userId"), fetch(t + e, {
            method: "DELETE",
            mode: "cors",
            headers: {
                "Content-Type": "application/json"
            },
            credentials: "include",
            body: JSON.stringify({
                processor: "rocketgate"
            })
        }).then(function(e) {
            if (e.ok) return e.json();
            throw new Error("Network response was not ok " + e.statusText)
        }).then(function(e) {
            $("#loadingDiv,#loadingOverlay").hide(), success("We have successfully forgotten your card", "Success!"), i.parents(".payment").remove()
        }).catch(function(e) {
            $("#loadingDiv,#loadingOverlay").hide(), gritter("Something went wrong, try to contact support", "Oops!")
        }))
    })) : window.MV.mvDialog.forget1ClickCardInfo("By clicking yes below, your saved card will no longer be available for purchases").promise.done(function(e) {
        e && ($("#loadingDiv,#loadingOverlay").show(), e = {
            inputId: i.attr("userId")
        }, $.ajax({
            type: "POST",
            url: "/includes/delete-user-credit-card-info.php",
            data: e,
            success: function(e) {
                $("#loadingDiv,#loadingOverlay").hide(), e.error ? gritter("Something went wrong, try to contact support", "Oops!") : (success("We have successfully forgotten your card", "Success!"), i.parents(".payment").remove())
            },
            error: function(e) {},
            dataType: "json"
        }))
    })
}), $(document).on("click", ".btn-confirm-1cp", function() {
    window.MV.MvDialog1CP.createElement($(this))
});
var duration = 864e5;

function sendWhenUserWasLastActiveRequest() {
    var e, t;
    userId && (e = localStorage.getItem("whenUserWasLastActive"), t = (new Date).getTime(), e && t - e < duration || fetch("https://bff.user.kiwi.manyvids.com/prod/bff/user/lastActive", {
        method: "POST",
        mode: "cors",
        credentials: "include",
        headers: {
            "Content-Type": "application/json"
        }
    }).then(function(e) {
        e.json()
    }).then(function(e) {
        return localStorage.setItem("whenUserWasLastActive", t), e
    }).catch(function(e) {
        return console.log(e), e
    }))
}

function hideGenerateButton() {
    $(".js-generate-video-screenshot").addClass("disabled")
}

function showGenerateButton() {
    $(".js-generate-video-screenshot").removeClass("disabled")
}

function getStream(e) {
    $.ajax({
        type: "POST",
        url: "/includes/get_stream.php",
        data: data,
        success: function() {
            data.error ? gritter(data.error, "Oops!") : console.log(data.stream)
        },
        error: function() {},
        dataType: "json"
    })
}

function xhrSetup(e) {
    e && (e.withCredentials = !0)
}

function render_player(e, t, i, s) {
    var n = $("#" + e),
        a = 0 < n.parent().siblings(".loader-icon").length ? n.parent().siblings(".loader-icon") : null,
        o = document.getElementById(e),
        r = n.attr("data-video-filepath"),
        l = n.attr("data-video-transcoded"),
        d = (d = n.attr("data-transcoded-status")) && d.toString(),
        s = s ? "" : n.data("video-screenshot"),
        c = n.data("stream-type"),
        u = n.data("loop"),
        h = n.data("license-key") || "Kl8laT1rNjlzejAyeWVpP3JvbTVkYXNpczMwZGIwQSVfKg==",
        p = "/includes/vendor/radiantmediaplayer-5.0.7/",
        f = n.data("autoplay") || !1,
        i = "" !== i && i,
        m = (m = n.data("stream")) && m.toString(),
        g = void 0 !== $("html").data("session-details") && "" !== $("html").data("session-details").toString(),
        v = n.data("muted") || !1,
        y = $(".js-video-ad-campaign-details").data("ad-preroll-campaign-url") || !1,
        b = $(".js-video-ad-campaign-details").data("ad-postroll-campaign-url") || !1,
        w = $(".js-video-ad-campaign-details").data("ad-campaign-text") || "MV Ad",
        _ = n.data("vid"),
        C = $("html").data("mvtoken"),
        n = {
            mp4: [r]
        },
        w = (l && 768 <= window.innerWidth ? n = {
            mp4: [l, r]
        } : l && (n = {
            mp4: [l]
        }), {
            ads: {
                controlBarCustomMessage: w,
                skipMessage: "Skip this ad",
                skipWaitingMessage: "Skip this ad in"
            }
        });
    "hls" === c && (n = {
        hls: r
    }), c = t ? {
        licenseKey: h,
        delayToFade: 3e3,
        autoHeightMode: !0,
        pathToRmpFiles: p,
        bitrates: n,
        poster: s,
        displayStreams: !0,
        hideControls: i,
        skin: "s1",
        flashDrm: !0,
        muted: v,
        hlsJSXhrSetup: xhrSetup,
        googleCast: !1,
        fadeInPlayer: !0
    } : {
        licenseKey: h,
        delayToFade: 3e3,
        autoHeightMode: !0,
        pathToRmpFiles: p,
        bitrates: n,
        loop: u,
        poster: s,
        displayStreams: !0,
        hideControls: i,
        skin: "s1",
        flashDrm: !0,
        muted: v,
        googleCast: !1,
        fadeInPlayer: !0
    }, (y || b) && (r = {
        preroll: y,
        postroll: b
    }, c.ads = !0, c.adSkipButton = !(!y && b), c.adSkipOffset = 5, c.adParser = "rmp-vast", c.labels = w, c.adSchedule = r);
    globalSettings.prototype.rmp = new RadiantMP(e), globalSettings.prototype.rmp.init(c), o.addEventListener("ready", function() {
        console.log("--------  player ready --------"), $("body").hasClass("edit-video") && $(".rmp-video").attr("crossorigin", window.location.origin), f && (globalSettings.prototype.rmp.play(), null !== a) && setTimeout(function() {
            a.remove()
        }, 5e3), l && ($(".rmp-overlay-level:eq(0)").html("Compressed"), $(".rmp-overlay-level:eq(1)").html("Original"))
    }), o.addEventListener("srcchanged", function() {
        l && ($(".rmp-overlay-level:eq(0)").html("Compressed"), $(".rmp-overlay-level:eq(1)").html("Original"), globalSettings.prototype.rmp.getSrc() === l ? ($(".rmp-overlay-level:eq(0)").addClass("rmp-overlay-level-active"), $(".rmp-overlay-level:eq(1)").removeClass("rmp-overlay-level-active")) : ($(".rmp-overlay-level:eq(0)").removeClass("rmp-overlay-level-active"), $(".rmp-overlay-level:eq(1)").addClass("rmp-overlay-level-active")))
    }), o.addEventListener("error", function() {
        l && globalSettings.prototype.rmp.getSrc() !== l ? (globalSettings.prototype.rmp.setSrc({
            mp4: [l]
        }), globalSettings.prototype.rmp.play()) : "0" === d && g && "1" === m ? callTranscodedVid(C, _) : $(".rmp-error-text").html("Optimized streaming for this vid is currently unavailable. Please contact <a href='mailto:help@manyvids.com'>help@manyvids.com</a> for assistance.")
    }), o.addEventListener("seeking", function() {
        "0" === d && g && "1" === m && globalSettings.prototype.rmp.getSrc() !== l && startVerifyingVideoFrame($(o).find("video")[0])
    }), o.addEventListener("play", function() {
        "0" === d && g && "1" === m && globalSettings.prototype.rmp.getSrc() !== l && startVerifyingVideoFrame($(o).find("video")[0])
    }), o.addEventListener("adstarted", function() {
        $(".rmp-ad-vast-video-player").attr("onclick", "ga('send', {hitType: 'event', eventCategory: 'Ads', eventAction: 'ClickVidRoll', eventLabel: '" + window.location.pathname + "'})"), $(".js-video-ad-live-icon").removeClass("is-hidden")
    }), o.addEventListener("addestroyed", function() {
        $(".js-video-ad-live-icon").remove(), $(".multi-video").addClass("show-multi-video")
    })
}
sendWhenUserWasLastActiveRequest(), setInterval(sendWhenUserWasLastActiveRequest, duration), globalSettings.prototype.streamHandshake = "", $(document).ready(function() {
    var e;
    0 < $("#rmpPlayer").length && !$("#rmpPlayer").hasClass("js-empty-url") && (render_player("rmpPlayer", !1), e = document.getElementById("rmpPlayer"), 0 === $(".js-video-ad-campaign-details").length && e.addEventListener("ended", makeEnded), e.addEventListener("play", makePlay)), 0 < $("#rmpPlayerStream").length && (render_player("rmpPlayerStream", !0), e = document.getElementById("rmpPlayerStream"), $("body").hasClass("edit-video") ? (e.addEventListener("seeking", hideGenerateButton), e.addEventListener("seeked", showGenerateButton), getStreamPermission()) : (e.addEventListener("ready", getStreamPermission), e.addEventListener("play", makePlay))), $(".js-refresh-video").click(function() {
        $(".rmp-overlay-button").trigger("click")
    })
});
var makeEnded = function() {
        $(".multi-video").addClass("show-multi-video")
    },
    makePlay = function() {
        $(".multi-video").removeClass("show-multi-video"), window.setTimeout(function() {
            $(".vid-icons-wrapper").fadeOut()
        }, 500), $(".js-video-player-wrapper").length
    },
    setStreamPermissionInterval = function(e) {
        globalSettings.prototype.streamHandshake = setInterval(function() {
            getStreamPermission(!0)
        }, 12e4)
    },
    getStreamPermission = function(e) {
        var t = {
            vid: $("#rmpPlayerStream").data("vid")
        };
        $.ajax({
            type: "POST",
            url: "/includes/ajax_repository/you_had_me_at_hello.php",
            data: t,
            beforeSend: function() {
                $("#loadingDiv,#loadingOverlay").hide()
            },
            success: function(e) {
                e.success ? globalSettings.prototype.streamHandshake || setStreamPermissionInterval() : clearInterval(globalSettings.prototype.streamHandshake)
            },
            error: function() {},
            dataType: "json"
        })
    };

function callTranscodedVid(e, t) {
    $(".rmp-error-text").html("WeÃ¢â‚¬â„¢re sorry, this vid is currently being optimized for streaming. Please try again in 10 minutes."), $.ajax({
        type: "POST",
        url: "/api/video/transcode",
        dataType: "json",
        data: {
            mvtoken: e,
            videoId: t
        },
        beforeSend: function() {
            $("#loadingDiv,#loadingOverlay").hide()
        },
        success: function() {},
        error: function() {}
    })
}
var frames = [],
    framesToEvaluate = 4;

function startVerifyingVideoFrame(e) {
    try {
        var t = document.createElement("canvas");
        t.width = e.offsetWidth, t.height = e.offsetHeight;
        t.getContext("2d").drawImage(e, 0, 0);
        for (var i = !0, s = 0; s < frames.length; s++)
            if (frames[s].second === Math.trunc(e.currentTime)) {
                i = !1;
                break
            } i && frames.push({
            second: Math.trunc(e.currentTime),
            frame: t.toDataURL()
        }), frames.length < framesToEvaluate ? setTimeout(function() {
            startVerifyingVideoFrame(e)
        }, 1e3) : checkBlackScreen(e)
    } catch (e) {}
}

function checkBlackScreen(e) {
    for (var t = !0, i = 0; i < frames.length; i++) {
        for (var s = i + 1; s < frames.length; s++)
            if (frames[i].frame !== frames[s].frame) {
                t = !1;
                break
            } if (!t) break
    }
    t && globalSettings.prototype.rmp.setSrc("https://invalid")
}

function validateQuickReviewQuestions(e) {
    var t = $(".review-slidee.quick-review");
    return $(".starRating", t).length === $("input[type=radio]:checked", t).length
}

function validateReviewComment(e) {
    return 2 < e.find("[name=comment]").val().length
}

function resetRating() {
    var e = $(".review-controls");
    $(".next", e).show(), $(".complete", e).hide(), $("#ReviewQuestions").hide().removeClass("quick-review advanced-review"), $(".review-slidee", ".review-slider").removeClass("current"), $("#quickReviewRating").hide(), $("#chooseReview .btn").show(), $(".review-row input").prop("checked", !1)
}

function imageProperties() {}

function division() {}

function preview(e, t) {
    var i = imageProperties.prototype.thumb_width / t.width,
        s = imageProperties.prototype.thumb_height / t.height;
    $(".img-thumb-polaroid > img").css({
        width: Math.round(i * imageProperties.prototype.lWidth) + "px",
        height: Math.round(s * imageProperties.prototype.lHeight) + "px",
        marginLeft: "-" + Math.round(i * t.x1) + "px",
        marginTop: "-" + Math.round(s * t.y1) + "px"
    }), $("#x1").val(t.x1), $("#y1").val(t.y1), $("#x2").val(t.x2), $("#y2").val(t.y2), $("#w").val(t.width), $("#h").val(t.height)
}

function resetEditPic(e) {
    var t = $("#editPic");
    t.removeClass("no-transition"), t.modal("hide").find(".modal-body img").removeAttr("src").end().find("#uploadContainer").removeClass("is-hidden").end().find("#avatarContainer").removeClass("is-hidden").end().find("#cropContainer").addClass("is-hidden").end().find("#fileUploader").val("").end().find(".fakefile").text("Supported file type: jpg, jpeg, gif, png"), $("#cancelPic").trigger("click"), $("#thumbnail").removeClass("imgAreaSelect").imgAreaSelect({
        remove: !0
    }), e && clearSessions(), $(".modal-header").show()
}

function clearSessions() {
    $.ajax({
        url: "/includes/image_crop_ajax_clear_session_data.php",
        type: "POST",
        data: {
            clear: !0
        },
        dataType: "json",
        beforeSend: function() {
            $("#loadingDiv,#loadingOverlay").hide()
        },
        success: function(e) {}
    })
}

function populateUploadImgs() {
    var e = $(".upload-images-wrapper img").length;
    $("[data-image-link]").addClass("is-hidden"), $("[data-image-link=image_" + (e + 1) + "]").removeClass("is-hidden"), 0 === $(".upload-images-wrapper img.selected").length && $(".upload-images-wrapper .images > div:first-child img.user-img").addClass("selected").attr("data-original-title", "This is your default Store Item Image").parent().addClass("selected")
}

function resetImgWrappers() {
    $(".upload-images-wrapper .images .empty-img").parent().remove();
    for (var e = "", t = $(".upload-images-wrapper .user-img").length, i = ($(".upload-images-wrapper .images > div").length, imageProperties.prototype.multiImage - t), s = $("body").hasClass("store") ? ' class="col-md-3 col-6 mb-2 p-1"' : "", n = 0; n < i; n++) e += "<div" + s + '><div class="img-polaroid empty-img"></div></div>';
    $(".upload-images-wrapper .images").append(e), $.each($(".upload-images-wrapper .images > div"), function(e, t) {
        $(this).attr("id", "image_" + (e + 1)).find("input").attr("name", "image_" + (e + 1))
    }), $(".upload-images-wrapper .btn-wrapper .btn").addClass("is-hidden"), $(".upload-images-wrapper .btn-wrapper .btn[data-image-link=image_" + (t + 1) + "]").removeClass("is-hidden"), 0 === $(".upload-images-wrapper img.selected").length && $(".upload-images-wrapper .images > div:first-child img.user-img").addClass("selected").attr("data-original-title", "This is your default Store Item Image")
}

function getCoordinates(e, t) {
    var i;
    t.width && t.height && (i = e.naturalWidth / e.width, e = e.naturalHeight / e.height, $("#x1").val(Math.round(t.x1 * i)), $("#y1").val(Math.round(t.y1 * e)), $("#x2").val(Math.round(t.x2 * i)), $("#y2").val(Math.round(t.y2 * e)), $("#w").val(Math.round(t.width * i)), $("#h").val(Math.round(t.height * e)))
}

function getDailyRankings(e, t, i, s) {
    return $.ajax({
        type: "GET",
        url: "/includes/get_daily_earnings_rankings.php",
        data: {
            month: e,
            year: t,
            currentRank: i,
            currentTotal: s
        },
        success: function(e) {
            e.error ? gritter(e.error, "Oh no!") : (buildDailyRankingTable(e, $(".js-daily-ranking-table tbody")), buildDailyRankingGraph(e, $(".js-daily-graph-ranking"), "Daily Ranking", "DD"))
        },
        error: function(e) {},
        dataType: "json"
    })
}

function buildDailyRankingGraph(e, t, i, s) {
    var n = [],
        a = [];
    e.items.reverse(), $.each(e.items, function(e, t) {
        n.push(moment(t.date).utc().format(s)), a.push(parseInt(t.rank))
    }), e.isCurrentMonth && (n.push(moment(e.currentDate).utc().format(s)), a.push({
        y: parseInt(e.currentRank),
        marker: {
            fillColor: "red"
        }
    })), drawChart(a, n, t, i, e.date, "", "Your Daily Rank", "", "Your rank", !0, 1)
}

function buildMonthlyRankingGraph(e, t, i, s) {
    var n = [],
        a = [];
    e.items.reverse(), $.each(e.items, function(e, t) {
        null !== t.data && (n.push(t.month), a.push(parseInt(t.data.rank)))
    }), drawChart(a, n, t, i, s, "", "Monthly Ranking", "", "Your rank", !0, 1)
}

function createInvoice(e, i, t, s, n) {
    0 < $("#invoiceModal").length && $("#invoiceModal").remove();
    var a, o, r, l, d, c, u = $(".js-show-re-invoice"),
        u = 0 < u.length && u.prop("checked"),
        h = $(".js-show-mv-commission"),
        p = 0 < h.length && h.prop("checked"),
        f = "",
        h = "",
        m = "",
        g = {
            ACH: "ACH",
            EPX: "EPX",
            Cosmopay: "CP",
            Paxum: "PAX",
            BITSAFE: "YS",
            MassPay: "MP"
        },
        g = (i.commission_invoice ? m = p ? "MV Commission: C-" : (u ? "RE " : "") + "Invoice Number: " : (h = "NA", m = "MV Star Receipt: ", g[i.payment_method] && (h = g[i.payment_method])), h + s),
        h = i.fee_amount || 0,
        v = e[e.length - 1].sales_date_order,
        y = e[0].sales_date_order,
        b = i.payout_date,
        v = moment.utc(v).format("YYYY-MM-DD"),
        y = moment.utc(y).format("YYYY-MM-DD"),
        s = '<div id="invoiceModal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog" role="document"><div class="modal-content" id="printArea"><a href="javascript:;" class="modal-close" data-dismiss="modal" aria-hidden="true"><i class="icon medium x-icon"></i></a><div class="modal-header text-center"><h1 class="modal-title my-2 ' + ("" === s ? "d-none" : "") + '">' + m + g + "</h1>" + (u ? '<p class="mb-0">Debit Note</p>' : "") + '<p class="mb-0">Period Start: ' + v + '</p><p class="mb-0">Period End: ' + y + '</p><p class="mb-0">Payout Date: ' + moment.utc(b).format("YYYY-MM-DD") + '</p><p class="mb-0 ' + ("none" === i.payment_method ? "d-none" : "") + '">Payment Method: ' + i.payment_method + '</p><p class="mb-0 ' + (h ? "" : "d-none") + '">Payment Fee: $' + cleanNum(h).toFixed(2) + '</p></div><div class="modal-body pt-0"><table class="table table-hover border-a table-striped text-center"></table></div><div class="modal-footer mt-2"><a href="javascript:;" class="btn btn-secondary btn-lg" data-dismiss="modal">Close</a><a id="printInvoice" class="btn btn-primary btn-lg" href="javascript:;" data-filename="' + moment(y).format("YYYY") + "_" + moment(y).format("MMM") + "_" + ("15" === moment(y).format("DD") ? "p1" : "p2") + "_" + i.user_id + '_invoice" title="Print Earnings">Print</a></div></div></div></div>',
        m = "",
        w = 0,
        _ = 0,
        g = ($.each(e, function(e, t) {
            switch (r = !(o = "-"), p ? (a = cleanNum(t.price - t.seller_commission_price).toFixed(2), w += parseFloat(t.price - t.seller_commission_price), _ += parseFloat(t.price - t.seller_commission_price)) : "Bonus" !== t.type && "Affiliate" !== t.type && "converted_tokens" !== t.type ? (i.commission, cleanNum(t.seller_commission_price), a = cleanNum(t.seller_commission_price).toFixed(2), w += parseFloat(t.seller_commission_price), _ += parseFloat(t.seller_commission_price)) : i.commission ? r = !0 : (cleanNum(t.seller_commission_price), a = cleanNum(t.seller_commission_price).toFixed(2), _ += parseFloat(t.seller_commission_price)), i.showBillingID && t.sales_id, "video" == t.type || "OTD" == t.type || "video_download" == t.type ? o = "v000" + t.video_id : "customvid" == t.type || "fundme" == t.type || "Membership" == t.type || "phone" == t.type || "skype" == t.type || "text" == t.type || "fundme" === t.type || "tip" === t.type || "paytoopen" === t.type ? o = "s000" + t.subscription_id : "store" == t.type ? o = "i000" + t.subscription_id : "contest" != t.type && "StarLight" != t.type || (o = "c000" + t.subscription_id), t.type) {
                case "converted_tokens":
                    typeDisplay = "tokens";
                    break;
                case "Crush":
                    typeDisplay = "Club";
                    break;
                case "video_download":
                    typeDisplay = "Video";
                    break;
                default:
                    typeDisplay = t.type
            }
            r || (f += '<tr><td class="text-left">' + t.sales_date + "</td><td>" + ("1" === t.isAffiliateSale ? "affiliate" : typeDisplay) + "</td><td>" + ("-" !== o ? o : t.title) + ("video_download" == t.type ? "(download access)" : "") + '</td><td class="text-right">$' + a + "</td></tr>")
        }), $.isNumeric(parseFloat(n)) || (n = cleanNum(_)), i.commission && (n = cleanNum(w)), h && (n -= h), i.companyAddress),
        v = "",
        h = (v = i.commission && void 0 !== i.provincialTaxRate ? (e = n + (b = cleanNum(n * i.provincialTaxRate / 100)) + (y = cleanNum(n * i.federalTaxRate / 100)), h = n.toLocaleString("en-US", {
            minimumFractionDigits: 2
        }), l = b.toLocaleString("en-US", {
            minimumFractionDigits: 2
        }), d = y.toLocaleString("en-US", {
            minimumFractionDigits: 2
        }), b = (b + y).toLocaleString("en-US", {
            minimumFractionDigits: 2
        }), y = e.toLocaleString("en-US", {
            minimumFractionDigits: 2
        }), c = e = "", c = i.commission ? (e = '<td class="text-left" colspan="3">' + i.modelPstNumber + "</td>", '<td class="text-left" colspan="3">' + i.modelGstNumber + "</td>") : (e = void 0 !== i.companyQstNumber ? '<td class="text-left" colspan="3">' + i.companyGstNumber + "</td>" : '<td class="text-left"><strong>QST</strong></td><td></td><td></td>', void 0 !== i.companyGstNumber ? '<td class="text-left" colspan="3">' + i.companyQstNumber + "</td>" : '<td class="text-left"><strong>GST</strong></td><td></td><td></td>'), u ? '<tr><td class="text-left"><strong>Price Reduction</strong></td><td></td><td></td><td class="text-right"><strong>$' + b + "</strong></td></tr>" : '<tr><td class="text-left"><strong>Subtotal</strong></td><td></td><td></td><td class="text-right"><strong>$' + h + "</strong></td></tr>" + (i.commission && 0 === i.provincialTaxRate ? "" : "<tr>" + e + '<td class="text-right"><strong>$' + l + "</strong></td></tr>") + (i.commission && 0 === i.federalTaxRate ? "" : "<tr>" + c + '<td class="text-right"><strong>$' + d + "</strong></td></tr>") + '<tr><td class="text-left"><strong>TOTAL</strong></td><td></td><td></td><td class="text-right"><strong>$' + y + "</strong></td></tr>") : (b = n.toLocaleString("en-US", {
            minimumFractionDigits: 2
        }), u ? '<tr><td class="text-left"><strong>Price Reduction</strong></td><td></td><td></td><td class="text-right"><strong>$0.00</strong></td></tr>' : '<tr><td class="text-left"><strong>TOTAL</strong></td><td></td><td></td><td class="text-right"><strong>$' + b + "</strong></td></tr>"), $("body").append(s), "Payoneer" !== t && (i.name || i.fullname || i.firstname) ? "Check" !== t || i.address ? "ACH" === t && null !== i.routing ? m = '<p class="mb-0"><strong>' + i.fullname + "</strong> (" + i.user_id + ')</p><p class="mb-0">' + i.owner_address + '</p><p class="mb-0">' + i.owner_city + ", " + i.owner_state + ", " + i.owner_country + "</p><p>" + i.owner_zip + '</p><p class="mb-0">' + i.type + ' account</p><p class="mb-0">Account number: ' + i.number + "</p><p>Routing: " + i.routing + "</p>" : i.address || (m = '<p class="mb-0"><strong>' + i.firstname + " " + i.lastname + "</strong> (" + i.user_id + ')</p><p class="mb-0">' + i.address + '</p><p class="mb-0">' + i.city + ", " + i.province + ", " + i.country + "</p><p>" + i.pc + "</p>") : m = '<p class="mb-0"><strong>' + i.name + "</strong> (" + i.user_id + ')</p><p class="mb-0">' + i.address + '</p><p class="mb-0">' + i.city + ", " + i.province + ", " + i.country + "</p><p>" + i.pc + "</p>" : m = '<p class="mb-0"><strong>' + i.fullname_agreement + " (" + i.user_id + ")</strong></p>", $("#invoiceModal")),
        e = $("#invoiceModal .modal-content .modal-body");
    e.prepend('<div class="payee-info">' + m + "</div></div></div>"), e.prepend(g), u ? h.find("table").append(v) : h.find("table").append('<thead><tr><th><strong>Date</strong></th><th><strong>Type</strong></th><th><strong>Item #</strong></th><th class="text-right"><strong>Amount</strong></th></tr></thead><tbody>' + f + "</tbody>" + v), $(e).css({
        "max-height": "60vh",
        "overflow-y": "auto"
    }), $(h).on("shown.bs.modal", function() {
        $(this).css("display", "flex")
    }), h.modal("show")
}

function getDayTraffic(t, i) {
    var e = $("#trafficType").val(),
        s = $("#trafficType").find(":selected").text();
    return data = {
        month: t,
        year: i,
        trafficType: e
    }, $.ajax({
        type: "POST",
        url: "/includes/get_traffic.php",
        data: data,
        success: function(e) {
            e.error ? gritter(e.error, "Oh no!") : (getDayEarnings.lastResult = i + "-" + t, appendTrafficData(e.calendar, e.dayTraffic, e.dayTweeting, t, i, s))
        },
        error: function(e) {},
        dataType: "json"
    })
}

function appendTrafficData(e, t, i, s, n, a) {
    e.length, t.length;
    var o = [],
        r = 0,
        l = [];
    0 < i.length && $.each(i, function(e, t) {
        l.push(t.day)
    }), $.each(e, function(e, s) {
        var n = !1;
        $.each(t, function(e, t) {
            var i = parseInt(t.totalViews);
            parseInt(s) === parseInt(t.viewed_date) && (-1 !== $.inArray(t.viewed_date, l) ? o.push({
                y: i,
                marker: {
                    symbol: "url(/img/tweet_graph.png)"
                }
            }) : o.push(i), n = !0, r += i)
        }), n || o.push(0)
    }), totalCombinedViews = r, drawTrafficChart(o, e, $("#dayTrafficGraph"), a, n, a)
}

function getMonthEarnings(i, e) {
    return data = {
        year: i
    }, $.ajax({
        type: "POST",
        url: "/includes/get_earnings.php",
        data: data,
        success: function(e) {
            var t;
            e.error ? gritter(e.error, "Oh no!") : (t = $("#monthCalendarTable tbody"), buildDayTable(e.calendar, t), appendAllData(e.monthItems, "year", t, "", i))
        },
        beforeSend: function() {
            $("#loadingDiv,#loadingOverlay").show()
        },
        error: function(e) {},
        dataType: "json"
    })
}

function populateSoldServices() {
    getAndAppendSoldServices($(".sold-services-select-category").val(), $(".sold-services-select-expiration").val())
}

function getAndAppendSoldServices(e, t) {
    return $.ajax({
        type: "POST",
        url: "/includes/get_sold_services.php",
        data: {
            category: e,
            expiration: t
        },
        success: function(e) {
            e.error ? gritter(e.error, "Oh no!") : ($("#sold-services-table tbody"), populateSoldServicesTable(e.results, e.serviceDetails))
        },
        error: function(e) {},
        dataType: "json"
    })
}

function populateSoldServicesTable(e, t) {
    var i, s, n = $("#sold-services-table > tbody"),
        a = e.length || 0,
        o = "";
    for ($(".js-upcomming-total, .js-active-total, .js-expired-total").empty(), 0 === a && (o = '<tr><td colspan="6">You have no sales for this service</td></tr>'); a--;) o = '<tr><td class="text-left">' + (i = e[a]).formatted_sales_date + '</td><td class="text-left flex-column-center"><a href="/Profile/' + i.buyer_user_id + "/" + i.buyer_username + '/" class="black" title="Visit the profile of ' + i.buyer_stage_name + '"><b>' + i.buyer_stage_name + '</b></a><a href="/Inbox/New/' + i.buyer_user_id + '" class="direct block is-link" title="Message me" target="_blank">Send PM</a></td><td class="text-left">' + ("MV Crush" === (s = i.type) ? "Club" : s) + '</td><td class="text-left">' + i.title + '</td><td class="text-left">' + (i.formatted_expiration_date || "-") + '</td><td class="text-right">' + ("1" === i.auto_renew ? '<span class="text-highlight">YES</span>' : "NO") + "</td></tr>" + o;
    n.html(o), t ? ($(".js-service-details").show(), $(".js-upcomming-total").text("$" + (t.active_expected_total || 0)), $(".js-active-total").text((t.active || 0) + (0 < t.active ? " (" + t.active_renewing + " renewing)" : "")), $(".js-expired-total").text(t.expired || 0), $(".js-service-type-name").text($(".sold-services-select-category option:selected").text())) : $(".js-service-details").hide()
}

function getDayEarnings(i, s, e, n, t) {
    return $.ajax({
        type: "POST",
        url: "/includes/get_earnings.php",
        data: {
            day: e,
            month: i,
            filterYear: s
        },
        success: function(e) {
            var t;
            e.error ? gritter(e.error, "Oh no!") : (t = $("#dayCalendarTable tbody"), buildDayTable(e.calendar, t), getDayEarnings.lastResult = s + "-" + i, appendAllData(e.dayItems, "month", t, i, s, e.currentDay, n))
        },
        beforeSend: function() {
            t ? $("#loadingDiv,#loadingOverlay").hide() : $("#loadingDiv,#loadingOverlay").show()
        },
        error: function(e) {},
        dataType: "json"
    })
}

function getPayouts(i, s) {
    return $.ajax({
        type: "POST",
        url: "/includes/get_payouts.php",
        data: {
            year: i,
            user_id: s
        },
        success: function(e) {
            var t;
            e.error ? gritter(e.error, "Something wrong has happened!") : (t = $("#payPeriodTable tbody"), buildPayPeriodTable(e.payPeriodItems, t, i, e.user_id), 0 < $(".js-current-pay-details").length && showCurrentPayDetails(e, s))
        },
        error: function(e) {},
        dataType: "json"
    })
}

function showCurrentPayDetails(e, t) {
    var i = $(".js-current-pay-details"),
        s = e.current_pay,
        n = e.currently_banked,
        a = e.current_payment_method,
        o = e.last_paid_date,
        r = s + n,
        e = e.fee_amount || 0,
        l = "",
        o = (0 !== r && (l = ' (<a href="javascript:;" class="is-link create-payout-invoice" id="currentPayDetails" data-date-start="' + o + '" data-date-end="' + moment().utc().format("YYYY-MM-DD") + '" data-payout="' + a + '" data-invoice-number="none" data-payout-total="' + r + '" data-payout-date="' + moment().utc().format("YYYY-MM-DD") + '" data-fee-amount="' + e + '" data-user-id="' + t + '">Details</a>)'), '<div class="col-12 mt-3"><p><span class="font-weight-bold">Payment Method:</span> <a href="javascript:;" class="payment-info" data-type="' + a + '" data-user-id="' + t + '">' + a + '</a></p><p><span class="font-weight-bold">Current Sales:</span> $' + s.toLocaleString("en-US", {
            minimumFractionDigits: 2
        }) + '</p><p><span class="font-weight-bold">Currently Banked:</span> $' + n.toLocaleString("en-US", {
            minimumFractionDigits: 2
        }) + '</p><p><span class="font-weight-bold">Total Pay:</span> $' + r.toLocaleString("en-US", {
            minimumFractionDigits: 2
        }) + l + "</p></div>");
    i.empty().html(o)
}

function getMonthlyRankings(i, e) {
    return $.ajax({
        type: "GET",
        url: "/includes/get_monthly_earnings_rankings.php",
        data: {
            year: i,
            currentRank: e
        },
        success: function(e) {
            var t;
            void 0 !== e.error && e.error ? gritter(e.error, "Oh no!") : (t = $(".js-monthly-ranking-table tbody"), buildMonthlyRankingTable(e.items, t, i), buildMonthlyRankingGraph(e, $(".js-monthly-graph-ranking"), "Monthly Ranking", i))
        },
        error: function(e) {},
        dataType: "json"
    })
}

function buildMonthlyRankingTable(e, t, i) {
    var s = "";
    t.empty(), 0 === e.length && (s += '<tr><td colspan="3">There are no rankings available for ' + i + "</td></tr>"), $.each(e, function(e, t) {
        s += '<tr><td class="text-left">' + (moment().utc().format("MMMM") === t.month && moment().utc().format("YYYY") === i ? "This month" : t.month) + "</td><td>" + (null !== t.data ? t.data.rank : "--") + "</td><td>" + (null !== t.data ? "$" + t.data.total : "--") + "</td></tr>"
    }), t.append(s)
}

function buildDailyRankingTable(e, t) {
    var i = "";
    t.empty(), 0 !== e.items.length || e.isCurrentMonth ? (e.isCurrentMonth && (i += '<tr><td class="text-left">Today</td><td>' + (null !== e.currentRank ? e.currentRank : "--") + "</td><td>$" + (null !== e.currentTotal ? cleanNum(e.currentTotal) : "0") + "</td></tr>"), $.each(e.items, function(e, t) {
        i += '<tr><td class="text-left">' + moment(t.date).format("MM/DD/YYYY") + "</td><td>" + (null !== t ? t.rank : "--") + "</td><td>$" + (null !== t ? cleanNum(t.ur_total) : "0") + "</td></tr>"
    })) : i += '<tr><td colspan="3">There are no rankings available for ' + e.date + "</td></tr>", t.append(i)
}

function buildPayPeriodTable(e, t, i, s) {
    var n = "",
        a = "";
    t.empty(), s && (a = 'data-user-id="' + s + '"'), 0 === e.length && (n += '<tr><td colspan="4">There are no payouts recorded for ' + i + "</td></tr>"), $.each(e, function(e, t) {
        var i = t.total_amount.toLocaleString("en-US", {
                minimumFractionDigits: 2
            }),
            s = t.fee_amount || 0;
        n += '<tr><td class="text-left">' + moment(t.payment_date, "YYYY-MM-DD").format("MMM D, YYYY") + "</td><td>" + t.payment_name + "</td><td>$" + i + '</td><td><a class="is-link create-payout-invoice" href="javascript:;" data-date-start="' + t.start_date + '" data-date-end="' + t.after_end_date + '" data-payout="' + t.payment_type + '" data-invoice-number="' + t.invoice_number + '" data-payout-total="' + t.total_amount + '" data-payout-date="' + t.payment_date + '" ' + a + ' data-fee-amount="' + s + '">Details</a></td></tr>'
    }), t.append(n)
}

function buildDayTable(s, e) {
    var n = "";
    e.empty(), $.each(s, function(e, t) {
        var e = e + 1,
            i = 16 === e ? 'class="b-top"' : "",
            t = 12 === s.length ? t : moment(t, ["DD/MM/YYYY"]).format("MM/DD/YYYY");
        n += "<tr data-date=" + e + " " + i + '><td class="text-left">' + t + '</td><td class="ms">0</td><td class="me">$0.00</td><td class="cs">0</td><td class="ce">$0.00</td><td class="vs">0</td><td class="ve">$0.00</td><td class="is">0</td><td class="ie">$0.00</td><td class="ad" >$0.00</td><td><span class="takaStr">$0.00</span> (<span class="taktStr">0</span> tks)</td><td class="se">$0.00</td><td class="be">$0.00</td><td><strong class="t">$0.00</strong></td></tr>'
    }), e.append(n)
}
$(document).ready(function() {
    var o, t, s = window.MV,
        O = $("body"),
        m = $("form.search-filter"),
        g = $("form.search-tags .current-search"),
        v = $("select.chzn-search-categories"),
        r = $("input[name=search_type]", m),
        q = $("input[name=category]", m),
        N = $("input[name=location]", m),
        i = $("input[name=sort]", m),
        R = $("input[name=page]", m),
        B = "video" == $("input[name=type]", m).val() ? 13 : 1,
        U = $("input[name=content_type]").val(),
        y = $(".simple-search"),
        V = 0,
        l = $("select[data-target=sort]"),
        d = ($("select[data-target=sort]", y), $("select[data-advanced-sort]")),
        H = $(".js-hide-on-search"),
        c = !(!r || "1" != r.val()),
        z = $("#sort, .simple-search select[data-target]"),
        u = !!$("#sort").length,
        h = $("#result-list"),
        W = $("#boxLoadingDiv"),
        n = $(".pagination:not(.disable-control)"),
        a = $("input.current-page", n),
        Y = $("button[data-action=prev]", n),
        G = $("button[data-action=next]", n),
        b = a.data("total-pages") || 1,
        w = a.val() >> 0 || 1,
        _ = a.data("total-count") || 0,
        C = document.getElementById("html5-slider"),
        e = 1.99,
        p = 999.99,
        X = e.toFixed(2) + "," + p.toFixed(2);

    function J(e) {
        return "$" + (+e || 0).toFixed(2)
    }

    function K() {
        C && C.noUiSlider.set([e, p])
    }

    function f() {
        var e, t, i;
        !C || (t = (e = $("[name=price_range]", m)).val()) == (i = C.noUiSlider.get().map(function(e) {
            return (+e.replace(/\$+/g, "") || 0).toFixed(2)
        }).join("_")) || "" === t && i == X || (i == X ? e.val("") : e.val(i), F(), I())
    }
    if (u && ($("#sort").mobiscroll().select({
            theme: "mobiscroll",
            display: "bottom",
            placeholder: "Sort",
            setText: "SORT",
            inputClass: "mobile-filter",
            minWidth: 50,
            onSelect: function(e, t, i) {
                m.trigger("submit", {
                    origin: "mobile-sort"
                })
            }
        }), $(".mobiscroller:not([data-mobiscroller-grouped])").mobiscroll().select({
            theme: "mobiscroll",
            display: "bottom",
            placeholder: function() {
                var e = $(this).next("select"),
                    t = e.attr("id"),
                    e = e.data("placeholder");
                $("#" + t + "_dummy").attr("placeholder", e)
            },
            setText: "ADD",
            tap: !0,
            inputClass: "filters",
            minWidth: 200,
            onSelect: function(e, t, i) {
                "mobile_content_type" === this.id && L(!1)
            }
        }), $(".mobiscroller[data-mobiscroller-grouped]").mobiscroll().select({
            theme: "mobiscroll",
            display: "bottom",
            placeholder: function() {
                var e = $(this).next("select"),
                    t = e.attr("id"),
                    e = e.data("placeholder");
                $("#" + t + "_dummy").attr("placeholder", e)
            },
            maxWidth: [75, 300],
            tap: !0,
            inputClass: "filters",
            group: {
                groupWheel: !0,
                header: !1
            },
            groupLabel: " "
        }), $("#clear").click(function() {
            return $(".filters-wrapper select").mobiscroll("clear"), F(), !1
        }), $("#apply-filter").on("click", function() {
            $("form.search-filter").trigger("submit", {
                origin: "mobile"
            })
        }), T = "content_type", t = {}, 0 < (E = $("input[data-category=" + T + "]")).length) && (E = E.val().trim().split(","), T = $("select.mobiscroller[data-target=" + T + "][multiple]"), E.forEach(function(e) {
            t[e] = !0
        }), (E = Object.keys(t)).length) && T.length && T.mobiscroll && T.mobiscroll("setValue", E, !0), L(!0), C) {
        for (var Q, k, x = document.getElementById("input_number_min"), S = document.getElementById("input_number_max"), T = $(x).val(), E = $(S).val(), Z = (noUiSlider.create(C, {
                start: [e, p],
                connect: !0,
                range: {
                    min: e,
                    max: p
                },
                format: {
                    to: J,
                    from: function(e) {
                        return +e.replace("$", "") || 0
                    }
                }
            }), C.getElementsByClassName("noUi-handle")), A = [], P = 0; P < Z.length; P++) A[P] = document.createElement("div"), Z[P].appendChild(A[P]);
        A[0].className += "tooltip-slider trans", A[1].className += "tooltip-slider trans", A[0].innerHTML = "<strong><span></span></strong>", A[1].innerHTML = "<strong><span></span></strong>", A[0] = A[0].getElementsByTagName("span")[0], A[1] = A[1].getElementsByTagName("span")[0], k = E < p ? E : p, e === (Q = e < T ? T : e) && p === k || C.noUiSlider.set([Q, k]), C.noUiSlider.on("update", function(e, t) {
            var i = e[t];
            t ? S.value = i : x.value = i, A[t].innerHTML = e[t]
        }), C.noUiSlider.on("change", f), S.addEventListener("change", function() {
            C.noUiSlider.set([null, this.value]), f()
        }), x.addEventListener("change", function() {
            C.noUiSlider.set([this.value, null]), f()
        })
    }

    function M() {
        $("body").toggleClass("filter-mobile-open"), lazyLoadingStart()
    }

    function D(e) {
        g.empty(), K(), $("[type=checkbox]", m).prop("checked", !1), $("input[type=hidden]:not(.ignore-clear)").val(""), $("input[name=sort]", m).val(1), $("input[name=content_type]", m).val(U), !1 !== e && F()
    }

    function ee(e) {
        l.val(e).trigger("mv:resizeselect"), "video" == $("input[name=type]").val() && i.val(e), "0" === e && "0" === i.val() ? (i.val(1), $("#advanced_vids_sort").val(1).niceSelect("update")) : i.val(e), u && z.mobiscroll("refresh").mobiscroll("setValue", e, !0)
    }

    function I(e) {
        H.hide(), L(!0), e && "global" == e.origin && $("body").hasClass("filter-mobile-open") && M();
        var t = !0 === (e = e || {}).scrollToTheTop || u,
            i = $("input.global-search-input").val(),
            s = (r.val(c ? 1 : 0), s = e, "" === i ? $("option[value=10]", l).remove() : $("option[value=10]", l).length || (l.prepend('<option value="10">Most relevant</option>'), "global" == s.origin && l.val(10)), s = e, n = $([]), a = 1, "init" == (s = s && s.origin || "") ? a = $("input[name=sort]", m).val() : "mobile-sort" == s ? a = z.val() : "mobile" == s ? (n = $(".mobile-filter select"), a = d.val(), D(!1)) : a = d.val(), n.each(function(e, t) {
                var t = $(t),
                    i = t.val(),
                    t = t.data("target");
                $("input[name=" + t + "]", m).val(i)
            }), ee(a), "global" != e.origin && !e.resetPage || F(), m.find(".mv-controls[data-category] input[type=checkbox]").attr("disabled", !0).end().find("input.price_control_slider").attr("disabled", !0), location.pathname),
            n = m.find(':input[value!=""]:not([name=type])'),
            a = (c && (n = n.not("[data-only-simple-search]"), $("input[data-only-simple-search]", m).val("")), n = n.serialize().replace(/%2C/g, ","), new FormData(m[0])),
            e = ("" !== i && void 0 !== i && (n += ("" === n ? "" : "&") + "keywords=" + i.toLowerCase(), a.append("keywords", i), c || r.val(1)), "" !== n && (s += "?" + n), window.history.pushState({}, "p2", s), a.append("mvtoken", globalSettings.prototype.mvtoken), a),
            i = t,
            n = m;
        n.addClass("loading"), h.addClass("loading"), i && $("html,body").animate({
            scrollTop: V
        }, u ? 0 : 500), o && o.abort(), o = $.ajax({
            url: "/includes/filterSearch.php",
            type: "POST",
            data: e,
            dataType: "json",
            cache: !1,
            contentType: !1,
            processData: !1,
            complete: function() {
                m.removeClass("loading"), h.removeClass("loading"), W.hide(), te()
            },
            error: function() {
                b = w = 1, _ = 0, h.empty()
            },
            beforeSend: function() {
                $("#loadingDiv,#loadingOverlay").hide(), W.show()
            },
            success: function(e) {
                (e = e || {
                    error: 1
                }).currentSearchFilter && e.currentSearchFilter[0] && (t = e.currentSearchFilter[0], p = "", s = $(".filters-wrapper select.mobiscroller"), f = [], g.empty(), 0 < s.length && s.mobiscroll("clear"), $(".mv-controls > button.dropdown-toggle").removeClass("specific-options"), ee(t.sort || 1), q.length && !t.category && (v.val([]).trigger("chosen:updated"), q.val("")), N.length && !t.location && N.val(""), $.each(t, function(s, e) {
                    if ($("select[data-target=" + s + "]", y).val(e.split(",")[0]), "" !== e && -1 === $.inArray(s, ["page", "type", "search_type", "global", "sort", "mvtoken", "type_id", "tf_cpa_token"])) {
                        var t = $(".mv-controls[data-category=" + s + "]", m),
                            i = $("[name=" + s + "]", m),
                            n = i.attr("type"),
                            a = i.data("category") || s,
                            o = t.find("button.dropdown-toggle"),
                            r = g.find('[data-category="' + a + '"]'),
                            l = "";
                        if ("hidden" === n) {
                            var n = e.trim().split(","),
                                d = $("select.mobiscroller[data-target=" + s + "][multiple]"),
                                c = $("select.mobiscroller[data-target=" + s + "]:not([multiple])"),
                                u = t.find("input[type=checkbox]"),
                                h = (u.prop("checked", !1), "category" === a ? (n = (v.val(n).val() || []).filter(function(e) {
                                    return "" !== e
                                }), v.trigger("chosen:updated"), i.val(n.join(","))) : "intensity" === a && 5 === n.length && (n = []), {});
                            if (n.forEach(function(e) {
                                    h[e] = !0
                                }), (n = Object.keys(h)).length && d.length && d.mobiscroll && d.mobiscroll("setValue", n, !0), n.length && c.length && c.mobiscroll && c.mobiscroll("setValue", n[0], !0), "vid_type" === a) return;
                            "price_range" == a && (t = n[0].split("_"), C.noUiSlider.set(t), n = [t.map(J).join(" - ")]), n.forEach(function(e) {
                                var t, i = e;
                                u.length && (t = u.filter('[value="' + e + '"]').prop("checked", !0)), "category" === a ? i = v.find('option[value="' + e + '"]').text() : "intensity" === s ? i = t.parent("label").data("original-title") : t && t.length && (i = t.siblings("label").first().text()), "category" !== a && "ethnicity" !== a || f.push(i), i && (l += '<a class="filter-tag remove-filter" href="javascript:;" data-input-name="' + s + '" data-value="' + e + '" title="Remove this filter">' + i + ' <i class="icon-delete">x</i></a>', p += '<a href="javascript:;" class="trans label-toggle remove-filter" data-input-name="' + s + '" data-value="' + e + '">' + i + "</a>")
                            }), "intensity" == a && j(), o.length && (o.toggleClass("specific-options", !!n.length), o.find(".options-amount").html("(" + n.length + ")"))
                        } else l += '<a class="filter-tag remove-filter" href="javascript:;" data-input-name="' + s + '" data-value="' + e + '" title="Remove this filter">' + e + ' <i class="icon-delete">x</i></a>';
                        "content_type" !== s && (i = "", r.length || (i += '<div data-category="' + a + '"></div>'), g.append(i), (r = g.find('[data-category="' + a + '"]')).append(l), "" !== p && $(".current-search", ".filter-count-wrapper").html(p), "video" === $("input[name=type]", m).val()) && (document.title = "Search for your favorite " + f.join(", ") + " vids - ManyVids")
                    }
                }), g.html()) && g.append('<a href="javascript:;" class="clear-all ml-1" title="Clear all">Clear filters</a>');
                var t, p, f, i, s = $("#result-list");
                switch (e.type) {
                    case "video":
                        var n = $("#advanced_vids_sort :selected").text(),
                            a = $("#sortPageTitleId");
                        0 < n.length && 0 < a.length ? a.text(n) : 0 < a.length && a.text(""), i = createVideoSmallItemsNew;
                        break;
                    case "model":
                    case "studio":
                    case "stars":
                        i = createModelItems;
                        break;
                    case "store":
                        i = build_items
                }
                $(".global-search-mobile").removeClass("show"), e.error ? ($("#boxLoadingDiv").hide(), gritter("An error has occurred. Please reload the page.", "Oops!", !0)) : e.noResults ? ($("#boxLoadingDiv").hide(), s.html(e.noResults)) : (s.empty(), i(e)), w = e.page >> 0, b = e.totalPages || 1, _ = e.totalCount >> 0
            }
        }), $(".mv-controls input", n).attr("disabled", !1)
    }

    function L(e) {
        var t, i, s, n, a;
        u ? 0 < (t = $("#mobile_content_type")).length && (n = t.val().toString(), e = e, s = $("#mobile_user-endowment_dummy"), i = $("#mobile_user-endowment"), a = $("#mobile_model-breast_size_dummy"), modelBreastSizeAll = $("#mobile_model-breast_size"), 0 < s.length && (0 <= n.search("2") || 0 <= n.search("3") ? s.removeClass("is-hidden") : (e && i.val(""), s.addClass("is-hidden"))), 0 < a.length) && (-1 === n.search("1") && -1 === n.search("3") ? (e && modelBreastSizeAll.val(""), a.addClass("is-hidden")) : a.removeClass("is-hidden")) : 0 < (t = $("input[name=content_type]")).length && (i = t.val(), s = $('form.search-filter input[name="endowment"]'), n = $('form.search-filter input[name="breast_size"]'), e = $(".js-user_endowment"), a = $(".js-model_breast_size"), 0 < s.length && (0 <= i.search("2") || 0 <= i.search("3") ? e.removeClass("is-hidden") : (e.addClass("is-hidden"), s.val(""), $(".js-user_endowment ul input:checked").prop("checked", !1))), 0 < n.length) && (-1 === i.search("1") && -1 === i.search("3") ? (a.addClass("is-hidden"), n.val(""), $(".js-model_breast_size ul input:checked").prop("checked", !1)) : a.removeClass("is-hidden"))
    }

    function j() {
        var e = $(".mv-controls[data-category=intensity]"),
            t = e.find("input[type=checkbox]:checked");
        e.toggleClass("active", !(!t.length || 5 == t.length)), 5 == t.length && t.prop("checked", !1)
    }

    function te() {
        var e = $(".js-total-search-results"),
            t = $(".js-stars-dropdown option:selected"),
            i = t.val();
        R.val(w), a.val(w), $(".page-total:not(.disable-control)").html(s.formatInteger(b)), window.location.search && 0 < t.length && (u ? t.text(i + " (" + s.formatInteger(_) + ")") : e.html("(" + s.formatInteger(_) + ")")), Y.toggleClass("invisible", 1 === w), G.toggleClass("invisible", b <= w), n.toggleClass("is-hidden", !_)
    }

    function F() {
        R.val(1), a.val(1)
    }

    function ie(e, t, i) {
        if ("1" === i) {
            if (e !== e.replace(/[^\w ]/g, "")) return void gritter("This field must contain only spaces, letters or digits.", "Ooops!");
            if (0 < $('[name="custom_vids_extras"][data-package-val="' + e + '"]').length) return void gritter("You have already added this value.", "Ooops!");
            if (0 < scanForKeywords(e, globalSettings.prototype.bannedVidKeywords).length) return void gritter('The phrase you entered is not allowed on the website. Please consult the complete list of <a href="https://info.manyvids.com/" title="Forbidden Words"  target="_blank">forbidden words</a>', "Oops!")
        }
        var s = $(".js-extra-option"),
            n = $(".chosen-container.chosen-container-multi"),
            a = $(".js-extra-input-price");
        s.val(e).data("extra-id", t).data("is-new", i).removeClass("is-hidden"), n.addClass("is-hidden"), a.prop("disabled", !1).removeClass("is-disabled").focus().select()
    }
    $(".mv-controls[data-category]", m).on("change", "input[type=checkbox]", function(e) {
        var e = $(e.delegateTarget),
            t = e.data("category"),
            i = e.find("input[data-category=" + t + "]"),
            s = ($(this).prop("checked"), $(this).val(), {});
        "intensity" === t && j(), "content_type" === t && 0 === $("input[type=checkbox]:checked", e).length ? $(this).prop("checked", !0) : ((t = $(this).data("uncheck-names")) && t.split(",").forEach(function(e) {
            $("input[value=" + e + "]", m).prop("checked", !1)
        }), $("input[type=checkbox]:checked", e).each(function(e, t) {
            s[$(t).val()] = !0
        }), i.val(Object.keys(s).join(",")), F(), m.trigger("submit"))
    }), $(".mv-controls .dropdown-menu li", m).on("click", function(e) {
        e.stopPropagation()
    }), d.on("change", function(e) {
        e = $(e.target);
        6 == $(this).val() && e.is("#advanced_model_sort") ? window.location = "/MVLive/" : (F(), m.submit())
    }), $(".search-init", y).click(function() {
        F(), m.trigger("submit", {
            scrollToTheTop: !0
        })
    }), $(".js-search-toggle").click(function() {
        u || (O.toggleClass("advance-search"), c = O.hasClass("advance-search")), u && M(), lazyLoadingStart()
    }), $(".reset-basic").click(function() {
        $("select", y).val(""), $("input.global-search-input").val("").trigger("change"), D(), m.submit()
    }), $(".filter-toggle").bind("click tap", function() {
        M()
    }), g.on("click", ".remove-filter:not(.ignore)", function() {
        var e, t = $(this),
            i = t.attr("data-value"),
            s = t.data("input-name"),
            n = $("input[name=" + s + "]", m),
            a = n.parents(".mv-controls");
        t.remove(), g.find(".remove-filter:not(.ignore)").length || g.empty(), "keywords" === s ? ($(".global-search-input").val("").trigger("change"), F(), m.submit()) : n.length && ("price_range" === s ? (e = "", K()) : (t = n.val().trim().split(","), e = $.grep(t, function(e) {
            return e != i
        })), n.val(e), "intensity" === s && j(), a.find("input[type=checkbox]").prop("checked", !1), F(), m.submit())
    }), g.on("click", ".clear-all", function() {
        $("select", y).val(""), $("select[data-target=sort]").val(B), $("input.global-search-input").val("").trigger("change"), D(), m.submit()
    }), m.on("submit", function(e, t) {
        e.preventDefault(), I(t)
    }), $([Y[0], G[0]]).on("click", function() {
        var e = $(this).data("action");
        e && (w = "next" == e ? w < b ? w + 1 : w : 1 < w ? w - 1 : w, $("body").hasClass("js-pagination-no-ajax") || te(), m.trigger("submit", {
            scrollToTheTop: !0
        }), $(this).blur())
    }), a.keyup(function(e) {
        13 != e.which || $("body").hasClass("js-pagination-no-ajax") || (e = a.val() >> 0, b < e ? e = b : e < 1 && (e = 1), w != e && (w = e, te(), m.trigger("submit", {
            scrollToTheTop: !0
        })))
    }), v.chosen({
        no_results_text: "No categories found matching ",
        search_contains: !0
    }).on("change", function(e, t) {
        var i, s = $(this),
            n = s.siblings(".dd-values");
        s.hasClass("js-chosen-single") ? (i = s.find('option:selected[value="' + t.selected + '"]').data("extra-id") || 0, ie(t.selected, i, "0")) : n.val().split(",").length < 5 ? (n.val(s.val()), s.data("profile-search") ? appendVids(!0) : (F(), I())) : gritter("Vids cannot have more than 5 categories.", "Oops!", !0)
    }), $(".mv-search-categories li.search-field input").attr("placeholder", v.data("placeholder")), 0 < $(".js-chosen-single").length && $(".mv-search-categories li.search-field input").blur(function(e) {
        var t = $(".chosen-results .active-result"),
            e = $(e.currentTarget).val();
        "" !== e && 0 === t.length ? ie(e, "0", "1") : $(".js-extra-input-price").prop("disabled", !0).addClass("is-disabled")
    }), r.length && "" !== r.val() && I({
        origin: "init"
    })
}), $(document).ready(function() {
    $(document).on("click", ".review-controls-btn:not(.disabled)", function() {
        var e = $(this),
            t = $(".review-controls"),
            i = $(".complete", t),
            t = ($(".prev", t), e.hasClass("next") ? "next" : "previous"),
            e = $(".review-slidee.current"),
            s = ($(".review-slider").data("slides"), e.data("slide")),
            n = e.prev();
        "previous" != t || 1 === s || $("#ReviewQuestions").hasClass("quick-review") || (e.removeClass("current"), n.addClass("current"), n.data("title"), next.show(), i.hide())
    }), $(".starRating > label").click(function() {
        var e = $(this);
        e.parent(".starRating").find("input:checked").prop("checked", !1), e.prev().prop("checked", !0)
    }), $(".complete", ".review-controls").click(function() {
        $(this);
        var e = $("#ReviewQuestions"),
            t = (e.hasClass("advanced-review") ? validateAdvancedReviewQuestions : validateQuickReviewQuestions)(e),
            i = validateReviewComment(e);
        t ? i ? ((t = new FormData(e[0])).append("mvtoken", globalSettings.prototype.mvtoken), $.ajax({
            url: "/includes/add_review.php",
            type: "POST",
            data: t,
            dataType: "json",
            success: function(e) {
                e.success ? window.location.href = e.location : gritter(e.error, "Oops!")
            },
            cache: !1,
            contentType: !1,
            processData: !1
        })) : ($("[name=comment]", e).addClass("error"), gritter("Please add a comment to your review (min. 3 chars)", "Oops!")) : gritter("You need to give a rating", "Oops!")
    }), $(".btn.js-quick-review").click(function() {
        $(this);
        var e = $("#ReviewQuestions");
        e.addClass("quick-review").show(), $("#chooseReview .btn").hide(), $(".quick-review", e).addClass("current").show(), $(".complete", e).show(), $("[name=review_advanced]").val(0)
    })
}), imageProperties.prototype.multiImage = $("body").data("multi-image"), imageProperties.prototype.division = 1, $(document).ready(function() {
    $("#cancel_thumbnail, #editPic button.close").click(function() {
        resetEditPic(!0)
    }), $(document).on("is-hidden", "#editPic", function() {
        $("#editPic").removeClass("top-readjust")
    }), $("[data-toggle=modal][href=#editPic]").click(function() {
        var e = $(this).data("form-width"),
            t = $("#editPic");
        e ? t.addClass("form-width-" + e) : t.removeClass("form-width-" + e), ($(this).data("type") || $(this).data("form-width")) && (imageProperties.prototype.type = $(this).data("type"))
    }), $(document).on("click", ".images.selectable .user-img", function() {
        var e = $(this),
            t = "selected";
        $(".images.selectable .user-img").removeClass(t).removeAttr("data-original-title").parent().removeClass(t), e.addClass(t).attr("data-original-title", "This is your default Store Item Image").parent().addClass(t)
    }), $("[href=#editPic]").click(function() {
        $("#editPic #image_link").val($(this).data("image-link")), $("#editPic").removeAttr("style"), $(".modal-header").show()
    }), $("#save_thumb").click(function() {
        var e = $("#x1").val(),
            t = $("#y1").val(),
            i = $("#x2").val(),
            s = $("#y2").val(),
            n = $("#w").val(),
            a = $("#h").val();
        return "" !== e && "" !== t && "" !== i && "" !== s && "" !== n && "" !== a && 0 !== $(".imgareaselect-outer:visible").length || (gritter("You must make an image crop selection", "Oops!"), !1)
    }), $("form[name='thumbnail']").submit(function(e) {
        var t = $(this),
            t = ("" !== imageProperties.prototype.userText && ($("#contest_text_hidden").remove(), t.append('<input id="contest_text_hidden" name="contest_text" type="hidden" value="' + imageProperties.prototype.userText + '"/>')), new FormData(t[0])),
            d = !t.get("etag");
        t.append("mvtoken", globalSettings.prototype.mvtoken), e.preventDefault(), $.ajax({
            url: "/includes/image_crop_ajax_v1.2.php",
            type: "POST",
            data: t,
            dataType: "json",
            success: function(e) {
                if (e.errors)
                    for (var t = e.errors.length - 1; 0 <= t; t--) gritter(e.errors[t], "Oops!");
                else {
                    resetEditPic(!0);
                    var i, s, n, a = e.thumb_uploaded_image.lastIndexOf("/") + 1,
                        a = e.thumb_uploaded_image.substr(a),
                        o = "",
                        r = "",
                        l = "" !== e.image_container ? "#" + e.image_container : ".default_profile_pic";
                    "1568" != e.uploadedImageWidth && "151" != e.uploadedImageHeight && gritter("You must upload a picture with the correct dimensions.", "Oops!"), "profile" === e.type ? $(l + ", .profile-pic-wrapper img.profile-pic").attr({
                        src: e.thumb_uploaded_image,
                        alt: "Your profile image"
                    }) : "video" === e.type ? (s = (new Date).getTime(), n = (i = $(".custom_img_anchor_thumb").attr("src", e.thumb_uploaded_image + "?" + s).parents(".selectable")).find(".count").text(), $(".rmp-poster-img").attr("src", e.thumb_uploaded_image + "?" + s), $(".full-box.selectable.selected").removeClass("selected"), i.addClass("selected"), $(".js-video-screenshot").attr({
                        src: e.thumb_uploaded_image,
                        alt: "Your Screenshot"
                    }), $("#loadingDiv, #loadingOverlay").remove(), $("img", "#screen-2").attr("src", e.thumb_uploaded_image_smaller + "?" + s), $("input[name=screenshot]").val(n), (i = $(".js-video-screenshot")).length && e.thumb_uploaded_image && e.token && $(i).attr("src", e.thumb_uploaded_image + "?" + e.token), $(".js-screenshot-selected").val(1), d && success("Please note that changes made to vid previews or screenshots can take up to 24-hours to be applied.", "Great!")) : ("contest" === e.type && ($("#contest_text").val(""), window.location.reload()), "store" === e.type && 0 < $(l).length && $("body").hasClass("store") && $(l).addClass("col-md-3 col-6 mb-2 p-1"), 1 < imageProperties.prototype.multiImage && "image_one" != e.image_container && (o = '<a href="javascript:;" class="delIcon" data-key="' + e.key + '"><i class="icon xsmall mv-icon-clear white-bg"></i></a>'), s = "contestBanner" === e.type ? "420px" : "230px", imageProperties.prototype.type && (r = 'style="min-width:' + s + ("contestBanner" === e.type ? "; width: 420px" : "") + '; max-width:100%"'), $(l).html(o + "<img " + r + ' class="img-polaroid user-img toolTip-container" src="' + e.thumb_uploaded_image + '" data-toggle="tooltip" data-placement="top" data-original-title="" /><input name="' + e.image_container + '" type="hidden" value="' + a + '" />'), $(".toolTip", l).tooltip({
                        container: "body"
                    }), n = ".upload-images-wrapper .delIcon", !$("body").hasClass("store") && 0 < $(n).length && ($(n).css("left", s), "contestBanner" === e.type) && $(n).css({
                        top: "-8px",
                        width: "1.3em"
                    }), 1 < imageProperties.prototype.multiImage && $("body").hasClass("store") && (populateUploadImgs(), $(".second-step").fadeIn(), $(".btn-return").hide())), checkIfDisplayNewCummerPopup(!0), $(".modal-header").show()
                }
            },
            cache: !1,
            contentType: !1,
            processData: !1
        })
    }), $(document).on("click", ".upload-images-wrapper .delIcon", function() {
        var i = $(this),
            e = confirm("Are you sure you want to permanently delete this image?");
        i.data("image-id");
        !0 === e && (data = {
            token: i.data("key"),
            id: i.data("image-id"),
            type: i.parents(".upload-images-wrapper").data("type")
        }, $.ajax({
            url: "/includes/delete_ajx_uploaded_image.php",
            type: "POST",
            data: data,
            dataType: "json",
            async: !1,
            success: function(e) {
                if (e.error) gritter(e.error, "Oops!");
                else if (e.errors)
                    for (var t = e.errors.length - 1; 0 <= t; t--) gritter(e.errors[t], "Oops!");
                else success(e.success, "Great!"), i.parent().empty().html('<div class="img-polaroid empty-img"></div>'), resetImgWrappers()
            }
        }))
    }), $("form[name='photo']").submit(function(e) {
        clearSessions(), imageProperties.prototype.type && $("input[name=type]", "#editPic").val(imageProperties.prototype.type);
        var t = new FormData($(this)[0]);
        t.append("mvtoken", globalSettings.prototype.mvtoken), e.preventDefault(), $("#x1").val(""), $("#y1").val(""), $("#x2").val(""), $("#y2").val(""), $("#w").val(""), $("#h").val(""), 0 === $("#loadingDiv").length && $("footer").append('<div id="loadingDiv"><img src="https://cdn3.manyvids.com/site_files/images/icons/loader-icon.png" alt="" class="loader-icon loading-anim loading middle-x-y"></div><div id="loadingOverlay"></div>'), $.ajax({
            url: "/includes/image_crop_ajax_v1.2.php",
            type: "POST",
            data: t,
            dataType: "json",
            success: function(e) {
                if (e.error) gritter(e.error, "Oops!");
                else if (e.errors)
                    for (var t = e.errors.length - 1; 0 <= t; t--) gritter(e.errors[t], "Oops!");
                else {
                    var i, s;
                    e.contest_modified_entry ? window.location.reload() : ($("body, html").scrollTop(0), (s = e.large_uploaded_image) && (imageProperties.prototype.thumb_width = parseInt(e.thumb_width), imageProperties.prototype.thumb_height = parseInt(e.thumb_height), imageProperties.prototype.lWidth = parseInt(e.lWidth), imageProperties.prototype.lHeight = parseInt(e.lHeight), imageProperties.prototype.largeImageLocation = s, imageProperties.prototype.division = e.division, imageProperties.prototype.userText = e.user_text, $("#editPic ").val($(this).data("image-link")), $("body").hasClass("android-native") ? $("#editPic.image-crop").css({
                        width: "100%"
                    }) : $(".modal.image-crop").addClass("top-readjust no-transition"), $(".modal-header").hide(), $("#uploadContainer").addClass("is-hidden"), $("#avatarContainer").addClass("is-hidden"), $("#cropContainer").removeClass("is-hidden").find("img.largeImageCrop").attr("src", s + "?t=" + (new Date).getTime()), i = (s = $("#cropContainer").find("img.largeImageCrop")).naturalHeight, s = s.naturalWidth, $("#thumbnail").addClass("imgAreaSelect").imgAreaSelect({
                        handles: !0,
                        fadeSpeed: 200,
                        show: !0,
                        imageHeight: i,
                        imageWidth: s,
                        onSelectChange: getCoordinates
                    })))
                }
            },
            cache: !1,
            contentType: !1,
            processData: !1
        })
    })
}), $(document).ready(function() {
    function a(e) {
        gritter(e, "Oops!")
    }

    function o(e) {
        a(e && e.error || "Upload has failed!"), d.prop("disabled", !1)
    }

    function r() {
        var e, t = "";
        return "undefined" != typeof File && l[0].files ? l[0].files.length || (t = "Please select a file!", 20971520 < ((e = l[0].files[0]).size || 0) && (t = "File is too large, maximum file size is 20MB!"), /\.(application\/pdf|(image\/(png|jpeg|jpg)))$/i.test(e.type)) || /\.(png|jpeg|jpg|pdf)$/i.test(e.name) || (t = "File is of the wrong type. Please select a .pdf, .png or .jpg file.") : t = "Your bowser is not supported. Please make use the latest version of Chrome, Firefox, MS Edge or Safari.", t
    }
    var l, d, c, u;
    l = $("#replacePhotoId"), d = $("#replace-PhotoID-upload"), c = $("#photoidUploadStatus"), u = !1, l.on("change", function() {
        var e;
        u || (e = r(), d.prop("disabled", !!e), e && a(e))
    }), d.on("click", function(e) {
        e.preventDefault(), e.stopPropagation();
        var e = $(this).attr("data-model-details"),
            t = $("#PhotoNo").val();
        ! function(e, t) {
            var i, s = new FormData,
                n = r();
            n ? a(n) : (i = l[0].files[0], s.append("replacePhotoId", i, i.name), s.append("mvtoken", globalSettings.prototype.mvtoken), s.append("modeldetails", e), s.append("photono", t), $.ajax({
                type: "POST",
                url: "/includes/replace_photo_id.php",
                data: s,
                cache: !1,
                contentType: !1,
                processData: !1,
                dataType: "json",
                async: !1,
                success: function(e) {
                    !e || e.error ? o(e) : (e = i.name.replace(/[^a-zA-Z0-9_\-\.]/gi, ""), u = !0, l.val(""), u = !1, $("body").hasClass("-has-notification") && $("body").removeClass("-has-notification"), d.prop("disabled", !0), c.html("The file &lsquo;" + e + "&rsquo; has been replaced successfully."), success("File has been Replaced successfully.", "Great!"), location.reload())
                },
                error: function(e) {
                    var t;
                    try {
                        t = JSON.parse(e.responseText)
                    } catch (e) {}
                    o(t)
                }
            }))
        }(e, t)
    }), d.prop("disabled", !0)
}), $(document).ready(function() {
    $("body").hasClass("js-model-earnings") && (getDayEarnings($(".monthSelect").find(":selected").val().split("-")[1], $(".monthSelect").find(":selected").data("year"), "", "", !0), $(".js-model-earnings a.monthlyRankingViewButton").click(function() {
        0 === $("#monthlyRankingTable tbody tr").length && getMonthlyRankings(moment().utc().format("YYYY"), $(".js-monthly-ranking-year-selector").data("current-ranking"))
    }), $(document).on("change", ".js-monthly-ranking-year-selector", function() {
        getMonthlyRankings($(this).val(), $(".js-monthly-ranking-year-selector").data("current-ranking"))
    }), $(".js-model-earnings a.js-dailyRankingButton").click(function() {
        0 === $(".js-daily-ranking-table tbody tr").length && getDailyRankings($(".js-monthly-daily-grind").find(":selected").data("month"), $(".js-monthly-daily-grind").find(":selected").data("year"), $(".js-monthly-daily-grind").data("current-ranking"), $(".js-monthly-daily-grind").data("current-total"))
    }), $(document).on("change", ".js-monthly-daily-grind", function() {
        var e = $(this);
        getDailyRankings(e.find(":selected").data("month"), e.find(":selected").data("year"), e.data("current-ranking"), e.data("current-total"))
    }), $(".js-dailySalesButton").click(function() {
        var e = $(".monthSelect").find(":selected"),
            t = e.val().split("-")[1],
            e = e.data("year");
        getDayEarnings.lastResult != e + "-" + t && getDayEarnings(t, e, "", "", !0)
    }), $(document).on("change", ".monthSelect", function() {
        var e = $(this),
            t = e.val().split("-")[1],
            i = e.find(":selected").data("year") || moment().utc().format("YYYY");
        $(".table-row-highlight", e.parents("div.accordion-inner")).css({
            top: "40px",
            visibility: "hidden",
            opacity: "0"
        }), getDayEarnings(t, i, "", "", !1)
    }), $(".js-model-earnings a.monthView").click(function() {
        0 === $("#monthCalendarTable tbody tr").length && getMonthEarnings(moment().utc().format("YYYY"))
    }), $(".js-model-earnings a.sold-services-view").click(function() {
        populateSoldServices()
    }), $(".sold-services-select-category, .sold-services-select-expiration").on("change", function() {
        populateSoldServices()
    }), $(".js-model-earnings a.dayTrafficView").click(function() {
        var e = $(".monthTrafficSelect").find(":selected"),
            t = e.val().split("-")[1],
            e = e.data("year");
        getDayTraffic.lastResult != e + "-" + t && getDayTraffic(t, e)
    }), $(document).on("change", ".monthTrafficSelect", function() {
        var e = $(this),
            t = e.val().split("-")[1],
            e = e.find(":selected").data("year") || moment().utc().format("YYYY");
        getDayEarnings.lastResult != e + "-" + t && getDayTraffic(t, e)
    }), $(document).on("change", ".js-traffic-type-select", function() {
        var e = $(".monthTrafficSelect"),
            t = e.val().split("-")[1],
            e = e.find(":selected").data("year");
        getDayTraffic(t, e || moment().utc().format("YYYY"))
    }), $(document).on("change", ".yearSelect", function() {
        var e = $(this),
            t = e.val(),
            e = e.find(":selected").data("year");
        getMonthEarnings(t, e || moment().utc().format("YYYY"))
    }), $(".js-model-earnings a.payPeriodView").click(function() {
        0 === $("#payPeriodTable tbody tr").length && getPayouts(moment().utc().format("YYYY"))
    }), $(document).on("change", ".yearSelectPayout", function() {
        getPayouts($(this).val())
    })), $(document).on("click", ".create-payout-invoice", function() {
        var e = $(this),
            t = e.data("date-start"),
            i = e.data("date-end"),
            s = e.data("payout"),
            n = e.data("payout-date"),
            a = e.data("invoice-number"),
            o = e.data("user-id"),
            r = e.data("fee-amount"),
            l = e.data("payout-total") + r,
            e = {
                date_start: t,
                date_end: i,
                payout_date: n,
                payout: s,
                user_id: o,
                fee_amount: r,
                commission: $("input[name=show_commission]:checked").val()
            };
        $.ajax({
            type: "POST",
            url: "/includes/get_payout_invoice.php",
            data: e,
            success: function(e) {
                e.error ? gritter(e.error, "Oh no!") : createInvoice(e.items, e.details, s, a, l)
            },
            error: function(e) {},
            dataType: "json"
        })
    }), $(".js-modal-send-message-to-expired").click(function() {
        var e = $(".js-expired-message").val(),
            t = {
                type: $(".sold-services-select-category").val(),
                message: e
            };
        "" === e && e.length < 20 ? gritter("You must enter at least 20 characters.", "Oops!") : $.ajax({
            type: "POST",
            url: "/includes/send_message_to_expired.php",
            data: t,
            success: function(e) {
                $("#sendMessageToExpired").modal("hide"), e.error ? gritter(e.error, "Oh no!") : success("Your message has been sent to " + $(".js-expired-total").text() + "!", "Great!")
            },
            error: function(e) {},
            dataType: "json"
        })
    })
}), getDayEarnings.lastResult = null;
var takt = [],
    taka = [];

function appendAllData(e, o, r, t, i, l, s) {
    var d, c, u, h, p, f, m, g = !0,
        v = 0,
        y = 0,
        b = 0,
        w = 0,
        _ = 0,
        C = 0,
        k = 0,
        x = 0,
        S = 0,
        T = 0,
        E = 0,
        A = [],
        n = cleanNum($("input#bankedAmount").val() || 0),
        a = moment().utc().format("D"),
        P = moment().utc().format("M");
    filterMonth = 0 === t ? moment().utc().format("M") : t, takt = [], taka = [], m = a < 16 ? [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15] : [16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31], $.each(e, function(e, t) {
        if (filterDay = moment(t.sales_date, ["DD-MM-YYYY"]).format("D"), filterMonth = moment(t.sales_date, ["DD-MM-YYYY"]).format("M"), u = "month" === o ? filterDay : filterMonth, A.push(e + 1), d = r.find("tr[data-date=" + u + "]"), b = parseFloat(d.find(".vs").text()), w = parseFloat(d.find(".ve").text().substring(1)), is = parseFloat(d.find(".is").text()), ie = parseFloat(d.find(".ie").text().substring(1)), v = parseFloat(d.find(".ms").text()), y = parseFloat(d.find(".me").text().substring(1)), se = parseFloat(d.find(".se").text().substring(1)), _ = parseFloat(d.find(".be").text().substring(1)), k = parseFloat(d.find(".cs").text()), x = parseFloat(d.find(".ce").text().substring(1)), S = parseFloat(d.find(".ad").text().substring(1)), void 0 === takt[u] && (takt[u] = "0"), void 0 === taka[u] && (taka[u] = "0.00"), takt[u] = parseFloat(takt[u]), taka[u] = parseFloat(taka[u]), 0, parseFloat(d.find(".t").text()), ["OTD", "video", "video_download"].includes(t.type) ? (C = t.seller_commission_price, b += 1, w += parseFloat(C)) : "Membership" === t.type ? (C = t.seller_commission_price, v += 1, y += parseFloat(C)) : "Bonus" === t.type ? (C = cleanNum(t.seller_commission_price), _ += parseFloat(C)) : ["phone", "skype", "videoChat", "text", "customvid", "fundme", "tip", "contest", "StarLight", "paytoopen"].includes(t.type) ? (C = t.seller_commission_price, se += parseFloat(C)) : "store" === t.type ? (C = t.seller_commission_price, is += 1, ie += parseFloat(C)) : "adjustment" === t.type ? (C = t.seller_commission_price, S += parseFloat(C)) : "converted_tokens" === t.type ? (taka[u] = taka[u] + parseFloat(t.seller_commission_price), takt[u] = takt[u] + parseFloat(t.seller_commission_price) / MODEL_TOKEN_PRICE, C = cleanNum(t.seller_commission_price)) : "Crush" === t.type && (C = t.seller_commission_price, k += 1, x += parseFloat(C)), h = y + w + se + _ + ie + taka[u] + x + S, takt[u] = takt[u].toFixed(2), p = String(takt[u]).replace(/(.)(?=(\d{3})+$)/g, "$1,"), f = new Intl.NumberFormat("us", {
                style: "currency",
                currency: "usd",
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            }).format(taka[u]), d.find(".vs").text(b).end().find(".ve").text("$" + w).end().find(".is").text(is).end().find(".ie").text("$" + ie).end().find(".ms").text(v).end().find(".me").text("$" + y).end().find(".se").text("$" + se).end().find(".be").text("$" + _).end().find(".taktStr").text(p).end().find(".takaStr").text(f).end().find(".t").text("$" + h).end().find(".cs").text(k).end().find(".ad").text("$" + S).end().find(".ce").text("$" + x).end(), -1 !== jQuery.inArray(parseInt(u), m) && "month" === o ? T += parseFloat(C) : E += parseFloat(C), "month" === o && l === moment(t.sales_date, ["DD-MM-YYYY"]).format("D")) {
            var i = t.seller_commission_price,
                s = "",
                n = ("Bonus" !== t.type && "Crush" !== t.type && (i = cleanNum(t.seller_commission_price)), "Crush" === t.type && (i = cleanNum(t.seller_commission_price)), i = parseFloat(i), s = "Bonus" === t.type || "adjustment" === t.type ? "--" : "1" === t.buyer_user_id ? "Anonymous" : '<a href="/Profile/' + t.buyer_user_id + "/" + t.buyer_stage_name.replace(" ", "-") + '/" target="_blank"><b>' + t.buyer_stage_name + "</b></a>", t.type),
                a = t.title;
            switch (t.type) {
                case "OTD":
                    n = 'video <i class="icon-question-sign popover-btn" data-trigger="hover" data-toggle="popover" data-placement="top" data-html="true" data-content="This vid was bought by a non member."></i>';
                    break;
                case "converted_tokens":
                    n = "tokens", a = (t.price / MODEL_TOKEN_PRICE).toLocaleString("en-US") + " Tks Converted", i = Number(t.seller_commission_price).toLocaleString("en-US", {
                        minimumFractionDigits: 2,
                        maximumFractionDigits: 2
                    }), s = "<b>" + t.buyer_stage_name + "</b>";
                    break;
                case "Crush":
                    n = "Club"
            }
            e = n;
            "video_download" == n ? e = "Video" : "paytoopen" == n && (e = "Pay To Open"), c += '<tr><td class="text-left">' + t.sales_time + '</td><td class="text-left">' + s + ("true" === t.affiliate_sale ? " (affiliate)" : "") + '</td><td class="text-left">' + e + '</td><td class="text-left">' + a + ("video_download" == n ? " (download access)" : "") + '</td><td class="text-right">$' + i + "</td></tr>", g = !1
        }
    }), $("#monthCalendarTable .t, .me, .ve, .ie, .se, .be, .ce, .ad").each(function() {
        formatAmount($(this))
    }), "month" === o && filterMonth === P && (a = (t = $(".current-pay-total")).data("minimum"), e = t.data("payout-type"), P = cleanNum(T + n), n = cleanNum(T + E), P = 0 === P ? "0.00" : P.toFixed(2), n = 0 === n ? "0.00" : n.toFixed(2), $(".icon-question-sign", t).attr("data-original-title", "Your " + e + " payout is set to a minimum of $" + a + ". You can change this in your Settings."), P < a) && t.addClass("text-warning").find(".toolTip-container").fadeIn(""), "month" === o && (r.find("tr").hide(), g && (c = '<td colspan="12">There are no sales on this day.</td>'), r.append(c)), s || loopGraphTotals(o, i, filterMonth), r.find(".popover-btn").popover()
}

function loopGraphTotals(e, t, i) {
    var s, n, a, o = [],
        r = [],
        l = "year" === e,
        e = l ? (s = "#monthCalendarTable", n = "#monthGraph", o = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], "Monthly sales") : (s = "#dayCalendarTable", n = "#dayGraph", "Daily Sales");
    $.each($(s + " tbody .t"), function(e, t) {
        a = $(t).text().replace("$", ""), r.push(cleanNum(a)), l || o.push(parseInt(e + 1))
    }), drawChart(r, o, n, e, t, i, "Earnings in US$", " US$", "Your earnings", !1)
}

function drawChart(e, t, i, s, n, a, o, r, l, d, c) {
    $(i).highcharts({
        credits: !1,
        title: {
            text: s,
            x: -20
        },
        subtitle: {
            text: n,
            x: -20
        },
        xAxis: {
            categories: t
        },
        yAxis: {
            reversed: d,
            title: {
                text: o
            },
            min: 1,
            labels: {
                formatter: function() {
                    return 0 === this.value && 1 === c ? 1 : this.value
                }
            }
        },
        tooltip: {
            valueSuffix: r
        },
        legend: {
            enabled: !1
        },
        series: [{
            name: l,
            data: e,
            cursor: "pointer",
            allowPointSelect: !0,
            point: {
                events: {
                    select: function() {
                        "Daily Sales" === s && getDayEarnings(a, n, this.category, !0, !1)
                    }
                }
            }
        }]
    })
}

function drawTrafficChart(e, t, i, s, n, a) {
    $(i).highcharts({
        chart: {
            type: "spline"
        },
        title: {
            text: s,
            x: -20
        },
        subtitle: {
            useHTML: !0,
            text: "",
            x: -20
        },
        xAxis: {
            categories: t
        },
        yAxis: {
            title: {
                text: "Total " + a
            },
            min: 0
        },
        tooltip: {
            valueSuffix: " views",
            crosshairs: !0,
            shared: !0
        },
        legend: {
            layout: "vertical",
            align: "right",
            verticalAlign: "middle",
            borderWidth: 0,
            useHTML: !0
        },
        series: [{
            name: a,
            data: e
        }]
    })
}

function formatAmount(e) {
    var t = cleanNum((t = e.html().split("$"))[1]);
    e.html("$" + t.toFixed(2))
}
var Base = function() {},
    FlipClock;

function getReferralStatus(t) {
    data = {
        status: t
    }, $.ajax({
        type: "POST",
        url: "/includes/get_referral_status.php",
        data: data,
        success: function(e) {
            e.error ? gritter(e.error, "Oh no!") : buildReferralTable(e.referrals, t)
        },
        error: function(e) {},
        dataType: "json"
    })
}

function buildReferralTable(e, t) {
    var a, i = $("#referralsTable tbody");
    i.empty(), 0 < e.length ? $.each(e, function(e, t) {
        var i = "",
            s = "",
            n = "0";
        t.twitter && "https://twitter.com/" !== t.twitter && (i = '<a href="https://' + t.twitter + '" class="social-icon twitter trans" title="Reach ' + t.stage_name + ' on Twitter" target="_blank"></a>'), "0" === t.status ? s = "Has not confirmed her email address." : "1" === t.status ? s = "Has not uploaded her Photo ID" : "2" === t.status ? "1" === t.paid_out ? (s = "Earned you $25", n = 2) : s = "1" === t.allow_rev_share ? "Ready to sell content" : "Needs to upload 5 pics, 1 profile pic and launch 3 vids" : s = "User has deleted their account before qualifying", a += '<tr class="' + (2 === n ? "complete success" : "incomplete") + '" data-status="' + n + '"><td class="text-left"><a href="/Profile/' + t.id + "/" + t.stage_name.replace(/\s+/g, "-") + '/" target="_blank" title="Visit the profile of ' + t.stage_name + '">' + t.stage_name + '</a></td><td class="text-left">' + s + '</td><td class="text-left">' + moment(t.date).format("MMMM Do") + " <i>at</i> " + moment(t.date).format("h:mm a") + '</td><td class="text-left">' + ("1" === t.allow_rev_share ? "YES" : "NO") + '</td><td class="text-right">' + i + "</td></tr>"
    }) : a = '<tr><td colspan="4">There are no referrals pending.</td></tr>', i.append(a), hideShowReferralRows(i, t)
}

function buildAffiliateTable(e) {
    var i, s, n, t = "",
        a = 0,
        o = $("#monthAffiliateCalendarTable tbody");
    o.empty(), 0 < e.length ? ($.each(e, function(e, t) {
        n = "Affiliate" == t.type ? cleanNum(t.price / 100 * 12.25, 2) : t.price, a += cleanNum(n), s = 0 !== t.video_id && "Bonus" !== t.type ? '<a target="_blank" title="' + t.title + '" href="/Video/' + t.video_id + "/" + window.MV.cleanTitleUrl(t.title) + '/">' + t.title + "<a>" : t.title, t.stage_name, t.model_id, t.stage_name.replace(/\s+/g, "-"), t.stage_name, i += '<tr><td class="text-left">' + moment(t.sales_date_order).format("MMMM Do") + " <i>at</i> " + moment(t.sales_date_order).format("h:mm a") + '</td><td class="text-left">' + s + '</td><td class="text-right">$' + n + "</td></tr>"
    }), t = '<tr><td colspan="2" class="text-right">Total earned:</td><td class="text-right"><strong>$' + a + "</strong></td><tr>") : i = '<tr><td colspan="3">There are no affiliate earnings for this month</td></tr>', o.append(i + t)
}

function hideShowReferralRows(e, t) {
    e.find("tr").removeClass("hide"), "1" === t && e.find("tr[data-status=2]").addClass("is-hidden"), "2" === t && e.find("tr[data-status!=2]").addClass("is-hidden")
}

function createModelItems(t) {
    var i = $("#result-list"),
        s = t.modelList || [],
        n = [];
    $.each(s, function(e, t) {
        s[e].profile_link = "/Profile/" + t.id + "/" + t.stage_name.replace(/\s+/g, "-") + "/", s[e].link = s[e].profile_link, s[e].profile_vid_preview_html = "", s[e].profile_pic = t.profile_pic_full, s[e].profile_vid_preview_html = "", s[e].preview_ready = "", t.profile_vid && (s[e].profile_vid_preview_html = ' data-video-preview="' + t.username + "/" + t.profile_vid + '" data-video-type="profile"', s[e].preview_ready = " preview-ready"), s[e].content_on_click = "", t.user_profile && (isPreferredContentJS(t.user_profile.content_type_id || 1) ? s[e].content_on_click = "" : s[e].content_on_click = " onclick=\"return checkContentPopup('" + s[e].profile_link + "');\""), s[e].model_is_live = "", s[e].link_class = "", n.push(t)
    }), $.ajax({
        url: "/views/mv-star-card.mustache",
        type: "POST",
        beforeSend: function() {
            $(".loading").show()
        },
        success: function(e) {
            e = Mustache.render(e, {
                mv_star_card: n
            }), i.html(e + '<div class="-filler -col-1-9"></div><div class="-filler -col-1-9"></div><div class="-filler -col-1-9"></div><div class="-filler -col-1-9"></div><div class="-filler -col-1-9"></div><div class="-filler -col-1-9"></div><div class="-filler -col-1-9"></div><div class="-filler -col-1-9"></div>'), e = $(".mobile-responsive-ad");
            t.showBanners ? e.show() : e.hide(), lazyLoadingStart()
        }
    })
}

function appendVids(t) {
    var i = $(".js-append-vids"),
        e = $(".js-sort-vids-profile"),
        s = $(".js-custom-vids-filter"),
        n = $(".js-profile-category"),
        a = $(".js-profile-star"),
        o = $("#result-list"),
        r = e.val(),
        l = $("body").data("is-crush-member-subscribed"),
        d = $("body").data("has-crush-membership"),
        c = i.data("vid-count"),
        u = e.data("vid-user-likes"),
        h = e.data("user-id"),
        p = i.data("tag") || "All",
        n = n.val(),
        a = a.val(),
        f = !!e.data("is-profile"),
        m = !!e.data("is-edit-profile"),
        e = 0 < s.length ? s.val() : "";
    i.addClass("loading").text("Loading More ..."), t && (c = 0, i.addClass("is-hidden"), o.empty().prepend('<div class="js-profile-vids-loader col-12 text-center my-3"><img src="https://cdn3.manyvids.com/site_files/images/icons/loader-icon.png" alt="" class="loader-icon loading-anim mt-3 loading middle-x-y">')), $.ajax({
        type: "POST",
        url: "/includes/append_small_vids.php",
        data: {
            count: c,
            tag: p,
            uid: h,
            isEditProfile: m,
            customVidsFilterVal: e,
            v: r,
            isCrushMemberSubscribed: l,
            hasCrushMembership: d,
            category: n,
            vidUserLikes: u,
            starId: a
        },
        beforeSend: function() {
            $("#loadingDiv,#loadingOverlay").hide()
        },
        success: function(e) {
            i.remove(), e.success ? (createVideoSmallItemsNew(e, p, f, m, t), $(".js-banner-hide").show()) : e.blocked && (i.addClass("is-hidden"), o.removeClass("flex-list"), o.empty().prepend('<h2 class="pl-1 mt-2">Oops!</h2><p class="pl-1">Your filter did not return any results.</p>'))
        },
        error: function() {},
        dataType: "json"
    })
}

function createVideoSmallItemsNew(i, s, n, P, e) {
    var a = $("#result-list"),
        M = ($("html").data("status"), ["", "gold", "silver", "bronze"]),
        t = i.videoList || [],
        D = 0,
        I = (e && a.empty(), window.MV.updateExplicitContentFlag(), []);
    $.each(t, function(e, t) {
        0;
        var i = t.stage_name.replace(/\s+/g, "-"),
            s = window.MV.cleanTitleUrl(t.title),
            i = "/Profile/" + t.user_id + "/" + i,
            n = i + "/",
            s = "/Video/" + t.id + "/" + s + "/",
            a = t.free >> 0,
            o = "",
            r = "",
            l = "",
            d = "",
            c = "",
            u = "",
            h = "",
            p = "",
            f = "",
            m = "",
            g = "",
            v = "",
            y = M[t.winner_rank >> 0],
            b = "",
            w = "",
            _ = 1 == t.isLiked ? "active" : "",
            C = "",
            k = 1 === t.crush_video ? " text-highlight" : "",
            x = "",
            S = t.bls,
            T = t.blc,
            E = t.user_region,
            A = t.user_country;
        if (-1 !== $.inArray(E, S) || -1 !== $.inArray(A, T)) return D += 1, !0;
        isPreferredContentJS(t.content_type_id) || (g = " onclick=\"return checkContentPopup('" + s.replace(/'/g, " ") + "');\""), 1 === t.crush_video && (s = "javascript:;", g = "onclick=\"return callModelServices($('#ServicesCallout')," + t.user_id + ", 'crush' , '" + t.stage_name + "');\"");
        E = "", "" !== t.nationality && "" !== t.lives_in ? E = t.nationality + " / " + t.lives_in : "" !== t.nationality && "" === t.lives_in ? E = t.nationality : "" === t.nationality && "" !== t.lives_in ? E = t.lives_in : "" === t.nationality && "" === t.lives_in && (E = "ManyVids"), t.explicit >> 0 && !window.MV.isShowExplicitContent && (p = 'data-video-extreme="' + t.explicit + '"', h = '<div class="overlay overlay-blocker text-center p-3 flex-column flex-center-center js-video-extreme"><h2 class="h2">WARNING</h2><small class="">The content of this vid may be offensive or disturbing to some viewers. Click to View.</small></div>'), a ? (o = "FREE", r = " text-highlight") : "2" == t.vidMembershipStatus ? r = l = o = "" : 1 === t.crush_video ? (o = "SUBSCRIBE", r = " text-highlight") : (o = "$" + t.priceRegular, t.promo >> 0 && (l = "$" + t.price, r = " text-highlight price-real", d = " (SAVE " + t.promo + "%)")), S = "";
        "0" != t.reviews && (S = parseFloat(t.reviews).toFixed(1)), t._num && (w = t._num + ". "), 1 === t.crush_video ? c = "" : "1" === t.isBlocked && (c = '<i class="icon xsmall lock-icon mb-1" title="Preview only for Premiums"></i>'), (void 0 !== t.model_has_membership && 0 < parseInt(t.model_has_membership) || void 0 !== t.valid_purchased_membership && 1 === t.valid_purchased_membership) && "0" === t.vidMembershipStatus && (u = '<i class="icon xsmall excluded-icon mb-1" title="Sold separately from membership"></i>'), y && (v = '<i class="icon medium ' + y + ' mv-icon-crown mb-1" title="#' + t.winner_rank + " vid of " + t.competition_winner_month + " " + t.competition_winner_year + '"></i>'), f = 1 == a ? '<span class="price mv-tube"></span>' : 2 == a ? '<span class="free">FREE</span> <div><a class="btn btn-primary-outline js-watch-mv-tube-vid" href="javascript:;" title="Watch Vid" data-id="' + t.id + '">Watch Vid</a></div>' : "2" == t.vidMembershipStatus ? '<div><span class="membership">Membership</span></div><div><a class="btn btn-primary-outline view-services" href="javascript:;" title="Membership" data-service="membership" data-model-username="' + t.stage_name + '" data-model-id="' + t.user_id + '">Add to cart</a></div>' : t.added_to_cart ? (priceDisplayHtml = t.promo >> 0 ? "" : '<span class="ml-1' + k + '">' + o + "</span>") + '<a class="btn btn-primary-outline add-cart added" href="javascript:;" data-id="' + t.id + '" title="Added to cart">Added to cart</a>' : (A = "From Other", priceDisplayHtml = t.promo >> 0 ? "" : '<span class="price">' + o + "</span>", 1 === t.crush_video ? '<div class="buy-wrapper"><a href="javascript:;" title="' + t.title + '"' + g + '><i class="mv-icon-cart 1' + k + '"></i>' + priceDisplayHtml + "</a></div>" : 1 === t.isLogged ? (T = "add-cart", y = "Add to cart", m = " onclick=\"ga('send', {hitType: 'event', eventCategory: 'Cart', eventAction: 'Add Video', eventLabel: '" + A + "'})\"", "1" == t.vidMembershipStatus && t.isMembershipPurchased && (y = "Watch Vid", T = "watch-vid"), priceDisplayHtml + '<div><a class="btn btn-primary-outline ' + T + '" ' + m + 'href="javascript:;" data-id="' + t.id + '" title="' + y + '">' + y + "</a></div>") : (m = " onclick=\"ga('send', {hitType: 'event', eventCategory: 'Cart', eventAction: 'Add Video Not Logged', eventLabel: '" + A + "'})\"", priceDisplayHtml + '<div><a class="btn btn-primary-outline" ' + m + ' href="javascript:;" data-target="#LoginSignupModal2" data-toggle="modal" title="Add to cart">Add to cart</a></div>')), (t.preview_s3 && void 0 !== t.preview_s3 || t.video_previews && void 0 !== t.video_previews) && (b = "js-video-preview-v2"), C = 1 === t.crush_video ? "" : t.formatted_length || t.length, 1 !== t.crush_video && "1" !== t.isBlocked && (x = 'data-video-preview="' + t.preview_v2 + '"'), I.push({
            image_placeholder: "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
            user_id: t.user_id,
            profile_link: i,
            link: n,
            picture_live_class: "",
            name_live_class: "",
            profile_pic_thumb: t.profile_pic_url,
            stage_name: t.stage_name,
            location_nationality: E,
            extreme_warning: p,
            extreme_content_overlay: h,
            formatted_length: C,
            rank_summary: w,
            upload_server_url: "/Edit-vid/" + t.id + "/",
            sold_videos_earned: t.xyz + " Earned",
            sold_videos: t.xz + " Sold - ",
            buybtn: f,
            video: {
                video_preview_v2: b,
                video_inline_class: "2",
                video_href: s,
                video_preview: x,
                video_medal_icon: "",
                video_blocked_preview_icon: c,
                video_excluded_icon: u,
                video_crown_icon: v,
                video_on_click: g,
                video_title: t.title,
                video_title_tag: w ? ' title="#' + w + '" ' : ' title="' + t.stage_name + ": " + t.title + '"',
                video_image: t.screenshot,
                video_show_menu: t.isOwner,
                video_id: t.id,
                video_liked_active_class: _,
                video_price_style: r,
                video_price: o,
                video_discount_price: l,
                video_discount_save: d,
                video_show_model_purchases: t.isOwner && P,
                video_likes: t.likes,
                video_views: t.views,
                video_views_formatted: "0" < t.viewsClean ? t.viewsClean : " ",
                video_reviews: t.reviews,
                video_reviews_formatted: S,
                gaPushLikes: t.gaPushLikes
            }
        })
    }), $.ajax({
        url: "/views/video-card.mustache",
        type: "POST",
        beforeSend: function() {
            $(".loading").show()
        },
        success: function(e) {
            var t, e = Mustache.render(e, {
                video_card: I
            });
            a.children(".card-flex.-filler").remove(), "" === e ? (a.removeClass("flex-list"), a.prepend('<h2 class="pl-1 mt-2">Oops!</h2><p class="pl-1">Your filter did not return any results.</p>')) : a.addClass("flex-list").append(e + '<div class="card-flex -filler"></div><div class="card-flex -filler"></div><div class="card-flex -filler"></div>'), i.remaining && (e = n ? "profile" : "", (t = $(".js-loadMoreContainer")).removeClass("is-hidden"), e = '<button type="button" class="btn btn-primary-outline btn-more js-append-vids mx-auto ' + e + '" data-vid-count="' + i.totalCount + '" data-tag="' + s + '" data-vid-user-id = "' + i.vid_user_ID + '"  data-is-profile="' + !!n + '" data-is-edit-profile="' + !!P + '">Load More</button>', t.length ? t.html(e) : a.after(e)), $(".js-total-search-results").html("(" + MV.formatInteger(parseInt(i.totalCount) - D) + " Vids)"), lazyLoadingStart()
        }
    })
}

function appendItems() {
    var t = $(".js-append-items"),
        e = t.data("item-user-id"),
        i = t.data("item-count"),
        s = t.data("item-filter"),
        n = t.data("search"),
        a = t.data("tag") || "All",
        o = t.data("profile"),
        r = t.data("item-count");
    t.addClass("loading").html("Loading More ..."), $.ajax({
        type: "POST",
        url: "/includes/append_items.php",
        dataType: "json",
        data: {
            offset: r,
            count: i,
            uid: e,
            v: s,
            s: n,
            isProfile: o,
            tag: a
        },
        beforeSend: function() {
            $("#loadingDiv,#loadingOverlay").hide()
        },
        success: function(e) {
            e && e.success ? "0" === e.count ? t.remove() : build_items(e) : gritter(e.error, "Oops!")
        },
        error: function() {}
    })
}

function build_items(t) {
    var i = t && t.isProfile,
        s = [],
        n = i ? $(".js-store-items-list") : $("#result-list"),
        a = i ? 30 : 48,
        o = $(".js-append-items"),
        r = t && (t.storeList || t.items || []),
        l = t && t.results || 0;
    $.each(r, function(e, t) {
        r[e].item_url = "/StoreItem/" + t.id + "/" + window.MV.cleanTitleUrl(t.title) + "/", r[e].profile_pic_thumb = t.profile_pic_full, r[e].store_item_show_in_menu = i && t.isOwner, r[e].store_image = t.image ? "https://cdn5.manyvids.com/php_uploads/store/" + t.username + "/image/" + t.image : "/img/default_store.jpg", r[e].item_on_click = isPreferredContentJS(t.content_type_id) ? "" : " onclick=\"return checkContentPopup('" + itemLink.replace(/'/g, " ") + "');\"", r[e].sold_class = t.sold >> 0 ? "sold-overlay" : "", r[e].sale = "0" !== t.sale && r[e].sale, (r[e].location_nationality = "") !== t.nationality && "" !== t.lives_in ? r[e].location_nationality = t.nationality + " / " + t.lives_in : "" !== t.nationality && "" === t.lives_in ? r[e].location_nationality = t.nationality : "" === t.nationality && "" !== t.lives_in ? r[e].location_nationality = t.lives_in : r[e].location_nationality = "ManyVids", r[e].link = r[e].profile_link, r[e].a_name_class = "", r[e].div_live_class = "", s.push(t)
    }), $.ajax({
        url: "/views/store-item-card.mustache",
        type: "POST",
        beforeSend: function() {
            $(".loading").show()
        },
        success: function(e) {
            e = Mustache.render(e, {
                store_item_card: s
            }), i || n.empty(), n.children(".card-flex.-filler").remove(), n.append(e + '<div class="card-flex -col-1-5 -filler"></div><div class="card-flex -col-1-5 -filler"></div><div class="card-flex -col-1-5 -filler"></div>'), e = o.data("item-total") || 0;
            i && 0 < e && t.count >= e || !i && l < a ? o.remove() : o.data("item-count", t.count).removeClass("loading").text("Load More").blur(), lazyLoadingStart()
        }
    })
}

function checkContentPopup(e) {
    return "false" != $.cookie("contentPopup") || ($("#untargetedContentALink").prop("href", e), $("#untargetedContentALinkWithCookie").prop("href", e), $("#contentPopupAlert").modal("show"), !1)
}

function isPreferredContentJS(e) {
    return !1
}
Base.extend = function(e, t) {
    "use strict";
    var i = Base.prototype.extend,
        s = (Base._prototyping = !0, new this),
        n = (i.call(s, e), s.base = function() {}, delete Base._prototyping, s.constructor),
        a = s.constructor = function() {
            if (!Base._prototyping)
                if (this._constructing || this.constructor == a) this._constructing = !0, n.apply(this, arguments), delete this._constructing;
                else if (null !== arguments[0]) return (arguments[0].extend || i).call(arguments[0], s)
        };
    return a.ancestor = this, a.extend = this.extend, a.forEach = this.forEach, a.implement = this.implement, a.prototype = s, a.toString = this.toString, a.valueOf = function(e) {
        return "object" == e ? a : n.valueOf()
    }, i.call(a, t), "function" == typeof a.init && a.init(), a
}, Base.prototype = {
    extend: function(e, t) {
        if (1 < arguments.length) {
            var i, s = this[e];
            !s || "function" != typeof t || s.valueOf && s.valueOf() == t.valueOf() || !/\bbase\b/.test(t) || (i = t.valueOf(), (t = function() {
                var e = this.base || Base.prototype.base,
                    t = (this.base = s, i.apply(this, arguments));
                return this.base = e, t
            }).valueOf = function(e) {
                return "object" == e ? t : i
            }, t.toString = Base.toString), this[e] = t
        } else if (e) {
            for (var n, a = Base.prototype.extend, o = (Base._prototyping || "function" == typeof this || (a = this.extend || a), {
                    toSource: null
                }), r = ["constructor", "toString", "valueOf"], l = Base._prototyping ? 0 : 1; n = r[l++];) e[n] != o[n] && a.call(this, n, e[n]);
            for (n in e) o[n] || a.call(this, n, e[n])
        }
        return this
    }
}, Base = Base.extend({
    constructor: function() {
        this.extend(arguments[0])
    }
}, {
    ancestor: Object,
    version: "1.1",
    forEach: function(e, t, i) {
        for (var s in e) void 0 === this.prototype[s] && t.call(i, e[s], s, e)
    },
    implement: function() {
        for (var e = 0; e < arguments.length; e++) "function" == typeof arguments[e] ? arguments[e](this.prototype) : this.prototype.extend(arguments[e]);
        return this
    },
    toString: function() {
        return String(this.valueOf())
    }
}), ! function(i) {
    "use strict";
    (FlipClock = function(e, t, i) {
        return t instanceof Object && t instanceof Date == !1 && (i = t, t = 0), new FlipClock.Factory(e, t, i)
    }).Lang = {}, FlipClock.Base = Base.extend({
        buildDate: "2014-12-12",
        version: "0.7.7",
        constructor: function(e, t) {
            this.setOptions(i.extend(!0, {}, e = "object" != typeof e ? {} : e, t = "object" != typeof t ? {} : t))
        },
        callback: function(e) {
            if ("function" == typeof e) {
                for (var t = [], i = 1; i <= arguments.length; i++) arguments[i] && t.push(arguments[i]);
                e.apply(this, t)
            }
        },
        log: function(e) {
            window.console && console.log && console.log(e)
        },
        getOption: function(e) {
            return this[e] || !1
        },
        getOptions: function() {
            return this
        },
        setOption: function(e, t) {
            this[e] = t
        },
        setOptions: function(e) {
            for (var t in e) void 0 !== e[t] && this.setOption(t, e[t])
        }
    })
}(jQuery), ! function(n) {
    "use strict";
    FlipClock.Face = FlipClock.Base.extend({
        autoStart: !0,
        dividers: [],
        factory: !1,
        lists: [],
        constructor: function(e, t) {
            this.dividers = [], this.lists = [], this.base(t), this.factory = e
        },
        build: function() {
            this.autoStart && this.start()
        },
        createDivider: function(e, t, i) {
            "boolean" != typeof t && t || (i = t, t = e);
            var s = ['<span class="' + this.factory.classes.dot + ' top"></span>', '<span class="' + this.factory.classes.dot + ' bottom"></span>'].join(""),
                i = (i && (s = ""), e = this.factory.localize(e), ['<span class="' + this.factory.classes.divider + " " + (t || "").toLowerCase() + '">', '<span class="' + this.factory.classes.label + '">' + (e || "") + "</span>", s, "</span>"]),
                t = n(i.join(""));
            return this.dividers.push(t), t
        },
        createList: function(e, t) {
            "object" == typeof e && (t = e, e = 0);
            e = new FlipClock.List(this.factory, e, t);
            return this.lists.push(e), e
        },
        reset: function() {
            this.factory.time = new FlipClock.Time(this.factory, this.factory.original ? Math.round(this.factory.original) : 0, {
                minimumDigits: this.factory.minimumDigits
            }), this.flip(this.factory.original, !1)
        },
        appendDigitToClock: function(e) {
            e.$el.append(!1)
        },
        addDigit: function(e) {
            e = this.createList(e, {
                classes: {
                    active: this.factory.classes.active,
                    before: this.factory.classes.before,
                    flip: this.factory.classes.flip
                }
            });
            this.appendDigitToClock(e)
        },
        start: function() {},
        stop: function() {},
        autoIncrement: function() {
            this.factory.countdown ? this.decrement() : this.increment()
        },
        increment: function() {
            this.factory.time.addSecond()
        },
        decrement: function() {
            0 == this.factory.time.getTimeSeconds() ? this.factory.stop() : this.factory.time.subSecond()
        },
        flip: function(e, i) {
            var s = this;
            n.each(e, function(e, t) {
                e = s.lists[e];
                e ? (i || t == e.digit || e.play(), e.select(t)) : s.addDigit(t)
            })
        }
    })
}(jQuery), ! function(s) {
    "use strict";
    FlipClock.Factory = FlipClock.Base.extend({
        animationRate: 1e3,
        autoStart: !0,
        callbacks: {
            destroy: !1,
            create: !1,
            init: !1,
            interval: !1,
            start: !1,
            stop: !1,
            reset: !1
        },
        classes: {
            active: "flip-clock-active",
            before: "flip-clock-before",
            divider: "flip-clock-divider",
            dot: "flip-clock-dot",
            label: "flip-clock-label",
            flip: "flip",
            play: "play",
            wrapper: "flip-clock-wrapper"
        },
        clockFace: "HourlyCounter",
        countdown: !1,
        defaultClockFace: "HourlyCounter",
        defaultLanguage: "english",
        $el: !1,
        face: !0,
        lang: !1,
        language: "english",
        minimumDigits: 0,
        original: !1,
        running: !1,
        time: !1,
        timer: !1,
        $wrapper: !1,
        constructor: function(e, t, i) {
            i = i || {}, this.lists = [], this.running = !1, this.base(i), this.$el = s(e).addClass(this.classes.wrapper), this.$wrapper = this.$el, this.original = t instanceof Date ? t : t ? Math.round(t) : 0, this.time = new FlipClock.Time(this, this.original, {
                minimumDigits: this.minimumDigits,
                animationRate: this.animationRate
            }), this.timer = new FlipClock.Timer(this, i), this.loadLanguage(this.language), this.loadClockFace(this.clockFace, i), this.autoStart && this.start()
        },
        loadClockFace: function(e, t) {
            var i = !1;
            return e = e.ucfirst() + "Face", this.face.stop && (this.stop(), i = !0), this.$el.html(""), this.time.minimumDigits = this.minimumDigits, (e = new(FlipClock[e] || FlipClock[this.defaultClockFace + "Face"])(this, t)).build(), this.face = e, i && this.start(), this.face
        },
        loadLanguage: function(e) {
            e = FlipClock.Lang[e.ucfirst()] ? FlipClock.Lang[e.ucfirst()] : FlipClock.Lang[e] || FlipClock.Lang[this.defaultLanguage];
            return this.lang = e
        },
        localize: function(e, t) {
            var i, s = this.lang;
            return e ? (i = e.toLowerCase(), (s = "object" == typeof t ? t : s) && s[i] ? s[i] : e) : null
        },
        start: function(e) {
            var t = this;
            t.running || t.countdown && !(t.countdown && 0 < t.time.time) ? t.log("Trying to start timer when countdown already at 0") : (t.face.start(t.time), t.timer.start(function() {
                t.flip(), "function" == typeof e && e()
            }))
        },
        stop: function(e) {
            for (var t in this.face.stop(), this.timer.stop(e), this.lists) this.lists.hasOwnProperty(t) && this.lists[t].stop()
        },
        reset: function(e) {
            this.timer.reset(e), this.face.reset()
        },
        setTime: function(e) {
            this.time.time = e, this.flip(!0)
        },
        getTime: function(e) {
            return this.time
        },
        setCountdown: function(e) {
            var t = this.running;
            this.countdown = !!e, t && (this.stop(), this.start())
        },
        flip: function(e) {
            this.face.flip(!1, e)
        }
    })
}(jQuery), ! function(t) {
    "use strict";
    FlipClock.List = FlipClock.Base.extend({
        digit: 0,
        classes: {
            active: "flip-clock-active",
            before: "flip-clock-before",
            flip: "flip"
        },
        factory: !1,
        $el: !1,
        $obj: !1,
        items: [],
        lastDigit: 0,
        constructor: function(e, t, i) {
            this.factory = e, this.digit = t, this.lastDigit = t, this.$el = this.createList(), this.$obj = this.$el, 0 < t && this.select(t), this.factory.$el.append(this.$el)
        },
        select: function(e) {
            void 0 === e ? e = this.digit : this.digit = e, this.digit != this.lastDigit && (e = this.$el.find("." + this.classes.before).removeClass(this.classes.before), this.$el.find("." + this.classes.active).removeClass(this.classes.active).addClass(this.classes.before), this.appendListItem(this.classes.active, this.digit), e.remove(), this.lastDigit = this.digit)
        },
        play: function() {
            this.$el.addClass(this.factory.classes.play)
        },
        stop: function() {
            var e = this;
            setTimeout(function() {
                e.$el.removeClass(e.factory.classes.play)
            }, this.factory.timer.interval)
        },
        createListItem: function(e, t) {
            return ['<li class="' + (e || "") + '">', '<a href="#">', '<div class="up">', '<div class="shadow"></div>', '<div class="inn">' + (t || "") + "</div>", "</div>", '<div class="down">', '<div class="shadow"></div>', '<div class="inn">' + (t || "") + "</div>", "</div>", "</a>", "</li>"].join("")
        },
        appendListItem: function(e, t) {
            e = this.createListItem(e, t);
            this.$el.append(e)
        },
        createList: function() {
            var e = this.getPrevDigit() ? this.getPrevDigit() : this.digit;
            return t(['<ul class="' + this.classes.flip + " " + (this.factory.running ? this.factory.classes.play : "") + '">', this.createListItem(this.classes.before, e), this.createListItem(this.classes.active, this.digit), "</ul>"].join(""))
        },
        getNextDigit: function() {
            return 9 == this.digit ? 0 : this.digit + 1
        },
        getPrevDigit: function() {
            return 0 == this.digit ? 9 : this.digit - 1
        }
    })
}(jQuery), ! function(i) {
    "use strict";
    String.prototype.ucfirst = function() {
        return this.substr(0, 1).toUpperCase() + this.substr(1)
    }, i.fn.FlipClock = function(e, t) {
        return new FlipClock(i(this), e, t)
    }, i.fn.flipClock = function(e, t) {
        return i.fn.FlipClock(e, t)
    }
}(jQuery), ! function(o) {
    "use strict";
    FlipClock.Time = FlipClock.Base.extend({
        time: 0,
        factory: !1,
        minimumDigits: 0,
        constructor: function(e, t, i) {
            (i = "object" != typeof i ? {} : i).minimumDigits || (i.minimumDigits = e.minimumDigits), this.base(i), this.factory = e, t && (this.time = t)
        },
        convertDigitsToArray: function(e) {
            var t = [];
            e = e.toString();
            for (var i = 0; i < e.length; i++) e[i].match(/^\d*$/g) && t.push(e[i]);
            return t
        },
        digit: function(e) {
            var t = this.toString(),
                i = t.length;
            return t[i - e] || !1
        },
        digitize: function(e) {
            var s = [];
            if (o.each(e, function(e, t) {
                    1 == (t = t.toString()).length && (t = "0" + t);
                    for (var i = 0; i < t.length; i++) s.push(t.charAt(i))
                }), s.length > this.minimumDigits && (this.minimumDigits = s.length), this.minimumDigits > s.length)
                for (var t = s.length; t < this.minimumDigits; t++) s.unshift("0");
            return s
        },
        getDateObject: function() {
            return this.time instanceof Date ? this.time : new Date((new Date).getTime() + 1e3 * this.getTimeSeconds())
        },
        getDayCounter: function(e) {
            var t = [this.getDays(), this.getHours(!0), this.getMinutes(!0)];
            return e && t.push(this.getSeconds(!0)), this.digitize(t)
        },
        getDays: function(e) {
            var t = this.getTimeSeconds() / 60 / 60 / 24;
            return e && (t %= 7), Math.floor(t)
        },
        getHourCounter: function() {
            return this.digitize([this.getHours(), this.getMinutes(!0), this.getSeconds(!0)])
        },
        getHourly: function() {
            return this.getHourCounter()
        },
        getHours: function(e) {
            var t = this.getTimeSeconds() / 60 / 60;
            return e && (t %= 24), Math.floor(t)
        },
        getMilitaryTime: function(e, t) {
            void 0 === t && (t = !0);
            var i = [(e = e || this.getDateObject()).getHours(), e.getMinutes()];
            return !0 === t && i.push(e.getSeconds()), this.digitize(i)
        },
        getMinutes: function(e) {
            var t = this.getTimeSeconds() / 60;
            return e && (t %= 60), Math.floor(t)
        },
        getMinuteCounter: function() {
            return this.digitize([this.getMinutes(), this.getSeconds(!0)])
        },
        getTimeSeconds: function(e) {
            return e = e || new Date, this.time instanceof Date ? this.factory.countdown ? Math.max(this.time.getTime() / 1e3 - e.getTime() / 1e3, 0) : e.getTime() / 1e3 - this.time.getTime() / 1e3 : this.time
        },
        getTime: function(e, t) {
            void 0 === t && (t = !0), e = e || this.getDateObject(), console.log(e);
            var i = e.getHours(),
                i = [12 < i ? i - 12 : 0 === i ? 12 : i, e.getMinutes()];
            return !0 === t && i.push(e.getSeconds()), this.digitize(i)
        },
        getSeconds: function(e) {
            var t = this.getTimeSeconds();
            return e && (60 == t ? t = 0 : t %= 60), Math.ceil(t)
        },
        getWeeks: function(e) {
            var t = this.getTimeSeconds() / 60 / 60 / 24 / 7;
            return e && (t %= 52), Math.floor(t)
        },
        removeLeadingZeros: function(i, s) {
            var n = 0,
                a = [];
            return o.each(s, function(e, t) {
                e < i ? n += parseInt(s[e], 10) : a.push(s[e])
            }), 0 === n ? a : s
        },
        addSeconds: function(e) {
            this.time instanceof Date ? this.time.setSeconds(this.time.getSeconds() + e) : this.time += e
        },
        addSecond: function() {
            this.addSeconds(1)
        },
        subSeconds: function(e) {
            this.time instanceof Date ? this.time.setSeconds(this.time.getSeconds() - e) : this.time -= e
        },
        subSecond: function() {
            this.subSeconds(1)
        },
        toString: function() {
            return this.getTimeSeconds().toString()
        }
    })
}(jQuery), ! function() {
    "use strict";
    FlipClock.Timer = FlipClock.Base.extend({
        callbacks: {
            destroy: !1,
            create: !1,
            init: !1,
            interval: !1,
            start: !1,
            stop: !1,
            reset: !1
        },
        count: 0,
        factory: !1,
        interval: 1e3,
        animationRate: 1e3,
        constructor: function(e, t) {
            this.base(t), this.factory = e, this.callback(this.callbacks.init), this.callback(this.callbacks.create)
        },
        getElapsed: function() {
            return this.count * this.interval
        },
        getElapsedTime: function() {
            return new Date(this.time + this.getElapsed())
        },
        reset: function(e) {
            clearInterval(this.timer), this.count = 0, this._setInterval(e), this.callback(this.callbacks.reset)
        },
        start: function(e) {
            this.factory.running = !0, this._createTimer(e), this.callback(this.callbacks.start)
        },
        stop: function(e) {
            this.factory.running = !1, this._clearInterval(e), this.callback(this.callbacks.stop), this.callback(e)
        },
        _clearInterval: function() {
            clearInterval(this.timer)
        },
        _createTimer: function(e) {
            this._setInterval(e)
        },
        _destroyTimer: function(e) {
            this._clearInterval(), this.timer = !1, this.callback(e), this.callback(this.callbacks.destroy)
        },
        _interval: function(e) {
            this.callback(this.callbacks.interval), this.callback(e), this.count++
        },
        _setInterval: function(e) {
            var t = this;
            t._interval(e), t.timer = setInterval(function() {
                t._interval(e)
            }, this.interval)
        }
    })
}(jQuery), ! function(s) {
    FlipClock.TwentyFourHourClockFace = FlipClock.Face.extend({
        constructor: function(e, t) {
            this.base(e, t)
        },
        build: function(e) {
            var i = this,
                t = this.factory.$el.find("ul");
            this.factory.time.time || (this.factory.original = new Date, this.factory.time = new FlipClock.Time(this.factory, this.factory.original)), (e = e || this.factory.time.getMilitaryTime(!1, this.showSeconds)).length > t.length && s.each(e, function(e, t) {
                i.createList(t)
            }), this.createDivider(), this.createDivider(), s(this.dividers[0]).insertBefore(this.lists[this.lists.length - 2].$el), s(this.dividers[1]).insertBefore(this.lists[this.lists.length - 4].$el), this.base()
        },
        flip: function(e, t) {
            this.autoIncrement(), e = e || this.factory.time.getMilitaryTime(!1, this.showSeconds), this.base(e, t)
        }
    })
}(jQuery), ! function(s) {
    FlipClock.CounterFace = FlipClock.Face.extend({
        shouldAutoIncrement: !1,
        constructor: function(t, e) {
            t.autoStart = !!(e = "object" != typeof e ? {} : e).autoStart, e.autoStart && (this.shouldAutoIncrement = !0), t.increment = function() {
                t.countdown = !1, t.setTime(t.getTime().getTimeSeconds() + 1)
            }, t.decrement = function() {
                t.countdown = !0;
                var e = t.getTime().getTimeSeconds();
                0 < e && t.setTime(e - 1)
            }, t.setValue = function(e) {
                t.setTime(e)
            }, t.setCounter = function(e) {
                t.setTime(e)
            }, this.base(t, e)
        },
        build: function() {
            var i = this,
                e = this.factory.$el.find("ul"),
                t = this.factory.getTime().digitize([this.factory.getTime().time]);
            t.length > e.length && s.each(t, function(e, t) {
                i.createList(t).select(t)
            }), s.each(this.lists, function(e, t) {
                t.play()
            }), this.base()
        },
        flip: function(e, t) {
            this.shouldAutoIncrement && this.autoIncrement(), e = e || this.factory.getTime().digitize([this.factory.getTime().time]), this.base(e, t)
        },
        reset: function() {
            this.factory.time = new FlipClock.Time(this.factory, this.factory.original ? Math.round(this.factory.original) : 0), this.flip()
        }
    })
}(jQuery), ! function(n) {
    FlipClock.DailyCounterFace = FlipClock.Face.extend({
        showSeconds: !0,
        constructor: function(e, t) {
            this.base(e, t)
        },
        build: function(e) {
            var i = this,
                t = this.factory.$el.find("ul"),
                s = 0;
            (e = e || this.factory.time.getDayCounter(this.showSeconds)).length > t.length && n.each(e, function(e, t) {
                i.createList(t)
            }), this.showSeconds ? n(this.createDivider("SECONDS")).insertBefore(this.lists[this.lists.length - 2].$el) : s = 2, n(this.createDivider("MINUTES")).insertBefore(this.lists[this.lists.length - 4 + s].$el), n(this.createDivider("HOURS")).insertBefore(this.lists[this.lists.length - 6 + s].$el), n(this.createDivider("DAYS", !0)).insertBefore(this.lists[0].$el), this.base()
        },
        flip: function(e, t) {
            e = e || this.factory.time.getDayCounter(this.showSeconds), this.autoIncrement(), this.base(e, t)
        }
    })
}(jQuery), ! function(n) {
    FlipClock.HourlyCounterFace = FlipClock.Face.extend({
        constructor: function(e, t) {
            this.base(e, t)
        },
        build: function(e, t) {
            var i = this,
                s = this.factory.$el.find("ul");
            (t = t || this.factory.time.getHourCounter()).length > s.length && n.each(t, function(e, t) {
                i.createList(t)
            }), n(this.createDivider("SECONDS")).insertBefore(this.lists[this.lists.length - 2].$el), n(this.createDivider("MINUTES")).insertBefore(this.lists[this.lists.length - 4].$el), e || n(this.createDivider("HOURS", !0)).insertBefore(this.lists[0].$el), this.base()
        },
        flip: function(e, t) {
            e = e || this.factory.time.getHourCounter(), this.autoIncrement(), this.base(e, t)
        },
        appendDigitToClock: function(e) {
            this.base(e), this.dividers[0].insertAfter(this.dividers[0].next())
        }
    })
}(jQuery), jQuery, FlipClock.MinuteCounterFace = FlipClock.HourlyCounterFace.extend({
    clearExcessDigits: !1,
    constructor: function(e, t) {
        this.base(e, t)
    },
    build: function() {
        this.base(!0, this.factory.time.getMinuteCounter())
    },
    flip: function(e, t) {
        e = e || this.factory.time.getMinuteCounter(), this.base(e, t)
    }
}), ! function(t) {
    FlipClock.TwelveHourClockFace = FlipClock.TwentyFourHourClockFace.extend({
        meridium: !1,
        meridiumText: "AM",
        build: function() {
            var e = this.factory.time.getTime(!1, this.showSeconds);
            this.base(e), this.meridiumText = this.getMeridium(), this.meridium = t(['<ul class="flip-clock-meridium">', "<li>", '<a href="#">' + this.meridiumText + "</a>", "</li>", "</ul>"].join("")), this.meridium.insertAfter(this.lists[this.lists.length - 1].$el)
        },
        flip: function(e, t) {
            this.meridiumText != this.getMeridium() && (this.meridiumText = this.getMeridium(), this.meridium.find("a").html(this.meridiumText)), this.base(this.factory.time.getTime(!1, this.showSeconds), t)
        },
        getMeridium: function() {
            return 12 <= (new Date).getHours() ? "PM" : "AM"
        },
        isPM: function() {
            return "PM" == this.getMeridium()
        },
        isAM: function() {
            return "AM" == this.getMeridium()
        }
    })
}(jQuery), jQuery, FlipClock.Lang.Arabic = {
    years: "Ã˜Â³Ã™â€ Ã™Ë†Ã˜Â§Ã˜Âª",
    months: "Ã˜Â´Ã™â€¡Ã™Ë†Ã˜Â±",
    days: "Ã˜Â£Ã™Å Ã˜Â§Ã™â€¦",
    hours: "Ã˜Â³Ã˜Â§Ã˜Â¹Ã˜Â§Ã˜Âª",
    minutes: "Ã˜Â¯Ã™â€šÃ˜Â§Ã˜Â¦Ã™â€š",
    seconds: "Ã˜Â«Ã™Ë†Ã˜Â§Ã™â€ Ã™Å "
}, FlipClock.Lang.ar = FlipClock.Lang.Arabic, FlipClock.Lang["ar-ar"] = FlipClock.Lang.Arabic, FlipClock.Lang.arabic = FlipClock.Lang.Arabic, jQuery, FlipClock.Lang.Danish = {
    years: "Ãƒâ€¦r",
    months: "MÃƒÂ¥neder",
    days: "Dage",
    hours: "Timer",
    minutes: "Minutter",
    seconds: "Sekunder"
}, FlipClock.Lang.da = FlipClock.Lang.Danish, FlipClock.Lang["da-dk"] = FlipClock.Lang.Danish, FlipClock.Lang.danish = FlipClock.Lang.Danish, jQuery, FlipClock.Lang.German = {
    years: "Jahre",
    months: "Monate",
    days: "Tage",
    hours: "Stunden",
    minutes: "Minuten",
    seconds: "Sekunden"
}, FlipClock.Lang.de = FlipClock.Lang.German, FlipClock.Lang["de-de"] = FlipClock.Lang.German, FlipClock.Lang.german = FlipClock.Lang.German, jQuery, FlipClock.Lang.English = {
    years: "YEARS",
    months: "MONTHS",
    days: "DAYS",
    hours: "HOURS",
    minutes: "MINUTES",
    seconds: "SECONDS"
}, FlipClock.Lang.en = FlipClock.Lang.English, FlipClock.Lang["en-us"] = FlipClock.Lang.English, FlipClock.Lang.english = FlipClock.Lang.English, jQuery, FlipClock.Lang.Spanish = {
    years: "A&#241;os",
    months: "Meses",
    days: "D&#205;as",
    hours: "Horas",
    minutes: "Minutos",
    seconds: "Segundo"
}, FlipClock.Lang.es = FlipClock.Lang.Spanish, FlipClock.Lang["es-es"] = FlipClock.Lang.Spanish, FlipClock.Lang.spanish = FlipClock.Lang.Spanish, jQuery, FlipClock.Lang.Finnish = {
    years: "Vuotta",
    months: "Kuukautta",
    days: "PÃƒÂ¤ivÃƒÂ¤ÃƒÂ¤",
    hours: "Tuntia",
    minutes: "Minuuttia",
    seconds: "Sekuntia"
}, FlipClock.Lang.fi = FlipClock.Lang.Finnish, FlipClock.Lang["fi-fi"] = FlipClock.Lang.Finnish, FlipClock.Lang.finnish = FlipClock.Lang.Finnish, jQuery, FlipClock.Lang.French = {
    years: "Ans",
    months: "Mois",
    days: "Jours",
    hours: "Heures",
    minutes: "Minutes",
    seconds: "Secondes"
}, FlipClock.Lang.fr = FlipClock.Lang.French, FlipClock.Lang["fr-ca"] = FlipClock.Lang.French, FlipClock.Lang.french = FlipClock.Lang.French, jQuery, FlipClock.Lang.Italian = {
    years: "Anni",
    months: "Mesi",
    days: "Giorni",
    hours: "Ore",
    minutes: "Minuti",
    seconds: "Secondi"
}, FlipClock.Lang.it = FlipClock.Lang.Italian, FlipClock.Lang["it-it"] = FlipClock.Lang.Italian, FlipClock.Lang.italian = FlipClock.Lang.Italian, jQuery, FlipClock.Lang.Latvian = {
    years: "Gadi",
    months: "MÃ„â€œneÃ…Â¡i",
    days: "Dienas",
    hours: "Stundas",
    minutes: "MinÃ…Â«tes",
    seconds: "Sekundes"
}, FlipClock.Lang.lv = FlipClock.Lang.Latvian, FlipClock.Lang["lv-lv"] = FlipClock.Lang.Latvian, FlipClock.Lang.latvian = FlipClock.Lang.Latvian, jQuery, FlipClock.Lang.Dutch = {
    years: "Jaren",
    months: "Maanden",
    days: "Dagen",
    hours: "Uren",
    minutes: "Minuten",
    seconds: "Seconden"
}, FlipClock.Lang.nl = FlipClock.Lang.Dutch, FlipClock.Lang["nl-be"] = FlipClock.Lang.Dutch, FlipClock.Lang.dutch = FlipClock.Lang.Dutch, jQuery, FlipClock.Lang.Norwegian = {
    years: "Ãƒâ€¦r",
    months: "MÃƒÂ¥neder",
    days: "Dager",
    hours: "Timer",
    minutes: "Minutter",
    seconds: "Sekunder"
}, FlipClock.Lang.no = FlipClock.Lang.Norwegian, FlipClock.Lang.nb = FlipClock.Lang.Norwegian, FlipClock.Lang["no-nb"] = FlipClock.Lang.Norwegian, FlipClock.Lang.norwegian = FlipClock.Lang.Norwegian, jQuery, FlipClock.Lang.Portuguese = {
    years: "Anos",
    months: "Meses",
    days: "Dias",
    hours: "Horas",
    minutes: "Minutos",
    seconds: "Segundos"
}, FlipClock.Lang.pt = FlipClock.Lang.Portuguese, FlipClock.Lang["pt-br"] = FlipClock.Lang.Portuguese, FlipClock.Lang.portuguese = FlipClock.Lang.Portuguese, jQuery, FlipClock.Lang.Russian = {
    years: "ÃÂ»ÃÂµÃ‘â€š",
    months: "ÃÂ¼ÃÂµÃ‘ÂÃ‘ÂÃ‘â€ ÃÂµÃÂ²",
    days: "ÃÂ´ÃÂ½ÃÂµÃÂ¹",
    hours: "Ã‘â€¡ÃÂ°Ã‘ÂÃÂ¾ÃÂ²",
    minutes: "ÃÂ¼ÃÂ¸ÃÂ½Ã‘Æ’Ã‘â€š",
    seconds: "Ã‘ÂÃÂµÃÂºÃ‘Æ’ÃÂ½ÃÂ´"
}, FlipClock.Lang.ru = FlipClock.Lang.Russian, FlipClock.Lang["ru-ru"] = FlipClock.Lang.Russian, FlipClock.Lang.russian = FlipClock.Lang.Russian, jQuery, FlipClock.Lang.Swedish = {
    years: "Ãƒâ€¦r",
    months: "MÃƒÂ¥nader",
    days: "Dagar",
    hours: "Timmar",
    minutes: "Minuter",
    seconds: "Sekunder"
}, FlipClock.Lang.sv = FlipClock.Lang.Swedish, FlipClock.Lang["sv-se"] = FlipClock.Lang.Swedish, FlipClock.Lang.swedish = FlipClock.Lang.Swedish, jQuery, FlipClock.Lang.Chinese = {
    years: "Ã¥Â¹Â´",
    months: "Ã¦Å“Ë†",
    days: "Ã¦â€”Â¥",
    hours: "Ã¦â€”Â¶",
    minutes: "Ã¥Ë†â€ ",
    seconds: "Ã§Â§â€™"
}, FlipClock.Lang.zh = FlipClock.Lang.Chinese, FlipClock.Lang["zh-cn"] = FlipClock.Lang.Chinese, FlipClock.Lang.chinese = FlipClock.Lang.Chinese, $(document).ready(function() {
    $(".earnings a.referralsView").click(function() {
        0 === $("#referralsTable tbody tr").length && getReferralStatus(0)
    }), $(document).on("change", ".js-referral-status", function() {
        getReferralStatus($(this).val())
    })
}), ! function() {
    function $(e, t) {
        for (var i in e = e || {}, t) e[i] = t[i];
        return e
    }

    function M() {
        function n(e, t) {
            var i, s;
            for (s in "object" != typeof e && (e = {}), t) t.hasOwnProperty(s) && (i = t[s], e[s] = i && "object" == typeof i && "[object Array]" !== Object.prototype.toString.call(i) && "number" != typeof i.nodeType ? n(e[s] || {}, i) : t[s]);
            return e
        }
        for (var e = arguments.length, t = {}, i = 0; i < e; i++) t = n(t, arguments[i]);
        return t
    }

    function _(e, t) {
        return parseInt(e, t || 10)
    }

    function g(e) {
        return "string" == typeof e
    }

    function c(e) {
        return "object" == typeof e
    }

    function v(e) {
        return "[object Array]" === Object.prototype.toString.call(e)
    }

    function y(e) {
        return "number" == typeof e
    }

    function z(e) {
        return P.log(e) / P.LN10
    }

    function W(e) {
        return P.pow(10, e)
    }

    function h(e, t) {
        for (var i = e.length; i--;)
            if (e[i] === t) {
                e.splice(i, 1);
                break
            }
    }

    function D(e) {
        return e !== I && null !== e
    }

    function C(e, t, i) {
        var s, n;
        if (g(t)) D(i) ? e.setAttribute(t, i) : e && e.getAttribute && (n = e.getAttribute(t));
        else if (D(t) && c(t))
            for (s in t) e.setAttribute(s, t[s]);
        return n
    }

    function p(e) {
        return v(e) ? e : [e]
    }

    function L() {
        for (var e, t = arguments, i = t.length, s = 0; s < i; s++)
            if (null != (e = t[s])) return e
    }

    function k(e, t) {
        Re && t && t.opacity !== I && (t.filter = "alpha(opacity=" + 100 * t.opacity + ")"), $(e.style, t)
    }

    function A(e, t, i, s, n) {
        return e = x.createElement(e), t && $(e, t), n && k(e, {
            padding: 0,
            border: q,
            margin: 0
        }), i && k(e, i), s && s.appendChild(e), e
    }

    function s(e, t) {
        function i() {}
        return $(i.prototype = new e, t), i
    }

    function Y(e, t, i, s) {
        var n = N.lang,
            e = +e || 0,
            a = -1 === t ? (e.toString().split(".")[1] || "").length : isNaN(t = O(t)) ? 2 : t,
            t = void 0 === i ? n.decimalPoint : i,
            s = void 0 === s ? n.thousandsSep : s,
            n = e < 0 ? "-" : "",
            o = 3 < (i = String(_(e = O(e).toFixed(a)))).length ? i.length % 3 : 0;
        return n + (o ? i.substr(0, o) + s : "") + i.substr(o).replace(/(\d{3})(?=\d)/g, "$1" + s) + (a ? t + O(e - i).toFixed(a).slice(2) : "")
    }

    function G(e, t) {
        return Array((t || 2) + 1 - String(e).length).join(0) + e
    }

    function n(e, t, i) {
        var s = e[t];
        e[t] = function() {
            var e = Array.prototype.slice.call(arguments);
            return e.unshift(s), i.apply(this, e)
        }
    }

    function X(e, t) {
        for (var i, s, n, a, o, r = "{", l = !1, d = []; - 1 !== (r = e.indexOf(r));) {
            if (i = e.slice(0, r), l) {
                for (o = (n = (s = i.split(":")).shift().split(".")).length, i = t, a = 0; a < o; a++) i = i[n[a]];
                s.length && (s = s.join(":"), n = /\.([0-9])/, a = N.lang, o = void 0, i = /f$/.test(s) ? Y(i, o = (o = s.match(n)) ? o[1] : -1, a.decimalPoint, -1 < s.indexOf(",") ? a.thousandsSep : "") : we(s, i))
            }
            d.push(i), e = e.slice(r + 1), r = (l = !l) ? "}" : "{"
        }
        return d.push(e), d.join("")
    }

    function J(e) {
        return P.pow(10, T(P.log(e) / P.LN10))
    }

    function K(e, t, i, s) {
        var n = e / (i = L(i, 1));
        for (t || (t = [1, 2, 2.5, 5, 10], s && !1 === s.allowDecimals && (1 === i ? t = [1, 2, 5, 10] : i <= .1 && (t = [1 / i]))), s = 0; s < t.length && (e = t[s], !(n <= (t[s] + (t[s + 1] || t[s])) / 2)); s++);
        return e *= i
    }

    function Q(e, t) {
        for (var i = t || [
                [Ze, [1, 2, 5, 10, 20, 25, 50, 100, 200, 500]],
                [et, [1, 2, 5, 10, 15, 30]],
                [tt, [1, 2, 5, 10, 15, 30]],
                [it, [1, 2, 3, 4, 6, 8, 12]],
                [st, [1, 2]],
                [nt, [1, 2]],
                [at, [1, 2, 3, 4, 6]],
                [ot, null]
            ], s = i[i.length - 1], n = f[s[0]], a = s[1], o = 0; o < i.length && (s = i[o], n = f[s[0]], a = s[1], !(i[o + 1] && e <= (n * a[a.length - 1] + f[i[o + 1][0]]) / 2)); o++);
        return {
            unitRange: n,
            count: i = K(e / n, a = n === f.year && e < 5 * n ? [1, 2, 5] : a, s[0] === ot ? J(e / n) : 1),
            unitName: s[0]
        }
    }

    function Z(e, t, i, s) {
        var n = [],
            a = {},
            o = N.global.useUTC,
            r = new Date(t),
            l = e.unitRange,
            d = e.count;
        if (D(t)) {
            l >= f[et] && (r.setMilliseconds(0), r.setSeconds(l >= f[tt] ? 0 : d * T(r.getSeconds() / d))), l >= f[tt] && r[$e](l >= f.hour ? 0 : d * T(r[xe]() / d)), l >= f.hour && r[Me](l >= f.day ? 0 : d * T(r[Se]() / d)), l >= f.day && r[De](l >= f[at] ? 1 : d * T(r[Ee]() / d)), l >= f[at] && (r[Ie](l >= f.year ? 0 : d * T(r[Ae]() / d)), c = r[Pe]()), l >= f.year && r[Le](c -= c % d), l === f.week && r[De](r[Ee]() - r[Te]() + L(s, 1)), t = 1;
            for (var c = r[Pe](), s = r.getTime(), u = r[Ae](), h = r[Ee](), p = o ? 0 : (864e5 + 6e4 * r.getTimezoneOffset()) % 864e5; s < i;) n.push(s), l === f.year ? s = ke(c + t * d, 0) : l === f[at] ? s = ke(c, u + t * d) : o || l !== f.day && l !== f.week ? s += l * d : s = ke(c, u, h + t * d * (l === f.day ? 1 : 7)), t++;
            n.push(s), R(gt(n, function(e) {
                return l <= f.hour && e % f.day == p
            }), function(e) {
                a[e] = st
            })
        }
        return n.info = $(e, {
            higherRanks: a,
            totalRange: l * d
        }), n
    }

    function ee() {
        this.symbol = this.color = 0
    }

    function te(e, i) {
        for (var s, t = e.length, n = 0; n < t; n++) e[n].ss_i = n;
        for (e.sort(function(e, t) {
                return 0 === (s = i(e, t)) ? e.ss_i - t.ss_i : s
            }), n = 0; n < t; n++) delete e[n].ss_i
    }

    function ie(e) {
        for (var t = e.length, i = e[0]; t--;) e[t] < i && (i = e[t]);
        return i
    }

    function se(e) {
        for (var t = e.length, i = e[0]; t--;) e[t] > i && (i = e[t]);
        return i
    }

    function a(e, t) {
        for (var i in e) e[i] && e[i] !== t && e[i].destroy && e[i].destroy(), delete e[i]
    }

    function o(e) {
        be = be || A(Ke), e && be.appendChild(e), be.innerHTML = ""
    }

    function ne(e, t) {
        e = "Highcharts error #" + e + ": www.highcharts.com/errors/" + e;
        if (t) throw e;
        l.console && console.log(e)
    }

    function ae(e) {
        return parseFloat(e.toPrecision(14))
    }

    function oe(e, t) {
        _e = L(e, t.animation)
    }

    function re() {
        var e = N.global.useUTC,
            t = e ? "getUTC" : "get",
            i = e ? "setUTC" : "set";
        ke = e ? Date.UTC : function(e, t, i, s, n, a) {
            return new Date(e, t, L(i, 1), L(s, 0), L(n, 0), L(a, 0)).getTime()
        }, xe = t + "Minutes", Se = t + "Hours", Te = t + "Day", Ee = t + "Date", Ae = t + "Month", Pe = t + "FullYear", $e = i + "Minutes", Me = i + "Hours", De = i + "Date", Ie = i + "Month", Le = i + "FullYear"
    }

    function le() {}

    function de(e, t, i, s) {
        this.axis = e, this.pos = t, this.type = i || "", this.isNew = !0, i || s || this.addLabel()
    }

    function ce(e, t) {
        this.axis = e, t && (this.options = t, this.id = t.id)
    }

    function ue(e, t, i, s, n, a) {
        var o = e.chart.inverted;
        this.axis = e, this.isNegative = i, this.options = t, this.x = s, this.total = null, this.points = {}, this.stack = n, this.percent = "percent" === a, this.alignOptions = {
            align: t.align || (o ? i ? "left" : "right" : "center"),
            verticalAlign: t.verticalAlign || (o ? "middle" : i ? "bottom" : "top"),
            y: L(t.y, o ? 4 : i ? 14 : -6),
            x: L(t.x, o ? i ? -6 : 6 : 0)
        }, this.textAlign = t.textAlign || (o ? i ? "right" : "left" : "center")
    }

    function he() {
        this.init.apply(this, arguments)
    }

    function pe() {
        this.init.apply(this, arguments)
    }

    function fe(e, t) {
        this.init(e, t)
    }

    function me(e, t) {
        this.init(e, t)
    }

    function ge() {
        this.init.apply(this, arguments)
    }

    function ve() {}
    var I, ye, be, we, _e, Ce, f, ke, xe, Se, Te, Ee, Ae, Pe, $e, Me, De, Ie, Le, d, x = document,
        l = window,
        P = Math,
        j = P.round,
        T = P.floor,
        je = P.ceil,
        F = P.max,
        w = P.min,
        O = P.abs,
        b = P.cos,
        S = P.sin,
        Fe = P.PI,
        Oe = 2 * Fe / 360,
        qe = navigator.userAgent,
        Ne = l.opera,
        Re = /msie/i.test(qe) && !Ne,
        Be = 8 === x.documentMode,
        Ue = /AppleWebKit/.test(qe),
        Ve = /Firefox/.test(qe),
        He = /(Mobile|Android|Windows Phone)/.test(qe),
        ze = "http://www.w3.org/2000/svg",
        E = !!x.createElementNS && !!x.createElementNS(ze, "svg").createSVGRect,
        We = Ve && parseInt(qe.split("Firefox/")[1], 10) < 4,
        r = !E && !Re && !!x.createElement("canvas").getContext,
        Ye = x.documentElement.ontouchstart !== I,
        Ge = {},
        Xe = 0,
        Je = [],
        Ke = "div",
        q = "none",
        Qe = "rgba(192,192,192," + (E ? 1e-4 : .002) + ")",
        Ze = "millisecond",
        et = "second",
        tt = "minute",
        it = "hour",
        st = "day",
        nt = "week",
        at = "month",
        ot = "year",
        rt = "stroke-width",
        u = {};
    l.Highcharts = l.Highcharts ? ne(16, !0) : {}, we = function(e, t, i) {
        if (!D(t) || isNaN(t)) return "Invalid date";
        var s, e = L(e, "%Y-%m-%d %H:%M:%S"),
            n = new Date(t),
            a = n[Se](),
            o = n[Te](),
            r = n[Ee](),
            l = n[Ae](),
            d = n[Pe](),
            c = N.lang,
            u = c.weekdays;
        for (s in n = $({
                a: u[o].substr(0, 3),
                A: u[o],
                d: G(r),
                e: r,
                b: c.shortMonths[l],
                B: c.months[l],
                m: G(l + 1),
                y: d.toString().substr(2, 2),
                Y: d,
                H: G(a),
                I: G(a % 12 || 12),
                l: a % 12 || 12,
                M: G(n[xe]()),
                p: a < 12 ? "AM" : "PM",
                P: a < 12 ? "am" : "pm",
                S: G(n.getSeconds()),
                L: G(j(t % 1e3), 3)
            }, Highcharts.dateFormats))
            for (; - 1 !== e.indexOf("%" + s);) e = e.replace("%" + s, "function" == typeof n[s] ? n[s](t) : n[s]);
        return i ? e.substr(0, 1).toUpperCase() + e.substr(1) : e
    }, ee.prototype = {
        wrapColor: function(e) {
            this.color >= e && (this.color = 0)
        },
        wrapSymbol: function(e) {
            this.symbol >= e && (this.symbol = 0)
        }
    }, f = function() {
        for (var e = 0, t = arguments, i = t.length, s = {}; e < i; e++) s[t[e++]] = t[e];
        return s
    }(Ze, 1, et, 1e3, tt, 6e4, it, 36e5, st, 864e5, nt, 6048e5, at, 26784e5, ot, 31556952e3), Ce = {
        init: function(e, t, i) {
            function s(e) {
                for (n = e.length; n--;) "M" === e[n] && e.splice(n + 1, 0, e[n + 1], e[n + 2], e[n + 1], e[n + 2])
            }
            var n, a, o, t = t || "",
                r = e.shift,
                l = -1 < t.indexOf("C"),
                d = l ? 7 : 3,
                t = t.split(" "),
                i = [].concat(i);
            if (l && (s(t), s(i)), e.isArea && (a = t.splice(t.length - 6, 6), o = i.splice(i.length - 6, 6)), r <= i.length / d && t.length === i.length)
                for (; r--;) i = [].concat(i).splice(0, d).concat(i);
            if (e.shift = 0, t.length)
                for (e = i.length; t.length < e;) r = [].concat(t).splice(t.length - d, d), l && (r[d - 6] = r[d - 2], r[d - 5] = r[d - 1]), t = t.concat(r);
            return a && (t = t.concat(a), i = i.concat(o)), [t, i]
        },
        step: function(e, t, i, s) {
            var n = [],
                a = e.length;
            if (1 === i) n = s;
            else if (a === t.length && i < 1)
                for (; a--;) s = parseFloat(e[a]), n[a] = isNaN(s) ? e[a] : i * parseFloat(t[a] - s) + s;
            else n = t;
            return n
        }
    }, d = l.jQuery, l.HighchartsAdapter = l.HighchartsAdapter || d && {
        init: function(s) {
            var a = d.fx,
                o = a.step,
                r = d.Tween,
                l = r && r.propHooks,
                e = d.cssHooks.opacity;
            d.extend(d.easing, {
                easeOutQuad: function(e, t, i, s, n) {
                    return -s * (t /= n) * (t - 2) + i
                }
            }), d.each(["cur", "_default", "width", "height", "opacity"], function(t, i) {
                var s, n, e = o;
                "cur" === i ? e = a.prototype : "_default" === i && r && (e = l[i], i = "set"), (s = e[i]) && (e[i] = function(e) {
                    if ("align" !== (e = t ? e : this).prop) return (n = e.elem).attr ? n.attr(e.prop, "cur" === i ? I : e.now) : s.apply(this, arguments)
                })
            }), n(e, "get", function(e, t, i) {
                return t.attr ? t.opacity || 0 : e.call(this, t, i)
            }), e = function(e) {
                var t, i = e.elem;
                e.started || (t = s.init(i, i.d, i.toD), e.start = t[0], e.end = t[1], e.started = !0), i.attr("d", s.step(e.start, e.end, e.pos, i.toD))
            }, r ? l.d = {
                set: e
            } : o.d = e, this.each = Array.prototype.forEach ? function(e, t) {
                return Array.prototype.forEach.call(e, t)
            } : function(e, t) {
                for (var i = 0, s = e.length; i < s; i++)
                    if (!1 === t.call(e[i], e[i], i, e)) return i
            }, d.fn.highcharts = function() {
                var e, t, i = "Chart",
                    s = arguments;
                return g(s[0]) && (i = s[0], s = Array.prototype.slice.call(s, 1)), (e = s[0]) !== I && (e.chart = e.chart || {}, e.chart.renderTo = this[0], new Highcharts[i](e, s[1]), t = this), t = e === I ? Je[C(this[0], "data-highcharts-chart")] : t
            }
        },
        getScript: d.getScript,
        inArray: d.inArray,
        adapterRun: function(e, t) {
            return d(e)[t]()
        },
        grep: d.grep,
        map: function(e, t) {
            for (var i = [], s = 0, n = e.length; s < n; s++) i[s] = t.call(e[s], e[s], s, e);
            return i
        },
        offset: function(e) {
            return d(e).offset()
        },
        addEvent: function(e, t, i) {
            d(e).bind(t, i)
        },
        removeEvent: function(e, t, i) {
            var s = x.removeEventListener ? "removeEventListener" : "detachEvent";
            x[s] && e && !e[s] && (e[s] = function() {}), d(e).unbind(t, i)
        },
        fireEvent: function(e, t, i, s) {
            var n, a = d.Event(t),
                o = "detached" + t;
            !Re && i && (delete i.layerX, delete i.layerY), $(a, i), e[t] && (e[o] = e[t], e[t] = null), d.each(["preventDefault", "stopPropagation"], function(e, t) {
                var i = a[t];
                a[t] = function() {
                    try {
                        i.call(a)
                    } catch (e) {
                        "preventDefault" === t && (n = !0)
                    }
                }
            }), d(e).trigger(a), e[o] && (e[t] = e[o], e[o] = null), !s || a.isDefaultPrevented() || n || s(a)
        },
        washMouseEvent: function(e) {
            var t = e.originalEvent || e;
            return t.pageX === I && (t.pageX = e.pageX, t.pageY = e.pageY), t
        },
        animate: function(e, t, i) {
            var s = d(e);
            e.style || (e.style = {}), t.d && (e.toD = t.d, t.d = 1), s.stop(), t.opacity !== I && e.attr && (t.opacity += "px"), s.animate(t, i)
        },
        stop: function(e) {
            d(e).stop()
        }
    };

    function lt(e) {
        var t, n, i, a = [];
        return (i = e) && i.stops ? n = yt(i.stops, function(e) {
            return lt(e[1])
        }) : (t = /rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(i)) ? a = [_(t[1]), _(t[2]), _(t[3]), parseFloat(t[4], 10)] : (t = /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i)) ? a = [_(t[1], 16), _(t[2], 16), _(t[3], 16), 1] : (t = /rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(i)) && (a = [_(t[1]), _(t[2]), _(t[3]), 1]), {
            get: function(i) {
                var s;
                return n ? ((s = M(e)).stops = [].concat(s.stops), R(n, function(e, t) {
                    s.stops[t] = [s.stops[t][0], e.get(i)]
                })) : s = a && !isNaN(a[0]) ? "rgb" === i ? "rgb(" + a[0] + "," + a[1] + "," + a[2] + ")" : "a" === i ? a[3] : "rgba(" + a.join(",") + ")" : e, s
            },
            brighten: function(t) {
                if (n) R(n, function(e) {
                    e.brighten(t)
                });
                else if (y(t) && 0 !== t)
                    for (var e = 0; e < 3; e++) a[e] += _(255 * t), a[e] < 0 && (a[e] = 0), 255 < a[e] && (a[e] = 255);
                return this
            },
            rgba: a,
            setOpacity: function(e) {
                return a[3] = e, this
            }
        }
    }

    function dt() {
        this.init.apply(this, arguments)
    }
    var N, e, ct, ut, ht, t = (i = l.HighchartsAdapter) || {},
        pt = (i && i.init.call(i, Ce), t.adapterRun),
        ft = t.getScript,
        mt = t.inArray,
        R = t.each,
        gt = t.grep,
        vt = t.offset,
        yt = t.map,
        B = t.addEvent,
        U = t.removeEvent,
        V = t.fireEvent,
        bt = t.washMouseEvent,
        wt = t.animate,
        _t = t.stop,
        t = {
            enabled: !0,
            x: 0,
            y: 15,
            style: {
                color: "#666",
                cursor: "default",
                fontSize: "11px",
                lineHeight: "14px"
            }
        },
        m = (N = {
            colors: "#2f7ed8,#0d233a,#8bbc21,#910000,#1aadce,#492970,#f28f43,#77a1e5,#c42525,#a6c96a".split(","),
            symbols: ["circle", "diamond", "square", "triangle", "triangle-down"],
            lang: {
                loading: "Loading...",
                months: "January,February,March,April,May,June,July,August,September,October,November,December".split(","),
                shortMonths: "Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),
                weekdays: "Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),
                decimalPoint: ".",
                numericSymbols: "k,M,G,T,P,E".split(","),
                resetZoom: "Reset zoom",
                resetZoomTitle: "Reset zoom level 1:1",
                thousandsSep: ","
            },
            global: {
                useUTC: !0,
                canvasToolsURL: "http://code.highcharts.com/3.0.6/modules/canvas-tools.js",
                VMLRadialGradientURL: "http://code.highcharts.com/3.0.6/gfx/vml-radial-gradient.png"
            },
            chart: {
                borderColor: "#4572A7",
                borderRadius: 5,
                defaultSeriesType: "line",
                ignoreHiddenSeries: !0,
                spacing: [10, 10, 15, 10],
                style: {
                    fontFamily: '"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',
                    fontSize: "12px"
                },
                backgroundColor: "#FFFFFF",
                plotBorderColor: "#C0C0C0",
                resetZoomButton: {
                    theme: {
                        zIndex: 20
                    },
                    position: {
                        align: "right",
                        x: -10,
                        y: 10
                    }
                }
            },
            title: {
                text: "Chart title",
                align: "center",
                margin: 15,
                style: {
                    color: "#274b6d",
                    fontSize: "16px"
                }
            },
            subtitle: {
                text: "",
                align: "center",
                style: {
                    color: "#4d759e"
                }
            },
            plotOptions: {
                line: {
                    allowPointSelect: !1,
                    showCheckbox: !1,
                    animation: {
                        duration: 1e3
                    },
                    events: {},
                    lineWidth: 2,
                    marker: {
                        enabled: !0,
                        lineWidth: 0,
                        radius: 4,
                        lineColor: "#FFFFFF",
                        states: {
                            hover: {
                                enabled: !0
                            },
                            select: {
                                fillColor: "#FFFFFF",
                                lineColor: "#000000",
                                lineWidth: 2
                            }
                        }
                    },
                    point: {
                        events: {}
                    },
                    dataLabels: M(t, {
                        align: "center",
                        enabled: !1,
                        formatter: function() {
                            return null === this.y ? "" : Y(this.y, -1)
                        },
                        verticalAlign: "bottom",
                        y: 0
                    }),
                    cropThreshold: 300,
                    pointRange: 0,
                    showInLegend: !0,
                    states: {
                        hover: {
                            marker: {}
                        },
                        select: {
                            marker: {}
                        }
                    },
                    stickyTracking: !0
                }
            },
            labels: {
                style: {
                    position: "absolute",
                    color: "#3E576F"
                }
            },
            legend: {
                enabled: !0,
                align: "center",
                layout: "horizontal",
                labelFormatter: function() {
                    return this.name
                },
                borderWidth: 1,
                borderColor: "#909090",
                borderRadius: 5,
                navigation: {
                    activeColor: "#274b6d",
                    inactiveColor: "#CCC"
                },
                shadow: !1,
                itemStyle: {
                    cursor: "pointer",
                    color: "#274b6d",
                    fontSize: "12px"
                },
                itemHoverStyle: {
                    color: "#000"
                },
                itemHiddenStyle: {
                    color: "#CCC"
                },
                itemCheckboxStyle: {
                    position: "absolute",
                    width: "13px",
                    height: "13px"
                },
                symbolWidth: 16,
                symbolPadding: 5,
                verticalAlign: "bottom",
                x: 0,
                y: 0,
                title: {
                    style: {
                        fontWeight: "bold"
                    }
                }
            },
            loading: {
                labelStyle: {
                    fontWeight: "bold",
                    position: "relative",
                    top: "1em"
                },
                style: {
                    position: "absolute",
                    backgroundColor: "white",
                    opacity: .5,
                    textAlign: "center"
                }
            },
            tooltip: {
                enabled: !0,
                animation: E,
                backgroundColor: "rgba(255, 255, 255, .85)",
                borderWidth: 1,
                borderRadius: 3,
                dateTimeLabelFormats: {
                    millisecond: "%A, %b %e, %H:%M:%S.%L",
                    second: "%A, %b %e, %H:%M:%S",
                    minute: "%A, %b %e, %H:%M",
                    hour: "%A, %b %e, %H:%M",
                    day: "%A, %b %e, %Y",
                    week: "Week from %A, %b %e, %Y",
                    month: "%B %Y",
                    year: "%Y"
                },
                headerFormat: '<span style="font-size: 10px">{point.key}</span><br/>',
                pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',
                shadow: !0,
                snap: He ? 25 : 10,
                style: {
                    color: "#333333",
                    cursor: "default",
                    fontSize: "12px",
                    padding: "8px",
                    whiteSpace: "nowrap"
                }
            },
            credits: {
                enabled: !0,
                text: "Highcharts.com",
                href: "http://www.highcharts.com",
                position: {
                    align: "right",
                    x: -10,
                    verticalAlign: "bottom",
                    y: -5
                },
                style: {
                    cursor: "pointer",
                    color: "#909090",
                    fontSize: "9px"
                }
            }
        }).plotOptions,
        i = m.line;
    re(), le.prototype = {
        init: function(e, t) {
            this.element = "span" === t ? A(t) : x.createElementNS(ze, t), this.renderer = e, this.attrSetters = {}
        },
        opacity: 1,
        animate: function(e, t, i) {
            t = L(t, _e, !0), _t(this), t ? (t = M(t), i && (t.complete = i), wt(this, e, t)) : (this.attr(e), i && i())
        },
        attr: function(e, t) {
            var i, s, n, a, o, r, l, d = this.element,
                c = d.nodeName.toLowerCase(),
                u = this.renderer,
                h = this.attrSetters,
                p = this.shadows,
                f = this;
            if (g(e) && D(t) && (i = e, (e = {})[i] = t), g(e)) i = e, "circle" === c ? i = {
                x: "cx",
                y: "cy"
            } [i] || i : "strokeWidth" === i && (i = "stroke-width"), f = C(d, i) || this[i] || 0, "d" !== i && "visibility" !== i && "fill" !== i && (f = parseFloat(f));
            else {
                for (i in e)
                    if (o = !1, s = e[i], n = h[i] && h[i].call(this, s, i), !1 !== n) {
                        if (n !== I && (s = n), "d" === i) s && s.join && (s = s.join(" ")), /(NaN| {2}|^$)/.test(s) && (s = "M 0 0");
                        else if ("x" === i && "text" === c)
                            for (n = 0; n < d.childNodes.length; n++) C(a = d.childNodes[n], "x") === C(d, "x") && C(a, "x", s);
                        else if (!this.rotation || "x" !== i && "y" !== i)
                            if ("fill" === i) s = u.color(s, d, i);
                            else if ("circle" !== c || "x" !== i && "y" !== i)
                            if ("rect" === c && "r" === i) C(d, {
                                rx: s,
                                ry: s
                            }), o = !0;
                            else if ("translateX" === i || "translateY" === i || "rotation" === i || "verticalAlign" === i || "scaleX" === i || "scaleY" === i) o = l = !0;
                        else if ("stroke" === i) s = u.color(s, d, i);
                        else if ("dashstyle" === i) {
                            if (i = "stroke-dasharray", "solid" === (s = s && s.toLowerCase())) s = q;
                            else if (s) {
                                for (n = (s = s.replace("shortdashdotdot", "3,1,1,1,1,1,").replace("shortdashdot", "3,1,1,1").replace("shortdot", "1,1,").replace("shortdash", "3,1,").replace("longdash", "8,3,").replace(/dot/g, "1,3,").replace("dash", "4,3,").replace(/,$/, "").split(",")).length; n--;) s[n] = _(s[n]) * L(e["stroke-width"], this["stroke-width"]);
                                s = s.join(",")
                            }
                        } else "width" === i ? s = _(s) : "align" === i ? (i = "text-anchor", s = {
                            left: "start",
                            center: "middle",
                            right: "end"
                        } [s]) : "title" === i && ((n = d.getElementsByTagName("title")[0]) || (n = x.createElementNS(ze, "title"), d.appendChild(n)), n.textContent = s);
                        else i = {
                            x: "cx",
                            y: "cy"
                        } [i] || i;
                        else l = !0;
                        if ("stroke-width" !== (i = "strokeWidth" === i ? "stroke-width" : i) && "stroke" !== i || (this[i] = s, this.stroke && this["stroke-width"] ? (C(d, "stroke", this.stroke), C(d, "stroke-width", this["stroke-width"]), this.hasStroke = !0) : "stroke-width" === i && 0 === s && this.hasStroke && (d.removeAttribute("stroke"), this.hasStroke = !1), o = !0), this.symbolName && /^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i) && (r || (this.symbolAttr(e), r = !0), o = !0), p && /^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i))
                            for (n = p.length; n--;) C(p[n], i, "height" === i ? F(s - (p[n].cutHeight || 0), 0) : s);
                        ("width" === i || "height" === i) && "rect" === c && s < 0 && (s = 0), this[i] = s, "text" === i ? (s !== this.textStr && delete this.bBox, this.textStr = s, this.added && u.buildText(this)) : o || C(d, i, s)
                    } l && this.updateTransform()
            }
            return f
        },
        addClass: function(e) {
            var t = this.element,
                i = C(t, "class") || "";
            return -1 === i.indexOf(e) && C(t, "class", i + " " + e), this
        },
        symbolAttr: function(t) {
            var i = this;
            R("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","), function(e) {
                i[e] = L(t[e], i[e])
            }), i.attr({
                d: i.renderer.symbols[i.symbolName](i.x, i.y, i.width, i.height, i)
            })
        },
        clip: function(e) {
            return this.attr("clip-path", e ? "url(" + this.renderer.url + "#" + e.id + ")" : q)
        },
        crisp: function(e, t, i, s, n) {
            var a, o = {},
                r = {},
                e = e || this.strokeWidth || this.attr && this.attr("stroke-width") || 0,
                l = j(e) % 2 / 2;
            for (a in r.x = T(t || this.x || 0) + l, r.y = T(i || this.y || 0) + l, r.width = T((s || this.width || 0) - 2 * l), r.height = T((n || this.height || 0) - 2 * l), r.strokeWidth = e, r) this[a] !== r[a] && (this[a] = o[a] = r[a]);
            return o
        },
        css: function(e) {
            function t(e, t) {
                return "-" + t.toLowerCase()
            }
            var i, s = this.element,
                n = e && e.width && "text" === s.nodeName.toLowerCase(),
                a = "";
            if (e && e.color && (e.fill = e.color), this.styles = e = $(this.styles, e), r && n && delete e.width, Re && !E) n && delete e.width, k(this.element, e);
            else {
                for (i in e) a += i.replace(/([A-Z])/g, t) + ":" + e[i] + ";";
                C(s, "style", a)
            }
            return n && this.added && this.renderer.buildText(this), this
        },
        on: function(e, t) {
            var i = this,
                s = i.element;
            return Ye && "click" === e ? (s.ontouchstart = function(e) {
                i.touchEventFired = Date.now(), e.preventDefault(), t.call(s, e)
            }, s.onclick = function(e) {
                (-1 === qe.indexOf("Android") || 1100 < Date.now() - (i.touchEventFired || 0)) && t.call(s, e)
            }) : s["on" + e] = t, this
        },
        setRadialReference: function(e) {
            return this.element.radialReference = e, this
        },
        translate: function(e, t) {
            return this.attr({
                translateX: e,
                translateY: t
            })
        },
        invert: function() {
            return this.inverted = !0, this.updateTransform(), this
        },
        htmlCss: function(e) {
            var t = this.element;
            return (t = e && "SPAN" === t.tagName && e.width) && (delete e.width, this.textWidth = t, this.updateTransform()), this.styles = $(this.styles, e), k(this.element, e), this
        },
        htmlGetBBox: function() {
            var e = this.element,
                t = this.bBox;
            return t || ("text" === e.nodeName && (e.style.position = "absolute"), t = this.bBox = {
                x: e.offsetLeft,
                y: e.offsetTop,
                width: e.offsetWidth,
                height: e.offsetHeight
            }), t
        },
        htmlUpdateTransform: function() {
            var t, i, s, n, e, a, o, r, l, d, c, u, h, p, f, m, g, v, y;
            this.added ? (t = this.renderer, i = this.element, s = this.translateX || 0, n = this.translateY || 0, e = this.x || 0, a = this.y || 0, r = {
                left: 0,
                center: .5,
                right: 1
            } [o = this.textAlign || "left"], l = o && "left" !== o, c = this.shadows, k(i, {
                marginLeft: s,
                marginTop: n
            }), c && R(c, function(e) {
                k(e, {
                    marginLeft: s + 1,
                    marginTop: n + 1
                })
            }), this.inverted && R(i.childNodes, function(e) {
                t.invertChild(e, i)
            }), "SPAN" === i.tagName && (c = this.rotation, h = 1, p = u = 0, m = _(this.textWidth), g = this.xCorr || 0, v = this.yCorr || 0, (y = [c, o, i.innerHTML, this.textWidth].join(",")) !== this.cTT && (D(c) && (h = b(u = c * Oe), p = S(u), this.setSpanRotation(c, p, h)), u = L(this.elemWidth, i.offsetWidth), d = L(this.elemHeight, i.offsetHeight), m < u && /[ \-]/.test(i.textContent || i.innerText) && (k(i, {
                width: m + "px",
                display: "block",
                whiteSpace: "normal"
            }), u = m), g = h < 0 && -u, v = p < 0 && -d, g += p * (m = t.fontMetrics(i.style.fontSize).b) * ((f = h * p < 0) ? 1 - r : r), v -= h * m * (c ? f ? r : 1 - r : 1), l && (g -= u * r * (h < 0 ? -1 : 1), c && (v -= d * r * (p < 0 ? -1 : 1)), k(i, {
                textAlign: o
            })), this.xCorr = g, this.yCorr = v), k(i, {
                left: e + g + "px",
                top: a + v + "px"
            }), Ue && (d = i.offsetHeight), this.cTT = y)) : this.alignOnAdd = !0
        },
        setSpanRotation: function(e) {
            var t = {};
            t[Re ? "-ms-transform" : Ue ? "-webkit-transform" : Ve ? "MozTransform" : Ne ? "-o-transform" : ""] = t.transform = "rotate(" + e + "deg)", k(this.element, t)
        },
        updateTransform: function() {
            var e = this.translateX || 0,
                t = this.translateY || 0,
                i = this.scaleX,
                s = this.scaleY,
                n = this.inverted,
                a = this.rotation;
            n && (e += this.attr("width"), t += this.attr("height")), e = ["translate(" + e + "," + t + ")"], n ? e.push("rotate(90) scale(-1,1)") : a && e.push("rotate(" + a + " " + (this.x || 0) + " " + (this.y || 0) + ")"), (D(i) || D(s)) && e.push("scale(" + L(i, 1) + " " + L(s, 1) + ")"), e.length && C(this.element, "transform", e.join(" "))
        },
        toFront: function() {
            var e = this.element;
            return e.parentNode.appendChild(e), this
        },
        align: function(e, t, i) {
            var s, n, a = {},
                o = this.renderer,
                r = o.alignedObjects;
            return e ? (this.alignOptions = e, this.alignByTranslate = t, i && !g(i) || (this.alignTo = s = i || "renderer", h(r, this), r.push(this), i = null)) : (e = this.alignOptions, t = this.alignByTranslate, s = this.alignTo), i = L(i, o[s], o), s = e.align, o = e.verticalAlign, r = (i.x || 0) + (e.x || 0), n = (i.y || 0) + (e.y || 0), "right" !== s && "center" !== s || (r += (i.width - (e.width || 0)) / {
                right: 1,
                center: 2
            } [s]), a[t ? "translateX" : "x"] = j(r), "bottom" !== o && "middle" !== o || (n += (i.height - (e.height || 0)) / ({
                bottom: 1,
                middle: 2
            } [o] || 1)), a[t ? "translateY" : "y"] = j(n), this[this.placed ? "animate" : "attr"](a), this.placed = !0, this.alignAttr = a, this
        },
        getBBox: function() {
            var e = this.bBox,
                t = this.renderer,
                i = this.rotation,
                s = this.element,
                n = this.styles,
                a = i * Oe;
            if (!e) {
                if (s.namespaceURI === ze || t.forExport) {
                    try {
                        e = s.getBBox ? $({}, s.getBBox()) : {
                            width: s.offsetWidth,
                            height: s.offsetHeight
                        }
                    } catch (e) {}(!e || e.width < 0) && (e = {
                        width: 0,
                        height: 0
                    })
                } else e = this.htmlGetBBox();
                t.isSVG && (t = e.width, s = e.height, Re && n && "11px" === n.fontSize && "22.7" === s.toPrecision(3) && (e.height = s = 14), i) && (e.width = O(s * S(a)) + O(t * b(a)), e.height = O(s * b(a)) + O(t * S(a))), this.bBox = e
            }
            return e
        },
        show: function() {
            return this.attr({
                visibility: "visible"
            })
        },
        hide: function() {
            return this.attr({
                visibility: "hidden"
            })
        },
        fadeOut: function(e) {
            var t = this;
            t.animate({
                opacity: 0
            }, {
                duration: e || 150,
                complete: function() {
                    t.hide()
                }
            })
        },
        add: function(e) {
            var t, i = this.renderer,
                s = e || i,
                n = s.element || i.box,
                a = n.childNodes,
                o = this.element,
                r = C(o, "zIndex");
            if (e && (this.parentGroup = e), this.parentInverted = e && e.inverted, void 0 !== this.textStr && i.buildText(this), r && (s.handleZ = !0, r = _(r)), s.handleZ)
                for (s = 0; s < a.length; s++)
                    if (i = C(e = a[s], "zIndex"), e !== o && (_(i) > r || !D(r) && D(i))) {
                        n.insertBefore(o, e), t = !0;
                        break
                    } return t || n.appendChild(o), this.added = !0, V(this, "add"), this
        },
        safeRemoveChild: function(e) {
            var t = e.parentNode;
            t && t.removeChild(e)
        },
        destroy: function() {
            var e, t, i = this,
                s = i.element || {},
                n = i.shadows,
                a = i.renderer.isSVG && "SPAN" === s.nodeName && s.parentNode;
            if (s.onclick = s.onmouseout = s.onmouseover = s.onmousemove = s.point = null, _t(i), i.clipPath && (i.clipPath = i.clipPath.destroy()), i.stops) {
                for (t = 0; t < i.stops.length; t++) i.stops[t] = i.stops[t].destroy();
                i.stops = null
            }
            for (i.safeRemoveChild(s), n && R(n, function(e) {
                    i.safeRemoveChild(e)
                }); a && 0 === a.childNodes.length;) s = a.parentNode, i.safeRemoveChild(a), a = s;
            for (e in i.alignTo && h(i.renderer.alignedObjects, i), i) delete i[e];
            return null
        },
        shadow: function(e, t, i) {
            var s, n, a, o, r, l, d = [],
                c = this.element;
            if (e) {
                for (o = L(e.width, 3), r = (e.opacity || .15) / o, l = this.parentInverted ? "(-1,-1)" : "(" + L(e.offsetX, 1) + ", " + L(e.offsetY, 1) + ")", s = 1; s <= o; s++) C(n = c.cloneNode(0), {
                    isShadow: "true",
                    stroke: e.color || "black",
                    "stroke-opacity": r * s,
                    "stroke-width": a = 2 * o + 1 - 2 * s,
                    transform: "translate" + l,
                    fill: q
                }), i && (C(n, "height", F(C(n, "height") - a, 0)), n.cutHeight = a), t ? t.element.appendChild(n) : c.parentNode.insertBefore(n, c), d.push(n);
                this.shadows = d
            }
            return this
        }
    };

    function Ct() {
        for (var e = ht.length, t = 0; t < e; t++) ht[t]();
        ht = []
    }
    dt.prototype = {
        Element: le,
        init: function(e, t, i, s) {
            var n, a = location,
                o = this.createElement("svg").attr({
                    version: "1.1"
                }),
                r = o.element;
            e.appendChild(r), -1 === e.innerHTML.indexOf("xmlns") && C(r, "xmlns", ze), this.isSVG = !0, this.box = r, this.boxWrapper = o, this.alignedObjects = [], this.url = (Ve || Ue) && x.getElementsByTagName("base").length ? a.href.replace(/#.*?$/, "").replace(/([\('\)])/g, "\\$1").replace(/ /g, "%20") : "", this.createElement("desc").add().element.appendChild(x.createTextNode("Created with Highcharts 3.0.6")), this.defs = this.createElement("defs").add(), this.forExport = s, this.gradients = {}, this.setSize(t, i, !1), Ve && e.getBoundingClientRect && (this.subPixelFix = t = function() {
                k(e, {
                    left: 0,
                    top: 0
                }), n = e.getBoundingClientRect(), k(e, {
                    left: je(n.left) - n.left + "px",
                    top: je(n.top) - n.top + "px"
                })
            }, t(), B(l, "resize", t))
        },
        isHidden: function() {
            return !this.boxWrapper.getBBox().width
        },
        destroy: function() {
            var e = this.defs;
            return this.box = null, this.boxWrapper = this.boxWrapper.destroy(), a(this.gradients || {}), this.gradients = null, e && (this.defs = e.destroy()), this.subPixelFix && U(l, "resize", this.subPixelFix), this.alignedObjects = null
        },
        createElement: function(e) {
            var t = new this.Element;
            return t.init(this, e), t
        },
        draw: function() {},
        buildText: function(u) {
            for (var h = u.element, p = this, f = p.forExport, e = L(u.textStr, "").toString().replace(/<(b|strong)>/g, '<span style="font-weight:bold">').replace(/<(i|em)>/g, '<span style="font-style:italic">').replace(/<a/g, "<span").replace(/<\/(b|strong|i|em|a)>/g, "</span>").split(/<br.*?>/g), t = h.childNodes, m = /style="([^"]+)"/, g = /href="(http[^"]+)"/, v = C(h, "x"), y = u.styles, b = y && y.width && _(y.width), w = y && y.lineHeight, i = t.length; i--;) h.removeChild(t[i]);
            b && !u.added && this.box.appendChild(h), "" === e[e.length - 1] && e.pop(), R(e, function(e, l) {
                var d = 0,
                    c = (e = e.replace(/<span/g, "|||<span").replace(/<\/span>/g, "</span>|||")).split("|||");
                R(c, function(e) {
                    if ("" !== e || 1 === c.length) {
                        var t, i = {},
                            s = x.createElementNS(ze, "tspan");
                        if (m.test(e) && C(s, "style", t = e.match(m)[1].replace(/(;| |^)color([ :])/, "$1fill$2")), g.test(e) && !f && (C(s, "onclick", 'location.href="' + e.match(g)[1] + '"'), k(s, {
                                cursor: "pointer"
                            })), " " !== (e = (e.replace(/<(.|\n)*?>/g, "") || " ").replace(/&lt;/g, "<").replace(/&gt;/g, ">")) && (s.appendChild(x.createTextNode(e)), d ? i.dx = 0 : i.x = v, C(s, i), !d && l && (!E && f && k(s, {
                                display: "block"
                            }), C(s, "dy", w || p.fontMetrics((/px$/.test(s.style.fontSize) ? s.style : y).fontSize).h, Ue && s.offsetHeight)), h.appendChild(s), d++, b))
                            for (var n, e = e.replace(/([^\^])-/g, "$1- ").split(" "), i = u._clipHeight, a = [], o = _(w || 16), r = 1; e.length || a.length;) delete u.bBox, n = u.getBBox().width, b < n && 1 !== e.length ? (s.removeChild(s.firstChild), a.unshift(e.pop())) : (e = a, a = [], e.length && (r++, i && i < r * o ? (e = ["..."], u.attr("title", u.textStr)) : (C(s = x.createElementNS(ze, "tspan"), {
                                dy: o,
                                x: v
                            }), t && C(s, "style", t), h.appendChild(s), b < n && (b = n)))), e.length && s.appendChild(x.createTextNode(e.join(" ").replace(/- /g, "-")))
                    }
                })
            })
        },
        button: function(e, t, i, s, n, a, o, r) {
            var l, d, c, u, h, p = this.label(e, t, i, null, null, null, null, null, "button"),
                f = 0,
                m = (n = M({
                    "stroke-width": 1,
                    stroke: "#CCCCCC",
                    fill: {
                        linearGradient: e = {
                            x1: 0,
                            y1: 0,
                            x2: 0,
                            y2: 1
                        },
                        stops: [
                            [0, "#FEFEFE"],
                            [1, "#F6F6F6"]
                        ]
                    },
                    r: 2,
                    padding: 5,
                    style: {
                        color: "black"
                    }
                }, n)).style;
            return delete n.style, a = M(n, {
                stroke: "#68A",
                fill: {
                    linearGradient: e,
                    stops: [
                        [0, "#FFF"],
                        [1, "#ACF"]
                    ]
                }
            }, a), c = a.style, delete a.style, o = M(n, {
                stroke: "#68A",
                fill: {
                    linearGradient: e,
                    stops: [
                        [0, "#9BD"],
                        [1, "#CDF"]
                    ]
                }
            }, o), u = o.style, delete o.style, r = M(n, {
                style: {
                    color: "#CCC"
                }
            }, r), h = r.style, delete r.style, B(p.element, Re ? "mouseover" : "mouseenter", function() {
                3 !== f && p.attr(a).css(c)
            }), B(p.element, Re ? "mouseout" : "mouseleave", function() {
                3 !== f && (l = [n, a, o][f], d = [m, c, u][f], p.attr(l).css(d))
            }), p.setState = function(e) {
                (p.state = f = e) ? 2 === e ? p.attr(o).css(u) : 3 === e && p.attr(r).css(h): p.attr(n).css(m)
            }, p.on("click", function() {
                3 !== f && s.call(p)
            }).attr(n).css($({
                cursor: "default"
            }, m))
        },
        crispLine: function(e, t) {
            return e[1] === e[4] && (e[1] = e[4] = j(e[1]) - t % 2 / 2), e[2] === e[5] && (e[2] = e[5] = j(e[2]) + t % 2 / 2), e
        },
        path: function(e) {
            var t = {
                fill: q
            };
            return v(e) ? t.d = e : c(e) && $(t, e), this.createElement("path").attr(t)
        },
        circle: function(e, t, i) {
            return e = c(e) ? e : {
                x: e,
                y: t,
                r: i
            }, this.createElement("circle").attr(e)
        },
        arc: function(e, t, i, s, n, a) {
            return c(e) && (t = e.y, i = e.r, s = e.innerR, n = e.start, a = e.end, e = e.x), (e = this.symbol("arc", e || 0, t || 0, i || 0, i || 0, {
                innerR: s || 0,
                start: n || 0,
                end: a || 0
            })).r = i, e
        },
        rect: function(e, t, i, s, n, a) {
            return n = c(e) ? e.r : n, (n = this.createElement("rect").attr({
                rx: n,
                ry: n,
                fill: q
            })).attr(c(e) ? e : n.crisp(a, e, t, F(i, 0), F(s, 0)))
        },
        setSize: function(e, t, i) {
            var s = this.alignedObjects,
                n = s.length;
            for (this.width = e, this.height = t, this.boxWrapper[L(i, !0) ? "animate" : "attr"]({
                    width: e,
                    height: t
                }); n--;) s[n].align()
        },
        g: function(e) {
            var t = this.createElement("g");
            return D(e) ? t.attr({
                class: "highcharts-" + e
            }) : t
        },
        image: function(e, t, i, s, n) {
            var a = {
                preserveAspectRatio: q
            };
            return 1 < arguments.length && $(a, {
                x: t,
                y: i,
                width: s,
                height: n
            }), (a = this.createElement("image").attr(a)).element.setAttributeNS ? a.element.setAttributeNS("http://www.w3.org/1999/xlink", "href", e) : a.element.setAttribute("hc-svg-href", e), a
        },
        symbol: function(e, t, i, s, n, a) {
            var o, r, l, d = this.symbols[e],
                c = /^url\((.*?)\)$/;
            return (d = d && d(j(t), j(i), s, n, a)) ? ($(o = this.path(d), {
                symbolName: e,
                x: t,
                y: i,
                width: s,
                height: n
            }), a && $(o, a)) : c.test(e) && (l = function(e, t) {
                e.element && (e.attr({
                    width: t[0],
                    height: t[1]
                }), e.alignByTranslate || e.translate(j((s - t[0]) / 2), j((n - t[1]) / 2)))
            }, r = e.match(c)[1], e = Ge[r], (o = this.image(r).attr({
                x: t,
                y: i
            })).isImg = !0, e ? l(o, e) : (o.attr({
                width: 0,
                height: 0
            }), A("img", {
                onload: function() {
                    l(o, Ge[r] = [this.width, this.height])
                },
                src: r
            }))), o
        },
        symbols: {
            circle: function(e, t, i, s) {
                var n = .166 * i;
                return ["M", e + i / 2, t, "C", e + i + n, t, e + i + n, t + s, e + i / 2, t + s, "C", e - n, t + s, e - n, t, e + i / 2, t, "Z"]
            },
            square: function(e, t, i, s) {
                return ["M", e, t, "L", e + i, t, e + i, t + s, e, t + s, "Z"]
            },
            triangle: function(e, t, i, s) {
                return ["M", e + i / 2, t, "L", e + i, t + s, e, t + s, "Z"]
            },
            "triangle-down": function(e, t, i, s) {
                return ["M", e, t, "L", e + i, t, e + i / 2, t + s, "Z"]
            },
            diamond: function(e, t, i, s) {
                return ["M", e + i / 2, t, "L", e + i, t + s / 2, e + i / 2, t + s, e, t + s / 2, "Z"]
            },
            arc: function(e, t, i, s, n) {
                var a = n.start,
                    i = n.r || i || s,
                    o = n.end - .001,
                    s = n.innerR,
                    r = n.open,
                    l = b(a),
                    d = S(a),
                    c = b(o),
                    o = S(o);
                return ["M", e + i * l, t + i * d, "A", i, i, 0, n = n.end - a < Fe ? 0 : 1, 1, e + i * c, t + i * o, r ? "M" : "L", e + s * c, t + s * o, "A", s, s, 0, n, 0, e + s * l, t + s * d, r ? "" : "Z"]
            }
        },
        clipRect: function(e, t, i, s) {
            var n = "highcharts-" + Xe++,
                a = this.createElement("clipPath").attr({
                    id: n
                }).add(this.defs);
            return (e = this.rect(e, t, i, s, 0).add(a)).id = n, e.clipPath = a, e
        },
        color: function(e, t, i) {
            var s, n, a, o, r, l, d, c, u = this,
                h = /^rgba/,
                p = [];
            if (e && e.linearGradient ? n = "linearGradient" : e && e.radialGradient && (n = "radialGradient"), n) {
                for (c in i = e[n], a = u.gradients, r = e.stops, t = t.radialReference, v(i) && (e[n] = i = {
                        x1: i[0],
                        y1: i[1],
                        x2: i[2],
                        y2: i[3],
                        gradientUnits: "userSpaceOnUse"
                    }), i = "radialGradient" === n && t && !D(i.gradientUnits) ? M(i, {
                        cx: t[0] - t[2] / 2 + i.cx * t[2],
                        cy: t[1] - t[2] / 2 + i.cy * t[2],
                        r: i.r * t[2],
                        gradientUnits: "userSpaceOnUse"
                    }) : i) "id" !== c && p.push(c, i[c]);
                for (c in r) p.push(r[c]);
                return a[p = p.join(",")] ? e = a[p].id : (i.id = e = "highcharts-" + Xe++, a[p] = o = u.createElement(n).attr(i).add(u.defs), o.stops = [], R(r, function(e) {
                    d = h.test(e[1]) ? (s = lt(e[1]), l = s.get("rgb"), s.get("a")) : (l = e[1], 1), e = u.createElement("stop").attr({
                        offset: e[0],
                        "stop-color": l,
                        "stop-opacity": d
                    }).add(o), o.stops.push(e)
                })), "url(" + u.url + "#" + e + ")"
            }
            return h.test(e) ? (C(t, i + "-opacity", (s = lt(e)).get("a")), s.get("rgb")) : (t.removeAttribute(i + "-opacity"), e)
        },
        text: function(e, t, i, s) {
            var n = N.chart.style,
                a = r || !E && this.forExport;
            return s && !this.forExport ? this.html(e, t, i) : (t = j(L(t, 0)), i = j(L(i, 0)), e = this.createElement("text").attr({
                x: t,
                y: i,
                text: e
            }).css({
                fontFamily: n.fontFamily,
                fontSize: n.fontSize
            }), a && e.css({
                position: "absolute"
            }), e.x = t, e.y = i, e)
        },
        html: function(e, t, i) {
            var s = N.chart.style,
                n = this.createElement("span"),
                a = n.attrSetters,
                o = n.element,
                r = n.renderer;
            return a.text = function(e) {
                return e !== o.innerHTML && delete this.bBox, o.innerHTML = e, !1
            }, a.x = a.y = a.align = function(e, t) {
                return n[t = "align" === t ? "textAlign" : t] = e, n.htmlUpdateTransform(), !1
            }, n.attr({
                text: e,
                x: j(t),
                y: j(i)
            }).css({
                position: "absolute",
                whiteSpace: "nowrap",
                fontFamily: s.fontFamily,
                fontSize: s.fontSize
            }), n.css = n.htmlCss, r.isSVG && (n.add = function(e) {
                var t, s = r.box.parentNode,
                    i = [];
                if (e) {
                    if (!(t = e.div)) {
                        for (; e;) i.push(e), e = e.parentGroup;
                        R(i.reverse(), function(e) {
                            var i;
                            t = e.div = e.div || A(Ke, {
                                className: C(e.element, "class")
                            }, {
                                position: "absolute",
                                left: (e.translateX || 0) + "px",
                                top: (e.translateY || 0) + "px"
                            }, t || s), i = t.style, $(e.attrSetters, {
                                translateX: function(e) {
                                    i.left = e + "px"
                                },
                                translateY: function(e) {
                                    i.top = e + "px"
                                },
                                visibility: function(e, t) {
                                    i[t] = e
                                }
                            })
                        })
                    }
                } else t = s;
                return t.appendChild(o), n.added = !0, n.alignOnAdd && n.htmlUpdateTransform(), n
            }), n
        },
        fontMetrics: function(e) {
            return {
                h: e = (e = _(e || 11)) < 24 ? e + 4 : j(1.2 * e),
                b: j(.8 * e)
            }
        },
        label: function(e, t, i, s, n, a, o, r, l) {
            function d() {
                var e, t = k.element.style;
                f = (void 0 === m || void 0 === g || C.styles.textAlign) && k.getBBox(), C.width = (m || f.width || 0) + 2 * S + T, C.height = (g || f.height || 0) + 2 * S, b = S + _.fontMetrics(t && t.fontSize).b, w && (p || (t = j(-x * S), e = r ? -b : 0, C.box = p = s ? _.symbol(s, t, e, C.width, C.height) : _.rect(t, e, C.width, C.height, 0, A[rt]), p.add(C)), p.isImg || p.attr(M({
                    width: C.width,
                    height: C.height
                }, A)), A = null)
            }

            function c() {
                var e = (e = C.styles) && e.textAlign,
                    t = T + S * (1 - x),
                    i = r ? 0 : b;
                !D(m) || "center" !== e && "right" !== e || (t += {
                    center: .5,
                    right: 1
                } [e] * (m - f.width)), t === k.x && i === k.y || k.attr({
                    x: t,
                    y: i
                }), k.x = t, k.y = i
            }

            function u(e, t) {
                p ? p.attr(e, t) : A[e] = t
            }

            function h() {
                k.add(C), C.attr({
                    text: e,
                    x: t,
                    y: i
                }), p && D(n) && C.attr({
                    anchorX: n,
                    anchorY: a
                })
            }
            var p, f, m, g, v, y, b, w, _ = this,
                C = _.g(l),
                k = _.text("", 0, 0, o).attr({
                    zIndex: 1
                }),
                x = 0,
                S = 3,
                T = 0,
                E = 0,
                A = {},
                o = C.attrSetters,
                P = (B(C, "add", h), o.width = function(e) {
                    return m = e, !1
                }, o.height = function(e) {
                    return g = e, !1
                }, o.padding = function(e) {
                    return D(e) && e !== S && (S = e, c()), !1
                }, o.paddingLeft = function(e) {
                    return D(e) && e !== T && (T = e, c()), !1
                }, o.align = function(e) {
                    return x = {
                        left: 0,
                        center: .5,
                        right: 1
                    } [e], !1
                }, o.text = function(e, t) {
                    return k.attr(t, e), d(), c(), !1
                }, o[rt] = function(e, t) {
                    return w = !0, E = e % 2 / 2, u(t, e), !1
                }, o.stroke = o.fill = o.r = function(e, t) {
                    return "fill" === t && (w = !0), u(t, e), !1
                }, o.anchorX = function(e, t) {
                    return u(t, (n = e) + E - v), !1
                }, o.anchorY = function(e, t) {
                    return u(t, (a = e) - y), !1
                }, o.x = function(e) {
                    return C.x = e, e -= x * ((m || f.width) + S), v = j(e), C.attr("translateX", v), !1
                }, o.y = function(e) {
                    return y = C.y = j(e), C.attr("translateY", y), !1
                }, C.css);
            return $(C, {
                css: function(t) {
                    var i;
                    return t && (i = {}, t = M(t), R("fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow".split(","), function(e) {
                        t[e] !== I && (i[e] = t[e], delete t[e])
                    }), k.css(i)), P.call(C, t)
                },
                getBBox: function() {
                    return {
                        width: f.width + 2 * S,
                        height: f.height + 2 * S,
                        x: f.x - S,
                        y: f.y - S
                    }
                },
                shadow: function(e) {
                    return p && p.shadow(e), C
                },
                destroy: function() {
                    U(C, "add", h), U(C.element, "mouseenter"), U(C.element, "mouseleave"), k = k && k.destroy(), p = p && p.destroy(), le.prototype.destroy.call(C), C = _ = d = c = u = h = null
                }
            })
        }
    }, ye = dt, E || r || (Highcharts.VMLElement = e = {
        init: function(e, t) {
            var i = ["<", t, ' filled="f" stroked="f"'],
                s = ["position: ", "absolute", ";"],
                n = t === Ke;
            "shape" !== t && !n || s.push("left:0;top:0;width:1px;height:1px;"), s.push("visibility: ", n ? "hidden" : "visible"), i.push(' style="', s.join(""), '"/>'), t && (i = n || "span" === t || "img" === t ? i.join("") : e.prepVML(i), this.element = A(i)), this.renderer = e, this.attrSetters = {}
        },
        add: function(e) {
            var t = this.renderer,
                i = this.element,
                s = t.box,
                s = e ? e.element || e : s;
            return e && e.inverted && t.invertChild(i, s), s.appendChild(i), this.added = !0, this.alignOnAdd && !this.deferUpdateTransform && this.updateTransform(), V(this, "add"), this
        },
        updateTransform: le.prototype.htmlUpdateTransform,
        setSpanRotation: function(e, t, i) {
            k(this.element, {
                filter: e ? ["progid:DXImageTransform.Microsoft.Matrix(M11=", i, ", M12=", -t, ", M21=", t, ", M22=", i, ", sizingMethod='auto expand')"].join("") : q
            })
        },
        pathToVML: function(e) {
            for (var t, i = e.length, s = []; i--;) y(e[i]) ? s[i] = j(10 * e[i]) - 5 : "Z" === e[i] ? s[i] = "x" : (s[i] = e[i], !e.isArc || "wa" !== e[i] && "at" !== e[i] || (t = "wa" === e[i] ? 1 : -1, s[i + 5] === s[i + 7] && (s[i + 7] -= t), s[i + 6] === s[i + 8] && (s[i + 8] -= t)));
            return s.join(" ") || "x"
        },
        attr: function(e, t) {
            var i, s, n, a, o, r = this.element || {},
                l = r.style,
                d = r.nodeName,
                c = this.renderer,
                u = this.symbolName,
                h = this.shadows,
                p = this.attrSetters,
                f = this;
            if (g(e) && D(t) && (i = e, (e = {})[i] = t), g(e)) f = "strokeWidth" === (i = e) || "stroke-width" === i ? this.strokeweight : this[i];
            else
                for (i in e)
                    if (s = e[i], o = !1, n = p[i] && p[i].call(this, s, i), !1 !== n && null !== s) {
                        if (n !== I && (s = n), u && /^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(i)) a || (this.symbolAttr(e), a = !0), o = !0;
                        else if ("d" === i) {
                            if (this.d = (s = s || []).join(" "), r.path = s = this.pathToVML(s), h)
                                for (n = h.length; n--;) h[n].path = h[n].cutOff ? this.cutOffPath(s, h[n].cutOff) : s;
                            o = !0
                        } else if ("visibility" === i) {
                            if (h)
                                for (n = h.length; n--;) h[n].style[i] = s;
                            "DIV" === d && (s = "hidden" === s ? "-999em" : 0, Be || (l[i] = s ? "visible" : "hidden"), i = "top"), l[i] = s, o = !0
                        } else "zIndex" === i ? (s && (l[i] = s), o = !0) : -1 !== mt(i, ["x", "y", "width", "height"]) ? (this[i] = s, "x" === i || "y" === i ? i = {
                            x: "left",
                            y: "top"
                        } [i] : s = F(0, s), this.updateClipping ? (this[i] = s, this.updateClipping()) : l[i] = s, o = !0) : "class" === i && "DIV" === d ? r.className = s : "stroke" === i ? (s = c.color(s, r, i), i = "strokecolor") : "stroke-width" === i || "strokeWidth" === i ? (r.stroked = !!s, y(this[i = "strokeweight"] = s) && (s += "px")) : "dashstyle" === i ? ((r.getElementsByTagName("stroke")[0] || A(c.prepVML(["<stroke/>"]), null, null, r))[i] = s || "solid", this.dashstyle = s, o = !0) : "fill" === i ? "SPAN" === d ? l.color = s : "IMG" !== d && (r.filled = s !== q, s = c.color(s, r, i, this), i = "fillcolor") : "opacity" === i ? o = !0 : "shape" === d && "rotation" === i ? (this[i] = r.style[i] = s, r.style.left = -j(S(s * Oe) + 1) + "px", r.style.top = j(b(s * Oe)) + "px") : "translateX" === i || "translateY" === i || "rotation" === i ? (this[i] = s, this.updateTransform(), o = !0) : "text" === i && (this.bBox = null, r.innerHTML = s, o = !0);
                        o || (Be ? r[i] = s : C(r, i, s))
                    } return f
        },
        clip: function(e) {
            var t, i = this;
            return e = e ? (h(t = e.members, i), t.push(i), i.destroyClip = function() {
                h(t, i)
            }, e.getCSS(i)) : (i.destroyClip && i.destroyClip(), {
                clip: Be ? "inherit" : "rect(auto)"
            }), i.css(e)
        },
        css: le.prototype.htmlCss,
        safeRemoveChild: function(e) {
            e.parentNode && o(e)
        },
        destroy: function() {
            return this.destroyClip && this.destroyClip(), le.prototype.destroy.apply(this)
        },
        on: function(e, t) {
            return this.element["on" + e] = function() {
                var e = l.event;
                e.target = e.srcElement, t(e)
            }, this
        },
        cutOffPath: function(e, t) {
            var i = (e = e.split(/[ ,]/)).length;
            return 9 !== i && 11 !== i || (e[i - 4] = e[i - 2] = _(e[i - 2]) - 10 * t), e.join(" ")
        },
        shadow: function(e, t, i) {
            var s, n, a, o, r, l, d = [],
                c = this.element,
                u = this.renderer,
                h = c.style,
                p = c.path,
                f = p = p && "string" != typeof p.value ? "x" : p;
            if (e) {
                for (r = L(e.width, 3), l = (e.opacity || .15) / r, s = 1; s <= 3; s++) a = ['<shape isShadow="true" strokeweight="', o = 2 * r + 1 - 2 * s, '" filled="false" path="', f = i ? this.cutOffPath(p.value, .5 + o) : f, '" coordsize="10 10" style="', c.style.cssText, '" />'], n = A(u.prepVML(a), null, {
                    left: _(h.left) + L(e.offsetX, 1),
                    top: _(h.top) + L(e.offsetY, 1)
                }), i && (n.cutOff = 1 + o), a = ['<stroke color="', e.color || "black", '" opacity="', l * s, '"/>'], A(u.prepVML(a), null, null, n), t ? t.element.appendChild(n) : c.parentNode.insertBefore(n, c), d.push(n);
                this.shadows = d
            }
            return this
        }
    }, ct = {
        Element: e = s(le, e),
        isIE8: -1 < qe.indexOf("MSIE 8.0"),
        init: function(e, t, i) {
            var s, n;
            this.alignedObjects = [], (n = (s = this.createElement(Ke)).element).style.position = "relative", e.appendChild(s.element), this.isVML = !0, this.box = n, this.boxWrapper = s, this.setSize(t, i, !1), x.namespaces.hcv || (x.namespaces.add("hcv", "urn:schemas-microsoft-com:vml"), (x.styleSheets.length ? x.styleSheets[0] : x.createStyleSheet()).cssText += "hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")
        },
        isHidden: function() {
            return !this.box.offsetWidth
        },
        clipRect: function(e, t, i, s) {
            var n = this.createElement(),
                a = c(e);
            return $(n, {
                members: [],
                left: (a ? e.x : e) + 1,
                top: (a ? e.y : t) + 1,
                width: (a ? e.width : i) - 1,
                height: (a ? e.height : s) - 1,
                getCSS: function(e) {
                    var t = (n = e.element).nodeName,
                        e = e.inverted,
                        i = this.top - ("shape" === t ? n.offsetTop : 0),
                        s = this.left,
                        n = s + this.width,
                        a = i + this.height,
                        i = {
                            clip: "rect(" + j(e ? s : i) + "px," + j(e ? a : n) + "px," + j(e ? n : a) + "px," + j(e ? i : s) + "px)"
                        };
                    return !e && Be && "DIV" === t && $(i, {
                        width: n + "px",
                        height: a + "px"
                    }), i
                },
                updateClipping: function() {
                    R(n.members, function(e) {
                        e.css(n.getCSS(e))
                    })
                }
            })
        },
        color: function(e, t, i, s) {
            var n, a, o, r, l, d, c, u, h, p, f, m, g, v, y, b, w, _, C, k, x, S = this,
                T = /^rgba/,
                E = q;
            return e && e.linearGradient ? o = "gradient" : e && e.radialGradient && (o = "pattern"), o ? (d = e.linearGradient || e.radialGradient, f = "", e = e.stops, m = [], g = function() {
                a = ['<fill colors="' + m.join(",") + '" opacity="', u, '" o:opacity2="', c, '" type="', o, '" ', f, 'focus="100%" method="any" />'], A(S.prepVML(a), null, null, t)
            }, k = e[0], x = e[e.length - 1], 0 < k[0] && e.unshift([0, k[1]]), x[0] < 1 && e.push([1, x[1]]), R(e, function(e, t) {
                l = T.test(e[1]) ? (n = lt(e[1]), r = n.get("rgb"), n.get("a")) : (r = e[1], 1), m.push(100 * e[0] + "% " + r), t ? (u = l, h = r) : (c = l, p = r)
            }), "fill" === i ? "gradient" === o ? (i = d.x1 || d[0] || 0, e = d.y1 || d[1] || 0, k = d.x2 || d[2] || 0, d = d.y2 || d[3] || 0, f = 'angle="' + (90 - 180 * P.atan((d - e) / (k - i)) / Fe) + '"', g()) : (v = 2 * (E = d.r), y = 2 * E, b = d.cx, w = d.cy, _ = t.radialReference, E = function() {
                _ && (C = s.getBBox(), b += (_[0] - C.x) / C.width - .5, w += (_[1] - C.y) / C.height - .5, v *= _[2] / C.width, y *= _[2] / C.height), f = 'src="' + N.global.VMLRadialGradientURL + '" size="' + v + "," + y + '" origin="0.5,0.5" position="' + b + "," + w + '" color2="' + p + '" ', g()
            }, s.added ? E() : B(s, "add", E), E = h) : E = r) : E = T.test(e) && "IMG" !== t.tagName ? (n = lt(e), a = ["<", i, ' opacity="', n.get("a"), '"/>'], A(this.prepVML(a), null, null, t), n.get("rgb")) : ((E = t.getElementsByTagName(i)).length && (E[0].opacity = 1, E[0].type = "solid"), e), E
        },
        prepVML: function(e) {
            var t = this.isIE8,
                e = e.join("");
            return e = t ? -1 === (e = e.replace("/>", ' xmlns="urn:schemas-microsoft-com:vml" />')).indexOf('style="') ? e.replace("/>", ' style="display:inline-block;behavior:url(#default#VML);" />') : e.replace('style="', 'style="display:inline-block;behavior:url(#default#VML);') : e.replace("<", "<hcv:")
        },
        text: dt.prototype.html,
        path: function(e) {
            var t = {
                coordsize: "10 10"
            };
            return v(e) ? t.d = e : c(e) && $(t, e), this.createElement("shape").attr(t)
        },
        circle: function(e, t, i) {
            var s = this.symbol("circle");
            return c(e) && (i = e.r, t = e.y, e = e.x), s.isCircle = !0, s.r = i, s.attr({
                x: e,
                y: t
            })
        },
        g: function(e) {
            var t;
            return e && (t = {
                className: "highcharts-" + e,
                class: "highcharts-" + e
            }), this.createElement(Ke).attr(t)
        },
        image: function(e, t, i, s, n) {
            var a = this.createElement("img").attr({
                src: e
            });
            return 1 < arguments.length && a.attr({
                x: t,
                y: i,
                width: s,
                height: n
            }), a
        },
        rect: function(e, t, i, s, n, a) {
            var o = this.symbol("rect");
            return o.r = c(e) ? e.r : n, o.attr(c(e) ? e : o.crisp(a, e, t, F(i, 0), F(s, 0)))
        },
        invertChild: function(e, t) {
            t = t.style;
            k(e, {
                flip: "x",
                left: _(t.width) - 1,
                top: _(t.height) - 1,
                rotation: -90
            })
        },
        symbols: {
            arc: function(e, t, i, s, n) {
                var a = n.start,
                    o = n.end,
                    r = n.r || i || s,
                    i = n.innerR,
                    s = b(a),
                    l = S(a),
                    d = b(o),
                    c = S(o);
                return o - a == 0 ? ["x"] : (a = ["wa", e - r, t - r, e + r, t + r, e + r * s, t + r * l, e + r * d, t + r * c], n.open && !i && a.push("e", "M", e, t), a.push("at", e - i, t - i, e + i, t + i, e + i * d, t + i * c, e + i * s, t + i * l, "x", "e"), a.isArc = !0, a)
            },
            circle: function(e, t, i, s, n) {
                return n && (i = s = 2 * n.r), n && n.isCircle && (e -= i / 2, t -= s / 2), ["wa", e, t, e + i, t + s, e + i, t + s / 2, e + i, t + s / 2, "e"]
            },
            rect: function(e, t, i, s, n) {
                var a, o = e + i,
                    r = t + s;
                return o = D(n) && n.r ? ["M", e + (a = w(n.r, i, s)), t, "L", o - a, t, "wa", o - 2 * a, t, o, t + 2 * a, o - a, t, o, t + a, "L", o, r - a, "wa", o - 2 * a, r - 2 * a, o, r, o, r - a, o - a, r, "L", e + a, r, "wa", e, r - 2 * a, e + 2 * a, r, e + a, r, e, r - a, "L", e, t + a, "wa", e, t, e + 2 * a, t + 2 * a, e, t + a, e + a, t, "x", "e"] : dt.prototype.symbols.square.apply(0, arguments)
            }
        }
    }, Highcharts.VMLRenderer = e = function() {
        this.init.apply(this, arguments)
    }, e.prototype = M(dt.prototype, ct), ye = e), r && (Highcharts.CanVGRenderer = e = function() {
        ze = "http://www.w3.org/1999/xhtml"
    }, e.prototype.symbols = {}, ht = [], ut = {
        push: function(e, t) {
            0 === ht.length && ft(t, Ct), ht.push(e)
        }
    }, ye = e), de.prototype = {
        addLabel: function() {
            var e, t = this.axis,
                i = t.options,
                s = t.chart,
                n = t.horiz,
                a = t.categories,
                o = t.series[0] && t.series[0].names,
                r = this.pos,
                l = i.labels,
                d = t.tickPositions,
                n = n && a && !l.step && !l.staggerLines && !l.rotation && s.plotWidth / d.length || !n && (s.margin[3] || .33 * s.chartWidth),
                c = r === d[0],
                u = r === d[d.length - 1],
                o = a ? L(a[r], o && o[r], r) : r,
                a = this.label,
                h = d.info;
            t.isDatetimeAxis && h && (e = i.dateTimeLabelFormats[h.higherRanks[r] || h.unitName]), this.isFirst = c, this.isLast = u, i = t.labelFormatter.call({
                axis: t,
                chart: s,
                isFirst: c,
                isLast: u,
                dateTimeLabelFormat: e,
                value: t.isLog ? ae(W(o)) : o
            }), r = $(n && {
                width: F(1, j(n - 2 * (l.padding || 10))) + "px"
            }, l.style), D(a) ? a && a.attr({
                text: i
            }).css(r) : (e = {
                align: t.labelAlign
            }, y(l.rotation) && (e.rotation = l.rotation), n && l.ellipsis && (e._clipHeight = t.len / d.length), this.label = D(i) && l.enabled ? s.renderer.text(i, 0, 0, l.useHTML).attr(e).css(r).add(t.labelGroup) : null)
        },
        getLabelSize: function() {
            var e = this.label,
                t = this.axis;
            return e ? (this.labelBBox = e.getBBox())[t.horiz ? "height" : "width"] : 0
        },
        getLabelSides: function() {
            var e = this.axis,
                t = this.labelBBox.width;
            return [-(e = t * {
                left: 0,
                center: .5,
                right: 1
            } [e.labelAlign] - e.options.labels.x), t - e]
        },
        handleOverflow: function(e, t) {
            var i, s, n, a = !0,
                o = this.axis,
                r = o.chart,
                l = this.isFirst,
                d = this.isLast,
                c = t.x,
                u = o.reversed,
                h = o.tickPositions;
            return (l || d) && (i = (s = this.getLabelSides())[0], s = s[1], n = (r = r.plotLeft) + o.len, h = (o = o.ticks[h[e + (l ? 1 : -1)]]) && o.label.xy && o.label.xy.x + o.getLabelSides()[l ? 0 : 1], l && !u || d && u ? c + i < r && (c = r - i, o) && h < c + s && (a = !1) : n < c + s && (c = n - s, o) && c + i < h && (a = !1), t.x = c), a
        },
        getPosition: function(e, t, i, s) {
            var n = this.axis,
                a = n.chart,
                o = s && a.oldChartHeight || a.chartHeight;
            return {
                x: e ? n.translate(t + i, null, null, s) + n.transB : n.left + n.offset + (n.opposite ? (s && a.oldChartWidth || a.chartWidth) - n.right - n.left : 0),
                y: e ? o - n.bottom + n.offset - (n.opposite ? n.height : 0) : o - n.translate(t + i, null, null, s) - n.transB
            }
        },
        getLabelPosition: function(e, t, i, s, n, a, o, r) {
            var l = this.axis,
                d = l.transA,
                c = l.reversed,
                u = l.staggerLines,
                h = l.chart.renderer.fontMetrics(n.style.fontSize).b,
                p = n.rotation,
                e = e + n.x - (a && s ? a * d * (c ? -1 : 1) : 0),
                t = t + n.y - (a && !s ? a * d * (c ? 1 : -1) : 0);
            return p && 2 === l.side && (t -= h - h * b(p * Oe)), D(n.y) || p || (t += h - i.getBBox().height / 2), u && (t += o / (r || 1) % u * (l.labelOffset / u)), {
                x: e,
                y: t
            }
        },
        getMarkPath: function(e, t, i, s, n, a) {
            return a.crispLine(["M", e, t, "L", e + (n ? 0 : -i), t + (n ? i : 0)], s)
        },
        render: function(e, t, i) {
            var s = this.axis,
                n = s.options,
                a = s.chart.renderer,
                o = s.horiz,
                r = this.type,
                l = this.label,
                d = this.pos,
                c = n.labels,
                u = this.gridLine,
                h = r ? r + "Tick" : "tick",
                p = n[(v = r ? r + "Grid" : "grid") + "LineWidth"],
                f = n[v + "LineColor"],
                m = n[v + "LineDashStyle"],
                g = n[h + "Length"],
                v = n[h + "Width"] || 0,
                y = n[h + "Color"],
                b = n[h + "Position"],
                h = this.mark,
                w = c.step,
                _ = !0,
                C = s.tickmarkOffset,
                k = (x = this.getPosition(o, d, C, t)).x,
                x = x.y,
                S = o && k === s.pos + s.len || !o && x === s.pos ? -1 : 1,
                T = s.staggerLines;
            this.isActive = !0, p && (d = s.getPlotLinePath(d + C, p * S, t, !0), u === I && (u = {
                stroke: f,
                "stroke-width": p
            }, m && (u.dashstyle = m), r || (u.zIndex = 1), t && (u.opacity = 0), this.gridLine = u = p ? a.path(d).attr(u).add(s.gridGroup) : null), !t) && u && d && u[this.isNew ? "attr" : "animate"]({
                d: d,
                opacity: i
            }), v && g && ("inside" === b && (g = -g), s.opposite && (g = -g), t = this.getMarkPath(k, x, g, v * S, o, a), h ? h.animate({
                d: t,
                opacity: i
            }) : this.mark = a.path(t).attr({
                stroke: y,
                "stroke-width": v,
                opacity: i
            }).add(s.axisGroup)), l && !isNaN(k) && (l.xy = x = this.getLabelPosition(k, x, l, o, c, C, e, w), (this.isFirst && !this.isLast && !L(n.showFirstLabel, 1) || this.isLast && !this.isFirst && !L(n.showLastLabel, 1) || !T && o && "justify" === c.overflow && !this.handleOverflow(e, x)) && (_ = !1), (_ = w && e % w ? !1 : _) && !isNaN(x.y) ? (x.opacity = i, l[this.isNew ? "attr" : "animate"](x), this.isNew = !1) : l.attr("y", -9999))
        },
        destroy: function() {
            a(this, this.axis)
        }
    }, ce.prototype = {
        render: function() {
            var e, i = this,
                t = i.axis,
                s = t.horiz,
                n = (t.pointRange || 0) / 2,
                a = i.options,
                o = a.label,
                r = i.label,
                l = a.width,
                d = a.to,
                c = a.from,
                u = D(c) && D(d),
                h = a.value,
                p = a.dashStyle,
                f = i.svgElem,
                m = [],
                g = a.color,
                v = a.zIndex,
                y = a.events,
                b = t.chart.renderer;
            if (t.isLog && (c = z(c), d = z(d), h = z(h)), l) m = t.getPlotLinePath(h, l), n = {
                stroke: g,
                "stroke-width": l
            }, p && (n.dashstyle = p);
            else {
                if (!u) return;
                c = F(c, t.min - n), d = w(d, t.max + n), m = t.getPlotBandPath(c, d, a), n = {
                    fill: g
                }, a.borderWidth && (n.stroke = a.borderColor, n["stroke-width"] = a.borderWidth)
            }
            if (D(v) && (n.zIndex = v), f) m ? f.animate({
                d: m
            }, null, f.onGetPath) : (f.hide(), f.onGetPath = function() {
                f.show()
            });
            else if (m && m.length && (i.svgElem = f = b.path(m).attr(n).add(), y))
                for (e in a = function(t) {
                        f.on(t, function(e) {
                            y[t].apply(i, [e])
                        })
                    }, y) a(e);
            return o && D(o.text) && m && m.length && 0 < t.width && 0 < t.height ? (o = M({
                align: s && u && "center",
                x: s ? !u && 4 : 10,
                verticalAlign: !s && u && "middle",
                y: s ? u ? 16 : 10 : u ? 6 : -4,
                rotation: s && !u && 90
            }, o), r || (i.label = r = b.text(o.text, 0, 0, o.useHTML).attr({
                align: o.textAlign || o.align,
                rotation: o.rotation,
                zIndex: v
            }).css(o.style).add()), t = [m[1], m[4], L(m[6], m[1])], m = [m[2], m[5], L(m[7], m[2])], s = ie(t), u = ie(m), r.align(o, !1, {
                x: s,
                y: u,
                width: se(t) - s,
                height: se(m) - u
            }), r.show()) : r && r.hide(), i
        },
        destroy: function() {
            h(this.axis.plotLinesAndBands, this), delete this.axis, a(this)
        }
    }, he.prototype = {
        defaultOptions: {
            dateTimeLabelFormats: {
                millisecond: "%H:%M:%S.%L",
                second: "%H:%M:%S",
                minute: "%H:%M",
                hour: "%H:%M",
                day: "%e. %b",
                week: "%e. %b",
                month: "%b '%y",
                year: "%Y"
            },
            endOnTick: !(ue.prototype = {
                destroy: function() {
                    a(this, this.axis)
                },
                render: function(e) {
                    var t = this.options,
                        i = (i = t.format) ? X(i, this) : t.formatter.call(this);
                    this.label ? this.label.attr({
                        text: i,
                        visibility: "hidden"
                    }) : this.label = this.axis.chart.renderer.text(i, 0, 0, t.useHTML).css(t.style).attr({
                        align: this.textAlign,
                        rotation: t.rotation,
                        visibility: "hidden"
                    }).add(e)
                },
                setOffset: function(e, t) {
                    var i = (o = this.axis).chart,
                        s = i.inverted,
                        n = this.isNegative,
                        a = o.translate(this.percent ? 100 : this.total, 0, 0, 0, 1),
                        o = o.translate(0),
                        o = O(a - o),
                        e = i.xAxis[0].translate(this.x) + e,
                        r = i.plotHeight,
                        n = {
                            x: s ? n ? a : a - o : e,
                            y: s ? r - e - t : n ? r - a - o : r - a,
                            width: s ? o : t,
                            height: s ? t : o
                        };
                    (s = this.label) && (s.align(this.alignOptions, null, n), n = s.alignAttr, s.attr({
                        visibility: !1 === this.options.crop || i.isInsidePlot(n.x, n.y) ? E ? "inherit" : "visible" : "hidden"
                    }))
                }
            }),
            gridLineColor: "#C0C0C0",
            labels: t,
            lineColor: "#C0D0E0",
            lineWidth: 1,
            minPadding: .01,
            maxPadding: .01,
            minorGridLineColor: "#E0E0E0",
            minorGridLineWidth: 1,
            minorTickColor: "#A0A0A0",
            minorTickLength: 2,
            minorTickPosition: "outside",
            startOfWeek: 1,
            startOnTick: !1,
            tickColor: "#C0D0E0",
            tickLength: 5,
            tickmarkPlacement: "between",
            tickPixelInterval: 100,
            tickPosition: "outside",
            tickWidth: 1,
            title: {
                align: "middle",
                style: {
                    color: "#4d759e",
                    fontWeight: "bold"
                }
            },
            type: "linear"
        },
        defaultYAxisOptions: {
            endOnTick: !0,
            gridLineWidth: 1,
            tickPixelInterval: 72,
            showLastLabel: !0,
            labels: {
                x: -8,
                y: 3
            },
            lineWidth: 0,
            maxPadding: .05,
            minPadding: .05,
            startOnTick: !0,
            tickWidth: 0,
            title: {
                rotation: 270,
                text: "Values"
            },
            stackLabels: {
                enabled: !1,
                formatter: function() {
                    return Y(this.total, -1)
                },
                style: t.style
            }
        },
        defaultLeftAxisOptions: {
            labels: {
                x: -8,
                y: null
            },
            title: {
                rotation: 270
            }
        },
        defaultRightAxisOptions: {
            labels: {
                x: 8,
                y: null
            },
            title: {
                rotation: 90
            }
        },
        defaultBottomAxisOptions: {
            labels: {
                x: 0,
                y: 14
            },
            title: {
                rotation: 0
            }
        },
        defaultTopAxisOptions: {
            labels: {
                x: 0,
                y: -5
            },
            title: {
                rotation: 0
            }
        },
        init: function(e, t) {
            var i = t.isX;
            this.horiz = e.inverted ? !i : i, this.xOrY = (this.isXAxis = i) ? "x" : "y", this.opposite = t.opposite, this.side = this.horiz ? this.opposite ? 0 : 2 : this.opposite ? 1 : 3, this.setOptions(t);
            var s = (a = this.options).type;
            this.labelFormatter = a.labels.formatter || this.defaultLabelFormatter, this.userOptions = t, this.minPixelPadding = 0, this.chart = e, this.reversed = a.reversed, this.zoomEnabled = !1 !== a.zoomEnabled, this.categories = a.categories || "category" === s, this.isLog = "logarithmic" === s, this.isDatetimeAxis = "datetime" === s, this.isLinked = D(a.linkedTo), this.tickmarkOffset = this.categories && "between" === a.tickmarkPlacement ? .5 : 0, this.ticks = {}, this.minorTicks = {}, this.plotLinesAndBands = [], this.alternateBands = {}, this.len = 0, this.minRange = this.userMinRange = a.minRange || a.maxZoom, this.range = a.range, this.offset = a.offset || 0, this.stacks = {}, this.oldStacks = {}, this.stackExtremes = {}, this.min = this.max = null;
            var n, a = this.options.events;
            for (n in -1 === mt(this, e.axes) && (e.axes.push(this), e[i ? "xAxis" : "yAxis"].push(this)), this.series = this.series || [], e.inverted && i && this.reversed === I && (this.reversed = !0), this.removePlotLine = this.removePlotBand = this.removePlotBandOrLine, a) B(this, n, a[n]);
            this.isLog && (this.val2lin = z, this.lin2val = W)
        },
        setOptions: function(e) {
            this.options = M(this.defaultOptions, this.isXAxis ? {} : this.defaultYAxisOptions, [this.defaultTopAxisOptions, this.defaultRightAxisOptions, this.defaultBottomAxisOptions, this.defaultLeftAxisOptions][this.side], M(N[this.isXAxis ? "xAxis" : "yAxis"], e))
        },
        update: function(e, t) {
            var i = this.chart,
                e = i.options[this.xOrY + "Axis"][this.options.index] = M(this.userOptions, e);
            this.destroy(!0), this._addedPlotLB = this.userMin = this.userMax = I, this.init(i, $(e, {
                events: I
            })), L(t, i.isDirtyBox = !0) && i.redraw()
        },
        remove: function(e) {
            var t = this.chart,
                i = this.xOrY + "Axis";
            R(this.series, function(e) {
                e.remove(!1)
            }), h(t.axes, this), h(t[i], this), t.options[i].splice(this.options.index, 1), R(t[i], function(e, t) {
                e.options.index = t
            }), this.destroy(), L(e, t.isDirtyBox = !0) && t.redraw()
        },
        defaultLabelFormatter: function() {
            var e, t = this.axis,
                i = this.value,
                s = t.categories,
                n = this.dateTimeLabelFormat,
                a = N.lang.numericSymbols,
                o = a && a.length,
                r = t.options.labels.format,
                t = t.isLog ? i : t.tickInterval;
            if (r) e = X(r, this);
            else if (s) e = i;
            else if (n) e = we(n, i);
            else if (o && 1e3 <= t)
                for (; o-- && e === I;)(s = Math.pow(1e3, o + 1)) <= t && null !== a[o] && (e = Y(i / s, -1) + a[o]);
            return e = e === I ? Y(i, 1e3 <= i ? 0 : -1) : e
        },
        getSeriesExtremes: function() {
            var s = this,
                n = s.chart;
            s.hasVisibleSeries = !1, s.dataMin = s.dataMax = null, s.stackExtremes = {}, s.buildStacks(), R(s.series, function(e) {
                var t, i;
                !e.visible && n.options.chart.ignoreHiddenSeries || (i = e.options.threshold, s.hasVisibleSeries = !0, s.isLog && i <= 0 && (i = null), s.isXAxis ? (i = e.xData).length && (s.dataMin = w(L(s.dataMin, i[0]), ie(i)), s.dataMax = F(L(s.dataMax, i[0]), se(i))) : (e.getExtremes(), t = e.dataMax, D(e = e.dataMin) && D(t) && (s.dataMin = w(L(s.dataMin, e), e), s.dataMax = F(L(s.dataMax, t), t)), D(i) && (s.dataMin >= i ? (s.dataMin = i, s.ignoreMinPadding = !0) : s.dataMax < i && (s.dataMax = i, s.ignoreMaxPadding = !0))))
            })
        },
        translate: function(e, t, i, s, n, a) {
            var o = this.len,
                r = 1,
                l = 0,
                d = s ? this.oldTransA : this.transA,
                s = s ? this.oldMin : this.min,
                c = this.minPixelPadding,
                n = (this.options.ordinal || this.isLog && n) && this.lin2val,
                d = d || this.transA;
            return i && (r *= -1, l = o), this.reversed && (l -= (r *= -1) * o), t ? (e = e * r + l, e = (e -= c) / d + s, n && (e = this.lin2val(e))) : e = r * ((e = n ? this.val2lin(e) : e) - s) * d + l + r * c + (y(a = "between" === a ? .5 : a) ? d * a * this.pointRange : 0), e
        },
        toPixels: function(e, t) {
            return this.translate(e, !1, !this.horiz, null, !0) + (t ? 0 : this.pos)
        },
        toValue: function(e, t) {
            return this.translate(e - (t ? 0 : this.pos), !0, !this.horiz, null, !0)
        },
        getPlotLinePath: function(e, t, i, s) {
            var n, a, o, r = this.chart,
                l = this.left,
                d = this.top,
                e = this.translate(e, null, null, i),
                c = i && r.oldChartHeight || r.chartHeight,
                u = i && r.oldChartWidth || r.chartWidth,
                h = this.transB;
            return i = n = j(e + h), h = a = j(c - e - h), isNaN(e) ? o = !0 : this.horiz ? (h = d, a = c - this.bottom, (i < l || i > l + this.width) && (o = !0)) : (i = l, n = u - this.right, (h < d || h > d + this.height) && (o = !0)), o && !s ? null : r.renderer.crispLine(["M", i, h, "L", n, a], t || 0)
        },
        getPlotBandPath: function(e, t) {
            t = this.getPlotLinePath(t), e = this.getPlotLinePath(e);
            return e && t ? e.push(t[4], t[5], t[1], t[2]) : e = null, e
        },
        getLinearTickPositions: function(e, t, i) {
            for (var s, t = ae(T(t / e) * e), i = ae(je(i / e) * e), n = []; t <= i && (n.push(t), (t = ae(t + e)) !== s);) s = t;
            return n
        },
        getLogTickPositions: function(e, t, i, s) {
            var n = this.options,
                a = this.len,
                o = [];
            if (s || (this._minorAutoInterval = null), .5 <= e) e = j(e), o = this.getLinearTickPositions(e, t, i);
            else if (.08 <= e)
                for (var r, l, d, c, u, a = T(t), n = .3 < e ? [1, 2, 4] : .15 < e ? [1, 2, 4, 6, 8] : [1, 2, 3, 4, 5, 6, 7, 8, 9]; a < i + 1 && !u; a++)
                    for (l = n.length, r = 0; r < l && !u; r++) t < (d = z(W(a) * n[r])) && (!s || c <= i) && o.push(c), i < c && (u = !0), c = d;
            else t = W(t), i = W(i), e = K(e = L("auto" === (e = n[s ? "minorTickInterval" : "tickInterval"]) ? null : e, this._minorAutoInterval, (i - t) * (n.tickPixelInterval / (s ? 5 : 1)) / ((s ? a / this.tickPositions.length : a) || 1)), null, J(e)), o = yt(this.getLinearTickPositions(e, t, i), z), s || (this._minorAutoInterval = e / 5);
            return s || (this.tickInterval = e), o
        },
        getMinorTickPositions: function() {
            var e, t = this.options,
                i = this.tickPositions,
                s = this.minorTickInterval,
                n = [];
            if (this.isLog)
                for (e = i.length, t = 1; t < e; t++) n = n.concat(this.getLogTickPositions(s, i[t - 1], i[t], !0));
            else if (this.isDatetimeAxis && "auto" === t.minorTickInterval)(n = n.concat(Z(Q(s), this.min, this.max, t.startOfWeek)))[0] < this.min && n.shift();
            else
                for (i = this.min + (i[0] - this.min) % s; i <= this.max; i += s) n.push(i);
            return n
        },
        adjustForMinRange: function() {
            var t, i, s, n, e, a, o = this.options,
                r = this.min,
                l = this.max,
                d = this.dataMax - this.dataMin >= this.minRange;
            this.isXAxis && this.minRange === I && !this.isLog && (D(o.min) || D(o.max) ? this.minRange = null : (R(this.series, function(e) {
                for (n = e.xData, i = e.xIncrement ? 1 : n.length - 1; 0 < i; i--) s = n[i] - n[i - 1], (t === I || s < t) && (t = s)
            }), this.minRange = w(5 * t, this.dataMax - this.dataMin))), l - r < this.minRange && (a = [r - (a = ((e = this.minRange) - l + r) / 2), L(o.min, r - a)], d && (a[2] = this.dataMin), l = [(r = se(a)) + e, L(o.max, r + e)], d && (l[2] = this.dataMax), (l = ie(l)) - r < e) && (a[0] = l - e, a[1] = L(o.min, l - e), r = se(a)), this.min = r, this.max = l
        },
        setAxisTranslation: function(e) {
            var n, a = this.max - this.min,
                o = 0,
                r = 0,
                l = 0,
                t = this.linkedParent,
                i = this.transA;
            this.isXAxis && (t ? (r = t.minPointOffset, l = t.pointRangePadding) : R(this.series, function(e) {
                var t = e.pointRange,
                    i = e.options.pointPlacement,
                    s = e.closestPointRange;
                o = F(o, t = a < t ? 0 : t), r = F(r, g(i) ? 0 : t / 2), l = F(l, "on" === i ? 0 : t), !e.noSharedTooltip && D(s) && (n = D(n) ? w(n, s) : s)
            }), t = this.ordinalSlope && n ? this.ordinalSlope / n : 1, this.minPointOffset = r *= t, this.pointRangePadding = l *= t, this.pointRange = w(o, a), this.closestPointRange = n), e && (this.oldTransA = i), this.translationSlope = this.transA = i = this.len / (a + l || 1), this.transB = this.horiz ? this.left : this.bottom, this.minPixelPadding = i * r
        },
        setTickPositions: function(e) {
            var t, i = this,
                s = i.chart,
                n = i.options,
                a = i.isLog,
                o = i.isDatetimeAxis,
                r = i.isXAxis,
                l = i.isLinked,
                d = i.options.tickPositioner,
                c = n.maxPadding,
                u = n.minPadding,
                h = n.tickInterval,
                p = n.minTickInterval,
                f = n.tickPixelInterval,
                m = i.categories;
            l ? (i.linkedParent = s[r ? "xAxis" : "yAxis"][n.linkedTo], s = i.linkedParent.getExtremes(), i.min = L(s.min, s.dataMin), i.max = L(s.max, s.dataMax), n.type !== i.linkedParent.options.type && ne(11, 1)) : (i.min = L(i.userMin, n.min, i.dataMin), i.max = L(i.userMax, n.max, i.dataMax)), a && (!e && w(i.min, L(i.dataMin, i.min)) <= 0 && ne(10, 1), i.min = ae(z(i.min)), i.max = ae(z(i.max))), i.range && (i.userMin = i.min = F(i.min, i.max - i.range), i.userMax = i.max, e) && (i.range = null), i.beforePadding && i.beforePadding(), i.adjustForMinRange(), !m && !i.usePercentage && !l && D(i.min) && D(i.max) && (s = i.max - i.min) && (D(n.min) || D(i.userMin) || !u || !(i.dataMin < 0) && i.ignoreMinPadding || (i.min -= s * u), D(n.max) || D(i.userMax) || !c || !(0 < i.dataMax) && i.ignoreMaxPadding || (i.max += s * c)), i.min === i.max || void 0 === i.min || void 0 === i.max ? i.tickInterval = 1 : l && !h && f === i.linkedParent.options.tickPixelInterval ? i.tickInterval = i.linkedParent.tickInterval : (i.tickInterval = L(h, m ? 1 : (i.max - i.min) * f / F(i.len, f)), !D(h) && i.len < f && !this.isRadial && (t = !0, i.tickInterval /= 4)), r && !e && R(i.series, function(e) {
                e.processData(i.min !== i.oldMin || i.max !== i.oldMax)
            }), i.setAxisTranslation(!0), i.beforeSetTickPositions && i.beforeSetTickPositions(), i.postProcessTickInterval && (i.tickInterval = i.postProcessTickInterval(i.tickInterval)), i.pointRange && (i.tickInterval = F(i.pointRange, i.tickInterval)), !h && i.tickInterval < p && (i.tickInterval = p), o || a || h || (i.tickInterval = K(i.tickInterval, null, J(i.tickInterval), n)), i.minorTickInterval = "auto" === n.minorTickInterval && i.tickInterval ? i.tickInterval / 5 : n.minorTickInterval, i.tickPositions = e = n.tickPositions ? [].concat(n.tickPositions) : d && d.apply(i, [i.min, i.max]), e || (!i.ordinalPositions && (i.max - i.min) / i.tickInterval > F(2 * i.len, 200) && ne(19, !0), e = o ? (i.getNonLinearTimeTicks || Z)(Q(i.tickInterval, n.units), i.min, i.max, n.startOfWeek, i.ordinalPositions, i.closestPointRange, !0) : a ? i.getLogTickPositions(i.tickInterval, i.min, i.max) : i.getLinearTickPositions(i.tickInterval, i.min, i.max), t && e.splice(1, e.length - 2), i.tickPositions = e), l || (a = e[0], o = e[e.length - 1], l = i.minPointOffset || 0, n.startOnTick ? i.min = a : i.min - l > a && e.shift(), n.endOnTick ? i.max = o : i.max + l < o && e.pop(), 1 === e.length && (i.min -= .001, i.max += .001))
        },
        setMaxTicks: function() {
            var e = this.chart,
                t = e.maxTicks || {},
                i = this.tickPositions,
                s = this._maxTicksKey = [this.xOrY, this.pos, this.len].join("-");
            !this.isLinked && !this.isDatetimeAxis && i && i.length > (t[s] || 0) && !1 !== this.options.alignTicks && (t[s] = i.length), e.maxTicks = t
        },
        adjustTickAmount: function() {
            var e = this._maxTicksKey,
                t = this.tickPositions,
                i = this.chart.maxTicks;
            if (i && i[e] && !this.isDatetimeAxis && !this.categories && !this.isLinked && !1 !== this.options.alignTicks) {
                var s = this.tickAmount,
                    n = t.length;
                if (this.tickAmount = e = i[e], n < e) {
                    for (; t.length < e;) t.push(ae(t[t.length - 1] + this.tickInterval));
                    this.transA *= (n - 1) / (e - 1), this.max = t[t.length - 1]
                }
                D(s) && e !== s && (this.isDirty = !0)
            }
        },
        setScale: function() {
            var e, t, i, s, n = this.stacks;
            if (this.oldMin = this.min, this.oldMax = this.max, this.oldAxisLength = this.len, this.setAxisSize(), s = this.len !== this.oldAxisLength, R(this.series, function(e) {
                    (e.isDirtyData || e.isDirty || e.xAxis.isDirty) && (i = !0)
                }), s || i || this.isLinked || this.forceRedraw || this.userMin !== this.oldUserMin || this.userMax !== this.oldUserMax) {
                if (!this.isXAxis)
                    for (e in n) delete n[e];
                this.forceRedraw = !1, this.getSeriesExtremes(), this.setTickPositions(), this.oldUserMin = this.userMin, this.oldUserMax = this.userMax, this.isDirty || (this.isDirty = s || this.min !== this.oldMin || this.max !== this.oldMax)
            } else if (!this.isXAxis)
                for (e in n = this.oldStacks ? this.stacks = this.oldStacks : n)
                    for (t in n[e]) n[e][t].cum = n[e][t].total;
            this.setMaxTicks()
        },
        setExtremes: function(e, t, i, s, n) {
            var a = this,
                o = a.chart,
                i = L(i, !0),
                n = $(n, {
                    min: e,
                    max: t
                });
            V(a, "setExtremes", n, function() {
                a.userMin = e, a.userMax = t, a.eventArgs = n, a.isDirtyExtremes = !0, i && o.redraw(s)
            })
        },
        zoom: function(e, t) {
            return this.allowZoomOutside || (D(this.dataMin) && e <= this.dataMin && (e = I), D(this.dataMax) && t >= this.dataMax && (t = I)), this.displayBtn = e !== I || t !== I, this.setExtremes(e, t, !1, I, {
                trigger: "zoom"
            }), !0
        },
        setAxisSize: function() {
            var e, t, i = this.chart,
                s = this.options,
                n = s.offsetLeft || 0,
                a = s.offsetRight || 0,
                o = this.horiz;
            this.left = t = L(s.left, i.plotLeft + n), this.top = e = L(s.top, i.plotTop), this.width = n = L(s.width, i.plotWidth - n + a), this.height = s = L(s.height, i.plotHeight), this.bottom = i.chartHeight - s - e, this.right = i.chartWidth - n - t, this.len = F(o ? n : s, 0), this.pos = o ? t : e
        },
        getExtremes: function() {
            var e = this.isLog;
            return {
                min: e ? ae(W(this.min)) : this.min,
                max: e ? ae(W(this.max)) : this.max,
                dataMin: this.dataMin,
                dataMax: this.dataMax,
                userMin: this.userMin,
                userMax: this.userMax
            }
        },
        getThreshold: function(e) {
            var t = (i = this.isLog) ? W(this.min) : this.min,
                i = i ? W(this.max) : this.max;
            return e < t || null === e ? e = t : i < e && (e = i), this.translate(e, 0, 1, 0, 1)
        },
        addPlotBand: function(e) {
            this.addPlotBandOrLine(e, "plotBands")
        },
        addPlotLine: function(e) {
            this.addPlotBandOrLine(e, "plotLines")
        },
        addPlotBandOrLine: function(e, t) {
            var i = new ce(this, e).render(),
                s = this.userOptions;
            return i && (t && (s[t] = s[t] || [], s[t].push(e)), this.plotLinesAndBands.push(i)), i
        },
        autoLabelAlign: function(e) {
            return 15 < (e = (L(e, 0) - 90 * this.side + 720) % 360) && e < 165 ? "right" : 195 < e && e < 345 ? "left" : "center"
        },
        getOffset: function() {
            var e, t, i, s, n, a, o, r = this,
                l = r.chart,
                d = l.renderer,
                c = r.options,
                u = r.tickPositions,
                h = r.ticks,
                p = r.horiz,
                f = r.side,
                m = l.inverted ? [1, 0, 3, 2][f] : f,
                g = 0,
                v = 0,
                y = c.title,
                b = c.labels,
                w = 0,
                _ = l.axisOffset,
                C = l.clipOffset,
                k = [-1, 1, 1, -1][f],
                x = 1,
                S = L(b.maxStaggerLines, 5);
            if (r.hasData = e = r.hasVisibleSeries || D(r.min) && D(r.max) && !!u, r.showAxis = l = e || L(c.showEmpty, !0), r.staggerLines = r.horiz && b.staggerLines, r.axisGroup || (r.gridGroup = d.g("grid").attr({
                    zIndex: c.gridZIndex || 1
                }).add(), r.axisGroup = d.g("axis").attr({
                    zIndex: c.zIndex || 2
                }).add(), r.labelGroup = d.g("axis-labels").attr({
                    zIndex: b.zIndex || 7
                }).add()), e || r.isLinked) {
                if (r.labelAlign = L(b.align || r.autoLabelAlign(b.rotation)), R(u, function(e) {
                        h[e] ? h[e].addLabel() : h[e] = new de(r, e)
                    }), r.horiz && !r.staggerLines && S && !b.rotation) {
                    for (i = r.reversed ? [].concat(u).reverse() : u; x < S;) {
                        for (s = !(e = []), b = 0; b < i.length; b++) n = i[b], o = b % x, (a = (a = h[n].label && h[n].label.getBBox()) ? a.width : 0) && (n = r.translate(n), e[o] !== I && n < e[o] && (s = !0), e[o] = n + a);
                        if (!s) break;
                        x++
                    }
                    1 < x && (r.staggerLines = x)
                }
                R(u, function(e) {
                    0 !== f && 2 !== f && {
                        1: "left",
                        3: "right"
                    } [f] !== r.labelAlign || (w = F(h[e].getLabelSize(), w))
                }), r.staggerLines && (w *= r.staggerLines, r.labelOffset = w)
            } else
                for (i in h) h[i].destroy(), delete h[i];
            y && y.text && !1 !== y.enabled && (r.axisTitle || (r.axisTitle = d.text(y.text, 0, 0, y.useHTML).attr({
                zIndex: 7,
                rotation: y.rotation || 0,
                align: y.textAlign || {
                    low: "left",
                    middle: "center",
                    high: "right"
                } [y.align]
            }).css(y.style).add(r.axisGroup), r.axisTitle.isNew = !0), l && (g = r.axisTitle.getBBox()[p ? "height" : "width"], v = L(y.margin, p ? 5 : 10), t = y.offset), r.axisTitle[l ? "show" : "hide"]()), r.offset = k * L(c.offset, _[f]), r.axisTitleMargin = L(t, w + v + (2 !== f && w && k * c.labels[p ? "y" : "x"])), _[f] = F(_[f], r.axisTitleMargin + g + k * r.offset), C[m] = F(C[m], 2 * T(c.lineWidth / 2))
        },
        getLinePath: function(e) {
            var t = this.chart,
                i = this.opposite,
                s = this.offset,
                n = this.horiz,
                a = this.left + (i ? this.width : 0) + s,
                s = t.chartHeight - this.bottom - (i ? this.height : 0) + s;
            return i && (e *= -1), t.renderer.crispLine(["M", n ? this.left : a, n ? s : this.top, "L", n ? t.chartWidth - this.right : a, n ? s : t.chartHeight - this.bottom], e)
        },
        getTitlePosition: function() {
            var e = this.horiz,
                t = this.left,
                i = this.top,
                s = this.len,
                n = this.options.title,
                a = e ? t : i,
                o = this.opposite,
                r = this.offset,
                l = _(n.style.fontSize || 12),
                s = {
                    low: a + (e ? 0 : s),
                    middle: a + s / 2,
                    high: a + (e ? s : 0)
                } [n.align],
                t = (e ? i + this.height : t) + (e ? 1 : -1) * (o ? -1 : 1) * this.axisTitleMargin + (2 === this.side ? l : 0);
            return {
                x: e ? s : t + (o ? this.width : 0) + r + (n.x || 0),
                y: e ? t - (o ? this.height : 0) + r : s + (n.y || 0)
            }
        },
        render: function() {
            var i, s, e, t, n = this,
                o = n.chart,
                a = o.renderer,
                r = n.options,
                l = n.isLog,
                d = n.isLinked,
                c = n.tickPositions,
                u = n.axisTitle,
                h = n.stacks,
                p = n.ticks,
                f = n.minorTicks,
                m = n.alternateBands,
                g = r.stackLabels,
                v = r.alternateGridColor,
                y = n.tickmarkOffset,
                b = r.lineWidth,
                w = o.hasRendered && D(n.oldMin) && !isNaN(n.oldMin),
                _ = n.hasData,
                C = n.showAxis;
            if (R([p, f, m], function(e) {
                    for (var t in e) e[t].isActive = !1
                }), (_ || d) && (n.minorTickInterval && !n.categories && R(n.getMinorTickPositions(), function(e) {
                    f[e] || (f[e] = new de(n, e, "minor")), w && f[e].isNew && f[e].render(null, !0), f[e].render(null, !1, 1)
                }), c.length && (R(c.slice(1).concat([c[0]]), function(e, t) {
                    t = t === c.length - 1 ? 0 : t + 1, (!d || e >= n.min && e <= n.max) && (p[e] || (p[e] = new de(n, e)), w && p[e].isNew && p[e].render(t, !0), p[e].render(t, !1, 1))
                }), y) && 0 === n.min && (p[-1] || (p[-1] = new de(n, -1, null, !0)), p[-1].render(-1)), v && R(c, function(e, t) {
                    t % 2 == 0 && e < n.max && (m[e] || (m[e] = new ce(n)), i = e + y, s = c[t + 1] !== I ? c[t + 1] + y : n.max, m[e].options = {
                        from: l ? W(i) : i,
                        to: l ? W(s) : s,
                        color: v
                    }, m[e].render(), m[e].isActive = !0)
                }), n._addedPlotLB || (R((r.plotLines || []).concat(r.plotBands || []), function(e) {
                    n.addPlotBandOrLine(e)
                }), n._addedPlotLB = !0)), R([p, f, m], function(e) {
                    function t() {
                        for (s = n.length; s--;) e[n[s]] && !e[n[s]].isActive && (e[n[s]].destroy(), delete e[n[s]])
                    }
                    var i, s, n = [],
                        a = _e ? _e.duration || 500 : 0;
                    for (i in e) e[i].isActive || (e[i].render(i, !1, 0), e[i].isActive = !1, n.push(i));
                    e !== m && o.hasRendered && a ? a && setTimeout(t, a) : t()
                }), b && (_ = n.getLinePath(b), n.axisLine ? n.axisLine.animate({
                    d: _
                }) : n.axisLine = a.path(_).attr({
                    stroke: r.lineColor,
                    "stroke-width": b,
                    zIndex: 7
                }).add(n.axisGroup), n.axisLine[C ? "show" : "hide"]()), u && C && (u[u.isNew ? "attr" : "animate"](n.getTitlePosition()), u.isNew = !1), g && g.enabled)
                for (e in (r = n.stackTotalGroup) || (n.stackTotalGroup = r = a.g("stack-labels").attr({
                        visibility: "visible",
                        zIndex: 6
                    }).add()), r.translate(o.plotLeft, o.plotTop), h)
                    for (t in a = h[e], a) a[t].render(r);
            n.isDirty = !1
        },
        removePlotBandOrLine: function(t) {
            for (var e = this.plotLinesAndBands, i = this.options, s = this.userOptions, n = e.length; n--;) e[n].id === t && e[n].destroy();
            R([i.plotLines || [], s.plotLines || [], i.plotBands || [], s.plotBands || []], function(e) {
                for (n = e.length; n--;) e[n].id === t && h(e, e[n])
            })
        },
        setTitle: function(e, t) {
            this.update({
                title: e
            }, t)
        },
        redraw: function() {
            var e = this.chart.pointer;
            e.reset && e.reset(!0), this.render(), R(this.plotLinesAndBands, function(e) {
                e.render()
            }), R(this.series, function(e) {
                e.isDirty = !0
            })
        },
        buildStacks: function() {
            var e = this.series,
                t = e.length;
            if (!this.isXAxis) {
                for (; t--;) e[t].setStackedPoints();
                if (this.usePercentage)
                    for (t = 0; t < e.length; t++) e[t].setPercentStacks()
            }
        },
        setCategories: function(e, t) {
            this.update({
                categories: e
            }, t)
        },
        destroy: function(e) {
            var t, i = this,
                s = i.stacks,
                n = i.plotLinesAndBands;
            for (t in e || U(i), s) a(s[t]), s[t] = null;
            for (R([i.ticks, i.minorTicks, i.alternateBands], function(e) {
                    a(e)
                }), e = n.length; e--;) n[e].destroy();
            R("stackTotalGroup,axisLine,axisGroup,gridGroup,labelGroup,axisTitle".split(","), function(e) {
                i[e] && (i[e] = i[e].destroy())
            })
        }
    }, pe.prototype = {
        init: function(e, t) {
            var i = t.borderWidth,
                s = t.style,
                n = _(s.padding);
            this.chart = e, this.options = t, this.crosshairs = [], this.now = {
                x: 0,
                y: 0
            }, this.isHidden = !0, this.label = e.renderer.label("", 0, 0, t.shape, null, null, t.useHTML, null, "tooltip").attr({
                padding: n,
                fill: t.backgroundColor,
                "stroke-width": i,
                r: t.borderRadius,
                zIndex: 8
            }).css(s).css({
                padding: 0
            }).add().attr({
                y: -999
            }), r || this.label.shadow(t.shadow), this.shared = t.shared
        },
        destroy: function() {
            R(this.crosshairs, function(e) {
                e && e.destroy()
            }), this.label && (this.label = this.label.destroy()), clearTimeout(this.hideTimer), clearTimeout(this.tooltipTimeout)
        },
        move: function(e, t, i, s) {
            var n = this,
                a = n.now,
                o = !1 !== n.options.animation && !n.isHidden;
            $(a, {
                x: o ? (2 * a.x + e) / 3 : e,
                y: o ? (a.y + t) / 2 : t,
                anchorX: o ? (2 * a.anchorX + i) / 3 : i,
                anchorY: o ? (a.anchorY + s) / 2 : s
            }), n.label.attr(a), o && (1 < O(e - a.x) || 1 < O(t - a.y)) && (clearTimeout(this.tooltipTimeout), this.tooltipTimeout = setTimeout(function() {
                n && n.move(e, t, i, s)
            }, 32))
        },
        hide: function() {
            var e, t = this;
            clearTimeout(this.hideTimer), this.isHidden || (e = this.chart.hoverPoints, this.hideTimer = setTimeout(function() {
                t.label.fadeOut(), t.isHidden = !0
            }, L(this.options.hideDelay, 500)), e && R(e, function(e) {
                e.setState()
            }), this.chart.hoverPoints = null)
        },
        hideCrosshairs: function() {
            R(this.crosshairs, function(e) {
                e && e.hide()
            })
        },
        getAnchor: function(e, t) {
            var i, s = this.chart,
                n = s.inverted,
                a = s.plotTop,
                o = 0,
                r = 0,
                l = (e = p(e))[0].tooltipPos;
            return (l = this.followPointer && t ? [(t = t.chartX === I ? s.pointer.normalize(t) : t).chartX - s.plotLeft, t.chartY - a] : l) || (R(e, function(e) {
                i = e.series.yAxis, o += e.plotX, r += (e.plotLow ? (e.plotLow + e.plotHigh) / 2 : e.plotY) + (!n && i ? i.top - a : 0)
            }), o /= e.length, r /= e.length, l = [n ? s.plotWidth - r : o, this.shared && !n && 1 < e.length && t ? t.chartY - a : n ? s.plotHeight - o : r]), yt(l, j)
        },
        getPosition: function(e, t, i) {
            var s, n = this.chart,
                a = n.plotLeft,
                o = n.plotTop,
                r = n.plotWidth,
                l = n.plotHeight,
                d = L(this.options.distance, 12),
                c = i.plotX,
                u = (i = i.plotY) - t + o + 15;
            return a + r < (n = (n = c + a + (n.inverted ? d : -e - d)) < 7 ? a + F(c, 0) + d : n) + e && (n -= n + e - (a + r), u = i - t + o - d, s = !0), {
                x: n,
                y: u = o + l < (u = u < o + 5 && (u = o + 5, s) && u <= i && i <= u + t ? i + o + d : u) + t ? F(o, o + l - t - d) : u
            }
        },
        defaultFormatter: function(e) {
            var t = this.points || p(this),
                i = t[0].series,
                s = [i.tooltipHeaderFormatter(t[0])];
            return R(t, function(e) {
                i = e.series, s.push(i.tooltipFormatter && i.tooltipFormatter(e) || e.point.tooltipFormatter(i.tooltipOptions.pointFormat))
            }), s.push(e.options.footerFormat || ""), s.join("")
        },
        refresh: function(e, t) {
            var i, s, n = this.chart,
                a = this.label,
                o = this.options,
                r = {},
                l = [],
                d = o.formatter || this.defaultFormatter,
                r = n.hoverPoints,
                c = o.crosshairs,
                u = this.shared;
            if (clearTimeout(this.hideTimer), this.followPointer = p(e)[0].series.tooltipOptions.followPointer, i = (t = this.getAnchor(e, t))[0], t = t[1], !u || e.series && e.series.noSharedTooltip ? r = e.getLabelConfig() : (n.hoverPoints = e, r && R(r, function(e) {
                    e.setState()
                }), R(e, function(e) {
                    e.setState("hover"), l.push(e.getLabelConfig())
                }), (r = {
                    x: e[0].category,
                    y: e[0].y
                }).points = l, e = e[0]), d = d.call(r, this), r = e.series, !1 === d ? this.hide() : (this.isHidden && (_t(a), a.attr("opacity", 1).show()), a.attr({
                    text: d
                }), s = o.borderColor || e.color || r.color || "#606060", a.attr({
                    stroke: s
                }), this.updatePosition({
                    plotX: i,
                    plotY: t
                }), this.isHidden = !1), c)
                for (a = (c = p(c)).length; a--;) o = (u = e.series)[a ? "yAxis" : "xAxis"], c[a] && o && (r = a ? L(e.stackY, e.y) : e.x, o.isLog && (r = z(r)), 1 === a && u.modifyValue && (r = u.modifyValue(r)), o = o.getPlotLinePath(r, 1), this.crosshairs[a] ? this.crosshairs[a].attr({
                    d: o,
                    visibility: "visible"
                }) : (r = {
                    "stroke-width": c[a].width || 1,
                    stroke: c[a].color || "#C0C0C0",
                    zIndex: c[a].zIndex || 2
                }, c[a].dashStyle && (r.dashstyle = c[a].dashStyle), this.crosshairs[a] = n.renderer.path(o).attr(r).add()));
            V(n, "tooltipRefresh", {
                text: d,
                x: i + n.plotLeft,
                y: t + n.plotTop,
                borderColor: s
            })
        },
        updatePosition: function(e) {
            var t = this.chart,
                i = this.label,
                i = (this.options.positioner || this.getPosition).call(this, i.width, i.height, e);
            this.move(j(i.x), j(i.y), e.plotX + t.plotLeft, e.plotY + t.plotTop)
        }
    }, fe.prototype = {
        init: function(e, t) {
            var i, s = (a = t.chart).events,
                n = r ? "" : a.zoomType,
                a = e.inverted;
            this.options = t, this.chart = e, this.zoomX = i = /x/.test(n), this.zoomY = n = /y/.test(n), this.zoomHor = i && !a || n && a, this.zoomVert = n && !a || i && a, this.runChartClick = s && !!s.click, this.pinchDown = [], this.lastValidTouch = {}, t.tooltip.enabled && (e.tooltip = new pe(e, t.tooltip)), this.setDOMEvents()
        },
        normalize: function(e, t) {
            var i, s;
            return (e = e || l.event).target || (e.target = e.srcElement), s = (e = bt(e)).touches ? e.touches.item(0) : e, t || (this.chartPosition = t = vt(this.chart.container)), s = s.pageX === I ? (i = F(e.x, e.clientX - t.left), e.y) : (i = s.pageX - t.left, s.pageY - t.top), $(e, {
                chartX: j(i),
                chartY: j(s)
            })
        },
        getCoordinates: function(t) {
            var i = {
                xAxis: [],
                yAxis: []
            };
            return R(this.chart.axes, function(e) {
                i[e.isXAxis ? "xAxis" : "yAxis"].push({
                    axis: e,
                    value: e.toValue(t[e.horiz ? "chartX" : "chartY"])
                })
            }), i
        },
        getIndex: function(e) {
            var t = this.chart;
            return t.inverted ? t.plotHeight + t.plotTop - e.chartY : e.chartX - t.plotLeft
        },
        runPointActions: function(e) {
            var t, i, s, n = this.chart,
                a = n.series,
                o = n.tooltip,
                r = n.hoverPoint,
                l = n.hoverSeries,
                d = n.chartWidth,
                c = this.getIndex(e);
            if (o && this.options.tooltip.shared && (!l || !l.noSharedTooltip)) {
                for (t = [], i = a.length, s = 0; s < i; s++) a[s].visible && !1 !== a[s].options.enableMouseTracking && !a[s].noSharedTooltip && a[s].tooltipPoints.length && (n = a[s].tooltipPoints[c]) && n.series && (n._dist = O(c - n.clientX), d = w(d, n._dist), t.push(n));
                for (i = t.length; i--;) t[i]._dist > d && t.splice(i, 1);
                t.length && t[0].clientX !== this.hoverX && (o.refresh(t, e), this.hoverX = t[0].clientX)
            }
            l && l.tracker ? (n = l.tooltipPoints[c]) && n !== r && n.onMouseOver(e) : o && o.followPointer && !o.isHidden && (e = o.getAnchor([{}], e), o.updatePosition({
                plotX: e[0],
                plotY: e[1]
            }))
        },
        reset: function(e) {
            var t = (n = this.chart).hoverSeries,
                i = n.hoverPoint,
                s = n.tooltip,
                n = s && s.shared ? n.hoverPoints : i;
            (e = (e = e && s && n) && p(n)[0].plotX === I ? !1 : e) ? s.refresh(n): (i && i.onMouseOut(), t && t.onMouseOut(), s && (s.hide(), s.hideCrosshairs()), this.hoverX = null)
        },
        scaleGroups: function(t, i) {
            var s, n = this.chart;
            R(n.series, function(e) {
                s = t || e.getPlotBox(), e.xAxis && e.xAxis.zoomEnabled && (e.group.attr(s), e.markerGroup && (e.markerGroup.attr(s), e.markerGroup.clip(i ? n.clipRect : null)), e.dataLabelsGroup) && e.dataLabelsGroup.attr(s)
            }), n.clipRect.attr(i || n.clipBox)
        },
        pinchTranslateDirection: function(e, t, i, s, n, a, o) {
            var r, l, d, c = this.chart,
                u = e ? "x" : "y",
                h = e ? "X" : "Y",
                p = "chart" + h,
                f = e ? "width" : "height",
                m = c["plot" + (e ? "Left" : "Top")],
                g = 1,
                v = c.inverted,
                y = c.bounds[e ? "h" : "v"],
                b = 1 === t.length,
                w = t[0][p],
                _ = i[0][p],
                C = !b && t[1][p],
                k = !b && i[1][p];
            (i = function() {
                !b && 20 < O(w - C) && (g = O(_ - k) / O(w - C)), l = (m - _) / g + w, r = c["plot" + (e ? "Width" : "Height")] / g
            })(), (t = l) < y.min ? (t = y.min, d = !0) : t + r > y.max && (t = y.max - r, d = !0), d ? (_ -= .8 * (_ - o[u][0]), b || (k -= .8 * (k - o[u][1])), i()) : o[u] = [_, k], v || (a[u] = l - m, a[f] = r), a = v ? 1 / g : g, n[f] = r, n[u] = t, s[v ? e ? "scaleY" : "scaleX" : "scale" + h] = g, s["translate" + h] = a * m + (_ - a * w)
        },
        pinch: function(e) {
            var t = this,
                o = t.chart,
                i = t.pinchDown,
                s = o.tooltip && o.tooltip.options.followTouchMove,
                n = e.touches,
                a = n.length,
                r = t.lastValidTouch,
                l = t.zoomHor || t.pinchHor,
                d = t.zoomVert || t.pinchVert,
                c = l || d,
                u = t.selectionMarker,
                h = {},
                p = 1 === a && (t.inClass(e.target, "highcharts-tracker") && o.runTrackerClick || o.runChartClick),
                f = {};
            !c && !s || p || e.preventDefault(), yt(n, function(e) {
                return t.normalize(e)
            }), "touchstart" === e.type ? (R(n, function(e, t) {
                i[t] = {
                    chartX: e.chartX,
                    chartY: e.chartY
                }
            }), r.x = [i[0].chartX, i[1] && i[1].chartX], r.y = [i[0].chartY, i[1] && i[1].chartY], R(o.axes, function(e) {
                var t, i, s, n, a;
                e.zoomEnabled && (t = o.bounds[e.horiz ? "h" : "v"], i = e.minPixelPadding, a = e.toPixels(e.dataMin), s = e.toPixels(e.dataMax), n = w(a, s), a = F(a, s), t.min = w(e.pos, n - i), t.max = F(e.pos + e.len, a + i))
            })) : i.length && (u || (t.selectionMarker = u = $({
                destroy: ve
            }, o.plotBox)), l && t.pinchTranslateDirection(!0, i, n, h, u, f, r), d && t.pinchTranslateDirection(!1, i, n, h, u, f, r), t.hasPinched = c, t.scaleGroups(h, f), !c) && s && 1 === a && this.runPointActions(t.normalize(e))
        },
        dragStart: function(e) {
            var t = this.chart;
            t.mouseIsDown = e.type, t.cancelClick = !1, t.mouseDownX = this.mouseDownX = e.chartX, t.mouseDownY = this.mouseDownY = e.chartY
        },
        drag: function(e) {
            var t, i = this.chart,
                s = i.options.chart,
                n = e.chartX,
                a = e.chartY,
                o = this.zoomHor,
                r = this.zoomVert,
                l = i.plotLeft,
                d = i.plotTop,
                c = i.plotWidth,
                u = i.plotHeight,
                h = this.mouseDownX,
                p = this.mouseDownY;
            n < l ? n = l : l + c < n && (n = l + c), a < d ? a = d : d + u < a && (a = d + u), this.hasDragged = Math.sqrt(Math.pow(h - n, 2) + Math.pow(p - a, 2)), 10 < this.hasDragged && (t = i.isInsidePlot(h - l, p - d), i.hasCartesianSeries && (this.zoomX || this.zoomY) && t && !this.selectionMarker && (this.selectionMarker = i.renderer.rect(l, d, o ? 1 : c, r ? 1 : u, 0).attr({
                fill: s.selectionMarkerFill || "rgba(69,114,167,0.25)",
                zIndex: 7
            }).add()), this.selectionMarker && o && this.selectionMarker.attr({
                width: O(n -= h),
                x: (0 < n ? 0 : n) + h
            }), this.selectionMarker && r && this.selectionMarker.attr({
                height: O(n = a - p),
                y: (0 < n ? 0 : n) + p
            }), t) && !this.selectionMarker && s.panning && i.pan(e, s.panning)
        },
        drop: function(e) {
            var s, n, a, o, r, t = this.chart,
                i = this.hasPinched;
            this.selectionMarker && (s = {
                xAxis: [],
                yAxis: [],
                originalEvent: e.originalEvent || e
            }, n = this.selectionMarker, a = n.x, o = n.y, (this.hasDragged || i) && (R(t.axes, function(e) {
                var t, i;
                e.zoomEnabled && (i = e.horiz, t = e.toValue(i ? a : o), i = e.toValue(i ? a + n.width : o + n.height), isNaN(t) || isNaN(i) || (s[e.xOrY + "Axis"].push({
                    axis: e,
                    min: w(t, i),
                    max: F(t, i)
                }), r = !0))
            }), r) && V(t, "selection", s, function(e) {
                t.zoom($(e, i ? {
                    animation: !1
                } : null))
            }), this.selectionMarker = this.selectionMarker.destroy(), i) && this.scaleGroups(), t && (k(t.container, {
                cursor: t._cursor
            }), t.cancelClick = 10 < this.hasDragged, t.mouseIsDown = this.hasDragged = this.hasPinched = !1, this.pinchDown = [])
        },
        onContainerMouseDown: function(e) {
            (e = this.normalize(e)).preventDefault && e.preventDefault(), this.dragStart(e)
        },
        onDocumentMouseUp: function(e) {
            this.drop(e)
        },
        onDocumentMouseMove: function(e) {
            var t = this.chart,
                i = this.chartPosition,
                s = t.hoverSeries,
                e = this.normalize(e, i);
            i && s && !this.inClass(e.target, "highcharts-tracker") && !t.isInsidePlot(e.chartX - t.plotLeft, e.chartY - t.plotTop) && this.reset()
        },
        onContainerMouseLeave: function() {
            this.reset(), this.chartPosition = null
        },
        onContainerMouseMove: function(e) {
            var t = this.chart;
            (e = this.normalize(e)).returnValue = !1, "mousedown" === t.mouseIsDown && this.drag(e), !this.inClass(e.target, "highcharts-tracker") && !t.isInsidePlot(e.chartX - t.plotLeft, e.chartY - t.plotTop) || t.openMenu || this.runPointActions(e)
        },
        inClass: function(e, t) {
            for (var i; e;) {
                if (i = C(e, "class")) {
                    if (-1 !== i.indexOf(t)) return !0;
                    if (-1 !== i.indexOf("highcharts-container")) return !1
                }
                e = e.parentNode
            }
        },
        onTrackerMouseOut: function(e) {
            var t = this.chart.hoverSeries;
            !t || t.options.stickyTracking || this.inClass(e.toElement || e.relatedTarget, "highcharts-tooltip") || t.onMouseOut()
        },
        onContainerClick: function(e) {
            var t, i, s, n = this.chart,
                a = n.hoverPoint,
                o = n.plotLeft,
                r = n.plotTop,
                l = n.inverted;
            (e = this.normalize(e)).cancelBubble = !0, n.cancelClick || (a && this.inClass(e.target, "highcharts-tracker") ? (t = this.chartPosition, i = a.plotX, s = a.plotY, $(a, {
                pageX: t.left + o + (l ? n.plotWidth - s : i),
                pageY: t.top + r + (l ? n.plotHeight - i : s)
            }), V(a.series, "click", $(e, {
                point: a
            })), n.hoverPoint && a.firePointEvent("click", e)) : ($(e, this.getCoordinates(e)), n.isInsidePlot(e.chartX - o, e.chartY - r) && V(n, "click", e)))
        },
        onContainerTouchStart: function(e) {
            var t = this.chart;
            1 === e.touches.length ? (e = this.normalize(e), t.isInsidePlot(e.chartX - t.plotLeft, e.chartY - t.plotTop) ? (this.runPointActions(e), this.pinch(e)) : this.reset()) : 2 === e.touches.length && this.pinch(e)
        },
        onContainerTouchMove: function(e) {
            1 !== e.touches.length && 2 !== e.touches.length || this.pinch(e)
        },
        onDocumentTouchEnd: function(e) {
            this.drop(e)
        },
        setDOMEvents: function() {
            var e, i = this,
                t = i.chart.container;
            this._events = e = [
                [t, "onmousedown", "onContainerMouseDown"],
                [t, "onmousemove", "onContainerMouseMove"],
                [t, "onclick", "onContainerClick"],
                [t, "mouseleave", "onContainerMouseLeave"],
                [x, "mousemove", "onDocumentMouseMove"],
                [x, "mouseup", "onDocumentMouseUp"]
            ], Ye && e.push([t, "ontouchstart", "onContainerTouchStart"], [t, "ontouchmove", "onContainerTouchMove"], [x, "touchend", "onDocumentTouchEnd"]), R(e, function(t) {
                i["_" + t[2]] = function(e) {
                    i[t[2]](e)
                }, 0 === t[1].indexOf("on") ? t[0][t[1]] = i["_" + t[2]] : B(t[0], t[1], i["_" + t[2]])
            })
        },
        destroy: function() {
            var t = this;
            R(t._events, function(e) {
                0 === e[1].indexOf("on") ? e[0][e[1]] = null : U(e[0], e[1], t["_" + e[2]])
            }), delete t._events, clearInterval(t.tooltipTimeout)
        }
    }, me.prototype = {
        init: function(e, t) {
            var i = this,
                s = t.itemStyle,
                n = L(t.padding, 8),
                a = t.itemMarginTop || 0;
            (this.options = t).enabled && (i.baseline = _(s.fontSize) + 3 + a, i.itemStyle = s, i.itemHiddenStyle = M(s, t.itemHiddenStyle), i.itemMarginTop = a, i.padding = n, i.initialItemX = n, i.initialItemY = n - 5, i.maxItemWidth = 0, i.chart = e, i.itemHeight = 0, i.lastLineHeight = 0, i.render(), B(i.chart, "endResize", function() {
                i.positionCheckboxes()
            }))
        },
        colorizeItem: function(e, t) {
            var i, s = this.options,
                n = e.legendItem,
                a = e.legendLine,
                o = e.legendSymbol,
                r = this.itemHiddenStyle.color,
                s = t ? s.itemStyle.color : r,
                t = t ? e.color : r,
                r = e.options && e.options.marker,
                l = {
                    stroke: t,
                    fill: t
                };
            if (n && n.css({
                    fill: s,
                    color: s
                }), a && a.attr({
                    stroke: t
                }), o) {
                if (r && o.isMarker)
                    for (i in r = e.convertAttribs(r)) n = r[i], n !== I && (l[i] = n);
                o.attr(l)
            }
        },
        positionItem: function(e) {
            var t = (i = this.options).symbolPadding,
                i = !i.rtl,
                s = (n = e._legendItemPos)[0],
                n = n[1],
                a = e.checkbox;
            e.legendGroup && e.legendGroup.translate(i ? s : this.legendWidth - s - 2 * t - 4, n), a && (a.x = s, a.y = n)
        },
        destroyItem: function(t) {
            var e = t.checkbox;
            R(["legendItem", "legendLine", "legendSymbol", "legendGroup"], function(e) {
                t[e] && (t[e] = t[e].destroy())
            }), e && o(t.checkbox)
        },
        destroy: function() {
            var e = this.group,
                t = this.box;
            t && (this.box = t.destroy()), e && (this.group = e.destroy())
        },
        positionCheckboxes: function(s) {
            var n, a = this.group.alignAttr,
                o = this.clipHeight || this.legendHeight;
            a && (n = a.translateY, R(this.allItems, function(e) {
                var t, i = e.checkbox;
                i && (t = n + i.y + (s || 0) + 3, k(i, {
                    left: a.translateX + e.legendItemWidth + i.x - 20 + "px",
                    top: t + "px",
                    display: n - 6 < t && t < n + o - 6 ? "" : q
                }))
            }))
        },
        renderTitle: function() {
            var e = this.padding,
                t = this.options.title,
                i = 0;
            t.text && (this.title || (this.title = this.chart.renderer.label(t.text, e - 3, e - 4, null, null, null, null, null, "legend-title").attr({
                zIndex: 1
            }).css(t.style).add(this.group)), i = (e = this.title.getBBox()).height, this.offsetWidth = e.width, this.contentGroup.attr({
                translateY: i
            })), this.titleHeight = i
        },
        renderItem: function(i) {
            var e = this,
                t = e.chart,
                s = t.renderer,
                n = e.options,
                a = "horizontal" === n.layout,
                o = n.symbolWidth,
                r = n.symbolPadding,
                l = e.itemStyle,
                d = e.itemHiddenStyle,
                c = e.padding,
                u = a ? L(n.itemDistance, 8) : 0,
                h = !n.rtl,
                p = n.width,
                f = n.itemMarginBottom || 0,
                m = e.itemMarginTop,
                g = e.initialItemX,
                v = i.legendItem,
                y = i.series || i,
                b = y.options,
                w = b.showCheckbox,
                _ = n.useHTML;
            !v && (i.legendGroup = s.g("legend-item").attr({
                zIndex: 1
            }).add(e.scrollGroup), y.drawLegendSymbol(e, i), i.legendItem = v = s.text(n.labelFormat ? X(n.labelFormat, i) : n.labelFormatter.call(i), h ? o + r : -r, e.baseline, _).css(M(i.visible ? l : d)).attr({
                align: h ? "left" : "right",
                zIndex: 2
            }).add(i.legendGroup), (_ ? v : i.legendGroup).on("mouseover", function() {
                i.setState("hover"), v.css(e.options.itemHoverStyle)
            }).on("mouseout", function() {
                v.css(i.visible ? l : d), i.setState()
            }).on("click", function(e) {
                function t() {
                    i.setVisible()
                }
                e = {
                    browserEvent: e
                };
                i.firePointEvent ? i.firePointEvent("legendItemClick", e, t) : V(i, "legendItemClick", e, t)
            }), e.colorizeItem(i, i.visible), b) && w && (i.checkbox = A("input", {
                type: "checkbox",
                checked: i.selected,
                defaultChecked: i.selected
            }, n.itemCheckboxStyle, t.container), B(i.checkbox, "click", function(e) {
                V(i, "checkboxClick", {
                    checked: e.target.checked
                }, function() {
                    i.select()
                })
            })), s = v.getBBox(), n = i.legendItemWidth = n.itemWidth || o + r + s.width + u + (w ? 20 : 0), e.itemHeight = o = s.height, a && e.itemX - g + n > (p || t.chartWidth - 2 * c - g) && (e.itemX = g, e.itemY += m + e.lastLineHeight + f, e.lastLineHeight = 0), e.maxItemWidth = F(e.maxItemWidth, n), e.lastItemY = m + e.itemY + f, e.lastLineHeight = F(o, e.lastLineHeight), i._legendItemPos = [e.itemX, e.itemY], a ? e.itemX += n : (e.itemY += m + o + f, e.lastLineHeight = o), e.offsetWidth = p || F((a ? e.itemX - g - u : n) + c, e.offsetWidth)
        },
        render: function() {
            var i, e, t, s, n = this,
                a = n.chart,
                o = a.renderer,
                r = n.group,
                l = n.box,
                d = n.options,
                c = n.padding,
                u = d.borderWidth,
                h = d.backgroundColor;
            n.itemX = n.initialItemX, n.itemY = n.initialItemY, n.offsetWidth = 0, n.lastItemY = 0, r || (n.group = r = o.g("legend").attr({
                zIndex: 7
            }).add(), n.contentGroup = o.g().attr({
                zIndex: 1
            }).add(r), n.scrollGroup = o.g().add(n.contentGroup)), n.renderTitle(), i = [], R(a.series, function(e) {
                var t = e.options;
                t.showInLegend && !D(t.linkedTo) && (i = i.concat(e.legendItems || ("point" === t.legendType ? e.data : e)))
            }), te(i, function(e, t) {
                return (e.options && e.options.legendIndex || 0) - (t.options && t.options.legendIndex || 0)
            }), d.reversed && i.reverse(), n.allItems = i, n.display = e = !!i.length, R(i, function(e) {
                n.renderItem(e)
            }), t = d.width || n.offsetWidth, s = n.lastItemY + n.lastLineHeight + n.titleHeight, s = n.handleOverflow(s), (u || h) && (t += c, s += c, l ? 0 < t && 0 < s && (l[l.isNew ? "attr" : "animate"](l.crisp(null, null, null, t, s)), l.isNew = !1) : (n.box = l = o.rect(0, 0, t, s, d.borderRadius, u || 0).attr({
                stroke: d.borderColor,
                "stroke-width": u || 0,
                fill: h || q
            }).add(r).shadow(d.shadow), l.isNew = !0), l[e ? "show" : "hide"]()), n.legendWidth = t, n.legendHeight = s, R(i, function(e) {
                n.positionItem(e)
            }), e && r.align($({
                width: t,
                height: s
            }, d), !0, "spacingBox"), a.isResizing || this.positionCheckboxes()
        },
        handleOverflow: function(e) {
            var t = this,
                i = this.chart,
                s = i.renderer,
                n = this.options,
                a = n.y,
                a = i.spacingBox.height + ("top" === n.verticalAlign ? -a : a) - this.padding,
                o = n.maxHeight,
                r = this.clipRect,
                l = n.navigation,
                d = L(l.animation, !0),
                c = l.arrowSize || 12,
                u = this.nav;
            return "horizontal" === n.layout && (a /= 2), (a = o ? w(a, o) : a) < e && !n.useHTML ? (this.clipHeight = i = a - 20 - this.titleHeight, this.pageCount = je(e / i), this.currentPage = L(this.currentPage, 1), this.fullHeight = e, r || (r = t.clipRect = s.clipRect(0, 0, 9999, 0), t.contentGroup.clip(r)), r.attr({
                height: i
            }), u || (this.nav = u = s.g().attr({
                zIndex: 1
            }).add(this.group), this.up = s.symbol("triangle", 0, 0, c, c).on("click", function() {
                t.scroll(-1, d)
            }).add(u), this.pager = s.text("", 15, 10).css(l.style).add(u), this.down = s.symbol("triangle-down", 0, 0, c, c).on("click", function() {
                t.scroll(1, d)
            }).add(u)), t.scroll(0), e = a) : u && (r.attr({
                height: i.chartHeight
            }), u.hide(), this.scrollGroup.attr({
                translateY: 1
            }), this.clipHeight = 0), e
        },
        scroll: function(e, t) {
            var i = this.pageCount,
                e = this.currentPage + e,
                s = this.clipHeight,
                n = (o = this.options.navigation).activeColor,
                a = o.inactiveColor,
                o = this.pager,
                r = this.padding;
            0 < (e = i < e ? i : e) && (t !== I && oe(t, this.chart), this.nav.attr({
                translateX: r,
                translateY: s + 7 + this.titleHeight,
                visibility: "visible"
            }), this.up.attr({
                fill: 1 === e ? a : n
            }).css({
                cursor: 1 === e ? "default" : "pointer"
            }), o.attr({
                text: e + "/" + this.pageCount
            }), this.down.attr({
                x: 18 + this.pager.getBBox().width,
                fill: e === i ? a : n
            }).css({
                cursor: e === i ? "default" : "pointer"
            }), s = 1 - w(s * (e - 1), this.fullHeight - s + r), this.scrollGroup.animate({
                translateY: s
            }), o.attr({
                text: e + "/" + i
            }), this.currentPage = e, this.positionCheckboxes(s))
        }
    }, /Trident.*?11\.0/.test(qe) && n(me.prototype, "positionItem", function(e, t) {
        var i = this;
        setTimeout(function() {
            e.call(i, t)
        })
    }), (ge.prototype = {
        init: function(e, t) {
            var i, s, n = e.series,
                a = (e.series = null, (i = M(N, e)).series = e.series = n, n = i.chart, this.margin = this.splashArray("margin", n), this.spacing = this.splashArray("spacing", n), n.events),
                o = (this.bounds = {
                    h: {},
                    v: {}
                }, this.callback = t, this.isResizing = 0, this.options = i, this.axes = [], this.series = [], this.hasCartesianSeries = n.showAxes, this);
            if (o.index = Je.length, Je.push(o), !1 !== n.reflow && B(o, "load", function() {
                    o.initReflow()
                }), a)
                for (s in a) B(o, s, a[s]);
            o.xAxis = [], o.yAxis = [], o.animation = !r && L(n.animation, !0), o.pointCount = 0, o.counters = new ee, o.firstRender()
        },
        initSeries: function(e) {
            var t = this.options.chart;
            return (t = u[e.type || t.type || t.defaultSeriesType]) || ne(17, !0), (t = new t).init(this, e), t
        },
        addSeries: function(e, t, i) {
            var s, n = this;
            return e && (t = L(t, !0), V(n, "addSeries", {
                options: e
            }, function() {
                s = n.initSeries(e), n.isDirtyLegend = !0, n.linkSeries(), t && n.redraw(i)
            })), s
        },
        addAxis: function(e, t, i, s) {
            var n = t ? "xAxis" : "yAxis",
                a = this.options;
            new he(this, M(e, {
                index: this[n].length,
                isX: t
            })), a[n] = p(a[n] || {}), a[n].push(e), L(i, !0) && this.redraw(s)
        },
        isInsidePlot: function(e, t, i) {
            var s = i ? t : e,
                e = i ? e : t;
            return 0 <= s && s <= this.plotWidth && 0 <= e && e <= this.plotHeight
        },
        adjustTickAmounts: function() {
            !1 !== this.options.chart.alignTicks && R(this.axes, function(e) {
                e.adjustTickAmount()
            }), this.maxTicks = null
        },
        redraw: function(e) {
            var t, i, s = this.axes,
                n = this.series,
                a = this.pointer,
                o = this.legend,
                r = this.isDirtyLegend,
                l = this.isDirtyBox,
                d = n.length,
                c = d,
                u = this.renderer,
                h = u.isHidden(),
                p = [];
            for (oe(e, this), h && this.cloneRenderTo(), this.layOutTitles(); c--;)
                if ((e = n[c]).options.stacking && (t = !0, e.isDirty)) {
                    i = !0;
                    break
                } if (i)
                for (c = d; c--;)(e = n[c]).options.stacking && (e.isDirty = !0);
            R(n, function(e) {
                e.isDirty && "point" === e.options.legendType && (r = !0)
            }), r && o.options.enabled && (o.render(), this.isDirtyLegend = !1), t && this.getStacks(), this.hasCartesianSeries && (this.isResizing || (this.maxTicks = null, R(s, function(e) {
                e.setScale()
            })), this.adjustTickAmounts(), this.getMargins(), R(s, function(e) {
                e.isDirty && (l = !0)
            }), R(s, function(e) {
                e.isDirtyExtremes && (e.isDirtyExtremes = !1, p.push(function() {
                    V(e, "afterSetExtremes", $(e.eventArgs, e.getExtremes())), delete e.eventArgs
                })), (l || t) && e.redraw()
            })), l && this.drawChartBox(), R(n, function(e) {
                e.isDirty && e.visible && (!e.isCartesian || e.xAxis) && e.redraw()
            }), a && a.reset && a.reset(!0), u.draw(), V(this, "redraw"), h && this.cloneRenderTo(!0), R(p, function(e) {
                e.call()
            })
        },
        showLoading: function(e) {
            var t = this.options,
                i = this.loadingDiv,
                s = t.loading;
            i || (this.loadingDiv = i = A(Ke, {
                className: "highcharts-loading"
            }, $(s.style, {
                zIndex: 10,
                display: q
            }), this.container), this.loadingSpan = A("span", null, s.labelStyle, i)), this.loadingSpan.innerHTML = e || t.lang.loading, this.loadingShown || (k(i, {
                opacity: 0,
                display: "",
                left: this.plotLeft + "px",
                top: this.plotTop + "px",
                width: this.plotWidth + "px",
                height: this.plotHeight + "px"
            }), wt(i, {
                opacity: s.style.opacity
            }, {
                duration: s.showDuration || 0
            }), this.loadingShown = !0)
        },
        hideLoading: function() {
            var e = this.options,
                t = this.loadingDiv;
            t && wt(t, {
                opacity: 0
            }, {
                duration: e.loading.hideDuration || 100,
                complete: function() {
                    k(t, {
                        display: q
                    })
                }
            }), this.loadingShown = !1
        },
        get: function(e) {
            for (var t, i = this.axes, s = this.series, n = 0; n < i.length; n++)
                if (i[n].options.id === e) return i[n];
            for (n = 0; n < s.length; n++)
                if (s[n].options.id === e) return s[n];
            for (n = 0; n < s.length; n++)
                for (t = s[n].points || [], i = 0; i < t.length; i++)
                    if (t[i].id === e) return t[i];
            return null
        },
        getAxes: function() {
            var t = this,
                e = (i = this.options).xAxis = p(i.xAxis || {}),
                i = i.yAxis = p(i.yAxis || {});
            R(e, function(e, t) {
                e.index = t, e.isX = !0
            }), R(i, function(e, t) {
                e.index = t
            }), e = e.concat(i), R(e, function(e) {
                new he(t, e)
            }), t.adjustTickAmounts()
        },
        getSelectedPoints: function() {
            var t = [];
            return R(this.series, function(e) {
                t = t.concat(gt(e.points || [], function(e) {
                    return e.selected
                }))
            }), t
        },
        getSelectedSeries: function() {
            return gt(this.series, function(e) {
                return e.selected
            })
        },
        getStacks: function() {
            var t = this;
            R(t.yAxis, function(e) {
                e.stacks && e.hasVisibleSeries && (e.oldStacks = e.stacks)
            }), R(t.series, function(e) {
                !e.options.stacking || !0 !== e.visible && !1 !== t.options.chart.ignoreHiddenSeries || (e.stackKey = e.type + L(e.options.stack, ""))
            })
        },
        showResetZoom: function() {
            var e = this,
                t = N.lang,
                i = e.options.chart.resetZoomButton,
                s = i.theme,
                n = s.states,
                a = "chart" === i.relativeTo ? null : "plotBox";
            this.resetZoomButton = e.renderer.button(t.resetZoom, null, null, function() {
                e.zoomOut()
            }, s, n && n.hover).attr({
                align: i.position.align,
                title: t.resetZoomTitle
            }).add().align(i.position, !1, a)
        },
        zoomOut: function() {
            var e = this;
            V(e, "selection", {
                resetSelection: !0
            }, function() {
                e.zoom()
            })
        },
        zoom: function(e) {
            var s, t, n = this.pointer,
                a = !1;
            !e || e.resetSelection ? R(this.axes, function(e) {
                s = e.zoom()
            }) : R(e.xAxis.concat(e.yAxis), function(e) {
                var t = e.axis,
                    i = t.isXAxis;
                (n[i ? "zoomX" : "zoomY"] || n[i ? "pinchX" : "pinchY"]) && (s = t.zoom(e.min, e.max), t.displayBtn) && (a = !0)
            }), t = this.resetZoomButton, a && !t ? this.showResetZoom() : !a && c(t) && (this.resetZoomButton = t.destroy()), s && this.redraw(L(this.options.chart.animation, e && e.animation, this.pointCount < 100))
        },
        pan: function(r, e) {
            var l, d = this,
                t = d.hoverPoints;
            t && R(t, function(e) {
                e.setState()
            }), R("xy" === e ? [1, 0] : [1], function(e) {
                var t = r[e ? "chartX" : "chartY"],
                    i = d[e ? "xAxis" : "yAxis"][0],
                    s = d[e ? "mouseDownX" : "mouseDownY"],
                    n = (i.pointRange || 0) / 2,
                    a = i.getExtremes(),
                    o = i.toValue(s - t, !0) + n,
                    s = i.toValue(s + d[e ? "plotWidth" : "plotHeight"] - t, !0) - n;
                i.series.length && o > w(a.dataMin, a.min) && s < F(a.dataMax, a.max) && (i.setExtremes(o, s, !1, !1, {
                    trigger: "pan"
                }), l = !0), d[e ? "mouseDownX" : "mouseDownY"] = t
            }), l && d.redraw(!1), k(d.container, {
                cursor: "move"
            })
        },
        setTitle: function(e, t) {
            var n = this,
                i = n.options,
                s = i.title = M(i.title, e),
                a = i.subtitle = M(i.subtitle, t);
            R([
                ["title", e, s],
                ["subtitle", t, i = a]
            ], function(e) {
                var t = e[0],
                    i = n[t],
                    s = e[1],
                    e = e[2];
                i && s && (n[t] = i = i.destroy()), e && e.text && !i && (n[t] = n.renderer.text(e.text, 0, 0, e.useHTML).attr({
                    align: e.align,
                    class: "highcharts-" + t,
                    zIndex: e.zIndex || 4
                }).css(e.style).add())
            }), n.layOutTitles()
        },
        layOutTitles: function() {
            var e = 0,
                t = this.title,
                i = this.subtitle,
                s = (n = this.options).title,
                n = n.subtitle,
                a = this.spacingBox.width - 44;
            !t || (t.css({
                width: (s.width || a) + "px"
            }).align($({
                y: 15
            }, s), !1, "spacingBox"), s.floating) || s.verticalAlign || 18 <= (e = t.getBBox().height) && e <= 25 && (e = 15), !i || (i.css({
                width: (n.width || a) + "px"
            }).align($({
                y: e + s.margin
            }, n), !1, "spacingBox"), n.floating) || n.verticalAlign || (e = je(e + i.getBBox().height)), this.titleOffset = e
        },
        getChartSize: function() {
            var e = this.options.chart,
                t = this.renderToClone || this.renderTo;
            this.containerWidth = pt(t, "width"), this.containerHeight = pt(t, "height"), this.chartWidth = F(0, e.width || this.containerWidth || 600), this.chartHeight = F(0, L(e.height, 19 < this.containerHeight ? this.containerHeight : 400))
        },
        cloneRenderTo: function(e) {
            var t = this.renderToClone,
                i = this.container;
            e ? t && (this.renderTo.appendChild(i), o(t), delete this.renderToClone) : (i && i.parentNode === this.renderTo && this.renderTo.removeChild(i), this.renderToClone = t = this.renderTo.cloneNode(0), k(t, {
                position: "absolute",
                top: "-9999px",
                display: "block"
            }), x.body.appendChild(t), i && t.appendChild(i))
        },
        getContainer: function() {
            var e, t, i, s, n = this.options.chart;
            this.renderTo = e = n.renderTo, s = "highcharts-" + Xe++, g(e) && (this.renderTo = e = x.getElementById(e)), e || ne(13, !0), t = _(C(e, "data-highcharts-chart")), !isNaN(t) && Je[t] && Je[t].destroy(), C(e, "data-highcharts-chart", this.index), e.innerHTML = "", e.offsetWidth || this.cloneRenderTo(), this.getChartSize(), t = this.chartWidth, i = this.chartHeight, this.container = e = A(Ke, {
                className: "highcharts-container" + (n.className ? " " + n.className : ""),
                id: s
            }, $({
                position: "relative",
                overflow: "hidden",
                width: t + "px",
                height: i + "px",
                textAlign: "left",
                lineHeight: "normal",
                zIndex: 0,
                "-webkit-tap-highlight-color": "rgba(0,0,0,0)"
            }, n.style), this.renderToClone || e), this._cursor = e.style.cursor, this.renderer = n.forExport ? new dt(e, t, i, !0) : new ye(e, t, i), r && this.renderer.create(this, e, t, i)
        },
        getMargins: function() {
            var e, t = this.spacing,
                i = this.legend,
                s = this.margin,
                n = this.options.legend,
                a = L(n.margin, 10),
                o = n.x,
                r = n.y,
                l = n.align,
                d = n.verticalAlign,
                c = this.titleOffset;
            this.resetMargins(), e = this.axisOffset, c && !D(s[0]) && (this.plotTop = F(this.plotTop, c + this.options.title.margin + t[0])), i.display && !n.floating && ("right" === l ? D(s[1]) || (this.marginRight = F(this.marginRight, i.legendWidth - o + a + t[1])) : "left" === l ? D(s[3]) || (this.plotLeft = F(this.plotLeft, i.legendWidth + o + a + t[3])) : "top" === d ? D(s[0]) || (this.plotTop = F(this.plotTop, i.legendHeight + r + a + t[0])) : "bottom" !== d || D(s[2]) || (this.marginBottom = F(this.marginBottom, i.legendHeight - r + a + t[2]))), this.extraBottomMargin && (this.marginBottom += this.extraBottomMargin), this.extraTopMargin && (this.plotTop += this.extraTopMargin), this.hasCartesianSeries && R(this.axes, function(e) {
                e.getOffset()
            }), D(s[3]) || (this.plotLeft += e[3]), D(s[0]) || (this.plotTop += e[0]), D(s[2]) || (this.marginBottom += e[2]), D(s[1]) || (this.marginRight += e[1]), this.setChartSize()
        },
        initReflow: function() {
            function e(e) {
                var t = a.width || pt(o, "width"),
                    i = a.height || pt(o, "height"),
                    e = e ? e.target : l;
                n.hasUserSize || !t || !i || e !== l && e !== x || (t === n.containerWidth && i === n.containerHeight || (clearTimeout(s), n.reflowTimeout = s = setTimeout(function() {
                    n.container && (n.setSize(t, i, !1), n.hasUserSize = null)
                }, 100)), n.containerWidth = t, n.containerHeight = i)
            }
            var s, n = this,
                a = n.options.chart,
                o = n.renderTo;
            n.reflow = e, B(l, "resize", e), B(n, "destroy", function() {
                U(l, "resize", e)
            })
        },
        setSize: function(e, t, i) {
            var s, n, a, o = this;
            o.isResizing += 1, a = function() {
                o && V(o, "endResize", null, function() {
                    --o.isResizing
                })
            }, oe(i, o), o.oldChartHeight = o.chartHeight, o.oldChartWidth = o.chartWidth, D(e) && (o.chartWidth = s = F(0, j(e)), o.hasUserSize = !!s), D(t) && (o.chartHeight = n = F(0, j(t))), k(o.container, {
                width: s + "px",
                height: n + "px"
            }), o.setChartSize(!0), o.renderer.setSize(s, n, i), o.maxTicks = null, R(o.axes, function(e) {
                e.isDirty = !0, e.setScale()
            }), R(o.series, function(e) {
                e.isDirty = !0
            }), o.isDirtyLegend = !0, o.isDirtyBox = !0, o.getMargins(), o.redraw(i), o.oldChartHeight = null, V(o, "resize"), !1 === _e ? a() : setTimeout(a, _e && _e.duration || 500)
        },
        setChartSize: function(e) {
            var t, i, s, n, a = this.inverted,
                o = this.renderer,
                r = this.chartWidth,
                l = this.chartHeight,
                d = this.options.chart,
                c = this.spacing,
                u = this.clipOffset;
            this.plotLeft = t = j(this.plotLeft), this.plotTop = i = j(this.plotTop), this.plotWidth = s = F(0, j(r - t - this.marginRight)), this.plotHeight = n = F(0, j(l - i - this.marginBottom)), this.plotSizeX = a ? n : s, this.plotSizeY = a ? s : n, this.plotBorderWidth = d.plotBorderWidth || 0, this.spacingBox = o.spacingBox = {
                x: c[3],
                y: c[0],
                width: r - c[3] - c[1],
                height: l - c[0] - c[2]
            }, this.plotBox = o.plotBox = {
                x: t,
                y: i,
                width: s,
                height: n
            }, r = 2 * T(this.plotBorderWidth / 2), a = je(F(r, u[3]) / 2), o = je(F(r, u[0]) / 2), this.clipBox = {
                x: a,
                y: o,
                width: T(this.plotSizeX - F(r, u[1]) / 2 - a),
                height: T(this.plotSizeY - F(r, u[2]) / 2 - o)
            }, e || R(this.axes, function(e) {
                e.setAxisSize(), e.setAxisTranslation()
            })
        },
        resetMargins: function() {
            var e = this.spacing,
                t = this.margin;
            this.plotTop = L(t[0], e[0]), this.marginRight = L(t[1], e[1]), this.marginBottom = L(t[2], e[2]), this.plotLeft = L(t[3], e[3]), this.axisOffset = [0, 0, 0, 0], this.clipOffset = [0, 0, 0, 0]
        },
        drawChartBox: function() {
            var e = this.options.chart,
                t = this.renderer,
                i = this.chartWidth,
                s = this.chartHeight,
                n = this.chartBackground,
                a = this.plotBackground,
                o = this.plotBorder,
                r = this.plotBGImage,
                l = e.borderWidth || 0,
                d = e.backgroundColor,
                c = e.plotBackgroundColor,
                u = e.plotBackgroundImage,
                h = e.plotBorderWidth || 0,
                p = this.plotLeft,
                f = this.plotTop,
                m = this.plotWidth,
                g = this.plotHeight,
                v = this.plotBox,
                y = this.clipRect,
                b = this.clipBox,
                w = l + (e.shadow ? 8 : 0);
            (l || d) && (n ? n.animate(n.crisp(null, null, null, i - w, s - w)) : (n = {
                fill: d || q
            }, l && (n.stroke = e.borderColor, n["stroke-width"] = l), this.chartBackground = t.rect(w / 2, w / 2, i - w, s - w, e.borderRadius, l).attr(n).add().shadow(e.shadow))), c && (a ? a.animate(v) : this.plotBackground = t.rect(p, f, m, g, 0).attr({
                fill: c
            }).add().shadow(e.plotShadow)), u && (r ? r.animate(v) : this.plotBGImage = t.image(u, p, f, m, g).add()), y ? y.animate({
                width: b.width,
                height: b.height
            }) : this.clipRect = t.clipRect(b), h && (o ? o.animate(o.crisp(null, p, f, m, g)) : this.plotBorder = t.rect(p, f, m, g, 0, -h).attr({
                stroke: e.plotBorderColor,
                "stroke-width": h,
                zIndex: 1
            }).add()), this.isDirtyBox = !1
        },
        propFromSeries: function() {
            var t, i, s, n = this,
                a = n.options.chart,
                o = n.options.series;
            R(["inverted", "angular", "polar"], function(e) {
                for (t = u[a.type || a.defaultSeriesType], s = n[e] || a[e] || t && t.prototype[e], i = o && o.length; !s && i--;)(t = u[o[i].type]) && t.prototype[e] && (s = !0);
                n[e] = s
            })
        },
        linkSeries: function() {
            var i = this,
                e = i.series;
            R(e, function(e) {
                e.linkedSeries.length = 0
            }), R(e, function(e) {
                var t = e.options.linkedTo;
                g(t) && (t = ":previous" === t ? i.series[e.index - 1] : i.get(t)) && (t.linkedSeries.push(e), e.linkedParent = t)
            })
        },
        render: function() {
            var e, n = this,
                t = n.axes,
                a = n.renderer,
                i = n.options,
                o = i.labels,
                s = i.credits;
            n.setTitle(), n.legend = new me(n, i.legend), n.getStacks(), R(t, function(e) {
                e.setScale()
            }), n.getMargins(), n.maxTicks = null, R(t, function(e) {
                e.setTickPositions(!0), e.setMaxTicks()
            }), n.adjustTickAmounts(), n.getMargins(), n.drawChartBox(), n.hasCartesianSeries && R(t, function(e) {
                e.render()
            }), n.seriesGroup || (n.seriesGroup = a.g("series-group").attr({
                zIndex: 3
            }).add()), R(n.series, function(e) {
                e.translate(), e.setTooltipPoints(), e.render()
            }), o.items && R(o.items, function(e) {
                var t = $(o.style, e.style),
                    i = _(t.left) + n.plotLeft,
                    s = _(t.top) + n.plotTop + 12;
                delete t.left, delete t.top, a.text(e.html, i, s).attr({
                    zIndex: 2
                }).css(t).add()
            }), s.enabled && !n.credits && (e = s.href, n.credits = a.text(s.text, 0, 0).on("click", function() {
                e && (location.href = e)
            }).attr({
                align: s.position.align,
                zIndex: 8
            }).css(s.style).add().align(s.position)), n.hasRendered = !0
        },
        destroy: function() {
            var e, i = this,
                t = i.axes,
                s = i.series,
                n = i.container,
                a = n && n.parentNode;
            for (V(i, "destroy"), Je[i.index] = I, i.renderTo.removeAttribute("data-highcharts-chart"), U(i), e = t.length; e--;) t[e] = t[e].destroy();
            for (e = s.length; e--;) s[e] = s[e].destroy();
            for (e in R("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","), function(e) {
                    var t = i[e];
                    t && t.destroy && (i[e] = t.destroy())
                }), n && (n.innerHTML = "", U(n), a) && o(n), i) delete i[e]
        },
        isReadyToRender: function() {
            var e = this;
            return !(!E && l == l.top && "complete" !== x.readyState || r && !l.canvg) || (r ? ut.push(function() {
                e.firstRender()
            }, e.options.global.canvasToolsURL) : x.attachEvent("onreadystatechange", function() {
                x.detachEvent("onreadystatechange", e.firstRender), "complete" === x.readyState && e.firstRender()
            }), !1)
        },
        firstRender: function() {
            var t = this,
                e = t.options,
                i = t.callback;
            t.isReadyToRender() && (t.getContainer(), V(t, "init"), t.resetMargins(), t.setChartSize(), t.propFromSeries(), t.getAxes(), R(e.series || [], function(e) {
                t.initSeries(e)
            }), t.linkSeries(), V(t, "beforeRender"), t.pointer = new fe(t, e), t.render(), t.renderer.draw(), i && i.apply(t, [t]), R(t.callbacks, function(e) {
                e.apply(t, [t])
            }), t.cloneRenderTo(!0), V(t, "load"))
        },
        splashArray: function(e, t) {
            var i = c(i = t[e]) ? i : [i, i, i, i];
            return [L(t[e + "Top"], i[0]), L(t[e + "Right"], i[1]), L(t[e + "Bottom"], i[2]), L(t[e + "Left"], i[3])]
        }
    }).callbacks = [];

    function kt() {}

    function H() {}
    kt.prototype = {
        init: function(e, t, i) {
            return this.series = e, this.applyOptions(t, i), this.pointAttr = {}, e.options.colorByPoint && (t = e.options.colors || e.chart.options.colors, this.color = this.color || t[e.colorCounter++], e.colorCounter === t.length) && (e.colorCounter = 0), e.chart.pointCount++, this
        },
        applyOptions: function(e, t) {
            var i = this.series,
                s = i.pointValKey;
            return $(this, e = kt.prototype.optionsToObject.call(this, e)), this.options = this.options ? $(this.options, e) : e, s && (this.y = this[s]), this.x === I && i && (this.x = t === I ? i.autoIncrement() : t), this
        },
        optionsToObject: function(e) {
            var t, i = this.series,
                s = i.pointArrayMap || ["y"],
                n = s.length,
                a = 0,
                o = 0;
            if ("number" == typeof e || null === e) t = {
                y: e
            };
            else if (v(e))
                for (t = {}, e.length > n && ("string" === (i = typeof e[0]) ? t.name = e[0] : "number" === i && (t.x = e[0]), a++); o < n;) t[s[o++]] = e[a++];
            else "object" == typeof e && ((t = e).dataLabels && (i._hasPointLabels = !0), e.marker) && (i._hasPointMarkers = !0);
            return t
        },
        destroy: function() {
            var e, t = this.series.chart,
                i = t.hoverPoints;
            for (e in t.pointCount--, i && (this.setState(), h(i, this), !i.length) && (t.hoverPoints = null), this === t.hoverPoint && this.onMouseOut(), (this.graphic || this.dataLabel) && (U(this), this.destroyElements()), this.legendItem && t.legend.destroyItem(this), this) this[e] = null
        },
        destroyElements: function() {
            for (var e, t = "graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","), i = 6; i--;) this[e = t[i]] && (this[e] = this[e].destroy())
        },
        getLabelConfig: function() {
            return {
                x: this.category,
                y: this.y,
                key: this.name || this.category,
                series: this.series,
                point: this,
                percentage: this.percentage,
                total: this.total || this.stackTotal
            }
        },
        select: function(e, t) {
            var i = this,
                s = i.series,
                n = s.chart,
                e = L(e, !i.selected);
            i.firePointEvent(e ? "select" : "unselect", {
                accumulate: t
            }, function() {
                i.selected = i.options.selected = e, s.options.data[mt(i, s.data)] = i.options, i.setState(e && "select"), t || R(n.getSelectedPoints(), function(e) {
                    e.selected && e !== i && (e.selected = e.options.selected = !1, s.options.data[mt(e, s.data)] = e.options, e.setState(""), e.firePointEvent("unselect"))
                })
            })
        },
        onMouseOver: function(e) {
            var t = this.series,
                i = t.chart,
                s = i.tooltip,
                n = i.hoverPoint;
            n && n !== this && n.onMouseOut(), this.firePointEvent("mouseOver"), !s || s.shared && !t.noSharedTooltip || s.refresh(this, e), this.setState("hover"), i.hoverPoint = this
        },
        onMouseOut: function() {
            var e = this.series.chart,
                t = e.hoverPoints;
            t && -1 !== mt(this, t) || (this.firePointEvent("mouseOut"), this.setState(), e.hoverPoint = null)
        },
        tooltipFormatter: function(t) {
            var e = this.series,
                i = e.tooltipOptions,
                s = L(i.valueDecimals, ""),
                n = i.valuePrefix || "",
                a = i.valueSuffix || "";
            return R(e.pointArrayMap || ["y"], function(e) {
                e = "{point." + e, t = (t = n || a ? t.replace(e + "}", n + e + "}" + a) : t).replace(e + "}", e + ":,." + s + "f}")
            }), X(t, {
                point: this,
                series: this.series
            })
        },
        update: function(e, t, i) {
            var s, n = this,
                a = n.series,
                o = n.graphic,
                r = a.data,
                l = a.chart,
                d = a.options,
                t = L(t, !0);
            n.firePointEvent("update", {
                options: e
            }, function() {
                n.applyOptions(e), c(e) && (a.getAttribs(), o) && (e.marker && e.marker.symbol ? n.graphic = o.destroy() : o.attr(n.pointAttr[n.state || ""])), s = mt(n, r), a.xData[s] = n.x, a.yData[s] = a.toYData ? a.toYData(n) : n.y, a.zData[s] = n.z, d.data[s] = n.options, a.isDirty = a.isDirtyData = !0, !a.fixedBox && a.hasCartesianSeries && (l.isDirtyBox = !0), "point" === d.legendType && l.legend.destroyItem(n), t && l.redraw(i)
            })
        },
        remove: function(e, t) {
            var i, s = this,
                n = s.series,
                a = n.points,
                o = n.chart,
                r = n.data;
            oe(t, o), e = L(e, !0), s.firePointEvent("remove", null, function() {
                i = mt(s, r), r.length === a.length && a.splice(i, 1), r.splice(i, 1), n.options.data.splice(i, 1), n.xData.splice(i, 1), n.yData.splice(i, 1), n.zData.splice(i, 1), s.destroy(), n.isDirty = !0, n.isDirtyData = !0, e && o.redraw()
            })
        },
        firePointEvent: function(e, t, i) {
            var s = this,
                n = this.series.options;
            (n.point.events[e] || s.options && s.options.events && s.options.events[e]) && this.importEvents(), "click" === e && n.allowPointSelect && (i = function(e) {
                s.select(null, e.ctrlKey || e.metaKey || e.shiftKey)
            }), V(this, e, t, i)
        },
        importEvents: function() {
            if (!this.hasImportedEvents) {
                var e, t = M(this.series.options.point, this.options).events;
                for (e in this.events = t) B(this, e, t[e]);
                this.hasImportedEvents = !0
            }
        },
        setState: function(e) {
            var t = this.plotX,
                i = this.plotY,
                s = this.series,
                n = s.options.states,
                a = m[s.type].marker && s.options.marker,
                o = a && !a.enabled,
                r = a && a.states[e],
                l = r && !1 === r.enabled,
                d = s.stateMarkerGraphic,
                c = this.marker || {},
                u = s.chart,
                h = this.pointAttr;
            (e = e || "") === this.state || this.selected && "select" !== e || n[e] && !1 === n[e].enabled || e && (l || o && !r.enabled) || (this.graphic ? (n = a && this.graphic.symbolName && h[e].r, this.graphic.attr(M(h[e], n ? {
                x: t - n,
                y: i - n,
                width: 2 * n,
                height: 2 * n
            } : {}))) : (e && r && (n = r.radius, c = c.symbol || s.symbol, (d = d && d.currentSymbol !== c ? d.destroy() : d) ? d.attr({
                x: t - n,
                y: i - n
            }) : (s.stateMarkerGraphic = d = u.renderer.symbol(c, t - n, i - n, 2 * n, 2 * n).attr(h[e]).add(s.markerGroup), d.currentSymbol = c)), d && d[e && u.isInsidePlot(t, i) ? "show" : "hide"]()), this.state = e)
        }
    };
    H.prototype = {
        isCartesian: !0,
        type: "line",
        pointClass: kt,
        sorted: !0,
        requireSorting: !0,
        pointAttrToOptions: {
            stroke: "lineColor",
            "stroke-width": "lineWidth",
            fill: "fillColor",
            r: "radius"
        },
        colorCounter: 0,
        init: function(e, t) {
            var i, s, n = e.series;
            for (i in this.chart = e, this.options = t = this.setOptions(t), this.linkedSeries = [], this.bindAxes(), $(this, {
                    name: t.name,
                    state: "",
                    pointAttr: {},
                    visible: !1 !== t.visible,
                    selected: !0 === t.selected
                }), r && (t.animation = !1), s = t.events) B(this, i, s[i]);
            (s && s.click || t.point && t.point.events && t.point.events.click || t.allowPointSelect) && (e.runTrackerClick = !0), this.getColor(), this.getSymbol(), this.setData(t.data, !1), this.isCartesian && (e.hasCartesianSeries = !0), n.push(this), this._i = n.length - 1, te(n, function(e, t) {
                return L(e.options.index, e._i) - L(t.options.index, e._i)
            }), R(n, function(e, t) {
                e.index = t, e.name = e.name || "Series " + (t + 1)
            })
        },
        bindAxes: function() {
            var i, s = this,
                n = s.options,
                e = s.chart;
            s.isCartesian && R(["xAxis", "yAxis"], function(t) {
                R(e[t], function(e) {
                    i = e.options, (n[t] === i.index || n[t] !== I && n[t] === i.id || n[t] === I && 0 === i.index) && (e.series.push(s), (s[t] = e).isDirty = !0)
                }), s[t] || ne(18, !0)
            })
        },
        autoIncrement: function() {
            var e = this.options,
                t = L(this.xIncrement, e.pointStart, 0);
            return this.pointInterval = L(this.pointInterval, e.pointInterval, 1), this.xIncrement = t + this.pointInterval, t
        },
        getSegments: function() {
            var e, i = -1,
                s = [],
                n = this.points,
                a = n.length;
            if (a)
                if (this.options.connectNulls) {
                    for (e = a; e--;) null === n[e].y && n.splice(e, 1);
                    n.length && (s = [n])
                } else R(n, function(e, t) {
                    null === e.y ? (i + 1 < t && s.push(n.slice(i + 1, t)), i = t) : t === a - 1 && s.push(n.slice(i + 1, t + 1))
                });
            this.segments = s
        },
        setOptions: function(e) {
            var t = this.chart.options,
                i = t.plotOptions,
                s = i[this.type];
            return this.userOptions = e, e = M(s, i.series, e), this.tooltipOptions = M(t.tooltip, e.tooltip), null === s.marker && delete e.marker, e
        },
        getColor: function() {
            var e = this.options,
                t = this.userOptions,
                i = this.chart.options.colors,
                s = this.chart.counters,
                n = e.color || m[this.type].color;
            n || e.colorByPoint || (n = i[e = D(t._colorIndex) ? t._colorIndex : (t._colorIndex = s.color, s.color++)]), this.color = n, s.wrapColor(i.length)
        },
        getSymbol: function() {
            var e = this.userOptions,
                t = this.options.marker,
                i = (s = this.chart).options.symbols,
                s = s.counters;
            this.symbol = t.symbol, this.symbol || (e = D(e._symbolIndex) ? e._symbolIndex : (e._symbolIndex = s.symbol, s.symbol++), this.symbol = i[e]), /^url/.test(this.symbol) && (t.radius = 0), s.wrapSymbol(i.length)
        },
        drawLegendSymbol: function(e) {
            var t = this.options,
                i = t.marker,
                s = e.options,
                n = s.symbolWidth,
                a = this.chart.renderer,
                o = this.legendGroup,
                e = e.baseline - j(.3 * a.fontMetrics(s.itemStyle.fontSize).b);
            t.lineWidth && (s = {
                "stroke-width": t.lineWidth
            }, t.dashStyle && (s.dashstyle = t.dashStyle), this.legendLine = a.path(["M", 0, e, "L", n, e]).attr(s).add(o)), i && i.enabled && (t = i.radius, this.legendSymbol = n = a.symbol(this.symbol, n / 2 - t, e - t, 2 * t, 2 * t).add(o), n.isMarker = !0)
        },
        addPoint: function(e, t, i, s) {
            var n, a = this.options,
                o = this.data,
                r = this.graph,
                l = this.area,
                d = this.chart,
                c = this.xData,
                u = this.yData,
                h = this.zData,
                p = this.names,
                f = r && r.shift || 0,
                m = a.data;
            if (oe(s, d), i && R([r, l, this.graphNeg, this.areaNeg], function(e) {
                    e && (e.shift = f + 1)
                }), l && (l.isArea = !0), t = L(t, !0), this.pointClass.prototype.applyOptions.apply(s = {
                    series: this
                }, [e]), r = s.x, l = c.length, this.requireSorting && r < c[l - 1])
                for (n = !0; l && c[l - 1] > r;) l--;
            c.splice(l, 0, r), u.splice(l, 0, this.toYData ? this.toYData(s) : s.y), h.splice(l, 0, s.z), p && (p[r] = s.name), m.splice(l, 0, e), n && (this.data.splice(l, 0, null), this.processData()), "point" === a.legendType && this.generatePoints(), i && (o[0] && o[0].remove ? o[0].remove(!1) : (o.shift(), c.shift(), u.shift(), h.shift(), m.shift())), this.isDirtyData = this.isDirty = !0, t && (this.getAttribs(), d.redraw())
        },
        setData: function(e, t) {
            var i = this.points,
                s = this.options,
                n = this.chart,
                a = null,
                o = this.xAxis,
                r = o && o.categories && !o.categories.length ? [] : null,
                l = (this.xIncrement = null, this.pointRange = o && o.categories ? 1 : s.pointRange, this.colorCounter = 0, []),
                d = [],
                c = [],
                u = e ? e.length : [],
                h = L(s.turboThreshold, 1e3),
                p = (p = this.pointArrayMap) && p.length,
                f = !!this.toYData;
            if (h && h < u) {
                for (h = 0; null === a && h < u;) a = e[h], h++;
                if (y(a)) {
                    for (a = L(s.pointStart, 0), s = L(s.pointInterval, 1), h = 0; h < u; h++) l[h] = a, d[h] = e[h], a += s;
                    this.xIncrement = a
                } else if (v(a))
                    if (p)
                        for (h = 0; h < u; h++) s = e[h], l[h] = s[0], d[h] = s.slice(1, p + 1);
                    else
                        for (h = 0; h < u; h++) s = e[h], l[h] = s[0], d[h] = s[1];
                else ne(12)
            } else
                for (h = 0; h < u; h++) e[h] !== I && (this.pointClass.prototype.applyOptions.apply(s = {
                    series: this
                }, [e[h]]), l[h] = s.x, d[h] = f ? this.toYData(s) : s.y, c[h] = s.z, r) && s.name && (r[s.x] = s.name);
            for (g(d[0]) && ne(14, !0), this.data = [], this.options.data = e, this.xData = l, this.yData = d, this.zData = c, this.names = r, h = i && i.length || 0; h--;) i[h] && i[h].destroy && i[h].destroy();
            o && (o.minRange = o.userMinRange), L(t, this.isDirty = this.isDirtyData = n.isDirtyBox = !0) && n.redraw(!1)
        },
        remove: function(e, t) {
            var i = this,
                s = i.chart,
                e = L(e, !0);
            i.isRemoving || (i.isRemoving = !0, V(i, "remove", null, function() {
                i.destroy(), s.isDirtyLegend = s.isDirtyBox = !0, s.linkSeries(), e && s.redraw(t)
            })), i.isRemoving = !1
        },
        processData: function(e) {
            var t, i, s = this.xData,
                n = this.yData,
                a = s.length,
                o = 0,
                r = this.xAxis,
                l = this.options,
                d = l.cropThreshold,
                c = this.isCartesian;
            if (c && !this.isDirty && !r.isDirty && !this.yAxis.isDirty && !e) return !1;
            for (c && this.sorted && (!d || d < a || this.forceCrop) && (e = r.min, r = r.max, s[a - 1] < e || s[0] > r ? (s = [], n = []) : (s[0] < e || s[a - 1] > r) && (s = (o = this.cropData(this.xData, this.yData, e, r)).xData, n = o.yData, o = o.start, t = !0)), r = s.length - 1; 0 <= r; r--) 0 < (a = s[r] - s[r - 1]) && (i === I || a < i) ? i = a : a < 0 && this.requireSorting && ne(15);
            this.cropped = t, this.cropStart = o, this.processedXData = s, this.processedYData = n, null === l.pointRange && (this.pointRange = i || 1), this.closestPointRange = i
        },
        cropData: function(e, t, i, s) {
            for (var n = e.length, a = 0, o = n, r = L(this.cropShoulder, 1), l = 0; l < n; l++)
                if (e[l] >= i) {
                    a = F(0, l - r);
                    break
                } for (; l < n; l++)
                if (e[l] > s) {
                    o = l + r;
                    break
                } return {
                xData: e.slice(a, o),
                yData: t.slice(a, o),
                start: a,
                end: o
            }
        },
        generatePoints: function() {
            var e, t, i, s, n = this.options.data,
                a = this.data,
                o = this.processedXData,
                r = this.processedYData,
                l = this.pointClass,
                d = o.length,
                c = this.cropStart || 0,
                u = this.hasGroupedData,
                h = [];
            for (a || u || ((a = []).length = n.length, a = this.data = a), s = 0; s < d; s++) t = c + s, u ? h[s] = (new l).init(this, [o[s]].concat(p(r[s]))) : (a[t] ? i = a[t] : n[t] !== I && (a[t] = i = (new l).init(this, n[t], o[s])), h[s] = i);
            if (a && (d !== (e = a.length) || u))
                for (s = 0; s < e; s++) s !== c || u || (s += d), a[s] && (a[s].destroyElements(), a[s].plotX = I);
            this.data = a, this.points = h
        },
        setStackedPoints: function() {
            if (this.options.stacking && (!0 === this.visible || !1 === this.chart.options.chart.ignoreHiddenSeries)) {
                for (var e, t, i, s, n = this.processedXData, a = this.processedYData, o = [], r = a.length, l = (c = this.options).threshold, d = c.stack, c = c.stacking, u = this.stackKey, h = "-" + u, p = this.negStacks, f = this.yAxis, m = f.stacks, g = f.oldStacks, v = 0; v < r; v++) i = n[v], s = a[v], m[t = (e = p && s < l) ? h : u] || (m[t] = {}), m[t][i] || (g[t] && g[t][i] ? (m[t][i] = g[t][i], m[t][i].total = null) : m[t][i] = new ue(f, f.options.stackLabels, e, i, d, c)), (t = m[t][i]).points[this.index] = [t.cum || 0], "percent" === c ? (e = e ? u : h, p && m[e] && m[e][i] ? (e = m[e][i], t.total = e.total = F(e.total, t.total) + O(s) || 0) : t.total += O(s) || 0) : t.total += s || 0, t.cum = (t.cum || 0) + (s || 0), t.points[this.index].push(t.cum), o[v] = t.cum;
                "percent" === c && (f.usePercentage = !0), this.stackedYData = o, f.oldStacks = {}
            }
        },
        setPercentStacks: function() {
            var n = this,
                e = n.stackKey,
                a = n.yAxis.stacks;
            R([e, "-" + e], function(e) {
                for (var t, i, s = n.xData.length; s--;) t = n.xData[s], (t = (i = a[e] && a[e][t]) && i.points[n.index]) && (i = i.total ? 100 / i.total : 0, t[0] = ae(t[0] * i), t[1] = ae(t[1] * i), n.stackedYData[s] = t[1])
            })
        },
        getExtremes: function() {
            for (var e, t, i, s = this.yAxis, n = this.processedXData, a = this.stackedYData || this.processedYData, o = a.length, r = [], l = 0, d = (c = this.xAxis.getExtremes()).min, c = c.max, u = 0; u < o; u++)
                if (t = n[u], e = null !== (i = a[u]) && i !== I && (!s.isLog || i.length || 0 < i), t = this.getExtremesFromAll || this.cropped || (n[u + 1] || t) >= d && (n[u - 1] || t) <= c, e && t)
                    if (e = i.length)
                        for (; e--;) null !== i[e] && (r[l++] = i[e]);
                    else r[l++] = i;
            this.dataMin = L(void 0, ie(r)), this.dataMax = L(void 0, se(r))
        },
        translate: function() {
            this.processedXData || this.processData(), this.generatePoints();
            for (var e = (c = this.options).stacking, t = this.xAxis, i = t.categories, s = this.yAxis, n = this.points, a = n.length, o = !!this.modifyValue, r = c.pointPlacement, l = "between" === r || y(r), d = c.threshold, c = 0; c < a; c++) {
                var u = n[c],
                    h = u.x,
                    p = u.y,
                    f = u.low,
                    m = s.stacks[(this.negStacks && p < d ? "-" : "") + this.stackKey];
                s.isLog && p <= 0 && (u.y = p = null), u.plotX = t.translate(h, 0, 0, 0, 1, r, "flags" === this.type), e && this.visible && m && m[h] && (f = (p = (m = m[h]).points[this.index])[0], p = p[1], 0 === f && (f = L(d, s.min)), s.isLog && f <= 0 && (f = null), u.percentage = "percent" === e && p, u.total = u.stackTotal = m.total, u.stackY = p, m.setOffset(this.pointXOffset || 0, this.barW || 0)), u.yBottom = D(f) ? s.translate(f, 0, 1, 0, 1) : null, o && (p = this.modifyValue(p, u)), u.plotY = "number" == typeof p && p !== 1 / 0 ? s.translate(p, 0, 1, 0, 1) : I, u.clientX = l ? t.translate(h, 0, 0, 0, 1) : u.plotX, u.negative = u.y < (d || 0), u.category = i && i[u.x] !== I ? i[u.x] : u.x
            }
            this.getSegments()
        },
        setTooltipPoints: function(e) {
            var t, i, s, n, a = [],
                o = this.xAxis,
                r = o && o.getExtremes(),
                l = o ? o.tooltipLen || o.len : this.chart.plotSizeX,
                d = [];
            if (!1 !== this.options.enableMouseTracking) {
                for (e && (this.tooltipPoints = null), R(this.segments || this.points, function(e) {
                        a = a.concat(e)
                    }), o && o.reversed && (a = a.reverse()), this.orderTooltipPoints && this.orderTooltipPoints(a), e = a.length, n = 0; n < e; n++)
                    if ((t = (o = a[n]).x) >= r.min && t <= r.max)
                        for (s = a[n + 1], t = i === I ? 0 : i + 1, i = a[n + 1] ? w(F(0, T((o.clientX + (s ? s.wrappedClientX || s.clientX : l)) / 2)), l) : l; 0 <= t && t <= i;) d[t++] = o;
                this.tooltipPoints = d
            }
        },
        tooltipHeaderFormatter: function(e) {
            var t, i = (a = this.tooltipOptions).xDateFormat,
                s = a.dateTimeLabelFormats,
                n = (o = this.xAxis) && "datetime" === o.options.type,
                a = a.headerFormat,
                o = o && o.closestPointRange;
            if (n && !i)
                if (o) {
                    for (t in f)
                        if (f[t] >= o) {
                            i = s[t];
                            break
                        }
                } else i = s.day;
            return X(a = n && i && y(e.key) ? a.replace("{point.key}", "{point.key:" + i + "}") : a, {
                point: e,
                series: this
            })
        },
        onMouseOver: function() {
            var e = this.chart,
                t = e.hoverSeries;
            t && t !== this && t.onMouseOut(), this.options.events.mouseOver && V(this, "mouseOver"), this.setState("hover"), e.hoverSeries = this
        },
        onMouseOut: function() {
            var e = this.options,
                t = this.chart,
                i = t.tooltip,
                s = t.hoverPoint;
            s && s.onMouseOut(), this && e.events.mouseOut && V(this, "mouseOut"), !i || e.stickyTracking || i.shared && !this.noSharedTooltip || i.hide(), this.setState(), t.hoverSeries = null
        },
        animate: function(e) {
            var t = this,
                i = t.chart,
                s = i.renderer,
                n = t.options.animation,
                a = i.clipBox,
                o = i.inverted,
                r = "_sharedClip" + (n = n && !c(n) ? m[t.type].animation : n).duration + n.easing;
            e ? (e = i[r], n = i[r + "m"], e || (i[r] = e = s.clipRect($(a, {
                width: 0
            })), i[r + "m"] = n = s.clipRect(-99, o ? -i.plotLeft : -i.plotTop, 99, o ? i.chartWidth : i.chartHeight)), t.group.clip(e), t.markerGroup.clip(n), t.sharedClipKey = r) : ((e = i[r]) && (e.animate({
                width: i.plotSizeX
            }, n), i[r + "m"].animate({
                width: i.plotSizeX + 99
            }, n)), t.animate = null, t.animationTimeout = setTimeout(function() {
                t.afterAnimate()
            }, n.duration))
        },
        afterAnimate: function() {
            var e = this.chart,
                t = this.sharedClipKey,
                i = this.group;
            i && !1 !== this.options.clip && (i.clip(e.clipRect), this.markerGroup.clip()), setTimeout(function() {
                t && e[t] && (e[t] = e[t].destroy(), e[t + "m"] = e[t + "m"].destroy())
            }, 100)
        },
        drawPoints: function() {
            var e, t, i, s, n, a, o, r, l, d, c = this.points,
                u = this.chart,
                h = this.options.marker,
                p = this.markerGroup;
            if (h.enabled || this._hasPointMarkers)
                for (s = c.length; s--;) n = c[s], t = T(n.plotX), i = n.plotY, l = n.graphic, o = n.marker || {}, e = h.enabled && o.enabled === I || o.enabled, d = u.isInsidePlot(j(t), i, u.inverted), e && i !== I && !isNaN(i) && null !== n.y ? (a = (e = n.pointAttr[n.selected ? "select" : ""]).r, r = 0 === (o = L(o.symbol, this.symbol)).indexOf("url"), l ? l.attr({
                    visibility: d ? E ? "inherit" : "visible" : "hidden"
                }).animate($({
                    x: t - a,
                    y: i - a
                }, l.symbolName ? {
                    width: 2 * a,
                    height: 2 * a
                } : {})) : d && (0 < a || r) && (n.graphic = u.renderer.symbol(o, t - a, i - a, 2 * a, 2 * a).attr(e).add(p))) : l && (n.graphic = l.destroy())
        },
        convertAttribs: function(e, t, i, s) {
            var n, a, o = this.pointAttrToOptions,
                r = {},
                e = e || {},
                t = t || {},
                i = i || {},
                s = s || {};
            for (n in o) a = o[n], r[n] = L(e[a], t[n], i[n], s[n]);
            return r
        },
        getAttribs: function() {
            var e, t, i, s = this,
                n = s.options,
                a = m[s.type].marker ? n.marker : n,
                o = a.states,
                r = o.hover,
                l = s.color,
                d = {
                    stroke: l,
                    fill: l
                },
                c = s.points || [],
                u = [],
                h = s.pointAttrToOptions,
                p = n.negativeColor,
                f = a.lineColor;
            for (n.marker ? (r.radius = r.radius || a.radius + 2, r.lineWidth = r.lineWidth || a.lineWidth + 1) : r.color = r.color || lt(r.color || l).brighten(r.brightness).get(), u[""] = s.convertAttribs(a, d), R(["hover", "select"], function(e) {
                    u[e] = s.convertAttribs(o[e], u[""])
                }), s.pointAttr = u, l = c.length; l--;) {
                if ((a = (d = c[l]).options && d.options.marker || d.options) && !1 === a.enabled && (a.radius = 0), d.negative && p && (d.color = d.fillColor = p), e = n.colorByPoint || d.color, d.options)
                    for (i in h) D(a[h[i]]) && (e = !0);
                e ? (t = [], e = (o = (a = a || {}).states || {}).hover = o.hover || {}, n.marker || (e.color = lt(e.color || d.color).brighten(e.brightness || r.brightness).get()), t[""] = s.convertAttribs($({
                    color: d.color,
                    fillColor: d.color,
                    lineColor: null === f ? d.color : I
                }, a), u[""]), t.hover = s.convertAttribs(o.hover, u.hover, t[""]), t.select = s.convertAttribs(o.select, u.select, t[""])) : t = u, d.pointAttr = t
            }
        },
        update: function(e, t) {
            var i, s = this.chart,
                n = this.type,
                a = u[n].prototype,
                e = M(this.userOptions, {
                    animation: !1,
                    index: this.index,
                    pointStart: this.xData[0]
                }, {
                    data: this.options.data
                }, e);
            for (i in this.remove(!1), a) a.hasOwnProperty(i) && (this[i] = I);
            $(this, u[e.type || n].prototype), this.init(s, e), L(t, !0) && s.redraw(!1)
        },
        destroy: function() {
            var t, e, i, s, n, a = this,
                o = a.chart,
                r = /AppleWebKit\/533/.test(qe),
                l = a.data || [];
            for (V(a, "destroy"), U(a), R(["xAxis", "yAxis"], function(e) {
                    (n = a[e]) && (h(n.series, a), n.isDirty = n.forceRedraw = !0, n.stacks = {})
                }), a.legendItem && a.chart.legend.destroyItem(a), e = l.length; e--;)(i = l[e]) && i.destroy && i.destroy();
            for (s in a.points = null, clearTimeout(a.animationTimeout), R("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","), function(e) {
                    a[e] && (t = r && "group" === e ? "hide" : "destroy", a[e][t]())
                }), o.hoverSeries === a && (o.hoverSeries = null), h(o.series, a), a) delete a[s]
        },
        drawDataLabels: function() {
            var r, l, d, c = this,
                u = c.options.dataLabels,
                e = c.points;
            (u.enabled || c._hasPointLabels) && (c.dlProcessOptions && c.dlProcessOptions(u), d = c.plotGroup("dataLabelsGroup", "data-labels", c.visible ? "visible" : "hidden", u.zIndex || 6), r = u, R(e, function(e) {
                var t, i, s = e.dataLabel,
                    n = e.connector,
                    a = !0,
                    o = L((l = e.options && e.options.dataLabels) && l.enabled, r.enabled);
                if (s && !o) e.dataLabel = s.destroy();
                else if (o) {
                    if (o = (u = M(r, l)).rotation, t = e.getLabelConfig(), l = u.format ? X(u.format, t) : u.formatter.call(t, u), u.style.color = L(u.color, u.style.color, c.color, "black"), s) D(l) ? (s.attr({
                        text: l
                    }), a = !1) : (e.dataLabel = s = s.destroy(), n && (e.connector = n.destroy()));
                    else if (D(l)) {
                        for (i in s = {
                                fill: u.backgroundColor,
                                stroke: u.borderColor,
                                "stroke-width": u.borderWidth,
                                r: u.borderRadius || 0,
                                rotation: o,
                                padding: u.padding,
                                zIndex: 1
                            }) s[i] === I && delete s[i];
                        s = e.dataLabel = c.chart.renderer[o ? "text" : "label"](l, 0, -999, null, null, null, u.useHTML).attr(s).css(u.style).add(d).shadow(u.shadow)
                    }
                    s && c.alignDataLabel(e, s, u, null, a)
                }
            }))
        },
        alignDataLabel: function(e, t, i, s, n) {
            var a = this.chart,
                o = a.inverted,
                r = L(e.plotX, -999),
                l = L(e.plotY, -999),
                d = t.getBBox();
            (e = this.visible && a.isInsidePlot(e.plotX, e.plotY, o)) && (s = $({
                x: o ? a.plotWidth - l : r,
                y: j(o ? a.plotHeight - r : l),
                width: 0,
                height: 0
            }, s), $(i, {
                width: d.width,
                height: d.height
            }), i.rotation ? (o = {
                align: i.align,
                x: s.x + i.x + s.width / 2,
                y: s.y + i.y + s.height / 2
            }, t[n ? "attr" : "animate"](o)) : (t.align(i, null, s), o = t.alignAttr, "justify" === L(i.overflow, "justify") ? this.justifyDataLabel(t, i, o, d, s, n) : L(i.crop, !0) && (e = a.isInsidePlot(o.x, o.y) && a.isInsidePlot(o.x + d.width, o.y + d.height)))), e || t.attr({
                y: -999
            })
        },
        justifyDataLabel: function(e, t, i, s, n, a) {
            var o, r = this.chart,
                l = t.align,
                d = t.verticalAlign,
                c = i.x;
            c < 0 && ("right" === l ? t.align = "left" : t.x = -c, o = !0), (c = i.x + s.width) > r.plotWidth && ("left" === l ? t.align = "right" : t.x = r.plotWidth - c, o = !0), (c = i.y) < 0 && ("bottom" === d ? t.verticalAlign = "top" : t.y = -c, o = !0), (c = i.y + s.height) > r.plotHeight && ("top" === d ? t.verticalAlign = "bottom" : t.y = r.plotHeight - c, o = !0), o && (e.placed = !a, e.align(t, null, n))
        },
        getSegmentPath: function(n) {
            var a = this,
                o = [],
                r = a.options.step;
            return R(n, function(e, t) {
                var i = e.plotX,
                    s = e.plotY;
                a.getPointSpline ? o.push.apply(o, a.getPointSpline(n, e, t)) : (o.push(t ? "L" : "M"), r && t && (t = n[t - 1], "right" === r ? o.push(t.plotX, s) : "center" === r ? o.push((t.plotX + i) / 2, t.plotY, (t.plotX + i) / 2, s) : o.push(i, t.plotY)), o.push(e.plotX, e.plotY))
            }), o
        },
        getGraphPath: function() {
            var t, i = this,
                s = [],
                n = [];
            return R(i.segments, function(e) {
                t = i.getSegmentPath(e), 1 < e.length ? s = s.concat(t) : n.push(e[0])
            }), i.singlePoints = n, i.graphPath = s
        },
        drawGraph: function() {
            var n = this,
                a = this.options,
                e = [
                    ["graph", a.lineColor || this.color]
                ],
                o = a.lineWidth,
                r = a.dashStyle,
                l = this.getGraphPath(),
                t = a.negativeColor;
            t && e.push(["graphNeg", t]), R(e, function(e, t) {
                var i = e[0],
                    s = n[i];
                s ? (_t(s), s.animate({
                    d: l
                })) : o && l.length && (s = {
                    stroke: e[1],
                    "stroke-width": o,
                    zIndex: 1
                }, r ? s.dashstyle = r : s["stroke-linecap"] = s["stroke-linejoin"] = "round", n[i] = n.chart.renderer.path(l).attr(s).add(n.group).shadow(!t && a.shadow))
            })
        },
        clipNeg: function() {
            var e = this.options,
                t = this.chart,
                i = t.renderer,
                s = e.negativeColor || e.negativeFillColor,
                n = this.graph,
                a = this.area,
                o = this.posClip,
                r = this.negClip,
                l = t.chartWidth,
                d = t.chartHeight,
                c = F(l, d),
                u = this.yAxis;
            s && (n || a) && (e = {
                x: 0,
                y: 0,
                width: c,
                height: s = j(u.toPixels(e.threshold || 0, !0))
            }, c = {
                x: 0,
                y: s,
                width: c,
                height: c
            }, t.inverted && (e.height = c.y = t.plotWidth - s, i.isVML) && (e = {
                x: t.plotWidth - s - t.plotLeft,
                y: 0,
                width: l,
                height: d
            }, c = {
                x: s + t.plotLeft - l,
                y: 0,
                width: t.plotLeft + s,
                height: l
            }), l = u.reversed ? (t = c, e) : (t = e, c), o ? (o.animate(t), r.animate(l)) : (this.posClip = o = i.clipRect(t), this.negClip = r = i.clipRect(l), n && this.graphNeg && (n.clip(o), this.graphNeg.clip(r)), a && (a.clip(o), this.areaNeg.clip(r))))
        },
        invertGroups: function() {
            function e() {
                var t = {
                    width: i.yAxis.len,
                    height: i.xAxis.len
                };
                R(["group", "markerGroup"], function(e) {
                    i[e] && i[e].attr(t).invert()
                })
            }
            var i = this,
                t = i.chart;
            i.xAxis && (B(t, "resize", e), B(i, "destroy", function() {
                U(t, "resize", e)
            }), e(), i.invertGroups = e)
        },
        plotGroup: function(e, t, i, s, n) {
            var a = this[e],
                o = !a;
            return o && (this[e] = a = this.chart.renderer.g(t).attr({
                visibility: i,
                zIndex: s || .1
            }).add(n)), a[o ? "attr" : "animate"](this.getPlotBox()), a
        },
        getPlotBox: function() {
            return {
                translateX: this.xAxis ? this.xAxis.left : this.chart.plotLeft,
                translateY: this.yAxis ? this.yAxis.top : this.chart.plotTop,
                scaleX: 1,
                scaleY: 1
            }
        },
        render: function() {
            var e = this.chart,
                t = this.options,
                i = t.animation && !!this.animate && e.renderer.isSVG,
                s = this.visible ? "visible" : "hidden",
                n = t.zIndex,
                a = this.hasRendered,
                o = e.seriesGroup,
                r = this.plotGroup("group", "series", s, n, o);
            this.markerGroup = this.plotGroup("markerGroup", "markers", s, n, o), i && this.animate(!0), this.getAttribs(), r.inverted = !!this.isCartesian && e.inverted, this.drawGraph && (this.drawGraph(), this.clipNeg()), this.drawDataLabels(), this.drawPoints(), !1 !== this.options.enableMouseTracking && this.drawTracker(), e.inverted && this.invertGroups(), !1 === t.clip || this.sharedClipKey || a || r.clip(e.clipRect), i ? this.animate() : a || this.afterAnimate(), this.isDirty = this.isDirtyData = !1, this.hasRendered = !0
        },
        redraw: function() {
            var e = this.chart,
                t = this.isDirtyData,
                i = this.group,
                s = this.xAxis,
                n = this.yAxis;
            i && (e.inverted && i.attr({
                width: e.plotWidth,
                height: e.plotHeight
            }), i.animate({
                translateX: L(s && s.left, e.plotLeft),
                translateY: L(n && n.top, e.plotTop)
            })), this.translate(), this.setTooltipPoints(!0), this.render(), t && V(this, "updatedData")
        },
        setState: function(e) {
            var t = this.options,
                i = this.graph,
                s = this.graphNeg,
                n = t.states,
                t = t.lineWidth,
                e = e || "";
            this.state === e || n[this.state = e] && !1 === n[e].enabled || (e && (t = n[e].lineWidth || t + 1), i && !i.dashstyle && (i.attr(e = {
                "stroke-width": t
            }), s) && s.attr(e))
        },
        setVisible: function(t, e) {
            var i = this,
                s = i.chart,
                n = i.legendItem,
                a = s.options.chart.ignoreHiddenSeries,
                o = i.visible,
                r = (i.visible = t = i.userOptions.visible = t === I ? !o : t) ? "show" : "hide";
            R(["group", "dataLabelsGroup", "markerGroup", "tracker"], function(e) {
                i[e] && i[e][r]()
            }), s.hoverSeries === i && i.onMouseOut(), n && s.legend.colorizeItem(i, t), i.isDirty = !0, i.options.stacking && R(s.series, function(e) {
                e.options.stacking && e.visible && (e.isDirty = !0)
            }), R(i.linkedSeries, function(e) {
                e.setVisible(t, !1)
            }), a && (s.isDirtyBox = !0), !1 !== e && s.redraw(), V(i, r)
        },
        show: function() {
            this.setVisible(!0)
        },
        hide: function() {
            this.setVisible(!1)
        },
        select: function(e) {
            this.selected = e = e === I ? !this.selected : e, this.checkbox && (this.checkbox.checked = e), V(this, e ? "select" : "unselect")
        },
        drawTracker: function() {
            function t() {
                r.hoverSeries !== i && i.onMouseOver()
            }
            var e, i = this,
                s = i.options,
                n = s.trackByArea,
                a = [].concat(n ? i.areaPath : i.graphPath),
                o = a.length,
                r = i.chart,
                l = r.pointer,
                d = r.renderer,
                c = r.options.tooltip.snap,
                u = i.tracker,
                h = (p = s.cursor) && {
                    cursor: p
                },
                p = i.singlePoints;
            if (o && !n)
                for (e = o + 1; e--;) "M" === a[e] && a.splice(e + 1, 0, a[e + 1] - c, a[e + 2], "L"), (e && "M" === a[e] || e === o) && a.splice(e, 0, "L", a[e - 2] + c, a[e - 1]);
            for (e = 0; e < p.length; e++) o = p[e], a.push("M", o.plotX - c, o.plotY, "L", o.plotX + c, o.plotY);
            u ? u.attr({
                d: a
            }) : (i.tracker = d.path(a).attr({
                "stroke-linejoin": "round",
                visibility: i.visible ? "visible" : "hidden",
                stroke: Qe,
                fill: n ? Qe : q,
                "stroke-width": s.lineWidth + (n ? 0 : 2 * c),
                zIndex: 2
            }).add(i.group), R([i.tracker, i.markerGroup], function(e) {
                e.addClass("highcharts-tracker").on("mouseover", t).on("mouseout", function(e) {
                    l.onTrackerMouseOut(e)
                }).css(h), Ye && e.on("touchstart", t)
            }))
        }
    }, t = s(H), u.line = t, m.area = M(i, {
        threshold: 0
    }), t = s(H, {
        type: "area",
        getSegments: function() {
            var t, i, e, s, n = [],
                a = [],
                o = [],
                r = this.xAxis,
                l = this.yAxis,
                d = l.stacks[this.stackKey],
                c = {},
                u = this.points,
                h = this.options.connectNulls;
            if (this.options.stacking && !this.cropped) {
                for (e = 0; e < u.length; e++) c[u[e].x] = u[e];
                for (s in d) o.push(+s);
                o.sort(function(e, t) {
                    return e - t
                }), R(o, function(e) {
                    (!h || c[e] && null !== c[e].y) && (c[e] ? a.push(c[e]) : (t = r.translate(e), i = d[e].percent ? d[e].total ? 100 * d[e].cum / d[e].total : 0 : d[e].cum, i = l.toPixels(i, !0), a.push({
                        y: null,
                        plotX: t,
                        clientX: t,
                        plotY: i,
                        yBottom: i,
                        onMouseOver: ve
                    })))
                }), a.length && n.push(a)
            } else H.prototype.getSegments.call(this), n = this.segments;
            this.segments = n
        },
        getSegmentPath: function(e) {
            var t, i = H.prototype.getSegmentPath.call(this, e),
                s = [].concat(i),
                n = this.options,
                a = i.length,
                o = this.yAxis.getThreshold(n.threshold);
            if (3 === a && s.push("L", i[1], i[2]), n.stacking && !this.closedStacks)
                for (a = e.length - 1; 0 <= a; a--) t = L(e[a].yBottom, o), a < e.length - 1 && n.step && s.push(e[a + 1].plotX, t), s.push(e[a].plotX, t);
            else this.closeSegment(s, e, o);
            return this.areaPath = this.areaPath.concat(s), i
        },
        closeSegment: function(e, t, i) {
            e.push("L", t[t.length - 1].plotX, i, "L", t[0].plotX, i)
        },
        drawGraph: function() {
            this.areaPath = [], H.prototype.drawGraph.apply(this);
            var s = this,
                n = this.areaPath,
                a = this.options,
                e = a.negativeColor,
                t = a.negativeFillColor,
                i = [
                    ["area", this.color, a.fillColor]
                ];
            (e || t) && i.push(["areaNeg", e, t]), R(i, function(e) {
                var t = e[0],
                    i = s[t];
                i ? i.animate({
                    d: n
                }) : s[t] = s.chart.renderer.path(n).attr({
                    fill: L(e[2], lt(e[1]).setOpacity(L(a.fillOpacity, .75)).get()),
                    zIndex: 0
                }).add(s.group)
            })
        },
        drawLegendSymbol: function(e, t) {
            t.legendSymbol = this.chart.renderer.rect(0, e.baseline - 11, e.options.symbolWidth, 12, 2).attr({
                zIndex: 3
            }).add(t.legendGroup)
        }
    }), u.area = t, m.spline = M(i), e = s(H, {
        type: "spline",
        getPointSpline: function(e, t, i) {
            var s, n, a, o, r, l = t.plotX,
                d = t.plotY,
                c = e[i - 1],
                u = e[i + 1];
            return c && u && (e = c.plotY, s = u.plotX, r = (1.5 * d + (u = u.plotY)) / 2.5, r += n = (r - (o = (1.5 * d + e) / 2.5)) * ((s = (1.5 * l + s) / 2.5) - l) / (s - (a = (1.5 * l + c.plotX) / 2.5)) + d - r, e < (o += n) && d < o ? r = 2 * d - (o = F(e, d)) : o < e && o < d && (r = 2 * d - (o = w(e, d))), u < r && d < r ? o = 2 * d - (r = F(u, d)) : r < u && r < d && (o = 2 * d - (r = w(u, d))), t.rightContX = s, t.rightContY = r), i ? (t = ["C", c.rightContX || c.plotX, c.rightContY || c.plotY, a || l, o || d, l, d], c.rightContX = c.rightContY = null) : t = ["M", l, d], t
        }
    }), u.spline = e, m.areaspline = M(m.area), e = s(e, {
        type: "areaspline",
        closedStacks: !0,
        getSegmentPath: (ct = t.prototype).getSegmentPath,
        closeSegment: ct.closeSegment,
        drawGraph: ct.drawGraph,
        drawLegendSymbol: ct.drawLegendSymbol
    }), u.areaspline = e, m.column = M(i, {
        borderColor: "#FFFFFF",
        borderWidth: 1,
        borderRadius: 0,
        groupPadding: .2,
        marker: null,
        pointPadding: .1,
        minPointLength: 0,
        cropThreshold: 50,
        pointRange: null,
        states: {
            hover: {
                brightness: .1,
                shadow: !1
            },
            select: {
                color: "#C0C0C0",
                borderColor: "#000000",
                shadow: !1
            }
        },
        dataLabels: {
            align: null,
            verticalAlign: null,
            y: null
        },
        stickyTracking: !1,
        threshold: 0
    }), e = s(H, {
        type: "column",
        pointAttrToOptions: {
            stroke: "borderColor",
            "stroke-width": "borderWidth",
            fill: "color",
            r: "borderRadius"
        },
        cropShoulder: 0,
        trackerGroups: ["group", "dataLabelsGroup"],
        negStacks: !0,
        init: function() {
            H.prototype.init.apply(this, arguments);
            var t = this,
                e = t.chart;
            e.hasRendered && R(e.series, function(e) {
                e.type === t.type && (e.isDirty = !0)
            })
        },
        getColumnMetrics: function() {
            var s, n = this,
                e = n.options,
                t = n.xAxis,
                a = n.yAxis,
                i = t.reversed,
                o = {},
                r = 0;
            !1 === e.grouping ? r = 1 : R(n.chart.series, function(e) {
                var t = e.options,
                    i = e.yAxis;
                e.type === n.type && e.visible && a.len === i.len && a.pos === i.pos && (t.stacking ? (s = e.stackKey, o[s] === I && (o[s] = r++), s = o[s]) : !1 !== t.grouping && (s = r++), e.columnIndex = s)
            });
            var l = (t = w(O(t.transA) * (t.ordinalSlope || e.pointRange || t.closestPointRange || 1), t.len)) * e.groupPadding,
                d = (t - 2 * l) / r,
                c = L(c = e.pointWidth, d - 2 * (e = D(c) ? (d - c) / 2 : d * e.pointPadding));
            return n.columnMetrics = {
                width: c,
                offset: e + (l + ((i ? r - (n.columnIndex || 0) : n.columnIndex) || 0) * d - t / 2) * (i ? -1 : 1)
            }
        },
        translate: function() {
            var e = this.chart,
                t = this.options,
                i = t.borderWidth,
                r = this.yAxis,
                l = this.translatedThreshold = r.getThreshold(t.threshold),
                d = L(t.minPointLength, 5),
                c = (t = this.getColumnMetrics()).width,
                u = this.barW = je(F(c, 1 + 2 * i)),
                h = this.pointXOffset = t.offset,
                p = -(i % 2 ? .5 : 0),
                f = i % 2 ? .5 : 1;
            e.renderer.isVML && e.inverted && (f += 1), H.prototype.translate.apply(this), R(this.points, function(e) {
                var t, i = L(e.yBottom, l),
                    s = w(F(-999 - i, e.plotY), r.len + 999 + i),
                    n = e.plotX + h,
                    a = u,
                    o = w(s, i),
                    s = F(s, i) - o;
                O(s) < d && d && (s = d, o = j(O(o - l) > d ? i - d : l - (r.translate(e.y, 0, 1, 0, 1) <= l ? d : 0))), e.barX = n, e.pointWidth = c, i = O(n) < .5, a = j(n + a) + p, a -= n = j(n) + p, t = O(o) < .5, s = j(o + s) + f, s -= o = j(o) + f, i && (n += 1, --a), t && (--o, s += 1), e.shapeType = "rect", e.shapeArgs = {
                    x: n,
                    y: o,
                    width: a,
                    height: s
                }
            })
        },
        getSymbol: ve,
        drawLegendSymbol: t.prototype.drawLegendSymbol,
        drawGraph: ve,
        drawPoints: function() {
            var s, n = this,
                a = n.options,
                o = n.chart.renderer;
            R(n.points, function(e) {
                var t = e.plotY,
                    i = e.graphic;
                t === I || isNaN(t) || null === e.y ? i && (e.graphic = i.destroy()) : (s = e.shapeArgs, i ? (_t(i), i.animate(M(s))) : e.graphic = o[e.shapeType](s).attr(e.pointAttr[e.selected ? "select" : ""]).add(n.group).shadow(a.shadow, null, a.stacking && !a.borderRadius))
            })
        },
        drawTracker: function() {
            function t(e) {
                var t, i = e.target;
                for (n.hoverSeries !== s && s.onMouseOver(); i && !t;) t = i.point, i = i.parentNode;
                t !== I && t !== n.hoverPoint && t.onMouseOver(e)
            }
            var s = this,
                n = s.chart,
                i = n.pointer,
                e = s.options.cursor,
                a = e && {
                    cursor: e
                };
            R(s.points, function(e) {
                e.graphic && (e.graphic.element.point = e), e.dataLabel && (e.dataLabel.element.point = e)
            }), s._hasTracking || (R(s.trackerGroups, function(e) {
                s[e] && (s[e].addClass("highcharts-tracker").on("mouseover", t).on("mouseout", function(e) {
                    i.onTrackerMouseOut(e)
                }).css(a), Ye) && s[e].on("touchstart", t)
            }), s._hasTracking = !0)
        },
        alignDataLabel: function(e, t, i, s, n) {
            var a = this.chart,
                o = a.inverted,
                r = e.dlBox || e.shapeArgs,
                l = e.below || e.plotY > L(this.translatedThreshold, a.plotSizeY),
                d = L(i.inside, !!this.options.stacking);
            r && (s = M(r), o && (s = {
                x: a.plotWidth - s.y - s.height,
                y: a.plotHeight - s.x - s.width,
                width: s.height,
                height: s.width
            }), !d) && (o ? (s.x += l ? 0 : s.width, s.width = 0) : (s.y += l ? s.height : 0, s.height = 0)), i.align = L(i.align, !o || d ? "center" : l ? "right" : "left"), i.verticalAlign = L(i.verticalAlign, o || d ? "middle" : l ? "top" : "bottom"), H.prototype.alignDataLabel.call(this, e, t, i, s, n)
        },
        animate: function(e) {
            var t = this.yAxis,
                i = this.options,
                s = this.chart.inverted,
                n = {};
            E && (e ? (n.scaleY = .001, e = w(t.pos + t.len, F(t.pos, t.toPixels(i.threshold))), s ? n.translateX = e - t.len : n.translateY = e, this.group.attr(n)) : (n.scaleY = 1, n[s ? "translateX" : "translateY"] = t.pos, this.group.animate(n, this.options.animation), this.animate = null))
        },
        remove: function() {
            var t = this,
                e = t.chart;
            e.hasRendered && R(e.series, function(e) {
                e.type === t.type && (e.isDirty = !0)
            }), H.prototype.remove.apply(t, arguments)
        }
    }), u.column = e, m.bar = M(m.column), ct = s(e, {
        type: "bar",
        inverted: !0
    }), u.bar = ct, m.scatter = M(i, {
        lineWidth: 0,
        tooltip: {
            headerFormat: '<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',
            pointFormat: "x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",
            followPointer: !0
        },
        stickyTracking: !1
    }), ct = s(H, {
        type: "scatter",
        sorted: !1,
        requireSorting: !1,
        noSharedTooltip: !0,
        trackerGroups: ["markerGroup"],
        drawTracker: e.prototype.drawTracker,
        setTooltipPoints: ve
    }), u.scatter = ct, m.pie = M(i, {
        borderColor: "#FFFFFF",
        borderWidth: 1,
        center: [null, null],
        clip: !1,
        colorByPoint: !0,
        dataLabels: {
            distance: 30,
            enabled: !0,
            formatter: function() {
                return this.point.name
            }
        },
        ignoreHiddenPoint: !0,
        legendType: "point",
        marker: null,
        size: null,
        showInLegend: !1,
        slicedOffset: 10,
        states: {
            hover: {
                brightness: .1,
                shadow: !1
            }
        },
        stickyTracking: !1,
        tooltip: {
            followPointer: !0
        }
    }), i = {
        type: "pie",
        isCartesian: !1,
        pointClass: s(kt, {
            init: function() {
                kt.prototype.init.apply(this, arguments);
                var e, t = this;
                return t.y < 0 && (t.y = null), $(t, {
                    visible: !1 !== t.visible,
                    name: L(t.name, "Slice")
                }), B(t, "select", e = function(e) {
                    t.slice("select" === e.type)
                }), B(t, "unselect", e), t
            },
            setVisible: function(e) {
                var t, i = this,
                    s = i.series,
                    n = s.chart;
                i.visible = i.options.visible = e = e === I ? !i.visible : e, s.options.data[mt(i, s.data)] = i.options, t = e ? "show" : "hide", R(["graphic", "dataLabel", "connector", "shadowGroup"], function(e) {
                    i[e] && i[e][t]()
                }), i.legendItem && n.legend.colorizeItem(i, e), !s.isDirty && s.options.ignoreHiddenPoint && (s.isDirty = !0, n.redraw())
            },
            slice: function(e, t, i) {
                var s = this.series;
                oe(i, s.chart), L(t, !0), this.sliced = this.options.sliced = e = D(e) ? e : !this.sliced, s.options.data[mt(this, s.data)] = this.options, e = e ? this.slicedTranslation : {
                    translateX: 0,
                    translateY: 0
                }, this.graphic.animate(e), this.shadowGroup && this.shadowGroup.animate(e)
            }
        }),
        requireSorting: !1,
        noSharedTooltip: !0,
        trackerGroups: ["group", "dataLabelsGroup"],
        pointAttrToOptions: {
            stroke: "borderColor",
            "stroke-width": "borderWidth",
            fill: "color"
        },
        getColor: ve,
        animate: function(e) {
            var i = this,
                t = i.points,
                s = i.startAngleRad;
            e || (R(t, function(e) {
                var t = e.graphic,
                    e = e.shapeArgs;
                t && (t.attr({
                    r: i.center[3] / 2,
                    start: s,
                    end: s
                }), t.animate({
                    r: e.r,
                    start: e.start,
                    end: e.end
                }, i.options.animation))
            }), i.animate = null)
        },
        setData: function(e, t) {
            H.prototype.setData.call(this, e, !1), this.processData(), this.generatePoints(), L(t, !0) && this.chart.redraw()
        },
        generatePoints: function() {
            var e, t, i, s, n = 0,
                a = this.options.ignoreHiddenPoint;
            for (H.prototype.generatePoints.call(this), i = (t = this.points).length, e = 0; e < i; e++) s = t[e], n += a && !s.visible ? 0 : s.y;
            for (this.total = n, e = 0; e < i; e++)(s = t[e]).percentage = 0 < n ? s.y / n * 100 : 0, s.total = n
        },
        getCenter: function() {
            var i, s, e = this.options,
                t = this.chart,
                n = 2 * (e.slicedOffset || 0),
                a = t.plotWidth - 2 * n,
                o = t.plotHeight - 2 * n,
                e = [L((t = e.center)[0], "50%"), L(t[1], "50%"), e.size || "100%", e.innerSize || 0],
                r = w(a, o);
            return yt(e, function(e, t) {
                return s = /%$/.test(e), i = t < 2 || 2 === t && s, (s ? [a, o, r, r][t] * _(e) / 100 : e) + (i ? n : 0)
            })
        },
        translate: function(i) {
            this.generatePoints();
            var e, t, s, n, a, o = 0,
                r = (p = this.options).slicedOffset,
                l = r + p.borderWidth,
                d = p.startAngle || 0,
                c = this.startAngleRad = Fe / 180 * (d - 90),
                d = (this.endAngleRad = Fe / 180 * ((p.endAngle || d + 360) - 90)) - c,
                u = this.points,
                h = p.dataLabels.distance,
                p = p.ignoreHiddenPoint,
                f = u.length;
            for (i || (this.center = i = this.getCenter()), this.getX = function(e, t) {
                    return s = P.asin((e - i[1]) / (i[2] / 2 + h)), i[0] + (t ? -1 : 1) * b(s) * (i[2] / 2 + h)
                }, n = 0; n < f; n++) a = u[n], e = c + o * d, p && !a.visible || (o += a.percentage / 100), t = c + o * d, a.shapeType = "arc", a.shapeArgs = {
                x: i[0],
                y: i[1],
                r: i[2] / 2,
                innerR: i[3] / 2,
                start: j(1e3 * e) / 1e3,
                end: j(1e3 * t) / 1e3
            }, .75 * d < (s = (t + e) / 2) && (s -= 2 * Fe), a.slicedTranslation = {
                translateX: j(b(s) * r),
                translateY: j(S(s) * r)
            }, e = b(s) * i[2] / 2, t = S(s) * i[2] / 2, a.tooltipPos = [i[0] + .7 * e, i[1] + .7 * t], a.half = s < -Fe / 2 || Fe / 2 < s ? 1 : 0, a.angle = s, l = w(l, h / 2), a.labelPos = [i[0] + e + b(s) * h, i[1] + t + S(s) * h, i[0] + e + b(s) * l, i[1] + t + S(s) * l, i[0] + e, i[1] + t, h < 0 ? "center" : a.half ? "right" : "left", s]
        },
        setTooltipPoints: ve,
        drawGraph: null,
        drawPoints: function() {
            var t, i, s, n, a = this,
                o = a.chart.renderer,
                r = a.options.shadow;
            r && !a.shadowGroup && (a.shadowGroup = o.g("shadow").add(a.group)), R(a.points, function(e) {
                i = e.graphic, n = e.shapeArgs, s = e.shadowGroup, r && !s && (s = e.shadowGroup = o.g("shadow").add(a.shadowGroup)), t = e.sliced ? e.slicedTranslation : {
                    translateX: 0,
                    translateY: 0
                }, s && s.attr(t), i ? i.animate($(n, t)) : e.graphic = i = o.arc(n).setRadialReference(a.center).attr(e.pointAttr[e.selected ? "select" : ""]).attr({
                    "stroke-linejoin": "round"
                }).attr(t).add(a.group).shadow(r, s), !1 === e.visible && e.setVisible(!1)
            })
        },
        sortByAngle: function(e, i) {
            e.sort(function(e, t) {
                return void 0 !== e.angle && (t.angle - e.angle) * i
            })
        },
        drawDataLabels: function() {
            function e(e, t) {
                return t.y - e.y
            }
            var t, i, s, n, a, o, r, l, d, c, u = this,
                h = u.data,
                p = u.chart,
                f = u.options.dataLabels,
                m = L(f.connectorPadding, 10),
                g = L(f.connectorWidth, 1),
                v = p.plotWidth,
                p = p.plotHeight,
                y = L(f.softConnector, !0),
                b = f.distance,
                w = u.center,
                _ = w[2] / 2,
                C = w[1],
                k = 0 < b,
                x = [
                    [],
                    []
                ],
                S = [0, 0, 0, 0];
            if (u.visible && (f.enabled || u._hasPointLabels)) {
                for (H.prototype.drawDataLabels.apply(u), R(h, function(e) {
                        e.dataLabel && x[e.half].push(e)
                    }), d = 0; !a && h[d];) a = h[d] && h[d].dataLabel && (h[d].dataLabel.getBBox().height || 21), d++;
                for (d = 2; d--;) {
                    var T, h = [],
                        E = [],
                        A = x[d],
                        P = A.length;
                    if (u.sortByAngle(A, d - .5), 0 < b) {
                        for (c = C - _ - b; c <= C + _ + b; c += a) h.push(c);
                        if ((n = h.length) < P) {
                            for ((D = [].concat(A)).sort(e), c = P; c--;) D[c].rank = c;
                            for (c = P; c--;) A[c].rank >= n && A.splice(c, 1);
                            P = A.length
                        }
                        for (c = 0; c < P; c++) {
                            var $, M, D, I = (D = A[c]).labelPos;
                            for (D = 9999, M = 0; M < n; M++)($ = O(h[M] - I[1])) < D && (D = $, T = M);
                            if (T < c && null !== h[c]) T = c;
                            else
                                for (n < P - c + T && null !== h[c] && (T = n - P + c); null === h[T];) T++;
                            E.push({
                                i: T,
                                y: h[T]
                            }), h[T] = null
                        }
                        E.sort(e)
                    }
                    for (c = 0; c < P; c++) D = A[c], I = D.labelPos, s = D.dataLabel, l = !1 === D.visible ? "hidden" : "visible", D = I[1], (!(0 < b) || (T = (n = E.pop()).i, (r = n.y) < D && null !== h[T + 1]) || D < r && null !== h[T - 1]) && (r = D), o = f.justify ? w[0] + (d ? -1 : 1) * (_ + b) : u.getX(0 === T || T === h.length - 1 ? D : r, d), s._attr = {
                        visibility: l,
                        align: I[6]
                    }, s._pos = {
                        x: o + f.x + ({
                            left: m,
                            right: -m
                        } [I[6]] || 0),
                        y: r + f.y - 10
                    }, s.connX = o, s.connY = r, null === this.options.size && (n = s.width, o - n < m ? S[3] = F(j(n - o + m), S[3]) : v - m < o + n && (S[1] = F(j(o + n - v + m), S[1])), r - a / 2 < 0 ? S[0] = F(j(a / 2 - r), S[0]) : p < r + a / 2 && (S[2] = F(j(r + a / 2 - p), S[2])))
                }(0 === se(S) || this.verifyDataLabelOverflow(S)) && (this.placeDataLabels(), k) && g && R(this.points, function(e) {
                    t = e.connector, I = e.labelPos, (s = e.dataLabel) && s._pos ? (l = s._attr.visibility, o = s.connX, r = s.connY, i = y ? ["M", o + ("left" === I[6] ? 5 : -5), r, "C", o, r, 2 * I[2] - I[4], 2 * I[3] - I[5], I[2], I[3], "L", I[4], I[5]] : ["M", o + ("left" === I[6] ? 5 : -5), r, "L", I[2], I[3], "L", I[4], I[5]], t ? (t.animate({
                        d: i
                    }), t.attr("visibility", l)) : e.connector = t = u.chart.renderer.path(i).attr({
                        "stroke-width": g,
                        stroke: f.connectorColor || e.color || "#606060",
                        visibility: l
                    }).add(u.group)) : t && (e.connector = t.destroy())
                })
            }
        },
        verifyDataLabelOverflow: function(e) {
            var t, i = this.center,
                s = this.options,
                n = s.center,
                a = s = s.minSize || 80;
            return null !== n[0] ? a = F(i[2] - F(e[1], e[3]), s) : (a = F(i[2] - e[1] - e[3], s), i[0] += (e[3] - e[1]) / 2), null !== n[1] ? a = F(w(a, i[2] - F(e[0], e[2])), s) : (a = F(w(a, i[2] - e[0] - e[2]), s), i[1] += (e[0] - e[2]) / 2), a < i[2] ? (i[2] = a, this.translate(i), R(this.points, function(e) {
                e.dataLabel && (e.dataLabel._pos = null)
            }), this.drawDataLabels()) : t = !0, t
        },
        placeDataLabels: function() {
            R(this.points, function(e) {
                var t;
                (e = e.dataLabel) && ((t = e._pos) ? (e.attr(e._attr), e[e.moved ? "animate" : "attr"](t), e.moved = !0) : e && e.attr({
                    y: -999
                }))
            })
        },
        alignDataLabel: ve,
        drawTracker: e.prototype.drawTracker,
        drawLegendSymbol: t.prototype.drawLegendSymbol,
        getSymbol: ve
    }, i = s(H, i), u.pie = i, $(Highcharts, {
        Axis: he,
        Chart: ge,
        Color: lt,
        Legend: me,
        Pointer: fe,
        Point: kt,
        Tick: de,
        Tooltip: pe,
        Renderer: ye,
        Series: H,
        SVGElement: le,
        SVGRenderer: dt,
        arrayMin: ie,
        arrayMax: se,
        charts: Je,
        dateFormat: we,
        format: X,
        pathAnim: Ce,
        getOptions: function() {
            return N
        },
        hasBidiBug: We,
        isTouchDevice: He,
        numberFormat: Y,
        seriesTypes: u,
        setOptions: function(e) {
            return N = M(N, e), re(), N
        },
        addEvent: B,
        removeEvent: U,
        createElement: A,
        discardElement: o,
        css: k,
        each: R,
        extend: $,
        map: yt,
        merge: M,
        pick: L,
        splat: p,
        extendClass: s,
        pInt: _,
        wrap: n,
        svg: E,
        canvas: r,
        vml: !E && !r,
        product: "Highcharts",
        version: "3.0.6"
    })
}(), ! function(e) {
    "use strict";
    "function" == typeof define && define.amd ? define(["jquery"], e) : "undefined" != typeof exports ? module.exports = e(require("jquery")) : e(jQuery)
}(function(d) {
    "use strict";
    var s, a = window.Slick || {};
    s = 0, (a = function(e, t) {
        var i = this;
        i.defaults = {
            accessibility: !0,
            adaptiveHeight: !1,
            appendArrows: d(e),
            appendDots: d(e),
            arrows: !0,
            asNavFor: null,
            prevArrow: '<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',
            nextArrow: '<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',
            autoplay: !1,
            autoplaySpeed: 3e3,
            centerMode: !1,
            centerPadding: "50px",
            cssEase: "ease",
            customPaging: function(e, t) {
                return d('<button type="button" data-role="none" role="button" tabindex="0" />').text(t + 1)
            },
            dots: !1,
            dotsClass: "slick-dots",
            draggable: !0,
            easing: "linear",
            edgeFriction: .35,
            fade: !1,
            focusOnSelect: !1,
            infinite: !0,
            initialSlide: 0,
            lazyLoad: "ondemand",
            mobileFirst: !1,
            pauseOnHover: !0,
            pauseOnFocus: !0,
            pauseOnDotsHover: !1,
            respondTo: "window",
            responsive: null,
            rows: 1,
            rtl: !1,
            slide: "",
            slidesPerRow: 1,
            slidesToShow: 1,
            slidesToScroll: 1,
            speed: 500,
            swipe: !0,
            swipeToSlide: !1,
            touchMove: !0,
            touchThreshold: 5,
            useCSS: !0,
            useTransform: !0,
            variableWidth: !1,
            vertical: !1,
            verticalSwiping: !1,
            waitForAnimate: !0,
            zIndex: 1e3
        }, i.initials = {
            animating: !1,
            dragging: !1,
            autoPlayTimer: null,
            currentDirection: 0,
            currentLeft: null,
            currentSlide: 0,
            direction: 1,
            $dots: null,
            listWidth: null,
            listHeight: null,
            loadIndex: 0,
            $nextArrow: null,
            $prevArrow: null,
            slideCount: null,
            slideWidth: null,
            $slideTrack: null,
            $slides: null,
            sliding: !1,
            slideOffset: 0,
            swipeLeft: null,
            $list: null,
            touchObject: {},
            transformsEnabled: !1,
            unslicked: !1
        }, d.extend(i, i.initials), i.activeBreakpoint = null, i.animType = null, i.animProp = null, i.breakpoints = [], i.breakpointSettings = [], i.cssTransitions = !1, i.focussed = !1, i.interrupted = !1, i.hidden = "hidden", i.paused = !0, i.positionProp = null, i.respondTo = null, i.rowCount = 1, i.shouldClick = !0, i.$slider = d(e), i.$slidesCache = null, i.transformType = null, i.transitionType = null, i.visibilityChange = "visibilitychange", i.windowWidth = 0, i.windowTimer = null, e = d(e).data("slick") || {}, i.options = d.extend({}, i.defaults, t, e), i.currentSlide = i.options.initialSlide, i.originalSettings = i.options, void 0 !== document.mozHidden ? (i.hidden = "mozHidden", i.visibilityChange = "mozvisibilitychange") : void 0 !== document.webkitHidden && (i.hidden = "webkitHidden", i.visibilityChange = "webkitvisibilitychange"), i.autoPlay = d.proxy(i.autoPlay, i), i.autoPlayClear = d.proxy(i.autoPlayClear, i), i.autoPlayIterator = d.proxy(i.autoPlayIterator, i), i.changeSlide = d.proxy(i.changeSlide, i), i.clickHandler = d.proxy(i.clickHandler, i), i.selectHandler = d.proxy(i.selectHandler, i), i.setPosition = d.proxy(i.setPosition, i), i.swipeHandler = d.proxy(i.swipeHandler, i), i.dragHandler = d.proxy(i.dragHandler, i), i.keyHandler = d.proxy(i.keyHandler, i), i.instanceUid = s++, i.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/, i.registerBreakpoints(), i.init(!0)
    }).prototype.activateADA = function() {
        this.$slideTrack.find(".slick-active").attr({
            "aria-hidden": "false"
        }).find("a, input, button, select").attr({
            tabindex: "0"
        })
    }, a.prototype.addSlide = a.prototype.slickAdd = function(e, t, i) {
        var s = this;
        if ("boolean" == typeof t) i = t, t = null;
        else if (t < 0 || t >= s.slideCount) return !1;
        s.unload(), "number" == typeof t ? 0 === t && 0 === s.$slides.length ? d(e).appendTo(s.$slideTrack) : i ? d(e).insertBefore(s.$slides.eq(t)) : d(e).insertAfter(s.$slides.eq(t)) : !0 === i ? d(e).prependTo(s.$slideTrack) : d(e).appendTo(s.$slideTrack), s.$slides = s.$slideTrack.children(this.options.slide), s.$slideTrack.children(this.options.slide).detach(), s.$slideTrack.append(s.$slides), s.$slides.each(function(e, t) {
            d(t).attr("data-slick-index", e)
        }), s.$slidesCache = s.$slides, s.reinit()
    }, a.prototype.animateHeight = function() {
        var e;
        1 === this.options.slidesToShow && !0 === this.options.adaptiveHeight && !1 === this.options.vertical && (e = this.$slides.eq(this.currentSlide).outerHeight(!0), this.$list.animate({
            height: e
        }, this.options.speed))
    }, a.prototype.animateSlide = function(e, t) {
        var i = {},
            s = this;
        s.animateHeight(), !0 === s.options.rtl && !1 === s.options.vertical && (e = -e), !1 === s.transformsEnabled ? !1 === s.options.vertical ? s.$slideTrack.animate({
            left: e
        }, s.options.speed, s.options.easing, t) : s.$slideTrack.animate({
            top: e
        }, s.options.speed, s.options.easing, t) : !1 === s.cssTransitions ? (!0 === s.options.rtl && (s.currentLeft = -s.currentLeft), d({
            animStart: s.currentLeft
        }).animate({
            animStart: e
        }, {
            duration: s.options.speed,
            easing: s.options.easing,
            step: function(e) {
                e = Math.ceil(e), !1 === s.options.vertical ? i[s.animType] = "translate(" + e + "px, 0px)" : i[s.animType] = "translate(0px," + e + "px)", s.$slideTrack.css(i)
            },
            complete: function() {
                t && t.call()
            }
        })) : (s.applyTransition(), e = Math.ceil(e), !1 === s.options.vertical ? i[s.animType] = "translate3d(" + e + "px, 0px, 0px)" : i[s.animType] = "translate3d(0px," + e + "px, 0px)", s.$slideTrack.css(i), t && setTimeout(function() {
            s.disableTransition(), t.call()
        }, s.options.speed))
    }, a.prototype.getNavTarget = function() {
        var e = this.options.asNavFor;
        return e = e && null !== e ? d(e).not(this.$slider) : e
    }, a.prototype.asNavFor = function(t) {
        var e = this.getNavTarget();
        null !== e && "object" == typeof e && e.each(function() {
            var e = d(this).slick("getSlick");
            e.unslicked || e.slideHandler(t, !0)
        })
    }, a.prototype.applyTransition = function(e) {
        var t = this,
            i = {};
        !1 === t.options.fade ? i[t.transitionType] = t.transformType + " " + t.options.speed + "ms " + t.options.cssEase : i[t.transitionType] = "opacity " + t.options.speed + "ms " + t.options.cssEase, (!1 === t.options.fade ? t.$slideTrack : t.$slides.eq(e)).css(i)
    }, a.prototype.autoPlay = function() {
        this.autoPlayClear(), this.slideCount > this.options.slidesToShow && (this.autoPlayTimer = setInterval(this.autoPlayIterator, this.options.autoplaySpeed))
    }, a.prototype.autoPlayClear = function() {
        this.autoPlayTimer && clearInterval(this.autoPlayTimer)
    }, a.prototype.autoPlayIterator = function() {
        var e = this,
            t = e.currentSlide + e.options.slidesToScroll;
        e.paused || e.interrupted || e.focussed || (!1 === e.options.infinite && (1 === e.direction && e.currentSlide + 1 === e.slideCount - 1 ? e.direction = 0 : 0 === e.direction && (t = e.currentSlide - e.options.slidesToScroll, e.currentSlide - 1 == 0) && (e.direction = 1)), e.slideHandler(t))
    }, a.prototype.buildArrows = function() {
        var e = this;
        !0 === e.options.arrows && (e.$prevArrow = d(e.options.prevArrow).addClass("slick-arrow"), e.$nextArrow = d(e.options.nextArrow).addClass("slick-arrow"), e.slideCount > e.options.slidesToShow ? (e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"), e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"), e.htmlExpr.test(e.options.prevArrow) && e.$prevArrow.prependTo(e.options.appendArrows), e.htmlExpr.test(e.options.nextArrow) && e.$nextArrow.appendTo(e.options.appendArrows), !0 !== e.options.infinite && e.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true")) : e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({
            "aria-disabled": "true",
            tabindex: "-1"
        }))
    }, a.prototype.buildDots = function() {
        var e, t, i = this;
        if (!0 === i.options.dots && i.slideCount > i.options.slidesToShow) {
            for (i.$slider.addClass("slick-dotted"), t = d("<ul />").addClass(i.options.dotsClass), e = 0; e <= i.getDotCount(); e += 1) t.append(d("<li />").append(i.options.customPaging.call(this, i, e)));
            i.$dots = t.appendTo(i.options.appendDots), i.$dots.find("li").first().addClass("slick-active").attr("aria-hidden", "false")
        }
    }, a.prototype.buildOut = function() {
        var e = this;
        e.$slides = e.$slider.children(e.options.slide + ":not(.slick-cloned)").addClass("slick-slide"), e.slideCount = e.$slides.length, e.$slides.each(function(e, t) {
            d(t).attr("data-slick-index", e).data("originalStyling", d(t).attr("style") || "")
        }), e.$slider.addClass("slick-slider"), e.$slideTrack = 0 === e.slideCount ? d('<div class="slick-track"/>').appendTo(e.$slider) : e.$slides.wrapAll('<div class="slick-track"/>').parent(), e.$list = e.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(), e.$slideTrack.css("opacity", 0), !0 !== e.options.centerMode && !0 !== e.options.swipeToSlide || (e.options.slidesToScroll = 1), d("img[data-lazy]", e.$slider).not("[src]").addClass("slick-loading"), e.setupInfinite(), e.buildArrows(), e.buildDots(), e.updateDots(), e.setSlideClasses("number" == typeof e.currentSlide ? e.currentSlide : 0), !0 === e.options.draggable && e.$list.addClass("draggable")
    }, a.prototype.buildRows = function() {
        var e, t, i, s = this,
            n = document.createDocumentFragment(),
            a = s.$slider.children();
        if (1 < s.options.rows) {
            for (i = s.options.slidesPerRow * s.options.rows, t = Math.ceil(a.length / i), e = 0; e < t; e++) {
                for (var o = document.createElement("div"), r = 0; r < s.options.rows; r++) {
                    for (var l = document.createElement("div"), d = 0; d < s.options.slidesPerRow; d++) {
                        var c = e * i + (r * s.options.slidesPerRow + d);
                        a.get(c) && l.appendChild(a.get(c))
                    }
                    o.appendChild(l)
                }
                n.appendChild(o)
            }
            s.$slider.empty().append(n), s.$slider.children().children().children().css({
                width: 100 / s.options.slidesPerRow + "%",
                display: "inline-block"
            })
        }
    }, a.prototype.checkResponsive = function(e, t) {
        var i, s, n, a = this,
            o = !1,
            r = a.$slider.width(),
            l = window.innerWidth || d(window).width();
        if ("window" === a.respondTo ? n = l : "slider" === a.respondTo ? n = r : "min" === a.respondTo && (n = Math.min(l, r)), a.options.responsive && a.options.responsive.length && null !== a.options.responsive) {
            for (i in s = null, a.breakpoints) a.breakpoints.hasOwnProperty(i) && (!1 === a.originalSettings.mobileFirst ? n < a.breakpoints[i] && (s = a.breakpoints[i]) : n > a.breakpoints[i] && (s = a.breakpoints[i]));
            null !== s ? null !== a.activeBreakpoint && s === a.activeBreakpoint && !t || (a.activeBreakpoint = s, "unslick" === a.breakpointSettings[s] ? a.unslick(s) : (a.options = d.extend({}, a.originalSettings, a.breakpointSettings[s]), !0 === e && (a.currentSlide = a.options.initialSlide), a.refresh(e)), o = s) : null !== a.activeBreakpoint && (a.activeBreakpoint = null, a.options = a.originalSettings, !0 === e && (a.currentSlide = a.options.initialSlide), a.refresh(e), o = s), e || !1 === o || a.$slider.trigger("breakpoint", [a, o])
        }
    }, a.prototype.changeSlide = function(e, t) {
        var i, s = this,
            n = d(e.currentTarget);
        switch (n.is("a") && e.preventDefault(), n.is("li") || (n = n.closest("li")), i = s.slideCount % s.options.slidesToScroll != 0 ? 0 : (s.slideCount - s.currentSlide) % s.options.slidesToScroll, e.data.message) {
            case "previous":
                a = 0 == i ? s.options.slidesToScroll : s.options.slidesToShow - i, s.slideCount > s.options.slidesToShow && s.slideHandler(s.currentSlide - a, !1, t);
                break;
            case "next":
                a = 0 == i ? s.options.slidesToScroll : i, s.slideCount > s.options.slidesToShow && s.slideHandler(s.currentSlide + a, !1, t);
                break;
            case "index":
                var a = 0 === e.data.index ? 0 : e.data.index || n.index() * s.options.slidesToScroll;
                s.slideHandler(s.checkNavigable(a), !1, t), n.children().trigger("focus");
                break;
            default:
                return
        }
    }, a.prototype.checkNavigable = function(e) {
        var t = this.getNavigableIndexes(),
            i = 0;
        if (e > t[t.length - 1]) e = t[t.length - 1];
        else
            for (var s in t) {
                if (e < t[s]) {
                    e = i;
                    break
                }
                i = t[s]
            }
        return e
    }, a.prototype.cleanUpEvents = function() {
        var e = this;
        e.options.dots && null !== e.$dots && d("li", e.$dots).off("click.slick", e.changeSlide).off("mouseenter.slick", d.proxy(e.interrupt, e, !0)).off("mouseleave.slick", d.proxy(e.interrupt, e, !1)), e.$slider.off("focus.slick blur.slick"), !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && (e.$prevArrow && e.$prevArrow.off("click.slick", e.changeSlide), e.$nextArrow) && e.$nextArrow.off("click.slick", e.changeSlide), e.$list.off("touchstart.slick mousedown.slick", e.swipeHandler), e.$list.off("touchmove.slick mousemove.slick", e.swipeHandler), e.$list.off("touchend.slick mouseup.slick", e.swipeHandler), e.$list.off("touchcancel.slick mouseleave.slick", e.swipeHandler), e.$list.off("click.slick", e.clickHandler), d(document).off(e.visibilityChange, e.visibility), e.cleanUpSlideEvents(), !0 === e.options.accessibility && e.$list.off("keydown.slick", e.keyHandler), !0 === e.options.focusOnSelect && d(e.$slideTrack).children().off("click.slick", e.selectHandler), d(window).off("orientationchange.slick.slick-" + e.instanceUid, e.orientationChange), d(window).off("resize.slick.slick-" + e.instanceUid, e.resize), d("[draggable!=true]", e.$slideTrack).off("dragstart", e.preventDefault), d(window).off("load.slick.slick-" + e.instanceUid, e.setPosition), d(document).off("ready.slick.slick-" + e.instanceUid, e.setPosition)
    }, a.prototype.cleanUpSlideEvents = function() {
        this.$list.off("mouseenter.slick", d.proxy(this.interrupt, this, !0)), this.$list.off("mouseleave.slick", d.proxy(this.interrupt, this, !1))
    }, a.prototype.cleanUpRows = function() {
        var e;
        1 < this.options.rows && ((e = this.$slides.children().children()).removeAttr("style"), this.$slider.empty().append(e))
    }, a.prototype.clickHandler = function(e) {
        !1 === this.shouldClick && (e.stopImmediatePropagation(), e.stopPropagation(), e.preventDefault())
    }, a.prototype.destroy = function(e) {
        var t = this;
        t.autoPlayClear(), t.touchObject = {}, t.cleanUpEvents(), d(".slick-cloned", t.$slider).detach(), t.$dots && t.$dots.remove(), t.$prevArrow && t.$prevArrow.length && (t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display", ""), t.htmlExpr.test(t.options.prevArrow)) && t.$prevArrow.remove(), t.$nextArrow && t.$nextArrow.length && (t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display", ""), t.htmlExpr.test(t.options.nextArrow)) && t.$nextArrow.remove(), t.$slides && (t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function() {
            d(this).attr("style", d(this).data("originalStyling"))
        }), t.$slideTrack.children(this.options.slide).detach(), t.$slideTrack.detach(), t.$list.detach(), t.$slider.append(t.$slides)), t.cleanUpRows(), t.$slider.removeClass("slick-slider"), t.$slider.removeClass("slick-initialized"), t.$slider.removeClass("slick-dotted"), t.unslicked = !0, e || t.$slider.trigger("destroy", [t])
    }, a.prototype.disableTransition = function(e) {
        var t = {};
        t[this.transitionType] = "", (!1 === this.options.fade ? this.$slideTrack : this.$slides.eq(e)).css(t)
    }, a.prototype.fadeSlide = function(e, t) {
        var i = this;
        !1 === i.cssTransitions ? (i.$slides.eq(e).css({
            zIndex: i.options.zIndex
        }), i.$slides.eq(e).animate({
            opacity: 1
        }, i.options.speed, i.options.easing, t)) : (i.applyTransition(e), i.$slides.eq(e).css({
            opacity: 1,
            zIndex: i.options.zIndex
        }), t && setTimeout(function() {
            i.disableTransition(e), t.call()
        }, i.options.speed))
    }, a.prototype.fadeSlideOut = function(e) {
        !1 === this.cssTransitions ? this.$slides.eq(e).animate({
            opacity: 0,
            zIndex: this.options.zIndex - 2
        }, this.options.speed, this.options.easing) : (this.applyTransition(e), this.$slides.eq(e).css({
            opacity: 0,
            zIndex: this.options.zIndex - 2
        }))
    }, a.prototype.filterSlides = a.prototype.slickFilter = function(e) {
        null !== e && (this.$slidesCache = this.$slides, this.unload(), this.$slideTrack.children(this.options.slide).detach(), this.$slidesCache.filter(e).appendTo(this.$slideTrack), this.reinit())
    }, a.prototype.focusHandler = function() {
        var i = this;
        i.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick", "*:not(.slick-arrow)", function(e) {
            e.stopImmediatePropagation();
            var t = d(this);
            setTimeout(function() {
                i.options.pauseOnFocus && (i.focussed = t.is(":focus"), i.autoPlay())
            }, 0)
        })
    }, a.prototype.getCurrent = a.prototype.slickCurrentSlide = function() {
        return this.currentSlide
    }, a.prototype.getDotCount = function() {
        var e = this,
            t = 0,
            i = 0,
            s = 0;
        if (!0 === e.options.infinite)
            for (; t < e.slideCount;) ++s, t = i + e.options.slidesToScroll, i += e.options.slidesToScroll <= e.options.slidesToShow ? e.options.slidesToScroll : e.options.slidesToShow;
        else if (!0 === e.options.centerMode) s = e.slideCount;
        else if (e.options.asNavFor)
            for (; t < e.slideCount;) ++s, t = i + e.options.slidesToScroll, i += e.options.slidesToScroll <= e.options.slidesToShow ? e.options.slidesToScroll : e.options.slidesToShow;
        else s = 1 + Math.ceil((e.slideCount - e.options.slidesToShow) / e.options.slidesToScroll);
        return s - 1
    }, a.prototype.getLeft = function(e) {
        var t, i = this,
            s = 0;
        return i.slideOffset = 0, t = i.$slides.first().outerHeight(!0), !0 === i.options.infinite ? (i.slideCount > i.options.slidesToShow && (i.slideOffset = i.slideWidth * i.options.slidesToShow * -1, s = t * i.options.slidesToShow * -1), i.slideCount % i.options.slidesToScroll != 0 && e + i.options.slidesToScroll > i.slideCount && i.slideCount > i.options.slidesToShow && (s = e > i.slideCount ? (i.slideOffset = (i.options.slidesToShow - (e - i.slideCount)) * i.slideWidth * -1, (i.options.slidesToShow - (e - i.slideCount)) * t * -1) : (i.slideOffset = i.slideCount % i.options.slidesToScroll * i.slideWidth * -1, i.slideCount % i.options.slidesToScroll * t * -1))) : e + i.options.slidesToShow > i.slideCount && (i.slideOffset = (e + i.options.slidesToShow - i.slideCount) * i.slideWidth, s = (e + i.options.slidesToShow - i.slideCount) * t), i.slideCount <= i.options.slidesToShow && (s = i.slideOffset = 0), !0 === i.options.centerMode && !0 === i.options.infinite ? i.slideOffset += i.slideWidth * Math.floor(i.options.slidesToShow / 2) - i.slideWidth : !0 === i.options.centerMode && (i.slideOffset = 0, i.slideOffset += i.slideWidth * Math.floor(i.options.slidesToShow / 2)), t = !1 === i.options.vertical ? e * i.slideWidth * -1 + i.slideOffset : e * t * -1 + s, !0 === i.options.variableWidth && (s = i.slideCount <= i.options.slidesToShow || !1 === i.options.infinite ? i.$slideTrack.children(".slick-slide").eq(e) : i.$slideTrack.children(".slick-slide").eq(e + i.options.slidesToShow), t = !0 === i.options.rtl ? s[0] ? -1 * (i.$slideTrack.width() - s[0].offsetLeft - s.width()) : 0 : s[0] ? -1 * s[0].offsetLeft : 0, !0 === i.options.centerMode) && (s = i.slideCount <= i.options.slidesToShow || !1 === i.options.infinite ? i.$slideTrack.children(".slick-slide").eq(e) : i.$slideTrack.children(".slick-slide").eq(e + i.options.slidesToShow + 1), t = !0 === i.options.rtl ? s[0] ? -1 * (i.$slideTrack.width() - s[0].offsetLeft - s.width()) : 0 : s[0] ? -1 * s[0].offsetLeft : 0, t += (i.$list.width() - s.outerWidth()) / 2), t
    }, a.prototype.getOption = a.prototype.slickGetOption = function(e) {
        return this.options[e]
    }, a.prototype.getNavigableIndexes = function() {
        for (var e = this, t = 0, i = 0, s = [], n = !1 === e.options.infinite ? e.slideCount : (t = -1 * e.options.slidesToScroll, i = -1 * e.options.slidesToScroll, 2 * e.slideCount); t < n;) s.push(t), t = i + e.options.slidesToScroll, i += e.options.slidesToScroll <= e.options.slidesToShow ? e.options.slidesToScroll : e.options.slidesToShow;
        return s
    }, a.prototype.getSlick = function() {
        return this
    }, a.prototype.getSlideCount = function() {
        var i, s = this,
            n = !0 === s.options.centerMode ? s.slideWidth * Math.floor(s.options.slidesToShow / 2) : 0;
        return !0 === s.options.swipeToSlide ? (s.$slideTrack.find(".slick-slide").each(function(e, t) {
            return t.offsetLeft - n + d(t).outerWidth() / 2 > -1 * s.swipeLeft ? (i = t, !1) : void 0
        }), Math.abs(d(i).attr("data-slick-index") - s.currentSlide) || 1) : s.options.slidesToScroll
    }, a.prototype.goTo = a.prototype.slickGoTo = function(e, t) {
        this.changeSlide({
            data: {
                message: "index",
                index: parseInt(e)
            }
        }, t)
    }, a.prototype.init = function(e) {
        var t = this;
        d(t.$slider).hasClass("slick-initialized") || (d(t.$slider).addClass("slick-initialized"), t.buildRows(), t.buildOut(), t.setProps(), t.startLoad(), t.loadSlider(), t.initializeEvents(), t.updateArrows(), t.updateDots(), t.checkResponsive(!0), t.focusHandler()), e && t.$slider.trigger("init", [t]), !0 === t.options.accessibility && t.initADA(), t.options.autoplay && (t.paused = !1, t.autoPlay())
    }, a.prototype.initADA = function() {
        var t = this;
        t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({
            "aria-hidden": "true",
            tabindex: "-1"
        }).find("a, input, button, select").attr({
            tabindex: "-1"
        }), t.$slideTrack.attr("role", "listbox"), t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(e) {
            d(this).attr({
                role: "option",
                "aria-describedby": "slick-slide" + t.instanceUid + e
            })
        }), null !== t.$dots && t.$dots.attr("role", "tablist").find("li").each(function(e) {
            d(this).attr({
                role: "presentation",
                "aria-selected": "false",
                "aria-controls": "navigation" + t.instanceUid + e,
                id: "slick-slide" + t.instanceUid + e
            })
        }).first().attr("aria-selected", "true").end().find("button").attr("role", "button").end().closest("div").attr("role", "toolbar"), t.activateADA()
    }, a.prototype.initArrowEvents = function() {
        !0 === this.options.arrows && this.slideCount > this.options.slidesToShow && (this.$prevArrow.off("click.slick").on("click.slick", {
            message: "previous"
        }, this.changeSlide), this.$nextArrow.off("click.slick").on("click.slick", {
            message: "next"
        }, this.changeSlide))
    }, a.prototype.initDotEvents = function() {
        var e = this;
        !0 === e.options.dots && e.slideCount > e.options.slidesToShow && d("li", e.$dots).on("click.slick", {
            message: "index"
        }, e.changeSlide), !0 === e.options.dots && !0 === e.options.pauseOnDotsHover && d("li", e.$dots).on("mouseenter.slick", d.proxy(e.interrupt, e, !0)).on("mouseleave.slick", d.proxy(e.interrupt, e, !1))
    }, a.prototype.initSlideEvents = function() {
        this.options.pauseOnHover && (this.$list.on("mouseenter.slick", d.proxy(this.interrupt, this, !0)), this.$list.on("mouseleave.slick", d.proxy(this.interrupt, this, !1)))
    }, a.prototype.initializeEvents = function() {
        var e = this;
        e.initArrowEvents(), e.initDotEvents(), e.initSlideEvents(), e.$list.on("touchstart.slick mousedown.slick", {
            action: "start"
        }, e.swipeHandler), e.$list.on("touchmove.slick mousemove.slick", {
            action: "move"
        }, e.swipeHandler), e.$list.on("touchend.slick mouseup.slick", {
            action: "end"
        }, e.swipeHandler), e.$list.on("touchcancel.slick mouseleave.slick", {
            action: "end"
        }, e.swipeHandler), e.$list.on("click.slick", e.clickHandler), d(document).on(e.visibilityChange, d.proxy(e.visibility, e)), !0 === e.options.accessibility && e.$list.on("keydown.slick", e.keyHandler), !0 === e.options.focusOnSelect && d(e.$slideTrack).children().on("click.slick", e.selectHandler), d(window).on("orientationchange.slick.slick-" + e.instanceUid, d.proxy(e.orientationChange, e)), d(window).on("resize.slick.slick-" + e.instanceUid, d.proxy(e.resize, e)), d("[draggable!=true]", e.$slideTrack).on("dragstart", e.preventDefault), d(window).on("load.slick.slick-" + e.instanceUid, e.setPosition), d(document).on("ready.slick.slick-" + e.instanceUid, e.setPosition)
    }, a.prototype.initUI = function() {
        !0 === this.options.arrows && this.slideCount > this.options.slidesToShow && (this.$prevArrow.show(), this.$nextArrow.show()), !0 === this.options.dots && this.slideCount > this.options.slidesToShow && this.$dots.show()
    }, a.prototype.keyHandler = function(e) {
        e.target.tagName.match("TEXTAREA|INPUT|SELECT") || (37 === e.keyCode && !0 === this.options.accessibility ? this.changeSlide({
            data: {
                message: !0 === this.options.rtl ? "next" : "previous"
            }
        }) : 39 === e.keyCode && !0 === this.options.accessibility && this.changeSlide({
            data: {
                message: !0 === this.options.rtl ? "previous" : "next"
            }
        }))
    }, a.prototype.lazyLoad = function() {
        function e(e) {
            d("img[data-lazy]", e).each(function() {
                var e = d(this),
                    t = d(this).attr("data-lazy"),
                    i = document.createElement("img");
                i.onload = function() {
                    e.animate({
                        opacity: 0
                    }, 100, function() {
                        e.attr("src", t).animate({
                            opacity: 1
                        }, 200, function() {
                            e.removeAttr("data-lazy").removeClass("slick-loading")
                        }), s.$slider.trigger("lazyLoaded", [s, e, t])
                    })
                }, i.onerror = function() {
                    e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"), s.$slider.trigger("lazyLoadError", [s, e, t])
                }, i.src = t
            })
        }
        var t, i, s = this;
        !0 === s.options.centerMode ? i = !0 === s.options.infinite ? (t = s.currentSlide + (s.options.slidesToShow / 2 + 1)) + s.options.slidesToShow + 2 : (t = Math.max(0, s.currentSlide - (s.options.slidesToShow / 2 + 1)), s.options.slidesToShow / 2 + 1 + 2 + s.currentSlide) : (t = s.options.infinite ? s.options.slidesToShow + s.currentSlide : s.currentSlide, i = Math.ceil(t + s.options.slidesToShow), !0 === s.options.fade && (0 < t && t--, i <= s.slideCount) && i++), e(s.$slider.find(".slick-slide").slice(t, i)), s.slideCount <= s.options.slidesToShow ? e(s.$slider.find(".slick-slide")) : s.currentSlide >= s.slideCount - s.options.slidesToShow ? e(s.$slider.find(".slick-cloned").slice(0, s.options.slidesToShow)) : 0 === s.currentSlide && e(s.$slider.find(".slick-cloned").slice(-1 * s.options.slidesToShow))
    }, a.prototype.loadSlider = function() {
        this.setPosition(), this.$slideTrack.css({
            opacity: 1
        }), this.$slider.removeClass("slick-loading"), this.initUI(), "progressive" === this.options.lazyLoad && this.progressiveLazyLoad()
    }, a.prototype.next = a.prototype.slickNext = function() {
        this.changeSlide({
            data: {
                message: "next"
            }
        })
    }, a.prototype.orientationChange = function() {
        this.checkResponsive(), this.setPosition()
    }, a.prototype.pause = a.prototype.slickPause = function() {
        this.autoPlayClear(), this.paused = !0
    }, a.prototype.play = a.prototype.slickPlay = function() {
        this.autoPlay(), this.options.autoplay = !0, this.paused = !1, this.focussed = !1, this.interrupted = !1
    }, a.prototype.postSlide = function(e) {
        var t = this;
        t.unslicked || (t.$slider.trigger("afterChange", [t, e]), t.animating = !1, t.setPosition(), t.swipeLeft = null, t.options.autoplay && t.autoPlay(), !0 === t.options.accessibility && t.initADA())
    }, a.prototype.prev = a.prototype.slickPrev = function() {
        this.changeSlide({
            data: {
                message: "previous"
            }
        })
    }, a.prototype.preventDefault = function(e) {
        e.preventDefault()
    }, a.prototype.progressiveLazyLoad = function(e) {
        e = e || 1;
        var t, i, s = this,
            n = d("img[data-lazy]", s.$slider);
        n.length ? (t = n.first(), i = t.attr("data-lazy"), (n = document.createElement("img")).onload = function() {
            t.attr("src", i).removeAttr("data-lazy").removeClass("slick-loading"), !0 === s.options.adaptiveHeight && s.setPosition(), s.$slider.trigger("lazyLoaded", [s, t, i]), s.progressiveLazyLoad()
        }, n.onerror = function() {
            e < 3 ? setTimeout(function() {
                s.progressiveLazyLoad(e + 1)
            }, 500) : (t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"), s.$slider.trigger("lazyLoadError", [s, t, i]), s.progressiveLazyLoad())
        }, n.src = i) : s.$slider.trigger("allImagesLoaded", [s])
    }, a.prototype.refresh = function(e) {
        var t = this,
            i = t.slideCount - t.options.slidesToShow;
        !t.options.infinite && t.currentSlide > i && (t.currentSlide = i), t.slideCount <= t.options.slidesToShow && (t.currentSlide = 0), i = t.currentSlide, t.destroy(!0), d.extend(t, t.initials, {
            currentSlide: i
        }), t.init(), e || t.changeSlide({
            data: {
                message: "index",
                index: i
            }
        }, !1)
    }, a.prototype.registerBreakpoints = function() {
        var e, t, i, s = this,
            n = s.options.responsive || null;
        if ("array" === d.type(n) && n.length) {
            for (e in s.respondTo = s.options.respondTo || "window", n)
                if (i = s.breakpoints.length - 1, t = n[e].breakpoint, n.hasOwnProperty(e)) {
                    for (; 0 <= i;) s.breakpoints[i] && s.breakpoints[i] === t && s.breakpoints.splice(i, 1), i--;
                    s.breakpoints.push(t), s.breakpointSettings[t] = n[e].settings
                } s.breakpoints.sort(function(e, t) {
                return s.options.mobileFirst ? e - t : t - e
            })
        }
    }, a.prototype.reinit = function() {
        var e = this;
        e.$slides = e.$slideTrack.children(e.options.slide).addClass("slick-slide"), e.slideCount = e.$slides.length, e.currentSlide >= e.slideCount && 0 !== e.currentSlide && (e.currentSlide = e.currentSlide - e.options.slidesToScroll), e.slideCount <= e.options.slidesToShow && (e.currentSlide = 0), e.registerBreakpoints(), e.setProps(), e.setupInfinite(), e.buildArrows(), e.updateArrows(), e.initArrowEvents(), e.buildDots(), e.updateDots(), e.initDotEvents(), e.cleanUpSlideEvents(), e.initSlideEvents(), e.checkResponsive(!1, !0), !0 === e.options.focusOnSelect && d(e.$slideTrack).children().on("click.slick", e.selectHandler), e.setSlideClasses("number" == typeof e.currentSlide ? e.currentSlide : 0), e.setPosition(), e.focusHandler(), e.paused = !e.options.autoplay, e.autoPlay(), e.$slider.trigger("reInit", [e])
    }, a.prototype.resize = function() {
        var e = this;
        d(window).width() !== e.windowWidth && (clearTimeout(e.windowDelay), e.windowDelay = window.setTimeout(function() {
            e.windowWidth = d(window).width(), e.checkResponsive(), e.unslicked || e.setPosition()
        }, 50))
    }, a.prototype.removeSlide = a.prototype.slickRemove = function(e, t, i) {
        var s = this;
        return e = "boolean" == typeof e ? !0 === (t = e) ? 0 : s.slideCount - 1 : !0 === t ? --e : e, !(s.slideCount < 1 || e < 0 || e > s.slideCount - 1) && (s.unload(), (!0 === i ? s.$slideTrack.children() : s.$slideTrack.children(this.options.slide).eq(e)).remove(), s.$slides = s.$slideTrack.children(this.options.slide), s.$slideTrack.children(this.options.slide).detach(), s.$slideTrack.append(s.$slides), s.$slidesCache = s.$slides, void s.reinit())
    }, a.prototype.setCSS = function(e) {
        var t, i, s = this,
            n = {};
        !0 === s.options.rtl && (e = -e), t = "left" == s.positionProp ? Math.ceil(e) + "px" : "0px", i = "top" == s.positionProp ? Math.ceil(e) + "px" : "0px", n[s.positionProp] = e, !1 !== s.transformsEnabled && (!(n = {}) === s.cssTransitions ? n[s.animType] = "translate(" + t + ", " + i + ")" : n[s.animType] = "translate3d(" + t + ", " + i + ", 0px)"), s.$slideTrack.css(n)
    }, a.prototype.setDimensions = function() {
        var e = this,
            t = (!1 === e.options.vertical ? !0 === e.options.centerMode && e.$list.css({
                padding: "0px " + e.options.centerPadding
            }) : (e.$list.height(e.$slides.first().outerHeight(!0) * e.options.slidesToShow), !0 === e.options.centerMode && e.$list.css({
                padding: e.options.centerPadding + " 0px"
            })), e.listWidth = e.$list.width(), e.listHeight = e.$list.height(), !1 === e.options.vertical && !1 === e.options.variableWidth ? (e.slideWidth = Math.ceil(e.listWidth / e.options.slidesToShow), e.$slideTrack.width(Math.ceil(e.slideWidth * e.$slideTrack.children(".slick-slide").length))) : !0 === e.options.variableWidth ? e.$slideTrack.width(5e3 * e.slideCount) : (e.slideWidth = Math.ceil(e.listWidth), e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0) * e.$slideTrack.children(".slick-slide").length))), e.$slides.first().outerWidth(!0) - e.$slides.first().width());
        !1 === e.options.variableWidth && e.$slideTrack.children(".slick-slide").width(e.slideWidth - t)
    }, a.prototype.setFade = function() {
        var i, s = this;
        s.$slides.each(function(e, t) {
            i = s.slideWidth * e * -1, !0 === s.options.rtl ? d(t).css({
                position: "relative",
                right: i,
                top: 0,
                zIndex: s.options.zIndex - 2,
                opacity: 0
            }) : d(t).css({
                position: "relative",
                left: i,
                top: 0,
                zIndex: s.options.zIndex - 2,
                opacity: 0
            })
        }), s.$slides.eq(s.currentSlide).css({
            zIndex: s.options.zIndex - 1,
            opacity: 1
        })
    }, a.prototype.setHeight = function() {
        var e;
        1 === this.options.slidesToShow && !0 === this.options.adaptiveHeight && !1 === this.options.vertical && (e = this.$slides.eq(this.currentSlide).outerHeight(!0), this.$list.css("height", e))
    }, a.prototype.setOption = a.prototype.slickSetOption = function() {
        var e, t, i, s, n, a = this,
            o = !1;
        if ("object" === d.type(arguments[0]) ? (i = arguments[0], o = arguments[1], n = "multiple") : "string" === d.type(arguments[0]) && (i = arguments[0], s = arguments[1], o = arguments[2], "responsive" === arguments[0] && "array" === d.type(arguments[1]) ? n = "responsive" : void 0 !== arguments[1] && (n = "single")), "single" === n) a.options[i] = s;
        else if ("multiple" === n) d.each(i, function(e, t) {
            a.options[e] = t
        });
        else if ("responsive" === n)
            for (t in s)
                if ("array" !== d.type(a.options.responsive)) a.options.responsive = [s[t]];
                else {
                    for (e = a.options.responsive.length - 1; 0 <= e;) a.options.responsive[e].breakpoint === s[t].breakpoint && a.options.responsive.splice(e, 1), e--;
                    a.options.responsive.push(s[t])
                } o && (a.unload(), a.reinit())
    }, a.prototype.setPosition = function() {
        this.setDimensions(), this.setHeight(), !1 === this.options.fade ? this.setCSS(this.getLeft(this.currentSlide)) : this.setFade(), this.$slider.trigger("setPosition", [this])
    }, a.prototype.setProps = function() {
        var e = this,
            t = document.body.style;
        e.positionProp = !0 === e.options.vertical ? "top" : "left", "top" === e.positionProp ? e.$slider.addClass("slick-vertical") : e.$slider.removeClass("slick-vertical"), void 0 === t.WebkitTransition && void 0 === t.MozTransition && void 0 === t.msTransition || !0 !== e.options.useCSS || (e.cssTransitions = !0), e.options.fade && ("number" == typeof e.options.zIndex ? e.options.zIndex < 3 && (e.options.zIndex = 3) : e.options.zIndex = e.defaults.zIndex), void 0 !== t.OTransform && (e.animType = "OTransform", e.transformType = "-o-transform", e.transitionType = "OTransition", void 0 === t.perspectiveProperty) && void 0 === t.webkitPerspective && (e.animType = !1), void 0 !== t.MozTransform && (e.animType = "MozTransform", e.transformType = "-moz-transform", e.transitionType = "MozTransition", void 0 === t.perspectiveProperty) && void 0 === t.MozPerspective && (e.animType = !1), void 0 !== t.webkitTransform && (e.animType = "webkitTransform", e.transformType = "-webkit-transform", e.transitionType = "webkitTransition", void 0 === t.perspectiveProperty) && void 0 === t.webkitPerspective && (e.animType = !1), void 0 !== t.msTransform && (e.animType = "msTransform", e.transformType = "-ms-transform", e.transitionType = "msTransition", void 0 === t.msTransform) && (e.animType = !1), void 0 !== t.transform && !1 !== e.animType && (e.animType = "transform", e.transformType = "transform", e.transitionType = "transition"), e.transformsEnabled = e.options.useTransform && null !== e.animType && !1 !== e.animType
    }, a.prototype.setSlideClasses = function(e) {
        var t, i, s = this,
            n = s.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden", "true");
        s.$slides.eq(e).addClass("slick-current"), !0 === s.options.centerMode ? (i = Math.floor(s.options.slidesToShow / 2), !0 === s.options.infinite && ((i <= e && e <= s.slideCount - 1 - i ? s.$slides.slice(e - i, e + i + 1) : (t = s.options.slidesToShow + e, n.slice(t - i + 1, t + i + 2))).addClass("slick-active").attr("aria-hidden", "false"), 0 === e ? n.eq(n.length - 1 - s.options.slidesToShow).addClass("slick-center") : e === s.slideCount - 1 && n.eq(s.options.slidesToShow).addClass("slick-center")), s.$slides.eq(e).addClass("slick-center")) : (0 <= e && e <= s.slideCount - s.options.slidesToShow ? s.$slides.slice(e, e + s.options.slidesToShow) : n.length <= s.options.slidesToShow ? n : (i = s.slideCount % s.options.slidesToShow, t = !0 === s.options.infinite ? s.options.slidesToShow + e : e, s.options.slidesToShow == s.options.slidesToScroll && s.slideCount - e < s.options.slidesToShow ? n.slice(t - (s.options.slidesToShow - i), t + i) : n.slice(t, t + s.options.slidesToShow))).addClass("slick-active").attr("aria-hidden", "false"), "ondemand" === s.options.lazyLoad && s.lazyLoad()
    }, a.prototype.setupInfinite = function() {
        var e, t, i, s = this;
        if (!0 === s.options.fade && (s.options.centerMode = !1), !0 === s.options.infinite && !1 === s.options.fade && (t = null, s.slideCount > s.options.slidesToShow)) {
            for (i = !0 === s.options.centerMode ? s.options.slidesToShow + 1 : s.options.slidesToShow, e = s.slideCount; e > s.slideCount - i; --e) d(s.$slides[t = e - 1]).clone(!0).attr("id", "").attr("data-slick-index", t - s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned");
            for (e = 0; e < i; e += 1) t = e, d(s.$slides[t]).clone(!0).attr("id", "").attr("data-slick-index", t + s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned");
            s.$slideTrack.find(".slick-cloned").find("[id]").each(function() {
                d(this).attr("id", "")
            })
        }
    }, a.prototype.interrupt = function(e) {
        e || this.autoPlay(), this.interrupted = e
    }, a.prototype.selectHandler = function(e) {
        e = d(e.target).is(".slick-slide") ? d(e.target) : d(e.target).parents(".slick-slide"), e = (e = parseInt(e.attr("data-slick-index"))) || 0;
        return this.slideCount <= this.options.slidesToShow ? (this.setSlideClasses(e), void this.asNavFor(e)) : void this.slideHandler(e)
    }, a.prototype.slideHandler = function(e, t, i) {
        var s, n, a, o = this;
        return t = t || !1, !0 === o.animating && !0 === o.options.waitForAnimate || !0 === o.options.fade && o.currentSlide === e || o.slideCount <= o.options.slidesToShow ? void 0 : (!1 === t && o.asNavFor(e), s = e, t = o.getLeft(s), a = o.getLeft(o.currentSlide), o.currentLeft = null === o.swipeLeft ? a : o.swipeLeft, !1 === o.options.infinite && !1 === o.options.centerMode && (e < 0 || e > o.getDotCount() * o.options.slidesToScroll) || !1 === o.options.infinite && !0 === o.options.centerMode && (e < 0 || e > o.slideCount - o.options.slidesToScroll) ? void(!1 === o.options.fade && (s = o.currentSlide, !0 !== i ? o.animateSlide(a, function() {
            o.postSlide(s)
        }) : o.postSlide(s))) : (o.options.autoplay && clearInterval(o.autoPlayTimer), n = s < 0 ? o.slideCount % o.options.slidesToScroll != 0 ? o.slideCount - o.slideCount % o.options.slidesToScroll : o.slideCount + s : s >= o.slideCount ? o.slideCount % o.options.slidesToScroll != 0 ? 0 : s - o.slideCount : s, o.animating = !0, o.$slider.trigger("beforeChange", [o, o.currentSlide, n]), e = o.currentSlide, o.currentSlide = n, o.setSlideClasses(o.currentSlide), o.options.asNavFor && (a = (a = o.getNavTarget()).slick("getSlick")).slideCount <= a.options.slidesToShow && a.setSlideClasses(o.currentSlide), o.updateDots(), o.updateArrows(), !0 === o.options.fade ? (!0 !== i ? (o.fadeSlideOut(e), o.fadeSlide(n, function() {
            o.postSlide(n)
        })) : o.postSlide(n), void o.animateHeight()) : void(!0 !== i ? o.animateSlide(t, function() {
            o.postSlide(n)
        }) : o.postSlide(n))))
    }, a.prototype.startLoad = function() {
        var e = this;
        !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && (e.$prevArrow.hide(), e.$nextArrow.hide()), !0 === e.options.dots && e.slideCount > e.options.slidesToShow && e.$dots.hide(), e.$slider.addClass("slick-loading")
    }, a.prototype.swipeDirection = function() {
        var e = this.touchObject.startX - this.touchObject.curX,
            t = this.touchObject.startY - this.touchObject.curY,
            t = Math.atan2(t, e),
            e = Math.round(180 * t / Math.PI);
        return (e = e < 0 ? 360 - Math.abs(e) : e) <= 45 && 0 <= e || e <= 360 && 315 <= e ? !1 === this.options.rtl ? "left" : "right" : 135 <= e && e <= 225 ? !1 === this.options.rtl ? "right" : "left" : !0 === this.options.verticalSwiping ? 35 <= e && e <= 135 ? "down" : "up" : "vertical"
    }, a.prototype.swipeEnd = function(e) {
        var t, i, s = this;
        if (s.dragging = !1, s.interrupted = !1, s.shouldClick = !(10 < s.touchObject.swipeLength), void 0 === s.touchObject.curX) return !1;
        if (!0 === s.touchObject.edgeHit && s.$slider.trigger("edge", [s, s.swipeDirection()]), s.touchObject.swipeLength >= s.touchObject.minSwipe) {
            switch (i = s.swipeDirection()) {
                case "left":
                case "down":
                    t = s.options.swipeToSlide ? s.checkNavigable(s.currentSlide + s.getSlideCount()) : s.currentSlide + s.getSlideCount(), s.currentDirection = 0;
                    break;
                case "right":
                case "up":
                    t = s.options.swipeToSlide ? s.checkNavigable(s.currentSlide - s.getSlideCount()) : s.currentSlide - s.getSlideCount(), s.currentDirection = 1
            }
            "vertical" != i && (s.slideHandler(t), s.touchObject = {}, s.$slider.trigger("swipe", [s, i]))
        } else s.touchObject.startX !== s.touchObject.curX && (s.slideHandler(s.currentSlide), s.touchObject = {})
    }, a.prototype.swipeHandler = function(e) {
        var t = this;
        if (!(!1 === t.options.swipe || "ontouchend" in document && !1 === t.options.swipe || !1 === t.options.draggable && -1 !== e.type.indexOf("mouse"))) switch (t.touchObject.fingerCount = e.originalEvent && void 0 !== e.originalEvent.touches ? e.originalEvent.touches.length : 1, t.touchObject.minSwipe = t.listWidth / t.options.touchThreshold, !0 === t.options.verticalSwiping && (t.touchObject.minSwipe = t.listHeight / t.options.touchThreshold), e.data.action) {
            case "start":
                t.swipeStart(e);
                break;
            case "move":
                t.swipeMove(e);
                break;
            case "end":
                t.swipeEnd(e)
        }
    }, a.prototype.swipeMove = function(e) {
        var t, i, s = this,
            n = void 0 !== e.originalEvent ? e.originalEvent.touches : null;
        return !(!s.dragging || n && 1 !== n.length) && (t = s.getLeft(s.currentSlide), s.touchObject.curX = void 0 !== n ? n[0].pageX : e.clientX, s.touchObject.curY = void 0 !== n ? n[0].pageY : e.clientY, s.touchObject.swipeLength = Math.round(Math.sqrt(Math.pow(s.touchObject.curX - s.touchObject.startX, 2))), !0 === s.options.verticalSwiping && (s.touchObject.swipeLength = Math.round(Math.sqrt(Math.pow(s.touchObject.curY - s.touchObject.startY, 2)))), "vertical" !== (n = s.swipeDirection()) ? (void 0 !== e.originalEvent && 4 < s.touchObject.swipeLength && e.preventDefault(), e = (!1 === s.options.rtl ? 1 : -1) * (s.touchObject.curX > s.touchObject.startX ? 1 : -1), !0 === s.options.verticalSwiping && (e = s.touchObject.curY > s.touchObject.startY ? 1 : -1), i = s.touchObject.swipeLength, (s.touchObject.edgeHit = !1) === s.options.infinite && (0 === s.currentSlide && "right" === n || s.currentSlide >= s.getDotCount() && "left" === n) && (i = s.touchObject.swipeLength * s.options.edgeFriction, s.touchObject.edgeHit = !0), !1 === s.options.vertical ? s.swipeLeft = t + i * e : s.swipeLeft = t + i * (s.$list.height() / s.listWidth) * e, !0 === s.options.verticalSwiping && (s.swipeLeft = t + i * e), !0 !== s.options.fade && !1 !== s.options.touchMove && (!0 === s.animating ? (s.swipeLeft = null, !1) : void s.setCSS(s.swipeLeft))) : void 0)
    }, a.prototype.swipeStart = function(e) {
        var t, i = this;
        return i.interrupted = !0, 1 !== i.touchObject.fingerCount || i.slideCount <= i.options.slidesToShow ? !(i.touchObject = {}) : (void 0 !== e.originalEvent && void 0 !== e.originalEvent.touches && (t = e.originalEvent.touches[0]), i.touchObject.startX = i.touchObject.curX = void 0 !== t ? t.pageX : e.clientX, i.touchObject.startY = i.touchObject.curY = void 0 !== t ? t.pageY : e.clientY, void(i.dragging = !0))
    }, a.prototype.unfilterSlides = a.prototype.slickUnfilter = function() {
        null !== this.$slidesCache && (this.unload(), this.$slideTrack.children(this.options.slide).detach(), this.$slidesCache.appendTo(this.$slideTrack), this.reinit())
    }, a.prototype.unload = function() {
        var e = this;
        d(".slick-cloned", e.$slider).remove(), e.$dots && e.$dots.remove(), e.$prevArrow && e.htmlExpr.test(e.options.prevArrow) && e.$prevArrow.remove(), e.$nextArrow && e.htmlExpr.test(e.options.nextArrow) && e.$nextArrow.remove(), e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden", "true").css("width", "")
    }, a.prototype.unslick = function(e) {
        this.$slider.trigger("unslick", [this, e]), this.destroy()
    }, a.prototype.updateArrows = function() {
        var e = this;
        Math.floor(e.options.slidesToShow / 2);
        !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && !e.options.infinite && (e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false"), e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false"), 0 === e.currentSlide ? (e.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true"), e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false")) : (e.currentSlide >= e.slideCount - e.options.slidesToShow && !1 === e.options.centerMode || e.currentSlide >= e.slideCount - 1 && !0 === e.options.centerMode) && (e.$nextArrow.addClass("slick-disabled").attr("aria-disabled", "true"), e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false")))
    }, a.prototype.updateDots = function() {
        null !== this.$dots && (this.$dots.find("li").removeClass("slick-active").attr("aria-hidden", "true"), this.$dots.find("li").eq(Math.floor(this.currentSlide / this.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden", "false"))
    }, a.prototype.visibility = function() {
        this.options.autoplay && (document[this.hidden] ? this.interrupted = !0 : this.interrupted = !1)
    }, d.fn.slick = function() {
        for (var e, t = arguments[0], i = Array.prototype.slice.call(arguments, 1), s = this.length, n = 0; n < s; n++)
            if ("object" == typeof t || void 0 === t ? this[n].slick = new a(this[n], t) : e = this[n].slick[t].apply(this[n].slick, i), void 0 !== e) return e;
        return this
    }
}), ! function(t, n) {
    Array.max = function(e) {
        return Math.max.apply(Math, e)
    }, Array.min = function(e) {
        return Math.min.apply(Math, e)
    };

    function s(e) {
        this.console && console.error(e)
    }
    var a, e = n.event;
    e.special.smartresize = {
        setup: function() {
            n(this).bind("resize", e.special.smartresize.handler)
        },
        teardown: function() {
            n(this).unbind("resize", e.special.smartresize.handler)
        },
        handler: function(e, t) {
            var i = this,
                s = arguments;
            e.type = "smartresize", a && clearTimeout(a), a = setTimeout(function() {
                jQuery.event.handle.apply(i, s)
            }, "execAsap" === t ? 0 : 50)
        }
    }, n.fn.smartresize = function(e) {
        return e ? this.bind("smartresize", e) : this.trigger("smartresize", ["execAsap"])
    }, n.fn.imagesLoaded = function(e) {
        var t = this.find("img"),
            i = t.length,
            s = this,
            n = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";

        function a() {
            e.call(s, t)
        }
        return i || a(), t.bind("load error", function e() {
            --i <= 0 && this.src !== n && (setTimeout(a), t.unbind("load error", e))
        }).each(function() {
            var e;
            !this.complete && void 0 !== this.complete || (e = this.src, this.src = n, this.src = e)
        }), this
    }, n.Montage = function(e, t) {
        this.element = n(t).show(), this.cache = {}, this.heights = new Array, this._create(e)
    }, n.Montage.defaults = {
        liquid: !0,
        margin: 1,
        minw: 70,
        minh: 20,
        maxh: 250,
        alternateHeight: !1,
        alternateHeightRange: {
            min: 100,
            max: 300
        },
        fixedHeight: null,
        minsize: !1,
        fillLastRow: !1
    }, n.Montage.prototype = {
        _getImageWidth: function(e, t) {
            var i = e.width(),
                e = e.height();
            return Math.ceil(t / (e / i))
        },
        _getImageHeight: function(e, t) {
            var i = e.width(),
                e = e.height();
            return Math.ceil(e / i * t)
        },
        _chooseHeight: function() {
            if (this.options.minsize) return Array.min(this.heights);
            for (var e, t = {}, i = 0, s = 0, n = this.heights.length; s < n; ++s) {
                var a, o = (t[a = this.heights[s]] || 0) + 1;
                a < this.options.minh || a > this.options.maxh || i <= (t[a] = o) && (i = o, 0)
            }
            for (s in t) t[s] === i && (a = s, (e = e || a) < this.options.minh ? e = null : a < e && (e = a), null === e) && (e = a);
            return e = void 0 === e ? this.heights[0] : e
        },
        _stretchImage: function(e) {
            var t = {
                    x: e.parent().width() + this.cache.space_w_left,
                    y: this.theHeight
                },
                i = e.width() + this.cache.space_w_left,
                s = this._getImageHeight(e, i);
            this._cropImage(e, i, s, t), this.cache.space_w_left = this.cache.container_w, this.options.alternateHeight && (this.theHeight = Math.floor(Math.random() * (this.options.alternateHeightRange.max - this.options.alternateHeightRange.min + 1) + this.options.alternateHeightRange.min))
        },
        _updatePrevImage: function(e) {
            var t = this.element.find("img.montage:last");
            this._stretchImage(t), this._insertImage(e)
        },
        _insertImage: function(e) {
            var t, i, s = this._getImageWidth(e, this.theHeight);
            this.options.minsize && !this.options.alternateHeight ? this.cache.space_w_left <= 2 * this.options.margin ? this._updatePrevImage(e) : (s > this.cache.space_w_left ? (i = {
                x: this.cache.space_w_left,
                y: this.theHeight
            }, this._cropImage(e, s, this.theHeight, i), this.cache.space_w_left = this.cache.container_w) : (i = {
                x: s,
                y: this.theHeight
            }, this._cropImage(e, s, this.theHeight, i), this.cache.space_w_left -= s), e.addClass("montage")) : s < this.options.minw ? this.options.minw > this.cache.space_w_left ? this._updatePrevImage(e) : (s = this.options.minw, t = this._getImageHeight(e, s), i = {
                x: s,
                y: this.theHeight
            }, this._cropImage(e, s, t, i), this.cache.space_w_left -= s, e.addClass("montage")) : s > this.cache.space_w_left && this.cache.space_w_left < this.options.minw ? this._updatePrevImage(e) : (s > this.cache.space_w_left && this.cache.space_w_left >= this.options.minw ? (i = {
                x: this.cache.space_w_left,
                y: this.theHeight
            }, this._cropImage(e, s, this.theHeight, i), this.cache.space_w_left = this.cache.container_w, this.options.alternateHeight && (this.theHeight = Math.floor(Math.random() * (this.options.alternateHeightRange.max - this.options.alternateHeightRange.min + 1) + this.options.alternateHeightRange.min))) : (i = {
                x: s,
                y: this.theHeight
            }, this._cropImage(e, s, this.theHeight, i), this.cache.space_w_left -= s), e.addClass("montage"))
        },
        _cropImage: function(e, t, i, s) {
            var n = 2 * this.options.margin,
                a = e.parent("a");
            this._resizeImage(e, t, i), e.css({
                left: -(t - s.x) / 2 + "px",
                top: -(i - s.y) / 2 + "px"
            }), a.addClass("am-wrapper").css({
                width: s.x - n + "px",
                height: s.y + "px",
                margin: this.options.margin
            })
        },
        _resizeImage: function(e, t, i) {
            e.css({
                width: t + "px",
                height: i + "px"
            })
        },
        _reload: function() {
            var t, e = this.element.width();
            e !== this.cache.container_w && (this.element.hide(), this.cache.container_w = e, this.cache.space_w_left = e, (t = this).$imgs.removeClass("montage").each(function(e) {
                t._insertImage(n(this))
            }), t.options.fillLastRow && t.cache.space_w_left !== t.cache.container_w && t._stretchImage(t.$imgs.eq(t.totalImages - 1)), t.element.show())
        },
        _create: function(e) {
            this.options = n.extend(!0, {}, n.Montage.defaults, e);
            var s = this,
                e = s.element.width();
            s.$imgs = s.element.find("img"), s.totalImages = s.$imgs.length, s.options.liquid && n("html").css("overflow-y", "scroll"), s.options.fixedHeight || s.$imgs.each(function(e) {
                var t, i = n(this);
                i.width() < s.options.minw && !s.options.minsize ? (t = s._getImageHeight(i, s.options.minw), s.heights.push(t)) : s.heights.push(i.height())
            }), s.theHeight = s.options.fixedHeight || s.options.alternateHeight ? s.options.fixedHeight : s._chooseHeight(), s.options.alternateHeight && (s.theHeight = Math.floor(Math.random() * (s.options.alternateHeightRange.max - s.options.alternateHeightRange.min + 1) + s.options.alternateHeightRange.min)), s.cache.container_w = e, s.cache.space_w_left = e, s.$imgs.each(function(e) {
                s._insertImage(n(this))
            }), s.options.fillLastRow && s.cache.space_w_left !== s.cache.container_w && s._stretchImage(s.$imgs.eq(s.totalImages - 1)), n(t).bind("smartresize.montage", function() {
                s._reload()
            })
        },
        add: function(e, t) {
            var i = e.find("img");
            this.$imgs = this.$imgs.add(i), this.totalImages = this.$imgs.length, this._add(e, t)
        },
        _add: function(e, t) {
            var i = this;
            e.find("img").each(function(e) {
                i._insertImage(n(this))
            }), i.options.fillLastRow && i.cache.space_w_left !== i.cache.container_w && i._stretchImage(i.$imgs.eq(i.totalImages - 1)), t && t.call(e)
        },
        destroy: function(e) {
            this._destroy(e)
        },
        _destroy: function(e) {
            this.$imgs.removeClass("montage").css({
                position: "",
                width: "",
                height: "",
                left: "",
                top: ""
            }).unwrap(), this.options.liquid && n("html").css("overflow", ""), this.element.unbind(".montage").removeData("montage"), n(t).unbind(".montage"), e && e.call()
        },
        option: function(e, t) {
            n.isPlainObject(e) && (this.options = n.extend(!0, this.options, e))
        }
    };
    n.fn.montage = function(t) {
        var i;
        return "string" == typeof t ? (i = Array.prototype.slice.call(arguments, 1), this.each(function() {
            var e = n.data(this, "montage");
            e ? n.isFunction(e[t]) && "_" !== t.charAt(0) ? e[t].apply(e, i) : s("no such method '" + t + "' for montage instance") : s("cannot call methods on montage prior to initialization; attempted to call method '" + t + "'")
        })) : this.each(function() {
            var e = n.data(this, "montage");
            e ? (e.option(t || {}), e._reload()) : n.data(this, "montage", new n.Montage(t, this))
        }), this
    }
}(window, jQuery), ! function(e) {
    var t;
    "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? (t = require("fs"), module.exports = e(), module.exports.css = function() {
        return t.readFileSync(__dirname + "/nouislider.min.css", "utf8")
    }) : window.noUiSlider = e()
}(function() {
    "use strict";

    function L(e) {
        var t = e.getBoundingClientRect(),
            e = e.ownerDocument,
            i = e.defaultView || e.parentWindow,
            e = e.documentElement,
            s = i.pageXOffset;
        return /webkit.*Chrome.*Mobile/i.test(navigator.userAgent) && (s = 0), {
            top: t.top + i.pageYOffset - e.clientTop,
            left: t.left + s - e.clientLeft
        }
    }

    function h(e) {
        return "number" == typeof e && !isNaN(e) && isFinite(e)
    }

    function j(e, t, i) {
        q(e, t), setTimeout(function() {
            N(e, t)
        }, i)
    }

    function F(e) {
        return Math.max(Math.min(e, 100), 0)
    }

    function O(e) {
        return Array.isArray(e) ? e : [e]
    }

    function q(e, t) {
        e.classList ? e.classList.add(t) : e.className += " " + t
    }

    function N(e, t) {
        e.classList ? e.classList.remove(t) : e.className = e.className.replace(new RegExp("(^|\\b)" + t.split(" ").join("|") + "(\\b|$)", "gi"), " ")
    }

    function p(e, t) {
        return 100 / (t - e)
    }

    function f(e, t) {
        return 100 * t / (e[1] - e[0])
    }

    function o(e, t) {
        for (var i = 1; e >= t[i];) i += 1;
        return i
    }

    function t(e, t, i) {
        var s, n, a;
        return i >= e.slice(-1)[0] ? 100 : (a = o(i, e), s = e[a - 1], e = e[a], n = t[a - 1], t = t[a], n + (a = i, f(i = [s, e], i[0] < 0 ? a + Math.abs(i[0]) : a - i[0]) / p(n, t)))
    }

    function i(e, t, i, s) {
        var n, a;
        return 100 === s ? s : (n = o(s, e), i ? (i = e[n - 1], ((a = e[n]) - i) / 2 < s - i ? a : i) : t[n - 1] ? e[n - 1] + (a = s - e[n - 1], i = t[n - 1], Math.round(a / i) * i) : s)
    }

    function s(e, t, i, s) {
        this.xPct = [], this.xVal = [], this.xSteps = [s || !1], this.xNumSteps = [!1], this.snap = t, this.direction = i;
        var n, a, o, r, l = [];
        for (n in e) e.hasOwnProperty(n) && l.push([e[n], n]);
        for (l.sort(function(e, t) {
                return e[0] - t[0]
            }), n = 0; n < l.length; n++) {
            d = void 0;
            c = void 0;
            u = void 0;
            var d = l[n][1];
            var c = l[n][0];
            var u = this;
            if ("number" == typeof c && (c = [c]), "[object Array]" !== Object.prototype.toString.call(c)) throw new Error("noUiSlider: 'range' contains invalid value.");
            if (!h(d = "min" === d ? 0 : "max" === d ? 100 : parseFloat(d)) || !h(c[0])) throw new Error("noUiSlider: 'range' value isn't numeric.");
            u.xPct.push(d), u.xVal.push(c[0]), d ? u.xSteps.push(!isNaN(c[1]) && c[1]) : isNaN(c[1]) || (u.xSteps[0] = c[1])
        }
        for (this.xNumSteps = this.xSteps.slice(0), n = 0; n < this.xNumSteps.length; n++) a = n, o = this.xNumSteps[n], r = this, o && (r.xSteps[a] = f([r.xVal[a], r.xVal[a + 1]], o) / p(r.xPct[a], r.xPct[a + 1]))
    }

    function r(e, t) {
        if (!h(t)) throw new Error("noUiSlider: 'step' is not numeric.");
        e.singleStep = t
    }

    function l(e, t) {
        if ("object" != typeof t || Array.isArray(t)) throw new Error("noUiSlider: 'range' is not an object.");
        if (void 0 === t.min || void 0 === t.max) throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");
        e.spectrum = new s(t, e.snap, e.dir, e.singleStep)
    }

    function d(e, t) {
        if (t = O(t), !Array.isArray(t) || !t.length || 2 < t.length) throw new Error("noUiSlider: 'start' option is incorrect.");
        e.handles = t.length, e.start = t
    }

    function c(e, t) {
        if ("boolean" != typeof(e.snap = t)) throw new Error("noUiSlider: 'snap' option must be a boolean.")
    }

    function u(e, t) {
        if ("boolean" != typeof(e.animate = t)) throw new Error("noUiSlider: 'animate' option must be a boolean.")
    }

    function m(e, t) {
        if ("lower" === t && 1 === e.handles) e.connect = 1;
        else if ("upper" === t && 1 === e.handles) e.connect = 2;
        else if (!0 === t && 2 === e.handles) e.connect = 3;
        else {
            if (!1 !== t) throw new Error("noUiSlider: 'connect' option doesn't match handle count.");
            e.connect = 0
        }
    }

    function g(e, t) {
        switch (t) {
            case "horizontal":
                e.ort = 0;
                break;
            case "vertical":
                e.ort = 1;
                break;
            default:
                throw new Error("noUiSlider: 'orientation' option is invalid.")
        }
    }

    function v(e, t) {
        if (!h(t)) throw new Error("noUiSlider: 'margin' option must be numeric.");
        if (e.margin = e.spectrum.getMargin(t), !e.margin) throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")
    }

    function y(e, t) {
        if (!h(t)) throw new Error("noUiSlider: 'limit' option must be numeric.");
        if (e.limit = e.spectrum.getMargin(t), !e.limit) throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")
    }

    function b(e, t) {
        switch (t) {
            case "ltr":
                e.dir = 0;
                break;
            case "rtl":
                e.dir = 1, e.connect = [0, 2, 1, 3][e.connect];
                break;
            default:
                throw new Error("noUiSlider: 'direction' option was not recognized.")
        }
    }

    function w(e, t) {
        if ("string" != typeof t) throw new Error("noUiSlider: 'behaviour' must be a string containing options.");
        var i = 0 <= t.indexOf("tap"),
            s = 0 <= t.indexOf("drag"),
            n = 0 <= t.indexOf("fixed"),
            t = 0 <= t.indexOf("snap");
        e.events = {
            tap: i || t,
            drag: s,
            fixed: n,
            snap: t
        }
    }

    function _(e, t) {
        if ("function" == typeof(e.format = t).to && "function" == typeof t.from) return !0;
        throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")
    }

    function R(e, t, i) {
        for (var s, n, a, o, r, l = [], d = 0; d < e; d += 1) l.push(i.appendChild((s = t, n = d, r = o = a = void 0, a = document.createElement("div"), o = document.createElement("div"), r = ["-lower", "-upper"], s && r.reverse(), q(o, U[3]), q(o, U[3] + r[n]), q(a, U[2]), a.appendChild(o), a)));
        return l
    }

    function C(e, u) {
        function t(i, s, n) {
            function a(e, t, i) {
                return 'class="' + t + " " + t + "-" + o + " " + t + ["-normal", "-large", "-sub"][i[1]] + '" style="' + u.style + ": " + e + '%"'
            }
            var o = ["horizontal", "vertical"][u.ort],
                r = document.createElement("div");
            return q(r, "noUi-pips"), q(r, "noUi-pips-" + o), Object.keys(i).forEach(function(e) {
                var t;
                t = i[e = e], S.direction && (e = 100 - e), t[1] = t[1] && s ? s(t[0], t[1]) : t[1], r.innerHTML += "<div " + a(e, "noUi-marker", t) + "></div>", t[1] && (r.innerHTML += "<div " + a(e, "noUi-value", t) + ">" + n.to(t[0]) + "</div>")
            }), r
        }

        function d() {
            return A["offset" + ["Width", "Height"][u.ort]]
        }

        function c(i, s) {
            void 0 !== s && (s = Math.abs(s - u.dir)), Object.keys(E).forEach(function(e) {
                var t = e.split(".")[0];
                i === t && E[e].forEach(function(e) {
                    e(O(p()), s, n(Array.prototype.slice.call(T)))
                })
            })
        }

        function n(e) {
            return 1 === e.length ? e[0] : u.dir ? e.reverse() : e
        }

        function a(l, t, d, c) {
            function i(e) {
                return !k.hasAttribute("disabled") && (o = k, r = U[14], o.classList ? o.classList.contains(r) : new RegExp("(^| )" + r + "( |$)", "gi").test(o.className), (r = e).preventDefault(), o = 0 === r.type.indexOf("touch"), s = 0 === r.type.indexOf("mouse"), n = 0 === r.type.indexOf("pointer"), 0 === (a = r).type.indexOf("MSPointer") && (n = !0), o && (t = r.changedTouches[0].pageX, i = r.changedTouches[0].pageY), (s || n) && (t = r.clientX + window.pageXOffset, i = r.clientY + window.pageYOffset), a.points = [t, i], a.cursor = s || n, e = a, !(l === B.start && void 0 !== e.buttons && 1 < e.buttons) && (e.calcPoint = e.points[u.ort], void d(e, c)));
                var t, i, s, n, a, o, r
            }
            var s = [];
            return l.split(" ").forEach(function(e) {
                t.addEventListener(e, i, !1), s.push([e, i])
            }), s
        }

        function o(e, t) {
            var i, s, n, a, o = t.handles || P,
                r = !1,
                e = 100 * (e.calcPoint - t.start) / d(),
                l = o[0] === P[0] ? 0 : 1;
            if (e = e, s = t.positions, n = 1 < o.length, a = e + s[0], e += s[1], s = n ? (a < 0 && (e += Math.abs(a)), 100 < e && (a -= e - 100), [F(a), F(e)]) : [a, e], r = h(o[0], s[l], 1 === o.length), 1 < o.length) {
                if (r = h(o[1], s[l ? 0 : 1], !1) || r)
                    for (i = 0; i < t.handles.length; i++) c("slide", i)
            } else r && c("slide", l)
        }

        function r(e, t) {
            var i = A.getElementsByClassName(U[15]),
                t = t.handles[0] === P[0] ? 0 : 1,
                s = (i.length && N(i[0], U[15]), e.cursor && (document.body.style.cursor = "", document.body.removeEventListener("selectstart", document.body.noUiListener)), document.documentElement);
            s.noUiListeners.forEach(function(e) {
                s.removeEventListener(e[0], e[1])
            }), N(k, U[12]), c("set", t), c("change", t)
        }

        function l(e, t) {
            var i = document.documentElement;
            if (1 === t.handles.length && (q(t.handles[0].children[0], U[15]), t.handles[0].hasAttribute("disabled"))) return !1;
            e.stopPropagation();
            var s = a(B.move, i, o, {
                    start: e.calcPoint,
                    handles: t.handles,
                    positions: [x[0], x[P.length - 1]]
                }),
                t = a(B.end, i, r, {
                    handles: t.handles
                });
            i.noUiListeners = s.concat(t), e.cursor && (document.body.style.cursor = getComputedStyle(e.target).cursor, 1 < P.length && q(k, U[12]), i = function() {
                return !1
            }, document.body.noUiListener = i, document.body.addEventListener("selectstart", i, !1))
        }

        function i(e) {
            var t, i = e.calcPoint,
                s = 0;
            return e.stopPropagation(), P.forEach(function(e) {
                s += L(e)[u.style]
            }), t = i < s / 2 || 1 === P.length ? 0 : 1, i = 100 * (i -= L(A)[u.style]) / d(), u.events.snap || j(k, U[14], 300), !P[t].hasAttribute("disabled") && (h(P[t], i), c("slide", t), c("set", t), c("change", t), void(u.events.snap && l(e, {
                handles: [P[s]]
            })))
        }

        function h(e, t, i) {
            var s = e !== P[0] ? 1 : 0,
                n = x[0] + u.margin,
                a = x[1] - u.margin,
                o = x[0] + u.limit,
                r = x[1] - u.limit;
            return 1 < P.length && (t = s ? Math.max(t, n) : Math.min(t, a)), !1 !== i && u.limit && 1 < P.length && (t = s ? Math.min(t, o) : Math.max(t, r)), t = S.getStep(t), (t = F(parseFloat(t.toFixed(7)))) !== x[s] && (e.style[u.style] = t + "%", e.previousSibling || (N(e, U[17]), 50 < t && q(e, U[17])), x[s] = t, T[s] = S.fromStepping(t), c("update", s), !0)
        }

        function p() {
            for (var e = [], t = 0; t < u.handles; t += 1) e[t] = u.format.to(T[t]);
            return n(e)
        }
        var s, f, m, g, v, y, b, w, _, C, k = e,
            x = [-1, -1],
            S = u.spectrum,
            T = [],
            E = {};
        if (k.noUiSlider) throw new Error("Slider was already initialized.");
        e = u.dir, $ = u.ort, q(I = k, U[0]), q(I, U[8 + e]), q(I, U[4 + $]), q(e = document.createElement("div"), U[1]), I.appendChild(e);
        var A = e,
            P = R(u.handles, u.dir, A),
            $ = u.connect,
            M = k,
            D = P;
        switch ($) {
            case 1:
                q(M, U[7]), q(D[0], U[6]);
                break;
            case 3:
                q(D[1], U[6]);
            case 2:
                q(D[0], U[7]);
            case 0:
                q(M, U[6])
        }
        var I = u.events;
        if (!I.fixed)
            for (s = 0; s < P.length; s += 1) a(B.start, P[s].children[0], l, {
                handles: [P[s]]
            });
        return I.tap && a(B.start, A, i, {
            handles: P
        }), I.drag && (q((e = [A.getElementsByClassName(U[7])[0]])[0], U[10]), I.fixed && e.push(P[e[0] === P[0] ? 1 : 0].children[0]), e.forEach(function(e) {
            a(B.start, e, l, {
                handles: P
            })
        })), u.pips && ($ = u.pips, I = $.mode, e = $.density || 1, _ = $.filter || !1, C = function(e, t, i) {
            if ("range" === e || "steps" === e) return S.xVal;
            if ("count" === e) {
                var s, n = 100 / (t - 1),
                    a = 0;
                for (t = [];
                    (s = a++ * n) <= 100;) t.push(s);
                e = "positions"
            }
            return "positions" === e ? t.map(function(e) {
                return S.fromStepping(i ? S.getStep(e) : e)
            }) : "values" === e ? i ? t.map(function(e) {
                return S.fromStepping(S.getStep(S.toStepping(e)))
            }) : t : void 0
        }(I, $.values || !1, $.stepped || !1), f = e, m = I, g = C, e = S.direction, v = {}, I = S.xVal[0], C = S.xVal[S.xVal.length - 1], b = y = !1, w = 0, S.direction = 0, (g = g.slice().sort(function(e, t) {
            return e - t
        }).filter(function(e) {
            return !this[e] && (this[e] = !0)
        }, {}))[0] !== I && (g.unshift(I), y = !0), g[g.length - 1] !== C && (g.push(C), b = !0), g.forEach(function(e, t) {
            var i, s, n, a, o, r, l = g[t + 1],
                d = (d = "steps" === m ? S.xNumSteps[t] : d) || l - e;
            if (!1 !== e && void 0 !== l)
                for (i = e; i <= l; i += d) {
                    for (r = (a = (n = S.toStepping(i)) - w) / (o = Math.round(a / f)), s = 1; s <= o; s += 1) v[(w + s * r).toFixed(5)] = ["x", 0];
                    a = -1 < g.indexOf(i) ? 1 : "steps" === m ? 2 : 0, !t && y && (a = 0), i === l && b || (v[n.toFixed(5)] = [i, a]), w = n
                }
        }), S.direction = e, I = v, C = $.format || {
            to: Math.round
        }, k.appendChild(t(I, _, C))), {
            destroy: function() {
                U.forEach(function(e) {
                    e && N(k, e)
                }), k.innerHTML = "", delete k.noUiSlider
            },
            steps: function() {
                return n(x.map(function(e, t) {
                    var i = S.getApplicableStep(e),
                        s = 1 < (s = (s = String(i[2])).split(".")).length ? s[1].length : 0,
                        t = T[t],
                        n = 100 === e ? null : i[2],
                        t = Number((t - i[2]).toFixed(s));
                    return [0 === e ? null : t >= i[1] ? i[2] : i[0] || !1, n]
                }))
            },
            on: function(e, t) {
                E[e] = E[e] || [], E[e].push(t), "update" === e.split(".")[0] && P.forEach(function(e, t) {
                    c("update", t)
                })
            },
            off: function(e) {
                var s = e.split(".")[0],
                    n = e.substring(s.length);
                Object.keys(E).forEach(function(e) {
                    var t = e.split(".")[0],
                        i = e.substring(t.length);
                    s && s !== t || n && n !== i || delete E[e]
                })
            },
            get: p,
            set: function(e) {
                var t, i, s, n, a, e = O(e),
                    o = (u.dir && 1 < u.handles && e.reverse(), u.animate && -1 !== x[0] && j(k, U[14], 300), t = 1 < P.length ? 3 : 1, t = 1 === e.length ? 1 : t),
                    r = e;
                for (u.limit && (o += 1), s = 0; s < o; s += 1) null !== (a = r[n = s % 2]) && !1 !== a && ("number" == typeof a && (a = String(a)), !1 === (a = u.format.from(a)) || isNaN(a) || !1 === h(P[n], S.toStepping(a), s === 3 - u.dir)) && c("update", n);
                for (i = 0; i < P.length; i++) c("set", i)
            }
        }
    }
    var B = window.navigator.pointerEnabled ? {
            start: "pointerdown",
            move: "pointermove",
            end: "pointerup"
        } : window.navigator.msPointerEnabled ? {
            start: "MSPointerDown",
            move: "MSPointerMove",
            end: "MSPointerUp"
        } : {
            start: "mousedown touchstart",
            move: "mousemove touchmove",
            end: "mouseup touchend"
        },
        U = ["noUi-target", "noUi-base", "noUi-origin", "noUi-handle", "noUi-horizontal", "noUi-vertical", "noUi-background", "noUi-connect", "noUi-ltr", "noUi-rtl", "noUi-dragable", "", "noUi-state-drag", "", "noUi-state-tap", "noUi-active", "", "noUi-stacking"],
        k = (s.prototype.getMargin = function(e) {
            return 2 === this.xPct.length && f(this.xVal, e)
        }, s.prototype.toStepping = function(e) {
            return e = t(this.xVal, this.xPct, e), e = this.direction ? 100 - e : e
        }, s.prototype.fromStepping = function(e) {
            return this.direction && (e = 100 - e), t = this.xVal, i = this.xPct, e = 100 <= (e = e) ? t.slice(-1)[0] : (a = o(e, i), s = t[a - 1], t = t[a], n = i[a - 1], i = i[a], (e - n) * p(n, i) * ((a = [s, t])[1] - a[0]) / 100 + a[0]), n = Math.pow(10, 7), Number((Math.round(e * n) / n).toFixed(7));
            var t, i, s, n, a
        }, s.prototype.getStep = function(e) {
            return this.direction && (e = 100 - e), e = i(this.xPct, this.xSteps, this.snap, e), e = this.direction ? 100 - e : e
        }, s.prototype.getApplicableStep = function(e) {
            var t = o(e, this.xPct),
                e = 100 === e ? 2 : 1;
            return [this.xNumSteps[t - 2], this.xVal[t - e], this.xNumSteps[t - e]]
        }, s.prototype.convert = function(e) {
            return this.getStep(this.toStepping(e))
        }, {
            to: function(e) {
                return e.toFixed(2)
            },
            from: Number
        });
    return {
        create: function(e, t) {
            if (!e.nodeName) throw new Error("noUiSlider.create requires a single element.");
            i = t, a = {
                connect: !(n = {
                    step: {
                        r: !(s = {
                            margin: 0,
                            limit: 0,
                            animate: !0,
                            format: k
                        }),
                        t: r
                    },
                    start: {
                        r: !0,
                        t: d
                    },
                    connect: {
                        r: !0,
                        t: m
                    },
                    direction: {
                        r: !0,
                        t: b
                    },
                    snap: {
                        r: !1,
                        t: c
                    },
                    animate: {
                        r: !1,
                        t: u
                    },
                    range: {
                        r: !0,
                        t: l
                    },
                    orientation: {
                        r: !1,
                        t: g
                    },
                    margin: {
                        r: !1,
                        t: v
                    },
                    limit: {
                        r: !1,
                        t: y
                    },
                    behaviour: {
                        r: !0,
                        t: w
                    },
                    format: {
                        r: !1,
                        t: _
                    }
                }),
                direction: "ltr",
                behaviour: "tap",
                orientation: "horizontal"
            }, Object.keys(a).forEach(function(e) {
                void 0 === i[e] && (i[e] = a[e])
            }), Object.keys(n).forEach(function(e) {
                var t = n[e];
                if (void 0 === i[e]) {
                    if (t.r) throw new Error("noUiSlider: '" + e + "' is required.");
                    return !0
                }
                t.t(s, i[e])
            }), s.pips = i.pips, s.style = s.ort ? "top" : "left";
            var i, s, n, a, o = C(e, t = s);
            o.set(t.start), e.noUiSlider = o
        }
    }
}), ! function(f) {
    var m, e = f.Chart,
        y = f.addEvent,
        s = f.removeEvent,
        b = f.createElement,
        r = f.discardElement,
        w = f.css,
        g = f.merge,
        _ = f.each,
        C = f.extend,
        k = Math.max,
        l = document,
        o = window,
        t = f.isTouchDevice,
        i = f.Renderer.prototype.symbols,
        n = f.getOptions();
    C(n.lang, {
        printChart: "Print chart",
        downloadPNG: "Download PNG image",
        downloadJPEG: "Download JPEG image",
        downloadPDF: "Download PDF document",
        downloadSVG: "Download SVG vector image",
        contextButtonTitle: "Chart context menu"
    }), n.navigation = {
        menuStyle: {
            border: "1px solid #A0A0A0",
            background: "#FFFFFF",
            padding: "5px 0"
        },
        menuItemStyle: {
            padding: "0 10px",
            background: "none",
            color: "#303030",
            fontSize: t ? "14px" : "11px"
        },
        menuItemHoverStyle: {
            background: "#4572A5",
            color: "#FFFFFF"
        },
        buttonOptions: {
            symbolFill: "#E0E0E0",
            symbolSize: 14,
            symbolStroke: "#666",
            symbolStrokeWidth: 3,
            symbolX: 12.5,
            symbolY: 10.5,
            align: "right",
            buttonSpacing: 3,
            height: 22,
            theme: {
                fill: "white",
                stroke: "none"
            },
            verticalAlign: "top",
            width: 24
        }
    }, n.exporting = {
        type: "image/png",
        url: "http://export.highcharts.com/",
        buttons: {
            contextButton: {
                menuClassName: "highcharts-contextmenu",
                symbol: "menu",
                _titleKey: "contextButtonTitle",
                menuItems: [{
                    textKey: "printChart",
                    onclick: function() {
                        this.print()
                    }
                }, {
                    separator: !0
                }, {
                    textKey: "downloadPNG",
                    onclick: function() {
                        this.exportChart()
                    }
                }, {
                    textKey: "downloadJPEG",
                    onclick: function() {
                        this.exportChart({
                            type: "image/jpeg"
                        })
                    }
                }, {
                    textKey: "downloadPDF",
                    onclick: function() {
                        this.exportChart({
                            type: "application/pdf"
                        })
                    }
                }, {
                    textKey: "downloadSVG",
                    onclick: function() {
                        this.exportChart({
                            type: "image/svg+xml"
                        })
                    }
                }]
            }
        }
    }, f.post = function(e, t) {
        var i, s = b("form", {
            method: "post",
            action: e,
            enctype: "multipart/form-data"
        }, {
            display: "none"
        }, l.body);
        for (i in t) b("input", {
            type: "hidden",
            name: i,
            value: t[i]
        }, null, s);
        s.submit(), r(s)
    }, C(e.prototype, {
        getSVG: function(e) {
            var n, t, i, s, a = this,
                o = g(a.options, e);
            return l.createElementNS || (l.createElementNS = function(e, t) {
                return l.createElement(t)
            }), e = b("div", null, {
                position: "absolute",
                top: "-9999em",
                width: a.chartWidth + "px",
                height: a.chartHeight + "px"
            }, l.body), t = a.renderTo.style.width, s = a.renderTo.style.height, t = o.exporting.sourceWidth || o.chart.width || /px$/.test(t) && parseInt(t, 10) || 600, s = o.exporting.sourceHeight || o.chart.height || /px$/.test(s) && parseInt(s, 10) || 400, C(o.chart, {
                animation: !1,
                renderTo: e,
                forExport: !0,
                width: t,
                height: s
            }), o.exporting.enabled = !1, o.series = [], _(a.series, function(e) {
                (i = g(e.options, {
                    animation: !1,
                    showCheckbox: !1,
                    visible: e.visible
                })).isInternal || o.series.push(i)
            }), n = new f.Chart(o, a.callback), _(["xAxis", "yAxis"], function(s) {
                _(a[s], function(e, t) {
                    var t = n[s][t],
                        i = (e = e.getExtremes()).userMin,
                        e = e.userMax;
                    !t || void 0 === i && void 0 === e || t.setExtremes(i, e, !0, !1)
                })
            }), t = n.container.innerHTML, o = null, n.destroy(), r(e), (t = t.replace(/zIndex="[^"]+"/g, "").replace(/isShadow="[^"]+"/g, "").replace(/symbolName="[^"]+"/g, "").replace(/jQuery[0-9]+="[^"]+"/g, "").replace(/url\([^#]+#/g, "url(#").replace(/<svg /, '<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ href=/g, " xlink:href=").replace(/\n/, " ").replace(/<\/svg>.*?$/, "</svg>").replace(/&nbsp;/g, "Ã‚ ").replace(/&shy;/g, "Ã‚Â­").replace(/<IMG /g, "<image ").replace(/height=([^" ]+)/g, 'height="$1"').replace(/width=([^" ]+)/g, 'width="$1"').replace(/hc-svg-href="([^"]+)">/g, 'xlink:href="$1"/>').replace(/id=([^" >]+)/g, 'id="$1"').replace(/class=([^" >]+)/g, 'class="$1"').replace(/ transform /g, " ").replace(/:(path|rect)/g, "$1").replace(/style="([^"]+)"/g, function(e) {
                return e.toLowerCase()
            })).replace(/(url\(#highcharts-[0-9]+)&quot;/g, "$1").replace(/&quot;/g, "'")
        },
        exportChart: function(e, t) {
            var e = e || {},
                i = this.options.exporting,
                i = this.getSVG(g({
                    chart: {
                        borderRadius: 0
                    }
                }, i.chartOptions, t, {
                    exporting: {
                        sourceWidth: e.sourceWidth || i.sourceWidth,
                        sourceHeight: e.sourceHeight || i.sourceHeight
                    }
                })),
                e = g(this.options.exporting, e);
            f.post(e.url, {
                filename: e.filename || "chart",
                type: e.type,
                width: e.width || 0,
                scale: e.scale || 2,
                svg: i
            })
        },
        print: function() {
            var e = this,
                t = e.container,
                i = [],
                s = t.parentNode,
                n = l.body,
                a = n.childNodes;
            e.isPrinting || (e.isPrinting = !0, _(a, function(e, t) {
                1 === e.nodeType && (i[t] = e.style.display, e.style.display = "none")
            }), n.appendChild(t), o.focus(), o.print(), setTimeout(function() {
                s.appendChild(t), _(a, function(e, t) {
                    1 === e.nodeType && (e.style.display = i[t])
                }), e.isPrinting = !1
            }, 1e3))
        },
        contextMenu: function(t, e, i, s, n, a, o) {
            var r, l, d, c = this,
                u = c.options.navigation,
                h = u.menuItemStyle,
                p = c.chartWidth,
                f = c.chartHeight,
                m = "cache-" + t,
                g = c[m],
                v = k(n, a);
            g || (c[m] = g = b("div", {
                className: t
            }, {
                position: "absolute",
                zIndex: 1e3,
                padding: v + "px"
            }, c.container), r = b("div", null, C({
                MozBoxShadow: "3px 3px 10px #888",
                WebkitBoxShadow: "3px 3px 10px #888",
                boxShadow: "3px 3px 10px #888"
            }, u.menuStyle), g), l = function() {
                w(g, {
                    display: "none"
                }), o && o.setState(0), c.openMenu = !1
            }, y(g, "mouseleave", function() {
                d = setTimeout(l, 500)
            }), y(g, "mouseenter", function() {
                clearTimeout(d)
            }), y(document, "mousedown", function(e) {
                c.pointer.inClass(e.target, t) || l()
            }), _(e, function(e) {
                var t;
                e && (t = e.separator ? b("hr", null, null, r) : b("div", {
                    onmouseover: function() {
                        w(this, u.menuItemHoverStyle)
                    },
                    onmouseout: function() {
                        w(this, h)
                    },
                    onclick: function() {
                        l(), e.onclick.apply(c, arguments)
                    },
                    innerHTML: e.text || c.options.lang[e.textKey]
                }, C({
                    cursor: "pointer"
                }, h), r), c.exportDivElements.push(t))
            }), c.exportDivElements.push(r, g), c.exportMenuWidth = g.offsetWidth, c.exportMenuHeight = g.offsetHeight), e = {
                display: "block"
            }, i + c.exportMenuWidth > p ? e.right = p - i - n - v + "px" : e.left = i - v + "px", s + a + c.exportMenuHeight > f && "top" !== o.alignOptions.verticalAlign ? e.bottom = f - s - v + "px" : e.top = s + a - v + "px", w(g, e), c.openMenu = !0
        },
        addButton: function(e) {
            var t, i, s, n, a, o, r = this,
                l = r.renderer,
                d = g(r.options.navigation.buttonOptions, e),
                c = d.onclick,
                u = d.menuItems,
                h = {
                    stroke: d.symbolStroke,
                    fill: d.symbolFill
                },
                p = d.symbolSize || 12;
            r.btnCount || (r.btnCount = 0), r.exportDivElements || (r.exportDivElements = [], r.exportSVGElements = []), !1 !== d.enabled && (n = (a = (s = d.theme).states) && a.hover, a = a && a.select, delete s.states, c ? o = function() {
                c.apply(r, arguments)
            } : u && (o = function() {
                r.contextMenu(i.menuClassName, u, i.translateX, i.translateY, i.width, i.height, i), i.setState(2)
            }), d.text && d.symbol ? s.paddingLeft = f.pick(s.paddingLeft, 25) : d.text || C(s, {
                width: d.width,
                height: d.height,
                padding: 0
            }), (i = l.button(d.text, 0, 0, o, s, n, a).attr({
                title: r.options.lang[d._titleKey],
                "stroke-linecap": "round"
            })).menuClassName = e.menuClassName || "highcharts-menu-" + r.btnCount++, d.symbol && (t = l.symbol(d.symbol, d.symbolX - p / 2, d.symbolY - p / 2, p, p).attr(C(h, {
                "stroke-width": d.symbolStrokeWidth || 1,
                zIndex: 1
            })).add(i)), i.add().align(C(d, {
                width: i.width,
                x: f.pick(d.x, m)
            }), !0, "spacingBox"), m += (i.width + d.buttonSpacing) * ("right" === d.align ? -1 : 1), r.exportSVGElements.push(i, t))
        },
        destroyExport: function(e) {
            for (var t, e = e.target, i = 0; i < e.exportSVGElements.length; i++)(t = e.exportSVGElements[i]) && (t.onclick = t.ontouchstart = null, e.exportSVGElements[i] = t.destroy());
            for (i = 0; i < e.exportDivElements.length; i++) t = e.exportDivElements[i], s(t, "mouseleave"), e.exportDivElements[i] = t.onmouseout = t.onmouseover = t.ontouchstart = t.onclick = null, r(t)
        }
    }), i.menu = function(e, t, i, s) {
        return ["M", e, t + 2.5, "L", e + i, t + 2.5, "M", e, t + s / 2 + .5, "L", e + i, t + s / 2 + .5, "M", e, t + s - 1.5, "L", e + i, t + s - 1.5]
    }, e.prototype.callbacks.push(function(e) {
        var t, i = e.options.exporting,
            s = i.buttons;
        if (m = 0, !1 !== i.enabled) {
            for (t in s) e.addButton(s[t]);
            y(e, "destroy", e.destroyExport)
        }
    })
}(Highcharts), $(document).ready(function() {
    $(document).on("click", ".js-append-vids:not(.loading)", function() {
        appendVids()
    }), $(document).on("click", ".js-load-vid-likes:not(.loading)", function() {
        appendVids()
    }), $(document).on("click", ".js-append-items:not(.loading)", function() {
        appendItems()
    }), $(document).on("change", ".js-sort-vids-profile", function() {
        appendVids(!0)
    }), $("body").hasClass("js-load-profile-vids") && appendVids(!0)
}), $(document).ready(function() {
    $('<div id= "contentPopupAlert" class= "modal is-hidden fade" tabindex="-1" role="dialog" aria-hidden="true"><div class= "modal-dialog" role="document"><div class= "modal-content"><a href="javascript:;" class= "modal-close" data-dismiss= "modal" aria-label="Close"><i class="icon medium x-icon"></i></a><div class= "modal-header"><h1 class= "h1 modal-title">Heads Up!</h1></div><div class= "modal-body"><p class="text-center">This page may contain content that is different from what you selected as a preference.</p><p class="text-center mb-0"><small>You can change your content preferences at any time in your Settings.</small></p></div><div class= "modal-footer mv-controls" style="flex-direction: column"><a href="javascript:;" class="btn btn-primary btn-lg mb-2" id="untargetedContentALink">Got it!</a><div class="flex-center-center"><input type="checkbox" id="untargetedContentALinkWithCookie"><label class="m-0 text-muted" for="untargetedContentALinkWithCookie"><span></span>DonÃ¢â‚¬â„¢t show me this again.</label></div></div></div></div></div>').appendTo("body"), $("#contentPopupAlert").hide(), void 0 === $.cookie("contentPopup") && $.cookie("contentPopup", "false", {
        path: "/"
    }), $("#untargetedContentALinkWithCookie").on("click", function() {
        $.cookie("contentPopup", "true", {
            path: "/"
        })
    }), $(".dropdown-menu-global-search").on("click", ".result-with-image > a.different-type", function(e) {
        "false" === $.cookie("contentPopup") && (e.preventDefault(), e.stopPropagation()), checkContentPopup($(e.currentTarget).prop("href"))
    })
}), ! function(e, t) {
    "function" == typeof define && define.amd ? define(t) : "object" == typeof exports ? module.exports = t() : e.Blazy = t()
}(this, function() {
    function s(e) {
        setTimeout(function() {
            var t = e._util;
            t.elements = function(e) {
                for (var t = [], i = (e = document.querySelectorAll(e)).length; i--; t.unshift(e[i]));
                return t
            }(e.options.selector), t.count = t.elements.length, t.destroyed && (t.destroyed = !1, e.options.container && c(e.options.container, function(e) {
                i(e, "scroll", t.validateT)
            }), i(window, "resize", t.saveViewportOffsetT), i(window, "resize", t.validateT), i(window, "scroll", t.validateT)), n(e)
        }, 1)
    }

    function n(e) {
        for (var t = e._util, i = 0; i < t.count; i++) {
            var s = t.elements[i],
                n = s.getBoundingClientRect();
            (n.right >= p.left && n.bottom >= p.top && n.left <= p.right && n.top <= p.bottom || r(s, e.options.successClass)) && (e.load(s), t.elements.splice(i, 1), t.count--, i--)
        }
        0 === t.count && e.destroy()
    }

    function o(e, t, i) {
        var s, n;
        !r(e, i.successClass) && (t || i.loadInvisible || 0 < e.offsetWidth && 0 < e.offsetHeight) && ((t = e.getAttribute(h) || e.getAttribute(i.src)) ? (s = (t = t.split(i.separator))[f && 1 < t.length ? 1 : 0], (n = "img" === e.nodeName.toLowerCase()) || void 0 === e.src ? ((t = new Image).onerror = function() {
            i.error && i.error(e, "invalid"), e.className = e.className + " " + i.errorClass
        }, t.onload = function() {
            n ? e.src = s : e.style.backgroundImage = 'url("' + s + '")', a(e, i)
        }, t.src = s) : (e.src = s, a(e, i))) : (i.error && i.error(e, "missing"), r(e, i.errorClass) || (e.className = e.className + " " + i.errorClass)))
    }

    function a(t, e) {
        t.className = t.className + " " + e.successClass, e.success && e.success(t), c(e.breakpoints, function(e) {
            t.removeAttribute(e.src)
        }), t.removeAttribute(e.src)
    }

    function r(e, t) {
        return -1 !== (" " + e.className + " ").indexOf(" " + t + " ")
    }

    function l(e) {
        p.bottom = (window.innerHeight || document.documentElement.clientHeight) + e, p.right = (window.innerWidth || document.documentElement.clientWidth) + e
    }

    function i(e, t, i) {
        e.attachEvent ? e.attachEvent && e.attachEvent("on" + t, i) : e.addEventListener(t, i, !1)
    }

    function d(e, t, i) {
        e.detachEvent ? e.detachEvent && e.detachEvent("on" + t, i) : e.removeEventListener(t, i, !1)
    }

    function c(e, t) {
        if (e && t)
            for (var i = e.length, s = 0; s < i && !1 !== t(e[s], s); s++);
    }

    function u(t, i, s) {
        var n = 0;
        return function() {
            var e = +new Date;
            e - n < i || (n = e, t.apply(s, arguments))
        }
    }
    var h, p, f;
    return function(e) {
        document.querySelectorAll || (a = document.createStyleSheet(), document.querySelectorAll = function(e, t, i, s, n) {
            for (n = document.all, t = [], i = (e = e.replace(/\[for\b/gi, "[htmlFor").split(",")).length; i--;) {
                for (a.addRule(e[i], "k:v"), s = n.length; s--;) n[s].currentStyle.k && t.push(n[s]);
                a.removeRule(0)
            }
            return t
        });
        var a, t = this,
            i = t._util = {
                elements: [],
                destroyed: !0
            };
        t.options = e || {}, t.options.error = t.options.error || !1, t.options.offset = t.options.offset || 100, t.options.success = t.options.success || !1, t.options.selector = t.options.selector || ".b-lazy", t.options.separator = t.options.separator || "|", t.options.container = !!t.options.container && document.querySelectorAll(t.options.container), t.options.errorClass = t.options.errorClass || "b-error", t.options.breakpoints = t.options.breakpoints || !1, t.options.loadInvisible = t.options.loadInvisible || !1, t.options.successClass = t.options.successClass || "b-loaded", t.options.validateDelay = t.options.validateDelay || 25, t.options.saveViewportOffsetDelay = t.options.saveViewportOffsetDelay || 50, t.options.src = h = t.options.src || "data-src", f = 1 < window.devicePixelRatio, (p = {}).top = 0 - t.options.offset, p.left = 0 - t.options.offset, t.revalidate = function() {
            s(this)
        }, t.load = function(e, t) {
            var i = this.options;
            void 0 === e.length ? o(e, t, i) : c(e, function(e) {
                o(e, t, i)
            })
        }, t.destroy = function() {
            var t = this._util;
            this.options.container && c(this.options.container, function(e) {
                d(e, "scroll", t.validateT)
            }), d(window, "scroll", t.validateT), d(window, "resize", t.validateT), d(window, "resize", t.saveViewportOffsetT), t.count = 0, t.elements.length = 0, t.destroyed = !0
        }, i.validateT = u(function() {
            n(t)
        }, t.options.validateDelay, t), i.saveViewportOffsetT = u(function() {
            l(t.options.offset)
        }, t.options.saveViewportOffsetDelay, t), l(t.options.offset), c(t.options.breakpoints, function(e) {
            if (e.width >= window.screen.width) return h = e.src, !1
        }), s(t)
    }
}), ! function(Ce) {
    function ke() {
        return Ce("<div/>")
    }
    var xe = Math.abs,
        Se = Math.max,
        Te = Math.min,
        Ee = Math.round;
    Ce.imgAreaSelect = function(i, a) {
        function t(e) {
            return e + I.left - L.left
        }

        function s(e) {
            return e + I.top - L.top
        }

        function o(e) {
            return e - I.left + L.left
        }

        function r(e) {
            return e - I.top + L.top
        }

        function n(e) {
            var e = O(e) || e;
            return (e = parseInt(e.pageX)) ? e - L.left : void 0
        }

        function l(e) {
            var e = O(e) || e;
            return (e = parseInt(e.pageY)) ? e - L.top : void 0
        }

        function O(e) {
            e = e.originalEvent || {};
            return !(!e.touches || !e.touches.length) && e.touches[0]
        }

        function d(e) {
            var t = e || le,
                e = e || de;
            return {
                x1: Ee(F.x1 * t),
                y1: Ee(F.y1 * e),
                x2: Ee(F.x2 * t) - 1,
                y2: Ee(F.y2 * e) - 1,
                width: Ee(F.x2 * t) - Ee(F.x1 * t),
                height: Ee(F.y2 * e) - Ee(F.y1 * e)
            }
        }

        function q(e, t, i, s, n) {
            var a = n || le,
                n = n || de;
            (F = {
                x1: Ee(e / a || 0),
                y1: Ee(t / n || 0),
                x2: Ee(++i / a || 0),
                y2: Ee(++s / n || 0)
            }).width = F.x2 - F.x1, F.height = F.y2 - F.y1
        }

        function c() {
            se && A.width() && (I = {
                left: Ee(A.offset().left),
                top: Ee(A.offset().top)
            }, f = A.innerWidth(), m = A.innerHeight(), I.top += A.outerHeight() - m >> 1, I.left += A.outerWidth() - f >> 1, ce = Ee(a.minWidth / le) || 0, ue = Ee(a.minHeight / de) || 0, he = Ee(Te(a.maxWidth / le || 1 << 24, f)), pe = Ee(Te(a.maxHeight / de || 1 << 24, m)), L = "fixed" == ve ? {
                left: Ce(document).scrollLeft(),
                top: Ce(document).scrollTop()
            } : /static|^$/.test(g.css("position")) ? {
                left: 0,
                top: 0
            } : {
                left: Ee(g.offset().left) - g.scrollLeft(),
                top: Ee(g.offset().top) - g.scrollTop()
            }, h = t(0), p = s(0), F.x2 > f || F.y2 > m) && Y()
        }

        function N(e) {
            if (fe) {
                switch (P.css({
                        left: t(F.x1),
                        top: s(F.y1)
                    }).add(ge).width(T = F.width).height(E = F.height), ge.add($).add(D).css({
                        left: 0,
                        top: 0
                    }), $.add(M).width(Se(T - $.outerWidth() + $.innerWidth(), 0)).height(Se(E - $.outerHeight() + $.innerHeight(), 0)), M.css({
                        left: h,
                        top: p,
                        width: T,
                        height: E,
                        borderStyle: "solid",
                        borderWidth: F.y1 + "px " + (f - F.x2) + "px " + (m - F.y2) + "px " + F.x1 + "px"
                    }), T -= D.outerWidth(), E -= D.outerHeight(), D.length) {
                    case 8:
                        Ce(D[4]).css({
                            left: T >> 1
                        }), Ce(D[5]).css({
                            left: T,
                            top: E >> 1
                        }), Ce(D[6]).css({
                            left: T >> 1,
                            top: E
                        }), Ce(D[7]).css({
                            top: E >> 1
                        });
                    case 4:
                        D.slice(1, 3).css({
                            left: T
                        }), D.slice(2, 4).css({
                            top: E
                        })
                }!1 !== e && (Ce.imgAreaSelect.keyPress != be && Ce(document).unbind(Ce.imgAreaSelect.keyPress, Ce.imgAreaSelect.onKeyPress), a.keys) && Ce(document)[Ce.imgAreaSelect.keyPress](Ce.imgAreaSelect.onKeyPress = be)
            }
        }

        function R(e) {
            c(), N(e), b = t(F.x1), w = s(F.y1), _ = t(F.x2), C = s(F.y2)
        }

        function B(e, t) {
            a.fadeDuration ? e.fadeOut(a.fadeDuration, t) : e.hide()
        }

        function U(e) {
            return k && !/^touch/.test(e.type)
        }

        function V(e) {
            var t = o(n(e)) - F.x1,
                e = r(l(e)) - F.y1;
            v = "", a.resizable && (a.resizeMargin >= e ? v = "n" : e >= F.height - a.resizeMargin && (v = "s"), a.resizeMargin >= t ? v += "w" : t >= F.width - a.resizeMargin && (v += "e")), P.css("cursor", v ? v + "-resize" : a.movable ? "move" : "")
        }

        function u(e) {
            U(e) || (me || (c(), me = !0, P.one("mouseout", function() {
                me = !1
            })), V(e))
        }

        function H(e) {
            k = !1, Ce("body").css("cursor", ""), !a.autoHide && 0 != F.width * F.height || B(P.add(M), function() {
                Ce(this).hide()
            }), Ce(document).off("mousemove touchmove", X), P.on("mousemove touchmove", u), e && a.onSelectEnd(i, d())
        }

        function z(e) {
            return "mousedown" == e.type && 1 != e.which || ("touchstart" == e.type ? (k && H(), k = !0, V(e)) : c(), v ? (b = t(F["x" + (1 + /w/.test(v))]), w = s(F["y" + (1 + /n/.test(v))]), _ = t(F["x" + (1 + !/w/.test(v))]), C = s(F["y" + (1 + !/n/.test(v))]), oe = _ - n(e), re = C - l(e), Ce(document).on("mousemove touchmove", X).one("mouseup touchend", H), P.off("mousemove touchmove", u)) : a.movable ? (ne = h + F.x1 - n(e), ae = p + F.y1 - l(e), P.off("mousemove touchmove", u), Ce(document).on("mousemove touchmove", K).one("mouseup touchend", function() {
                k = !1, a.onSelectEnd(i, d()), Ce(document).off("mousemove touchmove", K), P.on("mousemove touchmove", u)
            })) : A.mousedown(e)), !1
        }

        function W(e) {
            y && (e ? (_ = Se(h, Te(h + f, b + xe(C - w) * y * (b < _ || -1))), C = Ee(Se(p, Te(p + m, w + xe(_ - b) / y * (w < C || -1)))), _ = Ee(_)) : (C = Se(p, Te(p + m, w + xe(_ - b) / y * (w < C || -1))), _ = Ee(Se(h, Te(h + f, b + xe(C - w) * y * (b < _ || -1)))), C = Ee(C)))
        }

        function Y() {
            b = Te(b, h + f), w = Te(w, p + m), ce > xe(_ - b) && ((_ = b - ce * (_ < b || -1)) < h ? b = h + ce : h + f < _ && (b = h + f - ce)), ue > xe(C - w) && ((C = w - ue * (C < w || -1)) < p ? w = p + ue : p + m < C && (w = p + m - ue)), _ = Se(h, Te(_, h + f)), C = Se(p, Te(C, p + m)), W(xe(_ - b) < xe(C - w) * y), xe(_ - b) > he && (_ = b - he * (_ < b || -1), W()), xe(C - w) > pe && (C = w - pe * (C < w || -1), W(!0)), F = {
                x1: o(Te(b, _)),
                x2: o(Se(b, _)),
                y1: r(Te(w, C)),
                y2: r(Se(w, C)),
                width: xe(_ - b),
                height: xe(C - w)
            }
        }

        function G() {
            Y(), N(), a.onSelectChange(i, d())
        }

        function X(e) {
            return U(e) ? void 0 : (Y(), _ = /w|e|^$/.test(v) || y ? n(e) + oe : t(F.x2), C = /n|s|^$/.test(v) || y ? l(e) + re : s(F.y2), G(), !1)
        }

        function J(e, t) {
            _ = (b = e) + F.width, C = (w = t) + F.height, Ce.extend(F, {
                x1: o(b),
                y1: r(w),
                x2: o(_),
                y2: r(C)
            }), N(), a.onSelectChange(i, d())
        }

        function K(e) {
            return U(e) ? void 0 : (b = Se(h, Te(ne + n(e), h + f - F.width)), w = Se(p, Te(ae + l(e), p + m - F.height)), J(b, w), e.preventDefault(), !1)
        }

        function Q() {
            Ce(document).off("mousemove touchmove", Q), c(), _ = b, C = w, G(), v = "", M.is(":visible") || P.add(M).hide().fadeIn(a.fadeDuration || 0), fe = !0, Ce(document).off("mouseup touchend", Z).on("mousemove touchmove", X).one("mouseup touchend", H), P.off("mousemove touchmove", u), a.onSelectStart(i, d())
        }

        function Z() {
            Ce(document).off("mousemove touchmove", Q).off("mouseup touchend", Z), B(P.add(M)), q(o(b), r(w), o(b), r(w)), this instanceof Ce.imgAreaSelect || (a.onSelectChange(i, d()), a.onSelectEnd(i, d()))
        }

        function ee(e) {
            return "mousedown" == e.type && 1 != e.which || M.is(":animated") || (k = "touchstart" == e.type, c(), ne = b = n(e), ae = w = l(e), oe = re = 0, Ce(document).on({
                "mousemove touchmove": Q,
                "mouseup touchend": Z
            })), !1
        }

        function te() {
            R(!1)
        }

        function e() {
            se = !0, ie(a = Ce.extend({
                classPrefix: "imgareaselect",
                movable: !0,
                parent: "body",
                resizable: !0,
                resizeMargin: 10,
                onInit: function() {},
                onSelectStart: function() {},
                onSelectChange: function() {},
                onSelectEnd: function() {}
            }, a)), a.show && (fe = !0, c(), N(), P.add(M).hide().fadeIn(a.fadeDuration || 0)), setTimeout(function() {
                a.onInit(i, d())
            }, 0)
        }

        function ie(e) {
            if (e.parent && (g = Ce(e.parent)).append(P).append(M), Ce.extend(a, e), c(), null != e.handles) {
                for (D.remove(), D = Ce([]), x = e.handles ? "corners" == e.handles ? 4 : 8 : 0; x--;) D = D.add(ke());
                D.addClass(a.classPrefix + "-handle").css({
                    position: "absolute",
                    fontSize: 0,
                    zIndex: j + 1 || 1
                }), 0 <= !parseInt(D.css("width")) && D.width(5).height(5)
            }
            for (le = a.imageWidth / f || 1, de = a.imageHeight / m || 1, null != e.x1 && (q(e.x1, e.y1, e.x2, e.y2), e.show = !e.hide), e.keys && (a.keys = Ce.extend({
                    shift: 1,
                    ctrl: "resize"
                }, e.keys)), M.addClass(a.classPrefix + "-outer"), ge.addClass(a.classPrefix + "-selection"), x = 0; x++ < 4;) Ce($[x - 1]).addClass(a.classPrefix + "-border" + x);
            P.append(ge.add($)).append(D), we && ((S = (M.css("filter") || "").match(/opacity=(\d+)/)) && M.css("opacity", S[1] / 100), S = ($.css("filter") || "").match(/opacity=(\d+)/)) && $.css("opacity", S[1] / 100), e.hide ? B(P.add(M)) : e.show && se && (fe = !0, P.add(M).fadeIn(a.fadeDuration || 0), R()), y = (S = (a.aspectRatio || "").split(/:/))[0] / S[1], A.add(M).off("mousedown touchstart", ee), a.disable || !1 === a.enable ? (P.off({
                "mousemove touchmove": u,
                "mousedown touchstart": z
            }), Ce(window).off("resize", te)) : (!a.enable && !1 !== a.disable || ((a.resizable || a.movable) && P.on({
                "mousemove touchmove": u,
                "mousedown touchstart": z
            }), Ce(window).resize(te)), a.persistent || A.add(M).on("mousedown touchstart", ee)), a.enable = a.disable = void 0
        }
        for (var se, h, p, f, m, g, ne, ae, oe, re, le, de, v, ce, ue, he, pe, y, fe, b, w, _, C, k, x, S, T, E, me, A = Ce(i), P = ke(), ge = ke(), $ = ke().add(ke()).add(ke()).add(ke()), M = ke(), D = Ce([]), I = {
                left: 0,
                top: 0
            }, L = {
                left: 0,
                top: 0
            }, j = 0, ve = "absolute", F = {
                x1: 0,
                y1: 0,
                x2: 0,
                y2: 0,
                width: 0,
                height: 0
            }, ye = navigator.userAgent, be = function(e) {
                var t, i = a.keys,
                    s = e.keyCode,
                    n = isNaN(i.alt) || !e.altKey && !e.originalEvent.altKey ? !isNaN(i.ctrl) && e.ctrlKey ? i.ctrl : !isNaN(i.shift) && e.shiftKey ? i.shift : isNaN(i.arrows) ? 10 : i.arrows : i.alt;
                if ("resize" == i.arrows || "resize" == i.shift && e.shiftKey || "resize" == i.ctrl && e.ctrlKey || "resize" == i.alt && (e.altKey || e.originalEvent.altKey)) {
                    switch (s) {
                        case 37:
                            n = -n;
                        case 39:
                            t = Se(b, _), b = Te(b, _), _ = Se(t + n, b), W();
                            break;
                        case 38:
                            n = -n;
                        case 40:
                            t = Se(w, C), w = Te(w, C), C = Se(t + n, w), W(!0);
                            break;
                        default:
                            return
                    }
                    G()
                } else switch (b = Te(b, _), w = Te(w, C), s) {
                    case 37:
                        J(Se(b - n, h), w);
                        break;
                    case 38:
                        J(b, Se(w - n, p));
                        break;
                    case 39:
                        J(b + Te(n, f - o(_)), w);
                        break;
                    case 40:
                        J(b, w + Te(n, m - r(C)));
                        break;
                    default:
                        return
                }
                return !1
            }, we = (this.remove = function() {
                ie({
                    disable: !0
                }), P.add(M).remove()
            }, this.getOptions = function() {
                return a
            }, this.setOptions = ie, this.getSelection = d, this.setSelection = q, this.cancelSelection = Z, this.update = R, (/msie ([\w.]+)/i.exec(ye) || [])[1]), ye = /webkit/i.test(ye) && !/chrome/i.test(ye), _e = A; _e.length;) j = Se(j, isNaN(_e.css("z-index")) ? j : _e.css("z-index")), a.parent || "fixed" != _e.css("position") || (ve = "fixed"), _e = _e.parent(":not(body)");
        j = a.zIndex || j, Ce.imgAreaSelect.keyPress = we || ye ? "keydown" : "keypress", P.add(M).hide().css({
            position: ve,
            overflow: "hidden",
            zIndex: j || "0"
        }), P.css({
            zIndex: j + 2 || 2
        }), ge.add($).css({
            position: "absolute",
            fontSize: 0
        }), i.complete || "complete" == i.readyState || !A.is("img") ? e() : A.one("load", e), !se && we && 7 <= we && (i.src = i.src)
    }, Ce.fn.imgAreaSelect = function(e) {
        return e = e || {}, this.each(function() {
            Ce(this).data("imgAreaSelect") ? e.remove ? (Ce(this).data("imgAreaSelect").remove(), Ce(this).removeData("imgAreaSelect")) : Ce(this).data("imgAreaSelect").setOptions(e) : e.remove || (void 0 === e.enable && void 0 === e.disable && (e.enable = !0), Ce(this).data("imgAreaSelect", new Ce.imgAreaSelect(this, e)))
        }), e.instance ? Ce(this).data("imgAreaSelect") : this
    }
}(jQuery);
var qq = function(n) {
        "use strict";
        return {
            hide: function() {
                return n.style.display = "none", this
            },
            attach: function(e, t) {
                return n.addEventListener ? n.addEventListener(e, t, !1) : n.attachEvent && n.attachEvent("on" + e, t),
                    function() {
                        qq(n).detach(e, t)
                    }
            },
            detach: function(e, t) {
                return n.removeEventListener ? n.removeEventListener(e, t, !1) : n.attachEvent && n.detachEvent("on" + e, t), this
            },
            contains: function(e) {
                return !!e && (n === e || (n.contains ? n.contains(e) : !!(8 & e.compareDocumentPosition(n))))
            },
            insertBefore: function(e) {
                return e.parentNode.insertBefore(n, e), this
            },
            remove: function() {
                return n.parentNode.removeChild(n), this
            },
            css: function(e) {
                if (null == n.style) throw new qq.Error("Can't apply style to node as it is not on the HTMLElement prototype chain!");
                return null != e.opacity && "string" != typeof n.style.opacity && void 0 !== n.filters && (e.filter = "alpha(opacity=" + Math.round(100 * e.opacity) + ")"), qq.extend(n.style, e), this
            },
            hasClass: function(e) {
                return new RegExp("(^| )" + e + "( |$)").test(n.className)
            },
            addClass: function(e) {
                return qq(n).hasClass(e) || (n.className += " " + e), this
            },
            removeClass: function(e) {
                e = new RegExp("(^| )" + e + "( |$)");
                return n.className = n.className.replace(e, " ").replace(/^\s+|\s+$/g, ""), this
            },
            getByClass: function(i) {
                var e, s = [];
                return n.querySelectorAll ? n.querySelectorAll("." + i) : (e = n.getElementsByTagName("*"), qq.each(e, function(e, t) {
                    qq(t).hasClass(i) && s.push(t)
                }), s)
            },
            children: function() {
                for (var e = [], t = n.firstChild; t;) 1 === t.nodeType && e.push(t), t = t.nextSibling;
                return e
            },
            setText: function(e) {
                return n.innerText = e, n.textContent = e, this
            },
            clearText: function() {
                return qq(n).setText("")
            },
            hasAttribute: function(e) {
                return n.hasAttribute ? !!n.hasAttribute(e) && null == /^false$/i.exec(n.getAttribute(e)) : void 0 !== (e = n[e]) && null == /^false$/i.exec(e)
            }
        }
    },
    ExifRestorer = (! function() {
        "use strict";
        qq.canvasToBlob = function(e, t, i) {
            return qq.dataUriToBlob(e.toDataURL(t, i))
        }, qq.dataUriToBlob = function(e) {
            var t = (0 <= e.split(",")[0].indexOf("base64") ? atob : decodeURI)(e.split(",")[1]),
                e = e.split(",")[0].split(":")[1].split(";")[0],
                i = new ArrayBuffer(t.length),
                s = new Uint8Array(i);
            return qq.each(t, function(e, t) {
                s[e] = t.charCodeAt(0)
            }), t = i, i = e, (e = (e = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder) && new e) ? (e.append(t), e.getBlob(i)) : new Blob([t], {
                type: i
            })
        }, qq.log = function(e, t) {
            window.console && (t && "info" !== t ? window.console[t] ? window.console[t](e) : window.console.log("<" + t + "> " + e) : window.console.log(e))
        }, qq.isObject = function(e) {
            return e && !e.nodeType && "[object Object]" === Object.prototype.toString.call(e)
        }, qq.isFunction = function(e) {
            return "function" == typeof e
        }, qq.isArray = function(e) {
            return "[object Array]" === Object.prototype.toString.call(e) || e && window.ArrayBuffer && e.buffer && e.buffer.constructor === ArrayBuffer
        }, qq.isItemList = function(e) {
            return "[object DataTransferItemList]" === Object.prototype.toString.call(e)
        }, qq.isNodeList = function(e) {
            return "[object NodeList]" === Object.prototype.toString.call(e) || e.item && e.namedItem
        }, qq.isString = function(e) {
            return "[object String]" === Object.prototype.toString.call(e)
        }, qq.trimStr = function(e) {
            return String.prototype.trim ? e.trim() : e.replace(/^\s+|\s+$/g, "")
        }, qq.format = function(e) {
            var t = Array.prototype.slice.call(arguments, 1),
                n = e,
                a = n.indexOf("{}");
            return qq.each(t, function(e, t) {
                var i = n.substring(0, a),
                    s = n.substring(a + 2);
                return !((a = (n = i + t + s).indexOf("{}", a + t.length)) < 0) && void 0
            }), n
        }, qq.isFile = function(e) {
            return window.File && "[object File]" === Object.prototype.toString.call(e)
        }, qq.isFileList = function(e) {
            return window.FileList && "[object FileList]" === Object.prototype.toString.call(e)
        }, qq.isFileOrInput = function(e) {
            return qq.isFile(e) || qq.isInput(e)
        }, qq.isInput = function(e, t) {
            function i(e) {
                return e = e.toLowerCase(), t ? "file" !== e : "file" === e
            }
            return !!(window.HTMLInputElement && "[object HTMLInputElement]" === Object.prototype.toString.call(e) && e.type && i(e.type)) || !!(e.tagName && "input" === e.tagName.toLowerCase() && e.type && i(e.type))
        }, qq.isBlob = function(e) {
            return !(!window.Blob || "[object Blob]" !== Object.prototype.toString.call(e)) || void 0
        }, qq.isXhrUploadSupported = function() {
            var e = document.createElement("input");
            return e.type = "file", void 0 !== e.multiple && "undefined" != typeof File && "undefined" != typeof FormData && void 0 !== qq.createXhrInstance().upload
        }, qq.createXhrInstance = function() {
            if (window.XMLHttpRequest) return new XMLHttpRequest;
            try {
                return new ActiveXObject("MSXML2.XMLHTTP.3.0")
            } catch (e) {
                return qq.log("Neither XHR or ActiveX are supported!", "error"), null
            }
        }, qq.isFolderDropSupported = function(e) {
            return e.items && 0 < e.items.length && e.items[0].webkitGetAsEntry
        }, qq.isFileChunkingSupported = function() {
            return !qq.androidStock() && qq.isXhrUploadSupported() && (void 0 !== File.prototype.slice || void 0 !== File.prototype.webkitSlice || void 0 !== File.prototype.mozSlice)
        }, qq.sliceBlob = function(e, t, i) {
            return (e.slice || e.mozSlice || e.webkitSlice).call(e, t, i)
        }, qq.arrayBufferToHex = function(e) {
            var i = "",
                e = new Uint8Array(e);
            return qq.each(e, function(e, t) {
                t = t.toString(16);
                t.length < 2 && (t = "0" + t), i += t
            }), i
        }, qq.readBlobToHex = function(e, t, i) {
            var e = qq.sliceBlob(e, t, t + i),
                s = new FileReader,
                n = new qq.Promise;
            return s.onload = function() {
                n.success(qq.arrayBufferToHex(s.result))
            }, s.onerror = n.failure, s.readAsArrayBuffer(e), n
        }, qq.extend = function(i, e, s) {
            return qq.each(e, function(e, t) {
                s && qq.isObject(t) ? (void 0 === i[e] && (i[e] = {}), qq.extend(i[e], t, !0)) : i[e] = t
            }), i
        }, qq.override = function(i, e) {
            var s = {},
                e = e(s);
            return qq.each(e, function(e, t) {
                void 0 !== i[e] && (s[e] = i[e]), i[e] = t
            }), i
        }, qq.indexOf = function(e, t, i) {
            if (e.indexOf) return e.indexOf(t, i);
            var s = e.length;
            for ((i = i || 0) < 0 && (i += s); i < s; i += 1)
                if (e.hasOwnProperty(i) && e[i] === t) return i;
            return -1
        }, qq.getUniqueId = function() {
            return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(e) {
                var t = 0 | 16 * Math.random();
                return ("x" == e ? t : 8 | 3 & t).toString(16)
            })
        }, qq.ie = function() {
            return -1 !== navigator.userAgent.indexOf("MSIE") || -1 !== navigator.userAgent.indexOf("Trident")
        }, qq.ie7 = function() {
            return -1 !== navigator.userAgent.indexOf("MSIE 7")
        }, qq.ie8 = function() {
            return -1 !== navigator.userAgent.indexOf("MSIE 8")
        }, qq.ie10 = function() {
            return -1 !== navigator.userAgent.indexOf("MSIE 10")
        }, qq.ie11 = function() {
            return qq.ie() && -1 !== navigator.userAgent.indexOf("rv:11")
        }, qq.safari = function() {
            return void 0 !== navigator.vendor && -1 !== navigator.vendor.indexOf("Apple")
        }, qq.chrome = function() {
            return void 0 !== navigator.vendor && -1 !== navigator.vendor.indexOf("Google")
        }, qq.opera = function() {
            return void 0 !== navigator.vendor && -1 !== navigator.vendor.indexOf("Opera")
        }, qq.firefox = function() {
            return !qq.ie11() && -1 !== navigator.userAgent.indexOf("Mozilla") && void 0 !== navigator.vendor && "" === navigator.vendor
        }, qq.windows = function() {
            return "Win32" === navigator.platform
        }, qq.android = function() {
            return -1 !== navigator.userAgent.toLowerCase().indexOf("android")
        }, qq.androidStock = function() {
            return qq.android() && navigator.userAgent.toLowerCase().indexOf("chrome") < 0
        }, qq.ios6 = function() {
            return qq.ios() && -1 !== navigator.userAgent.indexOf(" OS 6_")
        }, qq.ios7 = function() {
            return qq.ios() && -1 !== navigator.userAgent.indexOf(" OS 7_")
        }, qq.ios8 = function() {
            return qq.ios() && -1 !== navigator.userAgent.indexOf(" OS 8_")
        }, qq.ios800 = function() {
            return qq.ios() && -1 !== navigator.userAgent.indexOf(" OS 8_0 ")
        }, qq.ios = function() {
            return -1 !== navigator.userAgent.indexOf("iPad") || -1 !== navigator.userAgent.indexOf("iPod") || -1 !== navigator.userAgent.indexOf("iPhone")
        }, qq.iosChrome = function() {
            return qq.ios() && -1 !== navigator.userAgent.indexOf("CriOS")
        }, qq.iosSafari = function() {
            return qq.ios() && !qq.iosChrome() && -1 !== navigator.userAgent.indexOf("Safari")
        }, qq.iosSafariWebView = function() {
            return qq.ios() && !qq.iosChrome() && !qq.iosSafari()
        }, qq.preventDefault = function(e) {
            e.preventDefault ? e.preventDefault() : e.returnValue = !1
        }, qq.toElement = function() {
            var t = document.createElement("div");
            return function(e) {
                t.innerHTML = e;
                e = t.firstChild;
                return t.removeChild(e), e
            }
        }(), qq.each = function(e, t) {
            var i, s;
            if (e)
                if (window.Storage && e.constructor === window.Storage)
                    for (i = 0; i < e.length && !1 !== (s = t(e.key(i), e.getItem(e.key(i)))); i++);
                else if (qq.isArray(e) || qq.isItemList(e) || qq.isNodeList(e))
                for (i = 0; i < e.length && !1 !== (s = t(i, e[i])); i++);
            else if (qq.isString(e))
                for (i = 0; i < e.length && !1 !== (s = t(i, e.charAt(i))); i++);
            else
                for (i in e)
                    if (Object.prototype.hasOwnProperty.call(e, i) && (s = t(i, e[i]), !1 === s)) break
        }, qq.bind = function(t, i) {
            var s;
            if (qq.isFunction(t)) return s = Array.prototype.slice.call(arguments, 2),
                function() {
                    var e = qq.extend([], s);
                    return arguments.length && (e = e.concat(Array.prototype.slice.call(arguments))), t.apply(i, e)
                };
            throw new Error("first parameter must be a function!")
        }, qq.obj2url = function(e, s, t) {
            function i(e, t) {
                var i = s ? /\[\]$/.test(s) ? s : s + "[" + t + "]" : t;
                "undefined" !== i && "undefined" !== t && n.push("object" == typeof e ? qq.obj2url(e, i, !0) : "[object Function]" === Object.prototype.toString.call(e) ? encodeURIComponent(i) + "=" + encodeURIComponent(e()) : encodeURIComponent(i) + "=" + encodeURIComponent(e))
            }
            var n = [],
                a = "&";
            return !t && s ? (a = /\?/.test(s) ? /\?$/.test(s) ? "" : "&" : "?", n.push(s), n.push(qq.obj2url(e))) : "[object Array]" === Object.prototype.toString.call(e) && void 0 !== e ? qq.each(e, function(e, t) {
                i(t, e)
            }) : null != e && "object" == typeof e ? qq.each(e, function(e, t) {
                i(t, e)
            }) : n.push(encodeURIComponent(s) + "=" + encodeURIComponent(e)), s ? n.join(a) : n.join(a).replace(/^&/, "").replace(/%20/g, "+")
        }, qq.obj2FormData = function(e, i, s) {
            return i = i || new FormData, qq.each(e, function(e, t) {
                e = s ? s + "[" + e + "]" : e, qq.isObject(t) ? qq.obj2FormData(t, i, e) : qq.isFunction(t) ? i.append(e, t()) : i.append(e, t)
            }), i
        }, qq.obj2Inputs = function(e, i) {
            var s;
            return i = i || document.createElement("form"), qq.obj2FormData(e, {
                append: function(e, t) {
                    (s = document.createElement("input")).setAttribute("name", e), s.setAttribute("value", t), i.appendChild(s)
                }
            }), i
        }, qq.parseJson = function(json) {
            return window.JSON && qq.isFunction(JSON.parse) ? JSON.parse(json) : eval("(" + json + ")")
        }, qq.getExtension = function(e) {
            var t = e.lastIndexOf(".") + 1;
            return 0 < t ? e.substr(t, e.length - t) : void 0
        }, qq.getFilename = function(e) {
            return qq.isInput(e) ? e.value.replace(/.*(\/|\\)/, "") : qq.isFile(e) && null !== e.fileName && void 0 !== e.fileName ? e.fileName : e.name
        }, qq.DisposeSupport = function() {
            var t = [];
            return {
                dispose: function() {
                    for (var e;
                        (e = t.shift()) && e(), e;);
                },
                attach: function() {
                    this.addDisposer(qq(arguments[0]).attach.apply(this, Array.prototype.slice.call(arguments, 1)))
                },
                addDisposer: function(e) {
                    t.push(e)
                }
            }
        }
    }(), function() {
        "use strict";
        qq.Error = function(e) {
            this.message = "[Fine Uploader " + qq.version + "] " + e
        }, qq.Error.prototype = new Error
    }(), qq.version = "5.1.3", qq.supportedFeatures = function() {
        "use strict";

        function e() {
            return !!window.XMLHttpRequest && void 0 !== qq.createXhrInstance().withCredentials
        }

        function t() {
            return void 0 !== window.XDomainRequest
        }
        var i = function() {
                var e, t = !0;
                try {
                    (e = document.createElement("input")).type = "file", qq(e).hide(), e.disabled && (t = !1)
                } catch (e) {
                    t = !1
                }
                return t
            }(),
            s = i && qq.isXhrUploadSupported(),
            n = s && !qq.androidStock(),
            a = s && (qq.chrome() || qq.opera()) && void 0 !== navigator.userAgent.match(/Chrome\/[2][1-9]|Chrome\/[3-9][0-9]/),
            o = s && qq.isFileChunkingSupported(),
            r = s && o && function() {
                try {
                    return !!window.localStorage
                } catch (e) {
                    return !1
                }
            }(),
            l = s && (qq.chrome() || qq.opera()) && void 0 !== navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/),
            d = i && (void 0 !== window.postMessage || s),
            c = e(),
            u = t(),
            h = !!e() || t(),
            p = void 0 !== document.createElement("input").webkitdirectory,
            f = s && void 0 !== window.FileReader,
            m = !!s && !qq.androidStock() && !qq.iosChrome();
        return {
            ajaxUploading: s,
            blobUploading: n,
            canDetermineSize: s,
            chunking: o,
            deleteFileCors: h,
            deleteFileCorsXdr: u,
            deleteFileCorsXhr: c,
            fileDrop: s,
            folderDrop: a,
            folderSelection: p,
            imagePreviews: f,
            imageValidation: f,
            itemSizeValidation: s,
            pause: o,
            progressBar: m,
            resume: r,
            scaling: f && n,
            tiffPreviews: qq.safari(),
            unlimitedScaledImageSize: !qq.ios(),
            uploading: i,
            uploadCors: d,
            uploadCustomHeaders: s,
            uploadNonMultipart: s,
            uploadViaPaste: l
        }
    }(), qq.isGenericPromise = function(e) {
        "use strict";
        return !!(e && e.then && qq.isFunction(e.then))
    }, qq.Promise = function() {
        "use strict";
        var i, s, n = [],
            a = [],
            t = [],
            o = 0;
        qq.extend(this, {
            then: function(e, t) {
                return 0 === o ? (e && n.push(e), t && a.push(t)) : -1 === o ? t && t.apply(null, s) : e && e.apply(null, i), this
            },
            done: function(e) {
                return 0 === o ? t.push(e) : e.apply(null, void 0 === s ? i : s), this
            },
            success: function() {
                return o = 1, i = arguments, n.length && qq.each(n, function(e, t) {
                    t.apply(null, i)
                }), t.length && qq.each(t, function(e, t) {
                    t.apply(null, i)
                }), this
            },
            failure: function() {
                return o = -1, s = arguments, a.length && qq.each(a, function(e, t) {
                    t.apply(null, s)
                }), t.length && qq.each(t, function(e, t) {
                    t.apply(null, s)
                }), this
            }
        })
    }, qq.BlobProxy = function(e, t) {
        "use strict";
        qq.extend(this, {
            referenceBlob: e,
            create: function() {
                return t(e)
            }
        })
    }, qq.UploadButton = function(e) {
        "use strict";

        function t() {
            var e = document.createElement("input");
            return e.setAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME, s), n.setMultiple(o.multiple, e), o.folders && qq.supportedFeatures.folderSelection && e.setAttribute("webkitdirectory", ""), o.acceptFiles && e.setAttribute("accept", o.acceptFiles), e.setAttribute("type", "file"), e.setAttribute("name", o.name), qq(e).css({
                position: "absolute",
                right: 0,
                top: 0,
                fontFamily: "Arial",
                fontSize: qq.ie() && !qq.ie8() ? "3500px" : "118px",
                margin: 0,
                padding: 0,
                cursor: "pointer",
                opacity: 0
            }), qq.ie7() || qq(e).css({
                height: "100%"
            }), o.element.appendChild(e), a.attach(e, "change", function() {
                o.onChange(e)
            }), a.attach(e, "mouseover", function() {
                qq(o.element).addClass(o.hoverClass)
            }), a.attach(e, "mouseout", function() {
                qq(o.element).removeClass(o.hoverClass)
            }), a.attach(e, "focus", function() {
                qq(o.element).addClass(o.focusClass)
            }), a.attach(e, "blur", function() {
                qq(o.element).removeClass(o.focusClass)
            }), window.attachEvent && e.setAttribute("tabIndex", "-1"), e
        }
        var i, s, n = this,
            a = new qq.DisposeSupport,
            o = {
                element: null,
                multiple: !1,
                acceptFiles: null,
                folders: !1,
                name: "qqfile",
                onChange: function() {},
                ios8BrowserCrashWorkaround: !0,
                hoverClass: "qq-upload-button-hover",
                focusClass: "qq-upload-button-focus"
            };
        qq.extend(o, e), s = qq.getUniqueId(), qq(o.element).css({
            position: "relative",
            overflow: "hidden",
            direction: "ltr"
        }), qq.extend(this, {
            getInput: function() {
                return i
            },
            getButtonId: function() {
                return s
            },
            setMultiple: function(e, t) {
                t = t || this.getInput();
                o.ios8BrowserCrashWorkaround && qq.ios8() && (qq.iosChrome() || qq.iosSafariWebView()) || e ? t.setAttribute("multiple", "") : t.removeAttribute("multiple")
            },
            setAcceptFiles: function(e) {
                e !== o.acceptFiles && i.setAttribute("accept", e)
            },
            reset: function() {
                i.parentNode && qq(i).remove(), qq(o.element).removeClass(o.focusClass), i = null, i = t()
            }
        }), i = t()
    }, qq.UploadButton.BUTTON_ID_ATTR_NAME = "qq-button-id", qq.UploadData = function(n) {
        "use strict";
        var a = [],
            o = {},
            r = {},
            s = {},
            l = {};
        qq.extend(this, {
            addFile: function(e) {
                var t = e.status || qq.status.SUBMITTING,
                    i = a.push({
                        name: e.name,
                        originalName: e.name,
                        uuid: e.uuid,
                        size: e.size || -1,
                        status: t
                    }) - 1;
                return e.batchId && (a[i].batchId = e.batchId, void 0 === l[e.batchId] && (l[e.batchId] = []), l[e.batchId].push(i)), e.proxyGroupId && (a[i].proxyGroupId = e.proxyGroupId, void 0 === s[e.proxyGroupId] && (s[e.proxyGroupId] = []), s[e.proxyGroupId].push(i)), a[i].id = i, o[e.uuid] = i, void 0 === r[t] && (r[t] = []), r[t].push(i), n.onStatusChange(i, null, t), i
            },
            retrieve: function(e) {
                return qq.isObject(e) && a.length ? void 0 !== e.id ? (t = e.id, qq.isArray(t) ? (n = [], qq.each(t, function(e, t) {
                    n.push(a[t])
                }), n) : a[t]) : void 0 !== e.uuid ? (t = e.uuid, qq.isArray(t) ? (s = [], qq.each(t, function(e, t) {
                    s.push(a[o[t]])
                }), s) : a[o[t]]) : e.status ? (e = e.status, i = [], e = [].concat(e), qq.each(e, function(e, t) {
                    t = r[t];
                    void 0 !== t && qq.each(t, function(e, t) {
                        i.push(a[t])
                    })
                }), i) : void 0 : qq.extend([], a, !0);
                var i, s, t, n
            },
            reset: function() {
                a = [], o = {}, r = {}, l = {}
            },
            setStatus: function(e, t) {
                var i = a[e].status,
                    s = qq.indexOf(r[i], e);
                r[i].splice(s, 1), a[e].status = t, void 0 === r[t] && (r[t] = []), r[t].push(e), n.onStatusChange(e, i, t)
            },
            uuidChanged: function(e, t) {
                var i = a[e].uuid;
                a[e].uuid = t, o[t] = e, delete o[i]
            },
            updateName: function(e, t) {
                a[e].name = t
            },
            updateSize: function(e, t) {
                a[e].size = t
            },
            setParentId: function(e, t) {
                a[e].parentId = t
            },
            getIdsInProxyGroup: function(e) {
                e = a[e].proxyGroupId;
                return e ? s[e] : []
            },
            getIdsInBatch: function(e) {
                e = a[e].batchId;
                return l[e]
            }
        })
    }, qq.status = {
        SUBMITTING: "submitting",
        SUBMITTED: "submitted",
        REJECTED: "rejected",
        QUEUED: "queued",
        CANCELED: "canceled",
        PAUSED: "paused",
        UPLOADING: "uploading",
        UPLOAD_RETRYING: "retrying upload",
        UPLOAD_SUCCESSFUL: "upload successful",
        UPLOAD_FAILED: "upload failed",
        DELETE_FAILED: "delete failed",
        DELETING: "deleting",
        DELETED: "deleted"
    }, function() {
        "use strict";
        qq.basePublicApi = {
            addBlobs: function(e, t, i) {
                this.addFiles(e, t, i)
            },
            addFiles: function(e, t, i) {
                this._maybeHandleIos8SafariWorkaround();
                var s = 0 === this._storedIds.length ? qq.getUniqueId() : this._currentBatchId,
                    n = qq.bind(function(e) {
                        this._handleNewFile({
                            blob: e,
                            name: this._options.blobs.defaultName
                        }, s, c)
                    }, this),
                    a = qq.bind(function(e) {
                        this._handleNewFile(e, s, c)
                    }, this),
                    o = qq.bind(function(e) {
                        e = qq.canvasToBlob(e);
                        this._handleNewFile({
                            blob: e,
                            name: this._options.blobs.defaultName + ".png"
                        }, s, c)
                    }, this),
                    r = qq.bind(function(e) {
                        var t = e.quality && e.quality / 100,
                            t = qq.canvasToBlob(e.canvas, e.type, t);
                        this._handleNewFile({
                            blob: t,
                            name: e.name
                        }, s, c)
                    }, this),
                    l = qq.bind(function(e) {
                        var t;
                        qq.isInput(e) && qq.supportedFeatures.ajaxUploading ? (t = Array.prototype.slice.call(e.files), qq.each(t, function(e, t) {
                            this._handleNewFile(t, s, c)
                        })) : this._handleNewFile(e, s, c)
                    }, this),
                    d = this,
                    c = [];
                this._currentBatchId = s, e && (qq.isFileList(e) && (e = Array.prototype.slice.call(e)), e = [].concat(e), qq.each(e, function(e, t) {
                    qq.isFileOrInput(t) ? l(t) : qq.isBlob(t) ? n(t) : qq.isObject(t) ? t.blob && t.name ? a(t) : t.canvas && t.name && r(t) : t.tagName && "canvas" === t.tagName.toLowerCase() ? o(t) : d.log(t + " is not a valid file container!  Ignoring!", "warn")
                }), this.log("Received " + c.length + " files."), this._prepareItemsForUpload(c, t, i))
            },
            cancel: function(e) {
                this._handler.cancel(e)
            },
            cancelAll: function() {
                var e = [],
                    i = this;
                qq.extend(e, this._storedIds), qq.each(e, function(e, t) {
                    i.cancel(t)
                }), this._handler.cancelAll()
            },
            clearStoredFiles: function() {
                this._storedIds = []
            },
            continueUpload: function(e) {
                var t = this._uploadData.retrieve({
                    id: e
                });
                return !(!qq.supportedFeatures.pause || !this._options.chunking.enabled || (t.status === qq.status.PAUSED ? (this.log(qq.format("Paused file ID {} ({}) will be continued.  Not paused.", e, this.getName(e))), this._uploadFile(e), 0) : (this.log(qq.format("Ignoring continue for file ID {} ({}).  Not paused.", e, this.getName(e)), "error"), 1)))
            },
            deleteFile: function(e) {
                return this._onSubmitDelete(e)
            },
            doesExist: function(e) {
                return this._handler.isValid(e)
            },
            drawThumbnail: function(e, t, i, s) {
                var n, a = new qq.Promise;
                return this._imageGenerator ? (n = this._thumbnailUrls[e], i = {
                    scale: 0 < i,
                    maxSize: 0 < i ? i : null
                }, null == (n = !s && qq.supportedFeatures.imagePreviews ? this.getFile(e) : n) ? a.failure({
                    container: t,
                    error: "File or URL not found."
                }) : this._imageGenerator.generate(n, t, i).then(function(e) {
                    a.success(e)
                }, function(e, t) {
                    a.failure({
                        container: e,
                        error: t || "Problem generating thumbnail"
                    })
                })) : a.failure({
                    container: t,
                    error: "Missing image generator module"
                }), a
            },
            getButton: function(e) {
                return this._getButton(this._buttonIdsForFileIds[e])
            },
            getEndpoint: function(e) {
                return this._endpointStore.get(e)
            },
            getFile: function(e) {
                return this._handler.getFile(e) || null
            },
            getInProgress: function() {
                return this._uploadData.retrieve({
                    status: [qq.status.UPLOADING, qq.status.UPLOAD_RETRYING, qq.status.QUEUED]
                }).length
            },
            getName: function(e) {
                return this._uploadData.retrieve({
                    id: e
                }).name
            },
            getParentId: function(e) {
                var e = this.getUploads({
                        id: e
                    }),
                    t = null;
                return t = e && void 0 !== e.parentId ? e.parentId : t
            },
            getResumableFilesData: function() {
                return this._handler.getResumableFilesData()
            },
            getSize: function(e) {
                return this._uploadData.retrieve({
                    id: e
                }).size
            },
            getNetUploads: function() {
                return this._netUploaded
            },
            getRemainingAllowedItems: function() {
                var e = this._currentItemLimit;
                return 0 < e ? e - this._netUploadedOrQueued : null
            },
            getUploads: function(e) {
                return this._uploadData.retrieve(e)
            },
            getUuid: function(e) {
                return this._uploadData.retrieve({
                    id: e
                }).uuid
            },
            log: function(e, t) {
                !this._options.debug || t && "info" !== t ? t && "info" !== t && qq.log("[Fine Uploader " + qq.version + "] " + e, t) : qq.log("[Fine Uploader " + qq.version + "] " + e)
            },
            pauseUpload: function(e) {
                var t = this._uploadData.retrieve({
                    id: e
                });
                if (qq.supportedFeatures.pause && this._options.chunking.enabled)
                    if (0 <= qq.indexOf([qq.status.UPLOADING, qq.status.UPLOAD_RETRYING], t.status)) {
                        if (this._handler.pause(e)) return this._uploadData.setStatus(e, qq.status.PAUSED), !0;
                        this.log(qq.format("Unable to pause file ID {} ({}).", e, this.getName(e)), "error")
                    } else this.log(qq.format("Ignoring pause for file ID {} ({}).  Not in progress.", e, this.getName(e)), "error");
                return !1
            },
            reset: function() {
                this.log("Resetting uploader..."), this._handler.reset(), this._storedIds = [], this._autoRetries = [], this._retryTimeouts = [], this._preventRetries = [], this._thumbnailUrls = [], qq.each(this._buttons, function(e, t) {
                    t.reset()
                }), this._paramsStore.reset(), this._endpointStore.reset(), this._netUploadedOrQueued = 0, this._netUploaded = 0, this._uploadData.reset(), this._buttonIdsForFileIds = [], this._pasteHandler && this._pasteHandler.reset(), this._options.session.refreshOnReset && this._refreshSessionData(), this._succeededSinceLastAllComplete = [], this._failedSinceLastAllComplete = [], this._totalProgress && this._totalProgress.reset()
            },
            retry: function(e) {
                return this._manualRetry(e)
            },
            scaleImage: function(e, t) {
                return qq.Scaler.prototype.scaleImage(e, t, {
                    log: qq.bind(this.log, this),
                    getFile: qq.bind(this.getFile, this),
                    uploadData: this._uploadData
                })
            },
            setCustomHeaders: function(e, t) {
                this._customHeadersStore.set(e, t)
            },
            setDeleteFileCustomHeaders: function(e, t) {
                this._deleteFileCustomHeadersStore.set(e, t)
            },
            setDeleteFileEndpoint: function(e, t) {
                this._deleteFileEndpointStore.set(e, t)
            },
            setDeleteFileParams: function(e, t) {
                this._deleteFileParamsStore.set(e, t)
            },
            setEndpoint: function(e, t) {
                this._endpointStore.set(e, t)
            },
            setItemLimit: function(e) {
                this._currentItemLimit = e
            },
            setName: function(e, t) {
                this._uploadData.updateName(e, t)
            },
            setParams: function(e, t) {
                this._paramsStore.set(e, t)
            },
            setUuid: function(e, t) {
                return this._uploadData.uuidChanged(e, t)
            },
            uploadStoredFiles: function() {
                var e;
                if (0 === this._storedIds.length) this._itemError("noFilesError");
                else
                    for (; this._storedIds.length;) e = this._storedIds.shift(), this._uploadFile(e)
            }
        }, qq.basePrivateApi = {
            _addCannedFile: function(e) {
                var t = this._uploadData.addFile({
                    uuid: e.uuid,
                    name: e.name,
                    size: e.size,
                    status: qq.status.UPLOAD_SUCCESSFUL
                });
                return e.deleteFileEndpoint && this.setDeleteFileEndpoint(e.deleteFileEndpoint, t), e.deleteFileParams && this.setDeleteFileParams(e.deleteFileParams, t), e.thumbnailUrl && (this._thumbnailUrls[t] = e.thumbnailUrl), this._netUploaded++, this._netUploadedOrQueued++, t
            },
            _annotateWithButtonId: function(e, t) {
                qq.isFile(e) && (e.qqButtonId = this._getButtonId(t))
            },
            _batchError: function(e) {
                this._options.callbacks.onError(null, null, e, void 0)
            },
            _createDeleteHandler: function() {
                var s = this;
                return new qq.DeleteFileAjaxRequester({
                    method: this._options.deleteFile.method.toUpperCase(),
                    maxConnections: this._options.maxConnections,
                    uuidParamName: this._options.request.uuidName,
                    customHeaders: this._deleteFileCustomHeadersStore,
                    paramsStore: this._deleteFileParamsStore,
                    endpointStore: this._deleteFileEndpointStore,
                    demoMode: this._options.demoMode,
                    cors: this._options.cors,
                    log: qq.bind(s.log, s),
                    onDelete: function(e) {
                        s._onDelete(e), s._options.callbacks.onDelete(e)
                    },
                    onDeleteComplete: function(e, t, i) {
                        s._onDeleteComplete(e, t, i), s._options.callbacks.onDeleteComplete(e, t, i)
                    }
                })
            },
            _createPasteHandler: function() {
                var t = this;
                return new qq.PasteSupport({
                    targetElement: this._options.paste.targetElement,
                    callbacks: {
                        log: qq.bind(t.log, t),
                        pasteReceived: function(e) {
                            t._handleCheckedCallback({
                                name: "onPasteReceived",
                                callback: qq.bind(t._options.callbacks.onPasteReceived, t, e),
                                onSuccess: qq.bind(t._handlePasteSuccess, t, e),
                                identifier: "pasted image"
                            })
                        }
                    }
                })
            },
            _createStore: function(e, i) {
                function s(e) {
                    return qq.isObject(e) ? qq.extend({}, e) : e
                }

                function n(e, t) {
                    i && qq.isObject(t) && qq.extend(t, qq.isFunction(i) ? i() : i), r[e] && qq.extend(t, r[e])
                }
                var a = {},
                    o = e,
                    r = {};
                return {
                    set: function(e, t) {
                        null == t ? (a = {}, o = s(e)) : a[t] = s(e)
                    },
                    get: function(e) {
                        var t = null != e && a[e] ? a[e] : s(o);
                        return n(e, t), s(t)
                    },
                    addReadOnly: function(e, t) {
                        qq.isObject(a) && (r[e] = r[e] || {}, qq.extend(r[e], t))
                    },
                    remove: function(e) {
                        return delete a[e]
                    },
                    reset: function() {
                        a = {}, r = {}, o = e
                    }
                }
            },
            _createUploadDataTracker: function() {
                var s = this;
                return new qq.UploadData({
                    getName: function(e) {
                        return s.getName(e)
                    },
                    getUuid: function(e) {
                        return s.getUuid(e)
                    },
                    getSize: function(e) {
                        return s.getSize(e)
                    },
                    onStatusChange: function(e, t, i) {
                        s._onUploadStatusChange(e, t, i), s._options.callbacks.onStatusChange(e, t, i), s._maybeAllComplete(e, i), s._totalProgress && setTimeout(function() {
                            s._totalProgress.onStatusChange(e, t, i)
                        }, 0)
                    }
                })
            },
            _createUploadButton: function(e) {
                var t = this,
                    i = e.accept || this._options.validation.acceptFiles,
                    s = e.allowedExtensions || this._options.validation.allowedExtensions,
                    n = new qq.UploadButton({
                        element: e.element,
                        folders: e.folders,
                        name: this._options.request.inputName,
                        multiple: !(!qq.supportedFeatures.ajaxUploading || t._options.workarounds.iosEmptyVideos && qq.ios() && !qq.ios6() && t._isAllowedExtension(s, ".mov")) && (void 0 === e.multiple ? t._options : e).multiple,
                        acceptFiles: i,
                        onChange: function(e) {
                            t._onInputChange(e)
                        },
                        hoverClass: this._options.classes.buttonHover,
                        focusClass: this._options.classes.buttonFocus,
                        ios8BrowserCrashWorkaround: this._options.workarounds.ios8BrowserCrash
                    });
                return this._disposeSupport.addDisposer(function() {
                    n.dispose()
                }), t._buttons.push(n), n
            },
            _createUploadHandler: function(e, t) {
                var a = this,
                    o = {},
                    i = {
                        debug: this._options.debug,
                        maxConnections: this._options.maxConnections,
                        cors: this._options.cors,
                        demoMode: this._options.demoMode,
                        paramsStore: this._paramsStore,
                        endpointStore: this._endpointStore,
                        chunking: this._options.chunking,
                        resume: this._options.resume,
                        blobs: this._options.blobs,
                        log: qq.bind(a.log, a),
                        preventRetryParam: this._options.retry.preventRetryResponseProperty,
                        onProgress: function(e, t, i, s) {
                            i < 0 || s < 0 || (o[e] && o[e].loaded === i && o[e].total === s || (a._onProgress(e, t, i, s), a._options.callbacks.onProgress(e, t, i, s)), o[e] = {
                                loaded: i,
                                total: s
                            })
                        },
                        onComplete: function(e, t, i, s) {
                            delete o[e];
                            var n = a.getUploads({
                                id: e
                            }).status;
                            n !== qq.status.UPLOAD_SUCCESSFUL && n !== qq.status.UPLOAD_FAILED && ((n = a._onComplete(e, t, i, s)) instanceof qq.Promise ? n.done(function() {
                                a._options.callbacks.onComplete(e, t, i, s)
                            }) : a._options.callbacks.onComplete(e, t, i, s))
                        },
                        onCancel: function(e, t, i) {
                            var s = new qq.Promise;
                            return a._handleCheckedCallback({
                                name: "onCancel",
                                callback: qq.bind(a._options.callbacks.onCancel, a, e, t),
                                onFailure: s.failure,
                                onSuccess: function() {
                                    i.then(function() {
                                        a._onCancel(e, t)
                                    }), s.success()
                                },
                                identifier: e
                            }), s
                        },
                        onUploadPrep: qq.bind(this._onUploadPrep, this),
                        onUpload: function(e, t) {
                            a._onUpload(e, t), a._options.callbacks.onUpload(e, t)
                        },
                        onUploadChunk: function(e, t, i) {
                            a._onUploadChunk(e, i), a._options.callbacks.onUploadChunk(e, t, i)
                        },
                        onUploadChunkSuccess: function() {
                            a._options.callbacks.onUploadChunkSuccess.apply(a, arguments)
                        },
                        onResume: function(e, t, i) {
                            return a._options.callbacks.onResume(e, t, i)
                        },
                        onAutoRetry: function() {
                            return a._onAutoRetry.apply(a, arguments)
                        },
                        onUuidChanged: function(e, t) {
                            a.log("Server requested UUID change from '" + a.getUuid(e) + "' to '" + t + "'"), a.setUuid(e, t)
                        },
                        getName: qq.bind(a.getName, a),
                        getUuid: qq.bind(a.getUuid, a),
                        getSize: qq.bind(a.getSize, a),
                        setSize: qq.bind(a._setSize, a),
                        getDataByUuid: function(e) {
                            return a.getUploads({
                                uuid: e
                            })
                        },
                        isQueued: function(e) {
                            e = a.getUploads({
                                id: e
                            }).status;
                            return e === qq.status.QUEUED || e === qq.status.SUBMITTED || e === qq.status.UPLOAD_RETRYING || e === qq.status.PAUSED
                        },
                        getIdsInProxyGroup: a._uploadData.getIdsInProxyGroup,
                        getIdsInBatch: a._uploadData.getIdsInBatch
                    };
                return qq.each(this._options.request, function(e, t) {
                    i[e] = t
                }), i.customHeaders = this._customHeadersStore, e && qq.each(e, function(e, t) {
                    i[e] = t
                }), new qq.UploadHandlerController(i, t)
            },
            _fileOrBlobRejected: function(e) {
                this._netUploadedOrQueued--, this._uploadData.setStatus(e, qq.status.REJECTED)
            },
            _formatSize: function(e) {
                for (var t = -1; t++, 999 < (e /= 1e3););
                return Math.max(e, .1).toFixed(1) + this._options.text.sizeSymbols[t]
            },
            _generateExtraButtonSpecs: function() {
                var a = this;
                this._extraButtonSpecs = {}, qq.each(this._options.extraButtons, function(e, t) {
                    var i = t.multiple,
                        s = qq.extend({}, a._options.validation, !0),
                        n = qq.extend({}, t);
                    void 0 === i && (i = a._options.multiple), n.validation && qq.extend(s, t.validation, !0), qq.extend(n, {
                        multiple: i,
                        validation: s
                    }, !0), a._initExtraButton(n)
                })
            },
            _getButton: function(e) {
                var t = this._extraButtonSpecs[e];
                return t ? t.element : e === this._defaultButtonId ? this._options.button : void 0
            },
            _getButtonId: function(e) {
                var i;
                if ((e = e instanceof qq.BlobProxy ? e.referenceBlob : e) && !qq.isBlob(e)) return qq.isFile(e) ? e.qqButtonId : "input" === e.tagName.toLowerCase() && "file" === e.type.toLowerCase() ? e.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME) : (e = e.getElementsByTagName("input"), qq.each(e, function(e, t) {
                    return "file" === t.getAttribute("type") ? (i = t, !1) : void 0
                }), i ? i.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME) : void 0)
            },
            _getNotFinished: function() {
                return this._uploadData.retrieve({
                    status: [qq.status.UPLOADING, qq.status.UPLOAD_RETRYING, qq.status.QUEUED, qq.status.SUBMITTING, qq.status.SUBMITTED, qq.status.PAUSED]
                }).length
            },
            _getValidationBase: function(e) {
                e = this._extraButtonSpecs[e];
                return (e || this._options).validation
            },
            _getValidationDescriptor: function(e) {
                return e.file instanceof qq.BlobProxy ? {
                    name: qq.getFilename(e.file.referenceBlob),
                    size: e.file.referenceBlob.size
                } : {
                    name: this.getUploads({
                        id: e.id
                    }).name,
                    size: this.getUploads({
                        id: e.id
                    }).size
                }
            },
            _getValidationDescriptors: function(e) {
                var i = this,
                    s = [];
                return qq.each(e, function(e, t) {
                    s.push(i._getValidationDescriptor(t))
                }), s
            },
            _handleCameraAccess: function() {
                var e, t, i, s;
                this._options.camera.ios && qq.ios() && (e = "image/*;capture=camera", t = this._options.camera.button, i = t ? this._getButtonId(t) : this._defaultButtonId, s = this._options, (s = i && i !== this._defaultButtonId ? this._extraButtonSpecs[i] : s).multiple = !1, null === s.validation.acceptFiles ? s.validation.acceptFiles = e : s.validation.acceptFiles += "," + e, qq.each(this._buttons, function(e, t) {
                    return t.getButtonId() === i ? (t.setMultiple(s.multiple), t.setAcceptFiles(s.acceptFiles), !1) : void 0
                }))
            },
            _handleCheckedCallback: function(t) {
                var i = this,
                    e = t.callback();
                return qq.isGenericPromise(e) ? (this.log(t.name + " - waiting for " + t.name + " promise to be fulfilled for " + t.identifier), e.then(function(e) {
                    i.log(t.name + " promise success for " + t.identifier), t.onSuccess(e)
                }, function() {
                    t.onFailure ? (i.log(t.name + " promise failure for " + t.identifier), t.onFailure()) : i.log(t.name + " promise failure for " + t.identifier)
                })) : (!1 !== e ? t.onSuccess(e) : t.onFailure ? (this.log(t.name + " - return value was 'false' for " + t.identifier + ".  Invoking failure callback."), t.onFailure()) : this.log(t.name + " - return value was 'false' for " + t.identifier + ".  Will not proceed."), e)
            },
            _handleNewFile: function(e, t, i) {
                var s = this,
                    n = qq.getUniqueId(),
                    a = -1,
                    o = qq.getFilename(e),
                    e = e.blob || e;
                (this._customNewFileHandler || qq.bind(s._handleNewFileGeneric, s))(e, o, n, a = !qq.isInput(e) && 0 <= e.size ? e.size : a, i, t, this._options.request.uuidName, {
                    uploadData: s._uploadData,
                    paramsStore: s._paramsStore,
                    addFileToHandler: function(e, t) {
                        s._handler.add(e, t), s._netUploadedOrQueued++, s._trackButton(e)
                    }
                })
            },
            _handleNewFileGeneric: function(e, t, i, s, n, a) {
                i = this._uploadData.addFile({
                    uuid: i,
                    name: t,
                    size: s,
                    batchId: a
                });
                this._handler.add(i, e), this._trackButton(i), this._netUploadedOrQueued++, n.push({
                    id: i,
                    file: e
                })
            },
            _handlePasteSuccess: function(e, t) {
                var i = e.type.split("/")[1];
                null == t && (t = this._options.paste.defaultName), this.addFiles({
                    name: t += "." + i,
                    blob: e
                })
            },
            _initExtraButton: function(e) {
                var t = this._createUploadButton({
                    element: e.element,
                    multiple: e.multiple,
                    accept: e.validation.acceptFiles,
                    folders: e.folders,
                    allowedExtensions: e.validation.allowedExtensions
                });
                this._extraButtonSpecs[t.getButtonId()] = e
            },
            _initFormSupportAndParams: function() {
                this._formSupport = qq.FormSupport && new qq.FormSupport(this._options.form, qq.bind(this.uploadStoredFiles, this), qq.bind(this.log, this)), this._formSupport && this._formSupport.attachedToForm ? (this._paramsStore = this._createStore(this._options.request.params, this._formSupport.getFormInputsAsObject), this._options.autoUpload = this._formSupport.newAutoUpload, this._formSupport.newEndpoint && (this._options.request.endpoint = this._formSupport.newEndpoint)) : this._paramsStore = this._createStore(this._options.request.params)
            },
            _isDeletePossible: function() {
                return !(!qq.DeleteFileAjaxRequester || !this._options.deleteFile.enabled || this._options.cors.expected && !qq.supportedFeatures.deleteFileCorsXhr && (!qq.supportedFeatures.deleteFileCorsXdr || !this._options.cors.allowXdr))
            },
            _isAllowedExtension: function(e, i) {
                var s = !1;
                return !e.length || (qq.each(e, function(e, t) {
                    if (qq.isString(t)) {
                        t = new RegExp("\\." + t + "$", "i");
                        if (null != i.match(t)) return !(s = !0)
                    }
                }), s)
            },
            _itemError: function(e, t, i) {
                function s(e, t) {
                    n = n.replace(e, t)
                }
                var n = this._options.messages[e],
                    a = [],
                    o = [].concat(t),
                    e = o[0],
                    t = this._getButtonId(i),
                    i = this._getValidationBase(t);
                return qq.each(i.allowedExtensions, function(e, t) {
                    qq.isString(t) && a.push(t)
                }), t = a.join(", ").toLowerCase(), s("{file}", this._options.formatFileName(e)), s("{extensions}", t), s("{sizeLimit}", this._formatSize(i.sizeLimit)), s("{minSizeLimit}", this._formatSize(i.minSizeLimit)), null !== (t = n.match(/(\{\w+\})/g)) && qq.each(t, function(e, t) {
                    s(t, o[e])
                }), this._options.callbacks.onError(null, e, n, void 0), n
            },
            _manualRetry: function(e, t) {
                return this._onBeforeManualRetry(e) ? (this._netUploadedOrQueued++, this._uploadData.setStatus(e, qq.status.UPLOAD_RETRYING), t ? t(e) : this._handler.retry(e), !0) : void 0
            },
            _maybeAllComplete: function(e, t) {
                var i = this,
                    s = this._getNotFinished();
                t === qq.status.UPLOAD_SUCCESSFUL ? this._succeededSinceLastAllComplete.push(e) : t === qq.status.UPLOAD_FAILED && this._failedSinceLastAllComplete.push(e), 0 === s && (this._succeededSinceLastAllComplete.length || this._failedSinceLastAllComplete.length) && setTimeout(function() {
                    i._onAllComplete(i._succeededSinceLastAllComplete, i._failedSinceLastAllComplete)
                }, 0)
            },
            _maybeHandleIos8SafariWorkaround: function() {
                var e = this;
                if (this._options.workarounds.ios8SafariUploads && qq.ios800() && qq.iosSafari()) throw setTimeout(function() {
                    window.alert(e._options.messages.unsupportedBrowserIos8Safari)
                }, 0), new qq.Error(this._options.messages.unsupportedBrowserIos8Safari)
            },
            _maybeParseAndSendUploadError: function(e, t, i, s) {
                i.success || (s && 200 !== s.status && !i.error ? this._options.callbacks.onError(e, t, "XHR returned response code " + s.status, s) : (i = i.error || this._options.text.defaultResponseError, this._options.callbacks.onError(e, t, i, s)))
            },
            _maybeProcessNextItemAfterOnValidateCallback: function(e, i, s, n, a) {
                var o = this;
                if (i.length > s)
                    if (e || !this._options.validation.stopOnFirstInvalidFile) setTimeout(function() {
                        var e = o._getValidationDescriptor(i[s]),
                            t = o._getButtonId(i[s].file),
                            t = o._getButton(t);
                        o._handleCheckedCallback({
                            name: "onValidate",
                            callback: qq.bind(o._options.callbacks.onValidate, o, e, t),
                            onSuccess: qq.bind(o._onValidateCallbackSuccess, o, i, s, n, a),
                            onFailure: qq.bind(o._onValidateCallbackFailure, o, i, s, n, a),
                            identifier: "Item '" + e.name + "', size: " + e.size
                        })
                    }, 0);
                    else if (!e)
                    for (; s < i.length; s++) o._fileOrBlobRejected(i[s].id)
            },
            _onAllComplete: function(e, t) {
                this._totalProgress && this._totalProgress.onAllComplete(e, t, this._preventRetries), this._options.callbacks.onAllComplete(qq.extend([], e), qq.extend([], t)), this._succeededSinceLastAllComplete = [], this._failedSinceLastAllComplete = []
            },
            _onAutoRetry: function(e, t, i, s, n) {
                var a = this;
                return a._preventRetries[e] = i[a._options.retry.preventRetryResponseProperty], a._shouldAutoRetry(e, t, i) ? (a._maybeParseAndSendUploadError.apply(a, arguments), a._options.callbacks.onAutoRetry(e, t, a._autoRetries[e]), a._onBeforeAutoRetry(e, t), a._retryTimeouts[e] = setTimeout(function() {
                    a.log("Retrying " + t + "..."), a._uploadData.setStatus(e, qq.status.UPLOAD_RETRYING), n ? n(e) : a._handler.retry(e)
                }, 1e3 * a._options.retry.autoAttemptDelay), !0) : void 0
            },
            _onBeforeAutoRetry: function(e, t) {
                this.log("Waiting " + this._options.retry.autoAttemptDelay + " seconds before retrying " + t + "...")
            },
            _onBeforeManualRetry: function(e) {
                var t, i = this._currentItemLimit;
                return this._preventRetries[e] ? (this.log("Retries are forbidden for id " + e, "warn"), !1) : this._handler.isValid(e) ? (t = this.getName(e), !1 !== this._options.callbacks.onManualRetry(e, t) && (0 < i && this._netUploadedOrQueued + 1 > i ? (this._itemError("retryFailTooManyItems"), !1) : (this.log("Retrying upload for '" + t + "' (id: " + e + ")..."), !0))) : (this.log("'" + e + "' is not a valid file ID", "error"), !1)
            },
            _onCancel: function(e) {
                this._netUploadedOrQueued--, clearTimeout(this._retryTimeouts[e]);
                var t = qq.indexOf(this._storedIds, e);
                !this._options.autoUpload && 0 <= t && this._storedIds.splice(t, 1), this._uploadData.setStatus(e, qq.status.CANCELED)
            },
            _onComplete: function(e, t, i, s) {
                return i.success ? (i.thumbnailUrl && (this._thumbnailUrls[e] = i.thumbnailUrl), this._netUploaded++, this._uploadData.setStatus(e, qq.status.UPLOAD_SUCCESSFUL)) : (this._netUploadedOrQueued--, this._uploadData.setStatus(e, qq.status.UPLOAD_FAILED), !0 === i[this._options.retry.preventRetryResponseProperty] && (this._preventRetries[e] = !0)), this._maybeParseAndSendUploadError(e, t, i, s), !!i.success
            },
            _onDelete: function(e) {
                this._uploadData.setStatus(e, qq.status.DELETING)
            },
            _onDeleteComplete: function(e, t, i) {
                var s = this.getName(e);
                i ? (this._uploadData.setStatus(e, qq.status.DELETE_FAILED), this.log("Delete request for '" + s + "' has failed.", "error"), void 0 === t.withCredentials ? this._options.callbacks.onError(e, s, "Delete request failed", t) : this._options.callbacks.onError(e, s, "Delete request failed with response code " + t.status, t)) : (this._netUploadedOrQueued--, this._netUploaded--, this._handler.expunge(e), this._uploadData.setStatus(e, qq.status.DELETED), this.log("Delete request for '" + s + "' has succeeded."))
            },
            _onInputChange: function(e) {
                var t;
                if (qq.supportedFeatures.ajaxUploading) {
                    for (t = 0; t < e.files.length; t++) this._annotateWithButtonId(e.files[t], e);
                    this.addFiles(e.files)
                } else 0 < e.value.length && this.addFiles(e);
                qq.each(this._buttons, function(e, t) {
                    t.reset()
                })
            },
            _onProgress: function(e, t, i, s) {
                this._totalProgress && this._totalProgress.onIndividualProgress(e, i, s)
            },
            _onSubmit: function() {},
            _onSubmitCallbackSuccess: function(e) {
                this._onSubmit.apply(this, arguments), this._uploadData.setStatus(e, qq.status.SUBMITTED), this._onSubmitted.apply(this, arguments), this._options.callbacks.onSubmitted.apply(this, arguments), this._options.autoUpload ? this._uploadFile(e) : this._storeForLater(e)
            },
            _onSubmitDelete: function(e, t, i) {
                var s, n = this.getUuid(e);
                return t && (s = qq.bind(t, this, e, n, i)), this._isDeletePossible() ? (this._handleCheckedCallback({
                    name: "onSubmitDelete",
                    callback: qq.bind(this._options.callbacks.onSubmitDelete, this, e),
                    onSuccess: s || qq.bind(this._deleteHandler.sendDelete, this, e, n, i),
                    identifier: e
                }), !0) : (this.log("Delete request ignored for ID " + e + ", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.", "warn"), !1)
            },
            _onSubmitted: function() {},
            _onTotalProgress: function(e, t) {
                this._options.callbacks.onTotalProgress(e, t)
            },
            _onUploadPrep: function() {},
            _onUpload: function(e) {
                this._uploadData.setStatus(e, qq.status.UPLOADING)
            },
            _onUploadChunk: function() {},
            _onUploadStatusChange: function(e, t, i) {
                i === qq.status.PAUSED && clearTimeout(this._retryTimeouts[e])
            },
            _onValidateBatchCallbackFailure: function(e) {
                var i = this;
                qq.each(e, function(e, t) {
                    i._fileOrBlobRejected(t.id)
                })
            },
            _onValidateBatchCallbackSuccess: function(e, t, i, s, n) {
                var a = this._currentItemLimit,
                    o = this._netUploadedOrQueued;
                0 === a || o <= a ? 0 < t.length ? this._handleCheckedCallback({
                    name: "onValidate",
                    callback: qq.bind(this._options.callbacks.onValidate, this, e[0], n),
                    onSuccess: qq.bind(this._onValidateCallbackSuccess, this, t, 0, i, s),
                    onFailure: qq.bind(this._onValidateCallbackFailure, this, t, 0, i, s),
                    identifier: "Item '" + t[0].file.name + "', size: " + t[0].file.size
                }) : this._itemError("noFilesError") : (this._onValidateBatchCallbackFailure(t), e = this._options.messages.tooManyItemsError.replace(/\{netItems\}/g, o).replace(/\{itemLimit\}/g, a), this._batchError(e))
            },
            _onValidateCallbackFailure: function(e, t, i, s) {
                var n = t + 1;
                this._fileOrBlobRejected(e[t].id, e[t].file.name), this._maybeProcessNextItemAfterOnValidateCallback(!1, e, n, i, s)
            },
            _onValidateCallbackSuccess: function(e, t, i, s) {
                var n = this,
                    a = t + 1,
                    o = this._getValidationDescriptor(e[t]);
                this._validateFileOrBlobData(e[t], o).then(function() {
                    n._upload(e[t].id, i, s), n._maybeProcessNextItemAfterOnValidateCallback(!0, e, a, i, s)
                }, function() {
                    n._maybeProcessNextItemAfterOnValidateCallback(!1, e, a, i, s)
                })
            },
            _prepareItemsForUpload: function(e, t, i) {
                var s, n;
                0 === e.length ? this._itemError("noFilesError") : (s = this._getValidationDescriptors(e), n = this._getButtonId(e[0].file), n = this._getButton(n), this._handleCheckedCallback({
                    name: "onValidateBatch",
                    callback: qq.bind(this._options.callbacks.onValidateBatch, this, s, n),
                    onSuccess: qq.bind(this._onValidateBatchCallbackSuccess, this, s, e, t, i, n),
                    onFailure: qq.bind(this._onValidateBatchCallbackFailure, this, e),
                    identifier: "batch validation"
                }))
            },
            _preventLeaveInProgress: function() {
                var t = this;
                this._disposeSupport.attach(window, "beforeunload", function(e) {
                    return t.getInProgress() ? ((e = e || window.event).returnValue = t._options.messages.onLeave, t._options.messages.onLeave) : void 0
                })
            },
            _refreshSessionData: function() {
                var i = this,
                    e = this._options.session;
                qq.Session && null != this._options.session.endpoint && (this._session || (qq.extend(e, this._options.cors), e.log = qq.bind(this.log, this), e.addFileRecord = qq.bind(this._addCannedFile, this), this._session = new qq.Session(e)), setTimeout(function() {
                    i._session.refresh().then(function(e, t) {
                        i._options.callbacks.onSessionRequestComplete(e, !0, t)
                    }, function(e, t) {
                        i._options.callbacks.onSessionRequestComplete(e, !1, t)
                    })
                }, 0))
            },
            _setSize: function(e, t) {
                this._uploadData.updateSize(e, t), this._totalProgress && this._totalProgress.onNewSize(e)
            },
            _shouldAutoRetry: function(e) {
                var t = this._uploadData.retrieve({
                    id: e
                });
                return !!(!this._preventRetries[e] && this._options.retry.enableAuto && t.status !== qq.status.PAUSED && (void 0 === this._autoRetries[e] && (this._autoRetries[e] = 0), this._autoRetries[e] < this._options.retry.maxAutoAttempts)) && (this._autoRetries[e] += 1, !0)
            },
            _storeForLater: function(e) {
                this._storedIds.push(e)
            },
            _trackButton: function(e) {
                var t = qq.supportedFeatures.ajaxUploading ? this._handler.getFile(e).qqButtonId : this._getButtonId(this._handler.getInput(e));
                t && (this._buttonIdsForFileIds[e] = t)
            },
            _upload: function(e, t, i) {
                var s = this.getName(e);
                t && this.setParams(t, e), i && this.setEndpoint(i, e), this._handleCheckedCallback({
                    name: "onSubmit",
                    callback: qq.bind(this._options.callbacks.onSubmit, this, e, s),
                    onSuccess: qq.bind(this._onSubmitCallbackSuccess, this, e, s),
                    onFailure: qq.bind(this._fileOrBlobRejected, this, e, s),
                    identifier: e
                })
            },
            _uploadFile: function(e) {
                this._handler.upload(e) || this._uploadData.setStatus(e, qq.status.QUEUED)
            },
            _validateFileOrBlobData: function(e, t) {
                var i = this,
                    s = e.file instanceof qq.BlobProxy ? e.file.referenceBlob : e.file,
                    n = t.name,
                    t = t.size,
                    a = this._getButtonId(e.file),
                    a = this._getValidationBase(a),
                    o = new qq.Promise;
                return o.then(function() {}, function() {
                    i._fileOrBlobRejected(e.id, n)
                }), qq.isFileOrInput(s) && !this._isAllowedExtension(a.allowedExtensions, n) ? (this._itemError("typeError", n, s), o.failure()) : 0 === t ? (this._itemError("emptyError", n, s), o.failure()) : 0 < t && a.sizeLimit && t > a.sizeLimit ? (this._itemError("sizeError", n, s), o.failure()) : 0 < t && t < a.minSizeLimit ? (this._itemError("minSizeError", n, s), o.failure()) : (qq.ImageValidation && qq.supportedFeatures.imagePreviews && qq.isFile(s) ? new qq.ImageValidation(s, qq.bind(i.log, i)).validate(a.image).then(o.success, function(e) {
                    i._itemError(e + "ImageError", n, s), o.failure()
                }) : o.success(), o)
            },
            _wrapCallbacks: function() {
                var i, s = this,
                    n = function(t, i, e) {
                        try {
                            return i.apply(s, e)
                        } catch (e) {
                            i = e.message || e.toString(), s.log("Caught exception in '" + t + "' callback - " + i, "error")
                        }
                    };
                for (i in this._options.callbacks) ! function() {
                    var e = i,
                        t = s._options.callbacks[e];
                    s._options.callbacks[e] = function() {
                        return n(e, t, arguments)
                    }
                }()
            }
        }
    }(), function() {
        "use strict";
        qq.FineUploaderBasic = function(e) {
            var t = this;
            this._options = {
                debug: !1,
                button: null,
                multiple: !0,
                maxConnections: 3,
                disableCancelForFormUploads: !1,
                autoUpload: !0,
                request: {
                    endpoint: "/server/upload",
                    params: {},
                    paramsInBody: !0,
                    customHeaders: {},
                    forceMultipart: !0,
                    inputName: "qqfile",
                    uuidName: "qquuid",
                    totalFileSizeName: "qqtotalfilesize",
                    filenameParam: "qqfilename"
                },
                validation: {
                    allowedExtensions: [],
                    sizeLimit: 0,
                    minSizeLimit: 0,
                    itemLimit: 0,
                    stopOnFirstInvalidFile: !0,
                    acceptFiles: null,
                    image: {
                        maxHeight: 0,
                        maxWidth: 0,
                        minHeight: 0,
                        minWidth: 0
                    }
                },
                callbacks: {
                    onSubmit: function() {},
                    onSubmitted: function() {},
                    onComplete: function() {},
                    onAllComplete: function() {},
                    onCancel: function() {},
                    onUpload: function() {},
                    onUploadChunk: function() {},
                    onUploadChunkSuccess: function() {},
                    onResume: function() {},
                    onProgress: function() {},
                    onTotalProgress: function() {},
                    onError: function() {},
                    onAutoRetry: function() {},
                    onManualRetry: function() {},
                    onValidateBatch: function() {},
                    onValidate: function() {},
                    onSubmitDelete: function() {},
                    onDelete: function() {},
                    onDeleteComplete: function() {},
                    onPasteReceived: function() {},
                    onStatusChange: function() {},
                    onSessionRequestComplete: function() {}
                },
                messages: {
                    typeError: "{file} has an invalid extension. Valid extension(s): {extensions}.",
                    sizeError: "{file} is too large, maximum file size is {sizeLimit}.",
                    minSizeError: "{file} is too small, minimum file size is {minSizeLimit}.",
                    emptyError: "{file} is empty, please select files again without it.",
                    noFilesError: "No files to upload.",
                    tooManyItemsError: "Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",
                    maxHeightImageError: "Image is too tall.",
                    maxWidthImageError: "Image is too wide.",
                    minHeightImageError: "Image is not tall enough.",
                    minWidthImageError: "Image is not wide enough.",
                    retryFailTooManyItems: "Retry failed - you have reached your file limit.",
                    onLeave: "The files are being uploaded, if you leave now the upload will be canceled.",
                    unsupportedBrowserIos8Safari: "Unrecoverable error - this browser does not permit file uploading of any kind due to serious bugs in iOS8 Safari.  Please use iOS8 Chrome until Apple fixes these issues."
                },
                retry: {
                    enableAuto: !1,
                    maxAutoAttempts: 3,
                    autoAttemptDelay: 5,
                    preventRetryResponseProperty: "preventRetry"
                },
                classes: {
                    buttonHover: "qq-upload-button-hover",
                    buttonFocus: "qq-upload-button-focus"
                },
                chunking: {
                    enabled: !1,
                    concurrent: {
                        enabled: !1
                    },
                    mandatory: !1,
                    paramNames: {
                        partIndex: "qqpartindex",
                        partByteOffset: "qqpartbyteoffset",
                        chunkSize: "qqchunksize",
                        totalFileSize: "qqtotalfilesize",
                        totalParts: "qqtotalparts"
                    },
                    partSize: 2e6,
                    success: {
                        endpoint: null
                    }
                },
                resume: {
                    enabled: !1,
                    recordsExpireIn: 7,
                    paramNames: {
                        resuming: "qqresume"
                    }
                },
                formatFileName: function(e) {
                    return e = void 0 !== e && 33 < e.length ? e.slice(0, 19) + "..." + e.slice(-14) : e
                },
                text: {
                    defaultResponseError: "Upload failure reason unknown",
                    sizeSymbols: ["kB", "MB", "GB", "TB", "PB", "EB"]
                },
                deleteFile: {
                    enabled: !1,
                    method: "DELETE",
                    endpoint: "/server/upload",
                    customHeaders: {},
                    params: {}
                },
                cors: {
                    expected: !1,
                    sendCredentials: !1,
                    allowXdr: !1
                },
                blobs: {
                    defaultName: "misc_data"
                },
                paste: {
                    targetElement: null,
                    defaultName: "pasted_image"
                },
                camera: {
                    ios: !1,
                    button: null
                },
                extraButtons: [],
                session: {
                    endpoint: null,
                    params: {},
                    customHeaders: {},
                    refreshOnReset: !0
                },
                form: {
                    element: "qq-form",
                    autoUpload: !1,
                    interceptSubmit: !0
                },
                scaling: {
                    sendOriginal: !0,
                    orient: !0,
                    defaultType: null,
                    defaultQuality: 80,
                    failureText: "Failed to scale",
                    includeExif: !1,
                    sizes: []
                },
                workarounds: {
                    iosEmptyVideos: !0,
                    ios8SafariUploads: !0,
                    ios8BrowserCrash: !0
                }
            }, qq.extend(this._options, e, !0), this._buttons = [], this._extraButtonSpecs = {}, this._buttonIdsForFileIds = [], this._wrapCallbacks(), this._disposeSupport = new qq.DisposeSupport, this._storedIds = [], this._autoRetries = [], this._retryTimeouts = [], this._preventRetries = [], this._thumbnailUrls = [], this._netUploadedOrQueued = 0, this._netUploaded = 0, this._uploadData = this._createUploadDataTracker(), this._initFormSupportAndParams(), this._customHeadersStore = this._createStore(this._options.request.customHeaders), this._deleteFileCustomHeadersStore = this._createStore(this._options.deleteFile.customHeaders), this._deleteFileParamsStore = this._createStore(this._options.deleteFile.params), this._endpointStore = this._createStore(this._options.request.endpoint), this._deleteFileEndpointStore = this._createStore(this._options.deleteFile.endpoint), this._handler = this._createUploadHandler(), this._deleteHandler = qq.DeleteFileAjaxRequester && this._createDeleteHandler(), this._options.button && (this._defaultButtonId = this._createUploadButton({
                element: this._options.button
            }).getButtonId()), this._generateExtraButtonSpecs(), this._handleCameraAccess(), this._options.paste.targetElement && (qq.PasteSupport ? this._pasteHandler = this._createPasteHandler() : this.log("Paste support module not found", "error")), this._preventLeaveInProgress(), this._imageGenerator = qq.ImageGenerator && new qq.ImageGenerator(qq.bind(this.log, this)), this._refreshSessionData(), this._succeededSinceLastAllComplete = [], this._failedSinceLastAllComplete = [], this._scaler = qq.Scaler && new qq.Scaler(this._options.scaling, qq.bind(this.log, this)) || {}, this._scaler.enabled && (this._customNewFileHandler = qq.bind(this._scaler.handleNewFile, this._scaler)), qq.TotalProgress && qq.supportedFeatures.progressBar && (this._totalProgress = new qq.TotalProgress(qq.bind(this._onTotalProgress, this), function(e) {
                e = t._uploadData.retrieve({
                    id: e
                });
                return e && e.size || 0
            })), this._currentItemLimit = this._options.validation.itemLimit
        }, qq.FineUploaderBasic.prototype = qq.basePublicApi, qq.extend(qq.FineUploaderBasic.prototype, qq.basePrivateApi)
    }(), qq.AjaxRequester = function(e) {
        "use strict";

        function v(e) {
            return k.cors.expected && void 0 === e.withCredentials
        }

        function y(e, t) {
            var i, s = C[e].xhr;
            return s || (s = t || (k.cors.expected ? i = (window.XMLHttpRequest || window.ActiveXObject) && void 0 === (i = qq.createXhrInstance()).withCredentials ? new XDomainRequest : i : qq.createXhrInstance()), C[e].xhr = s), s
        }

        function a(e) {
            var t = qq.indexOf(p, e),
                i = k.maxConnections;
            delete C[e], p.splice(t, 1), p.length >= i && t < i && h(p[i - 1])
        }

        function b(e, t) {
            var i, s = y(e),
                n = k.method,
                t = !0 === t;
            a(e), t ? w(n + " request for " + e + " has failed", "error") : v(s) || (i = s.status, 0 <= qq.indexOf(k.successfulResponseCodes[k.method], i)) || (t = !0, w(n + " request for " + e + " has failed - response code " + s.status, "error")), k.onComplete(e, s, t)
        }

        function h(e, t) {
            var i, s, n, a, o, r, l, d, c, u, h, p, t = y(e, t),
                f = k.method,
                m = (g = C[m = e].additionalParams, u = k.mandatedParams, k.paramsStore.get && (i = k.paramsStore.get(m)), g && qq.each(g, function(e, t) {
                    (i = i || {})[e] = t
                }), u && qq.each(u, function(e, t) {
                    (i = i || {})[e] = t
                }), i),
                g = C[e].payload;
            return k.onSend(e), u = e, h = m, p = k.endpointStore.get(u), null != (u = C[u].addToPath) && (p += "/" + u), u = _ && h ? qq.obj2url(h, p) : p, v(t) ? (t.onload = (c = e, function() {
                b(c)
            }), t.onerror = (d = e, function() {
                b(d, !0)
            })) : t.onreadystatechange = (l = e, function() {
                4 === y(l).readyState && b(l)
            }), o = e, (r = k.onProgress) && (y(o).upload.onprogress = function(e) {
                e.lengthComputable && r(o, e.loaded, e.total)
            }), t.open(f, u, !0), k.cors.expected && k.cors.sendCredentials && !v(t) && (t.withCredentials = !0), s = y(h = e), p = k.customHeaders, u = C[h].additionalHeaders || {}, n = k.method, a = {}, v(s) || (k.acceptHeader && s.setRequestHeader("Accept", k.acceptHeader), !k.allowXRequestedWithAndCacheControl || k.cors.expected && 0 <= qq.indexOf(["GET", "POST", "HEAD"], k.method) && ! function() {
                var i = !1;
                return qq.each(i, function(e, t) {
                    return qq.indexOf(["Accept", "Accept-Language", "Content-Language", "Content-Type"], t) < 0 ? !(i = !0) : void 0
                }), i
            }() || (s.setRequestHeader("X-Requested-With", "XMLHttpRequest"), s.setRequestHeader("Cache-Control", "no-cache")), !k.contentType || "POST" !== n && "PUT" !== n || s.setRequestHeader("Content-Type", k.contentType), qq.extend(a, qq.isFunction(p) ? p(h) : p), qq.extend(a, u), qq.each(a, function(e, t) {
                s.setRequestHeader(e, t)
            })), w("Sending " + f + " request for " + e), g ? t.send(g) : _ || !m ? t.send() : m && k.contentType && 0 <= k.contentType.toLowerCase().indexOf("application/x-www-form-urlencoded") ? t.send(qq.obj2url(m, "")) : m && k.contentType && 0 <= k.contentType.toLowerCase().indexOf("application/json") ? t.send(JSON.stringify(m)) : t.send(m), t
        }
        var w, _, p = [],
            C = {},
            k = {
                acceptHeader: null,
                validMethods: ["POST"],
                method: "POST",
                contentType: "application/x-www-form-urlencoded",
                maxConnections: 3,
                customHeaders: {},
                endpointStore: {},
                paramsStore: {},
                mandatedParams: {},
                allowXRequestedWithAndCacheControl: !0,
                successfulResponseCodes: {
                    DELETE: [200, 202, 204],
                    POST: [200, 204],
                    GET: [200]
                },
                cors: {
                    expected: !1,
                    sendCredentials: !1
                },
                log: function() {},
                onSend: function() {},
                onComplete: function() {},
                onProgress: null
            };
        if (qq.extend(k, e), w = k.log, qq.indexOf(k.validMethods, k.method) < 0) throw new Error("'" + k.method + "' is not a supported method for this type of request!");
        _ = "GET" === k.method || "DELETE" === k.method, qq.extend(this, {
            initTransport: function(o) {
                var r, l, d, c, u;
                return {
                    withPath: function(e) {
                        return r = e, this
                    },
                    withParams: function(e) {
                        return l = e, this
                    },
                    withHeaders: function(e) {
                        return d = e, this
                    },
                    withPayload: function(e) {
                        return c = e, this
                    },
                    withCacheBuster: function() {
                        return u = !0, this
                    },
                    send: function(e) {
                        return u && 0 <= qq.indexOf(["GET", "DELETE"], k.method) && (l.qqtimestamp = (new Date).getTime()), e = e, i = r, s = l, n = d, a = c, C[t = o] = {
                            addToPath: i,
                            additionalParams: s,
                            additionalHeaders: n,
                            payload: a
                        }, p.push(t) <= k.maxConnections ? h(t, e) : void 0;
                        var t, i, s, n, a
                    }
                }
            },
            canceled: function(e) {
                a(e)
            }
        })
    }, qq.UploadHandler = function(e) {
        "use strict";
        var e = e.proxy,
            s = {},
            n = e.onCancel,
            a = e.getName;
        qq.extend(this, {
            add: function(e, t) {
                s[e] = t, s[e].temp = {}
            },
            cancel: function(e) {
                var t = this,
                    i = new qq.Promise;
                n(e, a(e), i).then(function() {
                    t.isValid(e) && (s[e].canceled = !0, t.expunge(e)), i.success()
                })
            },
            expunge: function(e) {
                delete s[e]
            },
            getThirdPartyFileId: function(e) {
                return s[e].key
            },
            isValid: function(e) {
                return void 0 !== s[e]
            },
            reset: function() {
                s = {}
            },
            _getFileState: function(e) {
                return s[e]
            },
            _setThirdPartyFileId: function(e, t) {
                s[e].key = t
            },
            _wasCanceled: function(e) {
                return !!s[e].canceled
            }
        })
    }, qq.UploadHandlerController = function(e, i) {
        "use strict";
        var s, r, l, n = this,
            a = !1,
            d = !1,
            c = {
                paramsStore: {},
                maxConnections: 3,
                chunking: {
                    enabled: !1,
                    multiple: {
                        enabled: !1
                    }
                },
                log: function() {},
                onProgress: function() {},
                onComplete: function() {},
                onCancel: function() {},
                onUploadPrep: function() {},
                onUpload: function() {},
                onUploadChunk: function() {},
                onUploadChunkSuccess: function() {},
                onAutoRetry: function() {},
                onResume: function() {},
                onUuidChanged: function() {},
                getName: function() {},
                setSize: function() {},
                isQueued: function() {},
                getIdsInProxyGroup: function() {},
                getIdsInBatch: function() {}
            },
            u = {
                done: function(e, t, i, s) {
                    var n = l._getChunkData(e, t);
                    l._getFileState(e).attemptingResume = !1, delete l._getFileState(e).temp.chunkProgress[t], l._getFileState(e).loaded += n.size, c.onUploadChunkSuccess(e, l._getChunkDataForCallback(n), i, s)
                },
                finalize: function(i) {
                    var s = c.getSize(i),
                        n = c.getName(i);
                    r("All chunks have been uploaded for " + i + " - finalizing...."), l.finalizeChunks(i).then(function(e, t) {
                        r("Finalize successful for " + i);
                        e = p.normalizeResponse(e, !0);
                        c.onProgress(i, n, s, s), l._maybeDeletePersistedChunkData(i), p.cleanup(i, e, t)
                    }, function(e, t) {
                        e = p.normalizeResponse(e, !1);
                        r("Problem finalizing chunks for file ID " + i + " - " + e.error, "error"), e.reset && u.reset(i), c.onAutoRetry(i, n, e, t) || p.cleanup(i, e, t)
                    })
                },
                hasMoreParts: function(e) {
                    return !!l._getFileState(e).chunking.remaining.length
                },
                nextPart: function(e) {
                    var t = l._getFileState(e).chunking.remaining.shift();
                    return t = t >= l._getTotalChunks(e) ? null : t
                },
                reset: function(e) {
                    r("Server or callback has ordered chunking effort to be restarted on next attempt for item ID " + e, "error"), l._maybeDeletePersistedChunkData(e), l.reevaluateChunking(e), l._getFileState(e).loaded = 0
                },
                sendNext: function(n) {
                    var e = c.getSize(n),
                        s = c.getName(n),
                        a = u.nextPart(n),
                        t = l._getChunkData(n, a),
                        i = l._getFileState(n).attemptingResume,
                        o = l._getFileState(n).chunking.inProgress || [];
                    null == l._getFileState(n).loaded && (l._getFileState(n).loaded = 0), i && !1 === c.onResume(n, s, t) && (u.reset(n), a = u.nextPart(n), t = l._getChunkData(n, a), i = !1), null == a && 0 === o.length ? u.finalize(n) : (r("Sending chunked upload request for item " + n + ": bytes " + (t.start + 1) + "-" + t.end + " of " + e), c.onUploadChunk(n, s, l._getChunkDataForCallback(t)), o.push(a), l._getFileState(n).chunking.inProgress = o, d && h.open(n, a), d && h.available() && l._getFileState(n).chunking.remaining.length && u.sendNext(n), l.uploadChunk(n, a, i).then(function(e, t) {
                        r("Chunked upload request succeeded for " + n + ", chunk " + a), l.clearCachedChunk(n, a);
                        var i = l._getFileState(n).chunking.inProgress || [],
                            e = p.normalizeResponse(e, !0),
                            s = qq.indexOf(i, a);
                        r(qq.format("Chunk {} for file {} uploaded successfully.", a, n)), u.done(n, a, e, t), 0 <= s && i.splice(s, 1), l._maybePersistChunkedState(n), u.hasMoreParts(n) || 0 !== i.length ? u.hasMoreParts(n) && u.sendNext(n) : u.finalize(n)
                    }, function(e, t) {
                        r("Chunked upload request failed for " + n + ", chunk " + a), l.clearCachedChunk(n, a);
                        var i, e = p.normalizeResponse(e, !1);
                        e.reset ? u.reset(n) : 0 <= (i = qq.indexOf(l._getFileState(n).chunking.inProgress, a)) && (l._getFileState(n).chunking.inProgress.splice(i, 1), l._getFileState(n).chunking.remaining.unshift(a)), l._getFileState(n).temp.ignoreFailure || (d && (l._getFileState(n).temp.ignoreFailure = !0, qq.each(l._getXhrs(n), function(e, t) {
                            t.abort()
                        }), l.moveInProgressToRemaining(n), h.free(n, !0)), c.onAutoRetry(n, s, e, t)) || p.cleanup(n, e, t)
                    }).done(function() {
                        l.clearXhr(n, a)
                    }))
                }
            },
            h = {
                _open: [],
                _openChunks: {},
                _waiting: [],
                available: function() {
                    var e = c.maxConnections,
                        i = 0,
                        s = 0;
                    return qq.each(h._openChunks, function(e, t) {
                        i++, s += t.length
                    }), e - (h._open.length - i + s)
                },
                free: function(e, t) {
                    var t = !t,
                        i = qq.indexOf(h._waiting, e),
                        s = qq.indexOf(h._open, e);
                    delete h._openChunks[e], p.getProxyOrBlob(e) instanceof qq.BlobProxy && (r("Generated blob upload has ended for " + e + ", disposing generated blob."), delete l._getFileState(e).file), 0 <= i ? h._waiting.splice(i, 1) : t && 0 <= s && (h._open.splice(s, 1), 0 <= (e = h._waiting.shift())) && (h._open.push(e), p.start(e))
                },
                getWaitingOrConnected: function() {
                    var i = [];
                    return qq.each(h._openChunks, function(e, t) {
                        t && t.length && i.push(parseInt(e))
                    }), qq.each(h._open, function(e, t) {
                        h._openChunks[t] || i.push(parseInt(t))
                    }), i = i.concat(h._waiting)
                },
                isUsingConnection: function(e) {
                    return 0 <= qq.indexOf(h._open, e)
                },
                open: function(e, t) {
                    return null == t && h._waiting.push(e), !!h.available() && (null == t ? (h._waiting.pop(), h._open.push(e)) : ((i = h._openChunks[e] || []).push(t), h._openChunks[e] = i), !0);
                    var i
                },
                reset: function() {
                    h._waiting = [], h._open = []
                }
            },
            o = function(s, n) {
                l._getFileState(s).loaded = 0, r("Sending simple upload request for " + s), l.uploadFile(s).then(function(e, t) {
                    r("Simple upload request succeeded for " + s);
                    var e = p.normalizeResponse(e, !0),
                        i = c.getSize(s);
                    c.onProgress(s, n, i, i), p.maybeNewUuid(s, e), p.cleanup(s, e, t)
                }, function(e, t) {
                    r("Simple upload request failed for " + s);
                    e = p.normalizeResponse(e, !1);
                    c.onAutoRetry(s, n, e, t) || p.cleanup(s, e, t)
                })
            },
            p = {
                cancel: function(e) {
                    r("Cancelling " + e), c.paramsStore.remove(e), h.free(e)
                },
                cleanup: function(e, t, i) {
                    var s = c.getName(e);
                    c.onComplete(e, s, t, i), l._getFileState(e) && l._clearXhrs && l._clearXhrs(e), h.free(e)
                },
                getProxyOrBlob: function(e) {
                    return l.getProxy && l.getProxy(e) || l.getFile && l.getFile(e)
                },
                initHandler: function() {
                    var e = i ? qq[i] : qq.traditional,
                        t = qq.supportedFeatures.ajaxUploading ? "Xhr" : "Form";
                    (l = new e[t + "UploadHandler"](c, {
                        getDataByUuid: c.getDataByUuid,
                        getName: c.getName,
                        getSize: c.getSize,
                        getUuid: c.getUuid,
                        log: r,
                        onCancel: c.onCancel,
                        onProgress: c.onProgress,
                        onUuidChanged: c.onUuidChanged
                    }))._removeExpiredChunkingRecords && l._removeExpiredChunkingRecords()
                },
                isDeferredEligibleForUpload: function(e) {
                    return c.isQueued(e)
                },
                maybeDefer: function(i, e) {
                    return e && !l.getFile(i) && e instanceof qq.BlobProxy ? (c.onUploadPrep(i), r("Attempting to generate a blob on-demand for " + i), e.create().then(function(e) {
                        r("Generated an on-demand blob for " + i), l.updateBlob(i, e), c.setSize(i, e.size), l.reevaluateChunking(i), p.maybeSendDeferredFiles(i)
                    }, function(e) {
                        var t = {};
                        e && (t.error = e), r(qq.format("Failed to generate blob for ID {}.  Error message: {}.", i, e), "error"), c.onComplete(i, c.getName(i), qq.extend(t, s), null), p.maybeSendDeferredFiles(i), h.free(i)
                    }), !1) : p.maybeSendDeferredFiles(i)
                },
                maybeSendDeferredFiles: function(i) {
                    var e = c.getIdsInProxyGroup(i),
                        s = !1;
                    return e && e.length ? (r("Maybe ready to upload proxy group file " + i), qq.each(e, function(e, t) {
                        if (p.isDeferredEligibleForUpload(t) && l.getFile(t)) s = t === i, p.now(t);
                        else if (p.isDeferredEligibleForUpload(t)) return !1
                    })) : (s = !0, p.now(i)), s
                },
                maybeNewUuid: function(e, t) {
                    void 0 !== t.newUuid && c.onUuidChanged(e, t.newUuid)
                },
                normalizeResponse: function(e, t) {
                    var i = e;
                    return qq.isObject(e) || (i = {}, qq.isString(e) && !t && (i.error = e)), i.success = t, i
                },
                now: function(e) {
                    var t = c.getName(e);
                    if (!n.isValid(e)) throw new qq.Error(e + " is not a valid file ID to upload!");
                    c.onUpload(e, t), a && l._shouldChunkThisFile(e) ? u.sendNext(e) : o(e, t)
                },
                start: function(e) {
                    var t = p.getProxyOrBlob(e);
                    return t ? p.maybeDefer(e, t) : (p.now(e), !0)
                }
            };
        qq.extend(this, {
            add: function() {
                l.add.apply(this, arguments)
            },
            upload: function(e) {
                return !!h.open(e) && p.start(e)
            },
            retry: function(e) {
                return d && (l._getFileState(e).temp.ignoreFailure = !1), h.isUsingConnection(e) ? p.start(e) : n.upload(e)
            },
            cancel: function(e) {
                var t = l.cancel(e);
                qq.isGenericPromise(t) ? t.then(function() {
                    p.cancel(e)
                }) : !1 !== t && p.cancel(e)
            },
            cancelAll: function() {
                var e, t = h.getWaitingOrConnected();
                if (t.length)
                    for (e = t.length - 1; 0 <= e; e--) n.cancel(t[e]);
                h.reset()
            },
            getFile: function(e) {
                return l.getProxy && l.getProxy(e) ? l.getProxy(e).referenceBlob : l.getFile && l.getFile(e)
            },
            isProxied: function(e) {
                return !(!l.getProxy || !l.getProxy(e))
            },
            getInput: function(e) {
                return l.getInput ? l.getInput(e) : void 0
            },
            reset: function() {
                r("Resetting upload handler"), n.cancelAll(), h.reset(), l.reset()
            },
            expunge: function(e) {
                return n.isValid(e) ? l.expunge(e) : void 0
            },
            isValid: function(e) {
                return l.isValid(e)
            },
            getResumableFilesData: function() {
                return l.getResumableFilesData ? l.getResumableFilesData() : []
            },
            getThirdPartyFileId: function(e) {
                return n.isValid(e) ? l.getThirdPartyFileId(e) : void 0
            },
            pause: function(e) {
                return !!(n.isResumable(e) && l.pause && n.isValid(e) && l.pause(e)) && (h.free(e), l.moveInProgressToRemaining(e), !0)
            },
            isResumable: function(e) {
                return !!l.isResumable && l.isResumable(e)
            }
        }), qq.extend(c, e), r = c.log, a = c.chunking.enabled && qq.supportedFeatures.chunking, d = a && c.chunking.concurrent.enabled, (e = {})[c.preventRetryParam] = !0, s = e, p.initHandler()
    }, qq.FormUploadHandler = function(e) {
        "use strict";

        function l(e) {
            return e.split("_")[0]
        }
        var t = e.options,
            d = this,
            i = e.proxy,
            s = qq.getUniqueId(),
            c = {},
            u = {},
            h = {},
            p = t.isCors,
            n = t.inputName,
            f = i.getUuid,
            m = i.log,
            g = new qq.WindowReceiveMessage({
                log: m
            });
        qq.extend(this, new qq.UploadHandler(e)), qq.override(this, function(i) {
            return {
                add: function(e, t) {
                    i.add(e, {
                        input: t
                    }), t.setAttribute("name", n), t.parentNode && qq(t).remove()
                },
                expunge: function(e) {
                    var t;
                    delete u[t = e], p && (clearTimeout(h[t]), delete h[t], g.stopReceivingMessages(t)), (t = document.getElementById(d._getIframeName(t))) && (t.setAttribute("src", "javascript:false;"), qq(t).remove()), i.expunge(e)
                },
                isValid: function(e) {
                    return i.isValid(e) && void 0 !== d._getFileState(e).input
                }
            }
        }), qq.extend(this, {
            getInput: function(e) {
                return d._getFileState(e).input
            },
            _attachLoadEvent: function(e, t) {
                var i, s, n, a, o, r;
                p ? (n = t, a = (s = e).id, o = l(a), r = f(o), c[r] = n, u[o] = qq(s).attach("load", function() {
                    d.getInput(o) && (m("Received iframe load event for CORS upload request (iframe name " + a + ")"), h[a] = setTimeout(function() {
                        var e = "No valid message received from loaded iframe for iframe name " + a;
                        m(e, "error"), n({
                            error: e
                        })
                    }, 1e3))
                }), g.receiveMessage(a, function(e) {
                    m("Received the following window message: '" + e + "'");
                    l(a);
                    var t, i = d._parseJsonResponse(e),
                        s = i.uuid;
                    s && c[s] ? (m("Handling response for iframe name " + a), clearTimeout(h[a]), delete h[a], d._detachLoadEvent(a), t = c[s], delete c[s], g.stopReceivingMessages(a), t(i)) : s || m("'" + e + "' does not contain a UUID - ignoring.")
                })) : u[e.id] = qq(e).attach("load", function() {
                    if (m("Received response for " + e.id), e.parentNode) {
                        try {
                            if (e.contentDocument && e.contentDocument.body && "false" == e.contentDocument.body.innerHTML) return
                        } catch (e) {
                            m("Error when attempting to access iframe during handling of upload response (" + e.message + ")", "error"), i = {
                                success: !1
                            }
                        }
                        t(i)
                    }
                })
            },
            _createIframe: function(e) {
                var t, e = d._getIframeName(e);
                return e = e, (t = qq.toElement("<iframe src='javascript:false;' name='" + e + "' />")).setAttribute("id", e), t.style.display = "none", document.body.appendChild(t), t
            },
            _detachLoadEvent: function(e) {
                void 0 !== u[e] && (u[e](), delete u[e])
            },
            _getIframeName: function(e) {
                return e + "_" + s
            },
            _initFormForUpload: function(e) {
                var t = e.method,
                    i = e.endpoint,
                    s = e.params,
                    n = e.paramsInBody,
                    e = e.targetName,
                    t = qq.toElement("<form method='" + t + "' enctype='multipart/form-data'></form>"),
                    a = i;
                return n ? qq.obj2Inputs(s, t) : a = qq.obj2url(s, i), t.setAttribute("action", a), t.setAttribute("target", e), t.style.display = "none", document.body.appendChild(t), t
            },
            _parseJsonResponse: function(e) {
                var t = {};
                try {
                    t = qq.parseJson(e)
                } catch (e) {
                    m("Error when attempting to parse iframe upload response (" + e.message + ")", "error")
                }
                return t
            }
        })
    }, qq.XhrUploadHandler = function(e) {
        "use strict";

        function t(i) {
            qq.each(c._getXhrs(i), function(e, t) {
                e = c._getAjaxRequester(i, e);
                t.onreadystatechange = null, t.upload.onprogress = null, t.abort(), e && e.canceled && e.canceled(i)
            })
        }
        var c = this,
            n = e.options.namespace,
            i = e.proxy,
            o = e.options.chunking,
            s = e.options.resume,
            a = o && e.options.chunking.enabled && qq.supportedFeatures.chunking,
            r = s && e.options.resume.enabled && a && qq.supportedFeatures.resume,
            u = i.getName,
            h = i.getSize,
            l = i.getUuid,
            d = i.getEndpoint,
            p = i.getDataByUuid,
            f = i.onUuidChanged,
            m = i.onProgress,
            g = i.log;
        qq.extend(this, new qq.UploadHandler(e)), qq.override(this, function(i) {
            return {
                add: function(e, t) {
                    if (qq.isFile(t) || qq.isBlob(t)) i.add(e, {
                        file: t
                    });
                    else {
                        if (!(t instanceof qq.BlobProxy)) throw new Error("Passed obj is not a File, Blob, or proxy");
                        i.add(e, {
                            proxy: t
                        })
                    }
                    c._initTempState(e), r && c._maybePrepareForResume(e)
                },
                expunge: function(e) {
                    t(e), c._maybeDeletePersistedChunkData(e), c._clearXhrs(e), i.expunge(e)
                }
            }
        }), qq.extend(this, {
            clearCachedChunk: function(e, t) {
                delete c._getFileState(e).temp.cachedChunks[t]
            },
            clearXhr: function(e, t) {
                e = c._getFileState(e).temp;
                e.xhrs && delete e.xhrs[t], e.ajaxRequesters && delete e.ajaxRequesters[t]
            },
            finalizeChunks: function(e, t) {
                var i = c._getTotalChunks(e) - 1,
                    e = c._getXhr(e, i);
                return t ? (new qq.Promise).success(t(e), e) : (new qq.Promise).success({}, e)
            },
            getFile: function(e) {
                return c.isValid(e) && c._getFileState(e).file
            },
            getProxy: function(e) {
                return c.isValid(e) && c._getFileState(e).proxy
            },
            getResumableFilesData: function() {
                var s = [];
                return c._iterateResumeRecords(function(e, t) {
                    c.moveInProgressToRemaining(null, t.chunking.inProgress, t.chunking.remaining);
                    var i = {
                        name: t.name,
                        remaining: t.chunking.remaining,
                        size: t.size,
                        uuid: t.uuid
                    };
                    t.key && (i.key = t.key), s.push(i)
                }), s
            },
            isResumable: function(e) {
                return !!o && c.isValid(e) && !c._getFileState(e).notResumable
            },
            moveInProgressToRemaining: function(e, t, i) {
                var t = t || c._getFileState(e).chunking.inProgress,
                    s = i || c._getFileState(e).chunking.remaining;
                t && (t.reverse(), qq.each(t, function(e, t) {
                    s.unshift(t)
                }), t.length = 0)
            },
            pause: function(e) {
                return c.isValid(e) ? (g(qq.format("Aborting XHR upload for {} '{}' due to pause instruction.", e, u(e))), c._getFileState(e).paused = !0, t(e), !0) : void 0
            },
            reevaluateChunking: function(e) {
                if (o && c.isValid(e)) {
                    var t, i, s = c._getFileState(e);
                    if (delete s.chunking, s.chunking = {}, 1 < (t = c._getTotalChunks(e)) || o.mandatory) {
                        for (s.chunking.enabled = !0, s.chunking.parts = t, s.chunking.remaining = [], i = 0; i < t; i++) s.chunking.remaining.push(i);
                        c._initTempState(e)
                    } else s.chunking.enabled = !1
                }
            },
            updateBlob: function(e, t) {
                c.isValid(e) && (c._getFileState(e).file = t)
            },
            _clearXhrs: function(e) {
                var t = c._getFileState(e).temp;
                qq.each(t.ajaxRequesters, function(e) {
                    delete t.ajaxRequesters[e]
                }), qq.each(t.xhrs, function(e) {
                    delete t.xhrs[e]
                })
            },
            _createXhr: function(e, t) {
                return c._registerXhr(e, t, qq.createXhrInstance())
            },
            _getAjaxRequester: function(e, t) {
                t = null == t ? -1 : t;
                return c._getFileState(e).temp.ajaxRequesters[t]
            },
            _getChunkData: function(e, t) {
                var i = o.partSize,
                    s = h(e),
                    n = c.getFile(e),
                    a = i * t,
                    s = s <= a + i ? s : a + i,
                    i = c._getTotalChunks(e),
                    e = this._getFileState(e).temp.cachedChunks,
                    n = e[t] || qq.sliceBlob(n, a, s);
                return {
                    part: t,
                    start: a,
                    end: s,
                    count: i,
                    blob: e[t] = n,
                    size: s - a
                }
            },
            _getChunkDataForCallback: function(e) {
                return {
                    partIndex: e.part,
                    startByte: e.start + 1,
                    endByte: e.end,
                    totalParts: e.count
                }
            },
            _getLocalStorageId: function(e) {
                var t = u(e),
                    i = h(e),
                    s = o.partSize,
                    e = d(e);
                return qq.format("qq{}resume{}-{}-{}-{}-{}", n, "5.0", t, i, s, e)
            },
            _getMimeType: function(e) {
                return c.getFile(e).type
            },
            _getPersistableData: function(e) {
                return c._getFileState(e).chunking
            },
            _getTotalChunks: function(e) {
                var t;
                if (o) return e = h(e), t = o.partSize, Math.ceil(e / t)
            },
            _getXhr: function(e, t) {
                t = null == t ? -1 : t;
                return c._getFileState(e).temp.xhrs[t]
            },
            _getXhrs: function(e) {
                return c._getFileState(e).temp.xhrs
            },
            _iterateResumeRecords: function(i) {
                r && qq.each(localStorage, function(e, t) {
                    0 === e.indexOf(qq.format("qq{}resume-", n)) && (t = JSON.parse(t), i(e, t))
                })
            },
            _initTempState: function(e) {
                c._getFileState(e).temp = {
                    ajaxRequesters: {},
                    chunkProgress: {},
                    xhrs: {},
                    cachedChunks: {}
                }
            },
            _markNotResumable: function(e) {
                c._getFileState(e).notResumable = !0
            },
            _maybeDeletePersistedChunkData: function(e) {
                var t;
                return !!(r && c.isResumable(e) && (t = c._getLocalStorageId(e)) && localStorage.getItem(t)) && (localStorage.removeItem(t), !0)
            },
            _maybePrepareForResume: function(e) {
                var t, i = c._getFileState(e);
                r && void 0 === i.key && (t = c._getLocalStorageId(e), t = localStorage.getItem(t)) && (t = JSON.parse(t), p(t.uuid) ? c._markNotResumable(e) : (g(qq.format("Identified file with ID {} and name of {} as resumable.", e, u(e))), f(e, t.uuid), i.key = t.key, i.chunking = t.chunking, i.loaded = t.loaded, i.attemptingResume = !0, c.moveInProgressToRemaining(e)))
            },
            _maybePersistChunkedState: function(e) {
                var t, i = c._getFileState(e);
                r && c.isResumable(e) && (t = c._getLocalStorageId(e), e = {
                    name: u(e),
                    size: h(e),
                    uuid: l(e),
                    key: i.key,
                    chunking: i.chunking,
                    loaded: i.loaded,
                    lastUpdated: Date.now()
                }, localStorage.setItem(t, JSON.stringify(e)))
            },
            _registerProgressHandler: function(o, r, l) {
                var e = c._getXhr(o, r),
                    d = u(o),
                    t = {
                        simple: function(e, t) {
                            var i = h(o);
                            m(o, d, e === t ? i : i <= e ? i - 1 : e, i)
                        },
                        chunked: function(e, t) {
                            var i = c._getFileState(o).temp.chunkProgress,
                                s = c._getFileState(o).loaded,
                                n = h(o),
                                a = s;
                            i[r] = e - (t - l), qq.each(i, function(e, t) {
                                a += t
                            }), m(o, d, a, n)
                        }
                    };
                e.upload.onprogress = function(e) {
                    e.lengthComputable && t[null == l ? "simple" : "chunked"](e.loaded, e.total)
                }
            },
            _registerXhr: function(e, t, i, s) {
                t = null == t ? -1 : t, e = c._getFileState(e).temp;
                return e.xhrs = e.xhrs || {}, e.ajaxRequesters = e.ajaxRequesters || {}, e.xhrs[t] = i, s && (e.ajaxRequesters[t] = s), i
            },
            _removeExpiredChunkingRecords: function() {
                var i = s.recordsExpireIn;
                c._iterateResumeRecords(function(e, t) {
                    t = new Date(t.lastUpdated);
                    t.setDate(t.getDate() + i), t.getTime() <= Date.now() && (g("Removing expired resume record with key " + e), localStorage.removeItem(e))
                })
            },
            _shouldChunkThisFile: function(e) {
                var t = c._getFileState(e);
                return t.chunking || c.reevaluateChunking(e), t.chunking.enabled
            }
        })
    }, qq.WindowReceiveMessage = function(e) {
        "use strict";
        var i = {};
        qq.extend({
            log: function() {}
        }, e), qq.extend(this, {
            receiveMessage: function(e, t) {
                window.postMessage ? i[e] = qq(window).attach("message", function(e) {
                    t(e.data)
                }) : log("iframe message passing not supported in this browser!", "error")
            },
            stopReceivingMessages: function(e) {
                window.postMessage && (e = i[e]) && e()
            }
        })
    }, function() {
        "use strict";
        qq.uiPublicApi = {
            clearStoredFiles: function() {
                this._parent.prototype.clearStoredFiles.apply(this, arguments), this._templating.clearFiles()
            },
            addExtraDropzone: function(e) {
                this._dnd && this._dnd.setupExtraDropzone(e)
            },
            removeExtraDropzone: function(e) {
                return this._dnd ? this._dnd.removeDropzone(e) : void 0
            },
            getItemByFileId: function(e) {
                return this._templating.getFileContainer(e)
            },
            reset: function() {
                this._parent.prototype.reset.apply(this, arguments), this._templating.reset(), !this._options.button && this._templating.getButton() && (this._defaultButtonId = this._createUploadButton({
                    element: this._templating.getButton()
                }).getButtonId()), this._dnd && (this._dnd.dispose(), this._dnd = this._setupDragAndDrop()), this._totalFilesInBatch = 0, this._filesInBatchAddedToUi = 0, this._setupClickAndEditEventHandlers()
            },
            setName: function(e, t) {
                t = this._options.formatFileName(t);
                this._parent.prototype.setName.apply(this, arguments), this._templating.updateFilename(e, t)
            },
            pauseUpload: function(e) {
                var t = this._parent.prototype.pauseUpload.apply(this, arguments);
                return t && this._templating.uploadPaused(e), t
            },
            continueUpload: function(e) {
                var t = this._parent.prototype.continueUpload.apply(this, arguments);
                return t && this._templating.uploadContinued(e), t
            },
            getId: function(e) {
                return this._templating.getFileId(e)
            },
            getDropTarget: function(e) {
                return this.getFile(e).qqDropTarget
            }
        }, qq.uiPrivateApi = {
            _getButton: function(e) {
                var t = this._parent.prototype._getButton.apply(this, arguments);
                return t || e === this._defaultButtonId && (t = this._templating.getButton()), t
            },
            _removeFileItem: function(e) {
                this._templating.removeFile(e)
            },
            _setupClickAndEditEventHandlers: function() {
                this._fileButtonsClickHandler = qq.FileButtonsClickHandler && this._bindFileButtonsClickEvent(), this._focusinEventSupported = !qq.firefox(), this._isEditFilenameEnabled() && (this._filenameClickHandler = this._bindFilenameClickEvent(), this._filenameInputFocusInHandler = this._bindFilenameInputFocusInEvent(), this._filenameInputFocusHandler = this._bindFilenameInputFocusEvent())
            },
            _setupDragAndDrop: function() {
                var s = this,
                    e = this._options.dragAndDrop.extraDropzones,
                    t = this._templating,
                    i = t.getDropZone();
                return i && e.push(i), new qq.DragAndDrop({
                    dropZoneElements: e,
                    allowMultipleItems: this._options.multiple,
                    classes: {
                        dropActive: this._options.classes.dropActive
                    },
                    callbacks: {
                        processingDroppedFiles: function() {
                            t.showDropProcessing()
                        },
                        processingDroppedFilesComplete: function(e, i) {
                            t.hideDropProcessing(), qq.each(e, function(e, t) {
                                t.qqDropTarget = i
                            }), e.length && s.addFiles(e, null, null)
                        },
                        dropError: function(e, t) {
                            s._itemError(e, t)
                        },
                        dropLog: function(e, t) {
                            s.log(e, t)
                        }
                    }
                })
            },
            _bindFileButtonsClickEvent: function() {
                var i = this;
                return new qq.FileButtonsClickHandler({
                    templating: this._templating,
                    log: function(e, t) {
                        i.log(e, t)
                    },
                    onDeleteFile: function(e) {
                        i.deleteFile(e)
                    },
                    onCancel: function(e) {
                        i.cancel(e)
                    },
                    onRetry: function(e) {
                        qq(i._templating.getFileContainer(e)).removeClass(i._classes.retryable), i._templating.hideRetry(e), i.retry(e)
                    },
                    onPause: function(e) {
                        i.pauseUpload(e)
                    },
                    onContinue: function(e) {
                        i.continueUpload(e)
                    },
                    onGetName: function(e) {
                        return i.getName(e)
                    }
                })
            },
            _isEditFilenameEnabled: function() {
                return this._templating.isEditFilenamePossible() && !this._options.autoUpload && qq.FilenameClickHandler && qq.FilenameInputFocusHandler && qq.FilenameInputFocusHandler
            },
            _filenameEditHandler: function() {
                var i = this,
                    n = this._templating;
                return {
                    templating: n,
                    log: function(e, t) {
                        i.log(e, t)
                    },
                    onGetUploadStatus: function(e) {
                        return i.getUploads({
                            id: e
                        }).status
                    },
                    onGetName: function(e) {
                        return i.getName(e)
                    },
                    onSetName: function(e, t) {
                        i.setName(e, t)
                    },
                    onEditingStatusChange: function(e, t) {
                        var i = qq(n.getEditInput(e)),
                            s = qq(n.getFileContainer(e));
                        t ? (i.addClass("qq-editing"), n.hideFilename(e), n.hideEditIcon(e)) : (i.removeClass("qq-editing"), n.showFilename(e), n.showEditIcon(e)), s.addClass("qq-temp").removeClass("qq-temp")
                    }
                }
            },
            _onUploadStatusChange: function(e, t, i) {
                this._parent.prototype._onUploadStatusChange.apply(this, arguments), this._isEditFilenameEnabled() && this._templating.getFileContainer(e) && i !== qq.status.SUBMITTED && (this._templating.markFilenameEditable(e), this._templating.hideEditIcon(e))
            },
            _bindFilenameInputFocusInEvent: function() {
                var e = qq.extend({}, this._filenameEditHandler());
                return new qq.FilenameInputFocusInHandler(e)
            },
            _bindFilenameInputFocusEvent: function() {
                var e = qq.extend({}, this._filenameEditHandler());
                return new qq.FilenameInputFocusHandler(e)
            },
            _bindFilenameClickEvent: function() {
                var e = qq.extend({}, this._filenameEditHandler());
                return new qq.FilenameClickHandler(e)
            },
            _storeForLater: function(e) {
                this._parent.prototype._storeForLater.apply(this, arguments), this._templating.hideSpinner(e)
            },
            _onAllComplete: function() {
                this._parent.prototype._onAllComplete.apply(this, arguments), this._templating.resetTotalProgress()
            },
            _onSubmit: function(e, t) {
                var i = this.getFile(e);
                i && i.qqPath && this._options.dragAndDrop.reportDirectoryPaths && this._paramsStore.addReadOnly(e, {
                    qqpath: i.qqPath
                }), this._parent.prototype._onSubmit.apply(this, arguments), this._addToList(e, t)
            },
            _onSubmitted: function(e) {
                this._isEditFilenameEnabled() && (this._templating.markFilenameEditable(e), this._templating.showEditIcon(e), this._focusinEventSupported || this._filenameInputFocusHandler.addHandler(this._templating.getEditInput(e)))
            },
            _onProgress: function(e, t, i, s) {
                this._parent.prototype._onProgress.apply(this, arguments), this._templating.updateProgress(e, i, s), 100 === Math.round(i / s * 100) ? (this._templating.hideCancel(e), this._templating.hidePause(e), this._templating.hideProgress(e), this._templating.setStatusText(e, this._options.text.waitingForResponse), this._displayFileSize(e)) : this._displayFileSize(e, i, s)
            },
            _onTotalProgress: function(e, t) {
                this._parent.prototype._onTotalProgress.apply(this, arguments), this._templating.updateTotalProgress(e, t)
            },
            _onComplete: function(t, e, i) {
                function s(e) {
                    o && (a.setStatusText(t), qq(o).removeClass(r._classes.retrying), a.hideProgress(t), r._options.disableCancelForFormUploads && !qq.supportedFeatures.ajaxUploading || a.hideCancel(t), a.hideSpinner(t), e.success ? r._markFileAsSuccessful(t) : (qq(o).addClass(r._classes.fail), a.isRetryPossible() && !r._preventRetries[t] && (qq(o).addClass(r._classes.retryable), a.showRetry(t)), r._controlFailureTextDisplay(t, e)))
                }
                var n = this._parent.prototype._onComplete.apply(this, arguments),
                    a = this._templating,
                    o = a.getFileContainer(t),
                    r = this;
                return n instanceof qq.Promise ? n.done(function(e) {
                    s(e)
                }) : s(i), n
            },
            _markFileAsSuccessful: function(e) {
                var t = this._templating;
                this._isDeletePossible() && t.showDeleteButton(e), qq(t.getFileContainer(e)).addClass(this._classes.success), this._maybeUpdateThumbnail(e)
            },
            _onUploadPrep: function(e) {
                this._parent.prototype._onUploadPrep.apply(this, arguments), this._templating.showSpinner(e)
            },
            _onUpload: function(e) {
                var t = this._parent.prototype._onUpload.apply(this, arguments);
                return this._templating.showSpinner(e), t
            },
            _onUploadChunk: function(e, t) {
                this._parent.prototype._onUploadChunk.apply(this, arguments), 0 < t.partIndex && this._handler.isResumable(e) && this._templating.allowPause(e)
            },
            _onCancel: function(e) {
                this._parent.prototype._onCancel.apply(this, arguments), this._removeFileItem(e), 0 === this._getNotFinished() && this._templating.resetTotalProgress()
            },
            _onBeforeAutoRetry: function(e) {
                var t, i;
                this._parent.prototype._onBeforeAutoRetry.apply(this, arguments), this._showCancelLink(e), this._options.retry.showAutoRetryNote && (i = this._autoRetries[e], t = this._options.retry.maxAutoAttempts, i = (i = this._options.retry.autoRetryNote.replace(/\{retryNum\}/g, i)).replace(/\{maxAuto\}/g, t), this._templating.setStatusText(e, i), qq(this._templating.getFileContainer(e)).addClass(this._classes.retrying))
            },
            _onBeforeManualRetry: function(e) {
                return this._parent.prototype._onBeforeManualRetry.apply(this, arguments) ? (this._templating.resetProgress(e), qq(this._templating.getFileContainer(e)).removeClass(this._classes.fail), this._templating.setStatusText(e), this._templating.showSpinner(e), this._showCancelLink(e), !0) : (qq(this._templating.getFileContainer(e)).addClass(this._classes.retryable), this._templating.showRetry(e), !1)
            },
            _onSubmitDelete: function(e) {
                var t = qq.bind(this._onSubmitDeleteSuccess, this);
                this._parent.prototype._onSubmitDelete.call(this, e, t)
            },
            _onSubmitDeleteSuccess: function() {
                (this._options.deleteFile.forceConfirm ? this._showDeleteConfirm : this._sendDeleteRequest).apply(this, arguments)
            },
            _onDeleteComplete: function(e, t, i) {
                this._parent.prototype._onDeleteComplete.apply(this, arguments), this._templating.hideSpinner(e), i ? (this._templating.setStatusText(e, this._options.deleteFile.deletingFailedText), this._templating.showDeleteButton(e)) : this._removeFileItem(e)
            },
            _sendDeleteRequest: function(e) {
                this._templating.hideDeleteButton(e), this._templating.showSpinner(e), this._templating.setStatusText(e, this._options.deleteFile.deletingStatusText), this._deleteHandler.sendDelete.apply(this, arguments)
            },
            _showDeleteConfirm: function(e) {
                var t = this.getName(e),
                    t = this._options.deleteFile.confirmMessage.replace(/\{filename\}/g, t),
                    i = (this.getUuid(e), arguments),
                    s = this,
                    e = this._options.showConfirm(t);
                qq.isGenericPromise(e) ? e.then(function() {
                    s._sendDeleteRequest.apply(s, i)
                }) : !1 !== e && s._sendDeleteRequest.apply(s, i)
            },
            _addToList: function(e, t, i) {
                var s, n = 0;
                !(this._handler.isProxied(e) && this._options.scaling.hideScaled) && (this._options.display.prependFiles && (s = {
                    index: n = 1 < this._totalFilesInBatch && 0 < this._filesInBatchAddedToUi ? this._filesInBatchAddedToUi - 1 : n
                }), i || (this._options.disableCancelForFormUploads && !qq.supportedFeatures.ajaxUploading && this._templating.disableCancel(), this._options.multiple) || (n = this.getUploads({
                    id: e
                }), this._handledProxyGroup = this._handledProxyGroup || n.proxyGroupId, n.proxyGroupId === this._handledProxyGroup && n.proxyGroupId) || (this._handler.cancelAll(), this._clearList(), this._handledProxyGroup = null), this._templating.addFile(e, this._options.formatFileName(t), s), i ? this._thumbnailUrls[e] && this._templating.updateThumbnail(e, this._thumbnailUrls[e], !0) : this._templating.generatePreview(e, this.getFile(e)), this._filesInBatchAddedToUi += 1, i || this._options.display.fileSizeOnSubmit && qq.supportedFeatures.ajaxUploading) && this._displayFileSize(e)
            },
            _clearList: function() {
                this._templating.clearFiles(), this.clearStoredFiles()
            },
            _displayFileSize: function(e, t, i) {
                var s = this.getSize(e),
                    n = this._formatSize(s);
                0 <= s && (void 0 !== t && void 0 !== i && (n = this._formatProgress(t, i)), this._templating.updateSize(e, n))
            },
            _formatProgress: function(e, t) {
                function i(e, t) {
                    s = s.replace(e, t)
                }
                var s = this._options.text.formatProgress;
                return i("{percent}", Math.round(e / t * 100)), i("{total_size}", this._formatSize(t)), s
            },
            _controlFailureTextDisplay: function(e, t) {
                var i, s = this._options.failedUploadTextDisplay.mode,
                    n = this._options.failedUploadTextDisplay.maxChars,
                    a = this._options.failedUploadTextDisplay.responseProperty;
                "custom" === s ? ((t = t[a]) ? t.length > n && (i = t.substring(0, n) + "...") : t = this._options.text.failUpload, this._templating.setStatusText(e, i || t), this._options.failedUploadTextDisplay.enableTooltip && this._showTooltip(e, t)) : "default" === s ? this._templating.setStatusText(e, this._options.text.failUpload) : "none" !== s && this.log("failedUploadTextDisplay.mode value of '" + s + "' is not valid", "warn")
            },
            _showTooltip: function(e, t) {
                this._templating.getFileContainer(e).title = t
            },
            _showCancelLink: function(e) {
                this._options.disableCancelForFormUploads && !qq.supportedFeatures.ajaxUploading || this._templating.showCancel(e)
            },
            _itemError: function() {
                var e = this._parent.prototype._itemError.apply(this, arguments);
                this._options.showMessage(e)
            },
            _batchError: function(e) {
                this._parent.prototype._batchError.apply(this, arguments), this._options.showMessage(e)
            },
            _setupPastePrompt: function() {
                var i = this;
                this._options.callbacks.onPasteReceived = function() {
                    var e = i._options.paste.namePromptMessage,
                        t = i._options.paste.defaultName;
                    return i._options.showPrompt(e, t)
                }
            },
            _fileOrBlobRejected: function() {
                --this._totalFilesInBatch, this._parent.prototype._fileOrBlobRejected.apply(this, arguments)
            },
            _prepareItemsForUpload: function(e) {
                this._totalFilesInBatch = e.length, this._filesInBatchAddedToUi = 0, this._parent.prototype._prepareItemsForUpload.apply(this, arguments)
            },
            _maybeUpdateThumbnail: function(e) {
                var t = this._thumbnailUrls[e];
                this._templating.updateThumbnail(e, t)
            },
            _addCannedFile: function() {
                var e = this._parent.prototype._addCannedFile.apply(this, arguments);
                return this._addToList(e, this.getName(e), !0), this._templating.hideSpinner(e), this._templating.hideCancel(e), this._markFileAsSuccessful(e), e
            },
            _setSize: function(e, t) {
                this._parent.prototype._setSize.apply(this, arguments), this._templating.updateSize(e, this._formatSize(t))
            }
        }
    }(), qq.FineUploader = function(e, t) {
        "use strict";
        this._parent = (t ? qq[t] : qq).FineUploaderBasic, this._parent.apply(this, arguments), qq.extend(this._options, {
            element: null,
            button: null,
            listElement: null,
            dragAndDrop: {
                extraDropzones: [],
                reportDirectoryPaths: !1
            },
            text: {
                formatProgress: "{percent}% of {total_size}",
                failUpload: "Upload failed",
                waitingForResponse: "Processing...",
                paused: "Paused"
            },
            template: "qq-template",
            classes: {
                retrying: "qq-upload-retrying",
                retryable: "qq-upload-retryable",
                success: "qq-upload-success",
                fail: "qq-upload-fail",
                editable: "qq-editable",
                hide: "qq-hide",
                dropActive: "qq-upload-drop-area-active"
            },
            failedUploadTextDisplay: {
                mode: "default",
                maxChars: 50,
                responseProperty: "error",
                enableTooltip: !0
            },
            messages: {
                tooManyFilesError: "You may only drop one file",
                unsupportedBrowser: "Unrecoverable error - this browser does not permit file uploading of any kind."
            },
            retry: {
                showAutoRetryNote: !0,
                autoRetryNote: "Retrying {retryNum}/{maxAuto}..."
            },
            deleteFile: {
                forceConfirm: !1,
                confirmMessage: "Are you sure you want to delete {filename}?",
                deletingStatusText: "Deleting...",
                deletingFailedText: "Delete failed"
            },
            display: {
                fileSizeOnSubmit: !1,
                prependFiles: !1
            },
            paste: {
                promptForName: !1,
                namePromptMessage: "Please name this image"
            },
            thumbnails: {
                maxCount: 0,
                placeholders: {
                    waitUntilResponse: !1,
                    notAvailablePath: null,
                    waitingPath: null
                },
                timeBetweenThumbs: 750
            },
            scaling: {
                hideScaled: !1
            },
            showMessage: function(e) {
                setTimeout(function() {
                    window.alert(e)
                }, 0)
            },
            showConfirm: function(e) {
                return window.confirm(e)
            },
            showPrompt: function(e, t) {
                return window.prompt(e, t)
            }
        }, !0), qq.extend(this._options, e, !0), this._templating = new qq.Templating({
            log: qq.bind(this.log, this),
            templateIdOrEl: this._options.template,
            containerEl: this._options.element,
            fileContainerEl: this._options.listElement,
            button: this._options.button,
            imageGenerator: this._imageGenerator,
            classes: {
                hide: this._options.classes.hide,
                editable: this._options.classes.editable
            },
            limits: {
                maxThumbs: this._options.thumbnails.maxCount,
                timeBetweenThumbs: this._options.thumbnails.timeBetweenThumbs
            },
            placeholders: {
                waitUntilUpdate: this._options.thumbnails.placeholders.waitUntilResponse,
                thumbnailNotAvailable: this._options.thumbnails.placeholders.notAvailablePath,
                waitingForThumbnail: this._options.thumbnails.placeholders.waitingPath
            },
            text: this._options.text
        }), this._options.workarounds.ios8SafariUploads && qq.ios800() && qq.iosSafari() ? this._templating.renderFailure(this._options.messages.unsupportedBrowserIos8Safari) : !qq.supportedFeatures.uploading || this._options.cors.expected && !qq.supportedFeatures.uploadCors ? this._templating.renderFailure(this._options.messages.unsupportedBrowser) : (this._wrapCallbacks(), this._templating.render(), this._classes = this._options.classes, !this._options.button && this._templating.getButton() && (this._defaultButtonId = this._createUploadButton({
            element: this._templating.getButton()
        }).getButtonId()), this._setupClickAndEditEventHandlers(), qq.DragAndDrop && qq.supportedFeatures.fileDrop && (this._dnd = this._setupDragAndDrop()), this._options.paste.targetElement && this._options.paste.promptForName && (qq.PasteSupport ? this._setupPastePrompt() : this.log("Paste support module not found.", "error")), this._totalFilesInBatch = 0, this._filesInBatchAddedToUi = 0)
    }, qq.extend(qq.FineUploader.prototype, qq.basePublicApi), qq.extend(qq.FineUploader.prototype, qq.basePrivateApi), qq.extend(qq.FineUploader.prototype, qq.uiPublicApi), qq.extend(qq.FineUploader.prototype, qq.uiPrivateApi), qq.Templating = function(e) {
        "use strict";

        function F(e) {
            return M(P(e), k.cancel)
        }

        function r(e) {
            return M(P(e), k.continueButton)
        }

        function l(e) {
            return M(P(e), k.deleteButton)
        }

        function t() {
            return M(a, k.dropProcessing)
        }

        function O(e) {
            return M(P(e), k.editNameIcon)
        }

        function i(e) {
            return M(P(e), k.file)
        }

        function d(e) {
            return M(P(e), k.pause)
        }

        function c(e) {
            return M(P(e), k.retry)
        }

        function q(e) {
            return M(P(e), k.size)
        }

        function s(e) {
            return M(P(e), k.spinner)
        }

        function N(e, t) {
            var i = $(e),
                e = null == e ? k.totalProgressBar : k.progressBar;
            (i = i && !qq(i).hasClass(e) ? qq(i).getByClass(e)[0] : i) && qq(i).css({
                width: t + "%"
            })
        }
        var n, R, B, u, a, h, o, p, f, m, g = "qq-file-id",
            U = "qq-file-id-",
            V = "qq-max-size",
            H = "qq-server-scale",
            z = "qq-hide-dropzone",
            v = !1,
            y = 0,
            b = !1,
            w = [],
            _ = -1,
            C = {
                log: null,
                limits: {
                    maxThumbs: 0,
                    timeBetweenThumbs: 750
                },
                templateIdOrEl: "qq-template",
                containerEl: null,
                fileContainerEl: null,
                button: null,
                imageGenerator: null,
                classes: {
                    hide: "qq-hide",
                    editable: "qq-editable"
                },
                placeholders: {
                    waitUntilUpdate: !1,
                    thumbnailNotAvailable: null,
                    waitingForThumbnail: null
                },
                text: {
                    paused: "Paused"
                }
            },
            k = {
                button: "qq-upload-button-selector",
                drop: "qq-upload-drop-area-selector",
                list: "qq-upload-list-selector",
                progressBarContainer: "qq-progress-bar-container-selector",
                progressBar: "qq-progress-bar-selector",
                totalProgressBarContainer: "qq-total-progress-bar-container-selector",
                totalProgressBar: "qq-total-progress-bar-selector",
                file: "qq-upload-file-selector",
                spinner: "qq-upload-spinner-selector",
                size: "qq-upload-size-selector",
                cancel: "qq-upload-cancel-selector",
                pause: "qq-upload-pause-selector",
                continueButton: "qq-upload-continue-selector",
                deleteButton: "qq-upload-delete-selector",
                retry: "qq-upload-retry-selector",
                statusText: "qq-upload-status-text-selector",
                editFilenameInput: "qq-edit-filename-selector",
                editNameIcon: "qq-edit-filename-icon-selector",
                dropProcessing: "qq-drop-processing-selector",
                dropProcessingSpinner: "qq-drop-processing-spinner-selector",
                thumbnail: "qq-thumbnail-selector"
            },
            x = {},
            S = new qq.Promise,
            T = new qq.Promise,
            E = function(t) {
                var i = new qq.Promise;
                return T.then(function(e) {
                    Y(e, t), t.src ? i.success() : (t.src = e.src, t.onload = function() {
                        t.onload = null, j(t), i.success()
                    })
                }, function() {
                    I(t), i.success()
                }), i
            },
            W = function(e, t, i) {
                var s = D(e);
                return n("Generating new thumbnail for " + e), t.qqThumbnailId = e, C.imageGenerator.generate(t, s, i).then(function() {
                    y++, j(s), x[e].success()
                }, function() {
                    x[e].failure(), C.placeholders.waitUntilUpdate || L(e, s)
                })
            },
            A = function() {
                var e;
                w.length ? (b = !0, ((e = w.shift()).update ? X : G)(e)) : b = !1
            },
            P = function(e) {
                return qq(h).getByClass(U + e)[0]
            },
            $ = function(e) {
                return null == e ? M(a, k.totalProgressBarContainer) || M(a, k.totalProgressBar) : M(P(e), k.progressBarContainer) || M(P(e), k.progressBar)
            },
            M = function(e, t) {
                return e && qq(e).getByClass(t)[0]
            },
            D = function(e) {
                return o && M(P(e), k.thumbnail)
            },
            I = function(e) {
                e && qq(e).addClass(C.classes.hide)
            },
            Y = function(e, t) {
                var i = e.style.maxWidth,
                    e = e.style.maxHeight;
                e && i && !t.style.maxWidth && !t.style.maxHeight && qq(t).css({
                    maxWidth: i,
                    maxHeight: e
                })
            },
            L = function(e, t) {
                var i = x[e] || (new qq.Promise).failure(),
                    s = new qq.Promise;
                return S.then(function(e) {
                    i.then(function() {
                        s.success()
                    }, function() {
                        Y(e, t), t.onload = function() {
                            t.onload = null, s.success()
                        }, t.src = e.src, j(t)
                    })
                }), s
            },
            G = function(e) {
                var t = e.id,
                    i = e.optFileOrBlob,
                    s = i && i.qqThumbnailId,
                    e = D(t),
                    n = {
                        maxSize: _,
                        scale: !0,
                        orient: !0
                    };
                qq.supportedFeatures.imagePreviews ? e && (C.limits.maxThumbs && C.limits.maxThumbs <= y ? (L(t, e), A()) : E(e).done(function() {
                    x[t] = new qq.Promise, x[t].done(function() {
                        setTimeout(A, C.limits.timeBetweenThumbs)
                    }), null != s ? J(t, s) : W(t, i, n)
                })) : e && (E(e), A())
            },
            X = function(e) {
                var t = e.id,
                    i = e.thumbnailUrl,
                    e = e.showWaitingImg,
                    s = D(t),
                    n = {
                        maxSize: _,
                        scale: p
                    };
                if (s) {
                    if (i && !(C.limits.maxThumbs && C.limits.maxThumbs <= y)) return e && E(s), C.imageGenerator.generate(i, s, n).then(function() {
                        j(s), y++, setTimeout(A, C.limits.timeBetweenThumbs)
                    }, function() {
                        L(t, s), setTimeout(A, C.limits.timeBetweenThumbs)
                    });
                    L(t, s), A()
                }
            },
            j = function(e) {
                e && qq(e).removeClass(C.classes.hide)
            },
            J = function(e, t) {
                var i = D(e),
                    s = D(t);
                n(qq.format("ID {} is the same file as ID {}.  Will use generated thumbnail from ID {} instead.", e, t, t)), x[t].then(function() {
                    y++, x[e].success(), n(qq.format("Now using previously generated thumbnail created for ID {} on ID {}.", t, e)), i.src = s.src, j(i)
                }, function() {
                    x[e].failure(), C.placeholders.waitUntilUpdate || L(e, i)
                })
            };
        qq.extend(C, e), n = C.log, qq.supportedFeatures.imagePreviews || (C.limits.timeBetweenThumbs = 0, C.limits.maxThumbs = 0), a = C.containerEl, o = void 0 !== C.imageGenerator, u = function() {
            var e, t, i;
            if (n("Parsing template"), null == C.templateIdOrEl) throw new Error("You MUST specify either a template element or ID!");
            if (qq.isString(C.templateIdOrEl)) {
                if (null === (i = document.getElementById(C.templateIdOrEl))) throw new Error(qq.format("Cannot find template script at ID '{}'!", C.templateIdOrEl));
                i = i.innerHTML
            } else {
                if (void 0 === C.templateIdOrEl.innerHTML) throw new Error("You have specified an invalid value for the template option!  It must be an ID or an Element.");
                i = C.templateIdOrEl.innerHTML
            }
            if (i = qq.trimStr(i), (e = document.createElement("div")).appendChild(qq.toElement(i)), C.button && (i = qq(e).getByClass(k.button)[0]) && qq(i).remove(), qq.DragAndDrop && qq.supportedFeatures.fileDrop || (i = qq(e).getByClass(k.dropProcessing)[0]) && qq(i).remove(), (i = qq(e).getByClass(k.drop)[0]) && !qq.DragAndDrop && (n("DnD module unavailable.", "info"), qq(i).remove()), i && !qq.supportedFeatures.fileDrop && qq(i).hasAttribute(z) && qq(i).css({
                    display: "none"
                }), i = qq(e).getByClass(k.thumbnail)[0], o ? i && (_ = 0 < (_ = parseInt(i.getAttribute(V))) ? _ : null, p = qq(i).hasAttribute(H)) : i && qq(i).remove(), o = o && i, R = 0 < qq(e).getByClass(k.editFilenameInput).length, B = 0 < qq(e).getByClass(k.retry).length, null == (i = qq(e).getByClass(k.list)[0])) throw new Error("Could not find the file list container in the template!");
            return t = i.innerHTML, i.innerHTML = "", n("Template parsing complete"), {
                template: qq.trimStr(e.innerHTML),
                fileTemplate: qq.trimStr(t)
            }
        }(), f = C.placeholders.thumbnailNotAvailable, m = C.placeholders.waitingForThumbnail, e = {
            maxSize: _,
            scale: p
        }, o && (f ? C.imageGenerator.generate(f, new Image, e).then(function(e) {
            S.success(e)
        }, function() {
            S.failure(), n("Problem loading 'not available' placeholder image at " + f, "error")
        }) : S.failure(), m ? C.imageGenerator.generate(m, new Image, e).then(function(e) {
            T.success(e)
        }, function() {
            T.failure(), n("Problem loading 'waiting for thumbnail' placeholder image at " + m, "error")
        }) : T.failure()), qq.extend(this, {
            render: function() {
                n("Rendering template in DOM."), y = 0, a.innerHTML = u.template, I(t()), this.hideTotalProgress(), h = C.fileContainerEl || M(a, k.list), n("Template rendering complete")
            },
            renderFailure: function(e) {
                e = qq.toElement(e);
                a.innerHTML = "", a.appendChild(e)
            },
            reset: function() {
                this.render()
            },
            clearFiles: function() {
                h.innerHTML = ""
            },
            disableCancel: function() {
                v = !0
            },
            addFile: function(e, t, i) {
                var s, n, a = qq.toElement(u.fileTemplate),
                    o = M(a, k.file);
                qq(a).addClass(U + e), o && qq(o).setText(t), a.setAttribute(g, e), i ? (o = a, t = i.index, n = (i = h).firstChild, 0 < t && (n = qq(i).children()[t].nextSibling), i.insertBefore(o, n)) : h.appendChild(a), I($(e)), I(q(e)), I(l(e)), I(c(e)), I(d(e)), I(r(e)), v && this.hideCancel(e), (s = D(e)) && !s.src && T.then(function(e) {
                    s.src = e.src, e.style.maxHeight && e.style.maxWidth && qq(s).css({
                        maxHeight: e.style.maxHeight,
                        maxWidth: e.style.maxWidth
                    }), j(s)
                })
            },
            removeFile: function(e) {
                qq(P(e)).remove()
            },
            getFileId: function(e) {
                var t = e;
                if (t) {
                    for (; null == t.getAttribute(g);) t = t.parentNode;
                    return parseInt(t.getAttribute(g))
                }
            },
            getFileList: function() {
                return h
            },
            markFilenameEditable: function(e) {
                e = i(e);
                e && qq(e).addClass(C.classes.editable)
            },
            updateFilename: function(e, t) {
                e = i(e);
                e && qq(e).setText(t)
            },
            hideFilename: function(e) {
                I(i(e))
            },
            showFilename: function(e) {
                j(i(e))
            },
            isFileName: function(e) {
                return qq(e).hasClass(k.file)
            },
            getButton: function() {
                return C.button || M(a, k.button)
            },
            hideDropProcessing: function() {
                I(t())
            },
            showDropProcessing: function() {
                j(t())
            },
            getDropZone: function() {
                return M(a, k.drop)
            },
            isEditFilenamePossible: function() {
                return R
            },
            hideRetry: function(e) {
                I(c(e))
            },
            isRetryPossible: function() {
                return B
            },
            showRetry: function(e) {
                j(c(e))
            },
            getFileContainer: function(e) {
                return P(e)
            },
            showEditIcon: function(e) {
                e = O(e);
                e && qq(e).addClass(C.classes.editable)
            },
            hideEditIcon: function(e) {
                e = O(e);
                e && qq(e).removeClass(C.classes.editable)
            },
            isEditIcon: function(e) {
                return qq(e).hasClass(k.editNameIcon)
            },
            getEditInput: function(e) {
                return M(P(e), k.editFilenameInput)
            },
            isEditInput: function(e) {
                return qq(e).hasClass(k.editFilenameInput)
            },
            updateProgress: function(e, t, i) {
                var s = $(e);
                s && 0 < i && ((100 === (t = Math.round(t / i * 100)) ? I : j)(s), N(e, t))
            },
            updateTotalProgress: function(e, t) {
                this.updateProgress(null, e, t)
            },
            hideProgress: function(e) {
                e = $(e);
                e && I(e)
            },
            hideTotalProgress: function() {
                this.hideProgress()
            },
            resetProgress: function(e) {
                N(e, 0), this.hideTotalProgress(e)
            },
            resetTotalProgress: function() {
                this.resetProgress()
            },
            showCancel: function(e) {
                v || (e = F(e)) && qq(e).removeClass(C.classes.hide)
            },
            hideCancel: function(e) {
                I(F(e))
            },
            isCancel: function(e) {
                return qq(e).hasClass(k.cancel)
            },
            allowPause: function(e) {
                j(d(e)), I(r(e))
            },
            uploadPaused: function(e) {
                this.setStatusText(e, C.text.paused), this.allowContinueButton(e), I(s(e))
            },
            hidePause: function(e) {
                I(d(e))
            },
            isPause: function(e) {
                return qq(e).hasClass(k.pause)
            },
            isContinueButton: function(e) {
                return qq(e).hasClass(k.continueButton)
            },
            allowContinueButton: function(e) {
                j(r(e)), I(d(e))
            },
            uploadContinued: function(e) {
                this.setStatusText(e, ""), this.allowPause(e), j(s(e))
            },
            showDeleteButton: function(e) {
                j(l(e))
            },
            hideDeleteButton: function(e) {
                I(l(e))
            },
            isDeleteButton: function(e) {
                return qq(e).hasClass(k.deleteButton)
            },
            isRetry: function(e) {
                return qq(e).hasClass(k.retry)
            },
            updateSize: function(e, t) {
                e = q(e);
                e && (j(e), qq(e).setText(t))
            },
            setStatusText: function(e, t) {
                e = M(P(e), k.statusText);
                e && (null == t ? qq(e).clearText() : qq(e).setText(t))
            },
            hideSpinner: function(e) {
                I(s(e))
            },
            showSpinner: function(e) {
                j(s(e))
            },
            generatePreview: function(e, t) {
                w.push({
                    id: e,
                    optFileOrBlob: t
                }), b || A()
            },
            updateThumbnail: function(e, t, i) {
                w.push({
                    update: !0,
                    id: e,
                    thumbnailUrl: t,
                    showWaitingImg: i
                }), b || A()
            }
        })
    }, qq.traditional = qq.traditional || {}, qq.traditional.FormUploadHandler = function(c, e) {
        "use strict";
        var u = this,
            h = e.getName,
            p = e.getUuid,
            f = e.log;
        this.uploadFile = function(t) {
            var e, i, s, n, a, o, r = u.getInput(t),
                l = u._createIframe(t),
                d = new qq.Promise;
            return e = t, i = l, s = c.paramsStore.get(e), n = c.demoMode ? "GET" : "POST", a = c.endpointStore.get(e), o = h(e), s[c.uuidName] = p(e), s[c.filenameParam] = o, (e = u._initFormForUpload({
                method: n,
                endpoint: a,
                params: s,
                paramsInBody: c.paramsInBody,
                targetName: i.name
            })).appendChild(r), u._attachLoadEvent(l, function(e) {
                f("iframe loaded");
                e = e || function(e) {
                    var t, i, s;
                    try {
                        s = (i = e.contentDocument || e.contentWindow.document).body.innerHTML, f("converting iframe's innerHTML to JSON"), f("innerHTML = " + s), s && s.match(/^<pre/i) && (s = i.body.firstChild.firstChild.nodeValue), t = u._parseJsonResponse(s)
                    } catch (e) {
                        f("Error when attempting to parse form upload response (" + e.message + ")", "error"), t = {
                            success: !1
                        }
                    }
                    return t
                }(l);
                u._detachLoadEvent(t), c.cors.expected || qq(l).remove(), e.success ? d.success(e) : d.failure(e)
            }), f("Sending upload request for " + t), e.submit(), qq(e).remove(), d
        }, qq.extend(this, new qq.FormUploadHandler({
            options: {
                isCors: c.cors.expected,
                inputName: c.inputName
            },
            proxy: {
                onCancel: c.onCancel,
                getName: h,
                getUuid: p,
                log: f
            }
        }))
    }, qq.traditional = qq.traditional || {}, qq.traditional.XhrUploadHandler = function(c, e) {
        "use strict";

        function u(t, i) {
            var s = new qq.Promise;
            return i.onreadystatechange = function() {
                var e;
                4 === i.readyState && ((e = o(t, i)).success ? s.success(e.response, i) : s.failure(e.response, i))
            }, s
        }

        function h(e, t, i, s) {
            var n = new FormData,
                a = c.demoMode ? "GET" : "POST",
                o = c.endpointStore.get(s),
                r = m(s),
                l = g(s);
            return e[c.uuidName] = d(s), e[c.filenameParam] = r, v && (e[c.totalFileSizeName] = l), c.paramsInBody || (v || (e[c.inputName] = r), o = qq.obj2url(e, o)), t.open(a, o, !0), c.cors.expected && c.cors.sendCredentials && (t.withCredentials = !0), v ? (c.paramsInBody && qq.obj2FormData(e, n), n.append(c.inputName, i), n) : i
        }

        function p(e, i) {
            var t = c.customHeaders.get(e),
                e = f.getFile(e);
            i.setRequestHeader("Accept", "application/json"), i.setRequestHeader("X-Requested-With", "XMLHttpRequest"), i.setRequestHeader("Cache-Control", "no-cache"), v || (i.setRequestHeader("Content-Type", "application/octet-stream"), i.setRequestHeader("X-Mime-Type", e.type)), qq.each(t, function(e, t) {
                i.setRequestHeader(e, t)
            })
        }
        var f = this,
            m = e.getName,
            g = e.getSize,
            d = e.getUuid,
            s = e.log,
            v = c.forceMultipart || c.paramsInBody,
            n = new qq.traditional.AllChunksDoneAjaxRequester({
                cors: c.cors,
                endpoint: c.chunking.success.endpoint,
                log: s
            }),
            a = function(e) {
                var t = c.paramsStore.get(e),
                    i = m(e),
                    s = g(e);
                return t[c.uuidName] = d(e), t[c.filenameParam] = i, t[c.totalFileSizeName] = s, t[c.chunking.paramNames.totalParts] = f._getTotalChunks(e), t
            },
            i = function(e, t) {
                return 200 !== e.status || !t.success || t.reset
            },
            o = function(e, t) {
                return s("xhr - server response received for " + e), s("responseText = " + t.responseText), e = r(!0, t), {
                    success: !i(t, e),
                    response: e
                }
            },
            r = function(t, e) {
                var i = {};
                try {
                    s(qq.format("Received response status {} with body: {}", e.status, e.responseText)), i = qq.parseJson(e.responseText)
                } catch (e) {
                    t && s("Error when attempting to parse xhr response text (" + e.message + ")", "error")
                }
                return i
            };
        qq.extend(this, {
            uploadChunk: function(e, t, i) {
                var s, n, a, o, r, l = f._getChunkData(e, t),
                    d = f._createXhr(e, t);
                return g(e), s = u(e, d), f._registerProgressHandler(e, t, l.size), t = c.paramsStore.get(e), a = t, o = l, r = g(n = e), n = m(n), a[c.chunking.paramNames.partIndex] = o.part, a[c.chunking.paramNames.partByteOffset] = o.start, a[c.chunking.paramNames.chunkSize] = o.size, a[c.chunking.paramNames.totalParts] = o.count, a[c.totalFileSizeName] = r, v && (a[c.filenameParam] = n), i && (t[c.resume.paramNames.resuming] = !0), o = h(t, d, l.blob, e), p(e, d), d.send(o), s
            },
            uploadFile: function(e) {
                var t, i, s = f.getFile(e),
                    n = f._createXhr(e);
                return f._registerProgressHandler(e), t = u(e, n), i = c.paramsStore.get(e), i = h(i, n, s, e), p(e, n), n.send(i), t
            }
        }), qq.extend(this, new qq.XhrUploadHandler({
            options: qq.extend({
                namespace: "traditional"
            }, c),
            proxy: qq.extend({
                getEndpoint: c.endpointStore.get
            }, e)
        })), qq.override(this, function(s) {
            return {
                finalizeChunks: function(e) {
                    return c.chunking.success.endpoint ? (t = e, i = new qq.Promise, n.complete(t, f._createXhr(t), a(t), c.customHeaders.get(t)).then(function(e) {
                        i.success(r(!1, e), e)
                    }, function(e) {
                        i.failure(r(!1, e), e)
                    }), i) : s.finalizeChunks(e, qq.bind(r, this, !0));
                    var t, i
                }
            }
        })
    }, qq.traditional.AllChunksDoneAjaxRequester = function(e) {
        "use strict";
        var a, o = {
                cors: {
                    allowXdr: !1,
                    expected: !1,
                    sendCredentials: !1
                },
                endpoint: null,
                log: function() {}
            },
            r = {},
            t = {
                get: function() {
                    return o.endpoint
                }
            };
        qq.extend(o, e), a = qq.extend(this, new qq.AjaxRequester({
            acceptHeader: "application/json",
            validMethods: ["POST"],
            method: "POST",
            successfulResponseCodes: {
                POST: [200, 201, 202]
            },
            endpointStore: t,
            allowXRequestedWithAndCacheControl: !1,
            cors: o.cors,
            log: o.log,
            onComplete: function(e, t, i) {
                var s = r[e];
                delete r[e], i ? s.failure(t) : s.success(t)
            }
        })), qq.extend(this, {
            complete: function(e, t, i, s) {
                var n = new qq.Promise;
                return o.log("Submitting All Chunks Done request for " + e), r[e] = n, a.initTransport(e).withParams(i).withHeaders(s).send(t), n
            }
        })
    }, qq.PasteSupport = function(e) {
        "use strict";
        var t, s = {
            targetElement: null,
            callbacks: {
                log: function() {},
                pasteReceived: function() {}
            }
        };
        qq.extend(s, e), t = qq(s.targetElement).attach("paste", function(e) {
            e = e.clipboardData;
            e && qq.each(e.items, function(e, t) {
                var i;
                (i = t).type && 0 === i.type.indexOf("image/") && (i = t.getAsFile(), s.callbacks.pasteReceived(i))
            })
        }), qq.extend(this, {
            reset: function() {
                t && t()
            }
        })
    }, qq.DragAndDrop = function(e) {
        "use strict";

        function o(s) {
            var n = new qq.Promise;
            return s.isFile ? s.file(function(e) {
                var t = s.name,
                    i = s.fullPath,
                    t = i.indexOf(t);
                "/" === (i = i.substr(0, t)).charAt(0) && (i = i.substr(1)), e.qqPath = i, c.push(e), n.success()
            }, function(e) {
                r.callbacks.dropLog("Problem parsing '" + s.fullPath + "'.  FileError code " + e.code + ".", "error"), n.failure()
            }) : s.isDirectory && function i(s, e, n, t) {
                var a = t || new qq.Promise,
                    o = e || s.createReader();
                return o.readEntries(function(e) {
                    var t = n ? n.concat(e) : e;
                    e.length ? setTimeout(function() {
                        i(s, o, t, a)
                    }, 0) : a.success(t)
                }, a.failure), a
            }(s).then(function(e) {
                var i = e.length;
                qq.each(e, function(e, t) {
                    o(t).done(function() {
                        0 === --i && n.success()
                    })
                }), e.length || n.success()
            }, function(e) {
                r.callbacks.dropLog("Problem parsing '" + s.fullPath + "'.  FileError code " + e.code + ".", "error"), n.failure()
            }), n
        }

        function i(t) {
            var a = new qq.UploadDropZone({
                HIDE_ZONES_EVENT_NAME: s,
                element: t,
                onEnter: function(e) {
                    qq(t).addClass(r.classes.dropActive), e.stopPropagation()
                },
                onLeaveNotDescendants: function() {
                    qq(t).removeClass(r.classes.dropActive)
                },
                onDrop: function(e) {
                    var t, s, n;
                    e = e.dataTransfer, t = a, s = [], n = new qq.Promise, r.callbacks.processingDroppedFiles(), t.dropDisabled(!0), 1 < e.files.length && !r.allowMultipleItems ? (r.callbacks.processingDroppedFilesComplete([]), r.callbacks.dropError("tooManyFilesError", ""), t.dropDisabled(!1), n.failure()) : (c = [], qq.isFolderDropSupported(e) ? qq.each(e.items, function(e, t) {
                        var i = t.webkitGetAsEntry();
                        i && (i.isFile ? c.push(t.getAsFile()) : s.push(o(i).done(function() {
                            s.pop(), 0 === s.length && n.success()
                        })))
                    }) : c = e.files, 0 === s.length && n.success()), n.then(function() {
                        var e, t, i;
                        e = c, t = a, i = Array.prototype.slice.call(e), r.callbacks.dropLog("Grabbed " + e.length + " dropped files."), t.dropDisabled(!1), r.callbacks.processingDroppedFilesComplete(i, t.getElement())
                    }, function() {
                        r.callbacks.dropLog("Drop event DataTransfer parsing failed.  No files will be uploaded.", "error")
                    })
                }
            });
            return u.addDisposer(function() {
                a.dispose()
            }), qq(t).hasAttribute(l) && qq(t).hide(), d.push(a), a
        }
        var r, n, s = "qq-hidezones",
            l = "qq-hide-dropzone",
            d = [],
            c = [],
            u = new qq.DisposeSupport;

        function t() {
            setTimeout(function() {
                qq.each(n, function(e, t) {
                    qq(t).hasAttribute(l) && qq(t).hide(), qq(t).removeClass(r.classes.dropActive)
                })
            }, 10)
        }
        r = {
            dropZoneElements: [],
            allowMultipleItems: !0,
            classes: {
                dropActive: null
            },
            callbacks: new qq.DragAndDrop.callbacks
        }, qq.extend(r, e, !0), n = r.dropZoneElements, qq.each(n, function(e, t) {
            var s = i(t);
            n.length && qq.supportedFeatures.fileDrop && u.attach(document, "dragenter", function(e) {
                var i;
                !s.dropDisabled() && (qq.each(e.dataTransfer.types, function(e, t) {
                    return "Files" === t ? !(i = !0) : void 0
                }), i) && qq.each(n, function(e, t) {
                    t instanceof HTMLElement && qq(t).hasAttribute(l) && qq(t).css({
                        display: "block"
                    })
                })
            })
        }), u.attach(document, "dragleave", function(e) {
            e = e, (qq.firefox() ? !e.relatedTarget : qq.safari() ? e.x < 0 || e.y < 0 : 0 === e.x && 0 === e.y) && t()
        }), u.attach(qq(document).children()[0], "mouseenter", function() {
            t()
        }), u.attach(document, "drop", function(e) {
            e.preventDefault(), t()
        }), u.attach(document, s, t), qq.extend(this, {
            setupExtraDropzone: function(e) {
                r.dropZoneElements.push(e), i(e)
            },
            removeDropzone: function(e) {
                var t, i = r.dropZoneElements;
                for (t in i)
                    if (i[t] === e) return i.splice(t, 1)
            },
            dispose: function() {
                u.dispose(), qq.each(d, function(e, t) {
                    t.dispose()
                })
            }
        })
    }, qq.DragAndDrop.callbacks = function() {
        "use strict";
        return {
            processingDroppedFiles: function() {},
            processingDroppedFilesComplete: function() {},
            dropError: function(e, t) {
                qq.log("Drag & drop error code '" + e + " with these specifics: '" + t + "'", "error")
            },
            dropLog: function(e, t) {
                qq.log(e, t)
            }
        }
    }, qq.UploadDropZone = function(e) {
        "use strict";

        function s(e) {
            var t, i;
            if (qq.supportedFeatures.fileDrop) return e = e.dataTransfer, t = qq.safari(), i = !(!qq.ie() || !qq.supportedFeatures.fileDrop) || "none" !== e.effectAllowed, e && i && (e.files || !t && e.types.contains && e.types.contains("Files"))
        }

        function n(e) {
            return i = void 0 !== e ? e : i
        }
        var t, i, a, o = new qq.DisposeSupport,
            r = {
                element: null,
                onEnter: function() {},
                onLeave: function() {},
                onLeaveNotDescendants: function() {},
                onDrop: function() {}
            };
        qq.extend(r, e), t = r.element, a || (o.attach(document, "dragover", function(e) {
            e.preventDefault()
        }), a = !0), o.attach(t, "dragover", function(e) {
            var t;
            s(e) && (t = qq.ie() && qq.supportedFeatures.fileDrop ? null : e.dataTransfer.effectAllowed, e.dataTransfer.dropEffect = "move" === t || "linkMove" === t ? "move" : "copy", e.stopPropagation(), e.preventDefault())
        }), o.attach(t, "dragenter", function(e) {
            n() || s(e) && r.onEnter(e)
        }), o.attach(t, "dragleave", function(e) {
            var t;
            s(e) && (r.onLeave(e), t = document.elementFromPoint(e.clientX, e.clientY), qq(this).contains(t) || r.onLeaveNotDescendants(e))
        }), o.attach(t, "drop", function(e) {
            if (!n() && s(e)) {
                function t() {
                    (i = document.createEvent("Event")).initEvent(r.HIDE_ZONES_EVENT_NAME, !0, !0)
                }
                var i;
                if (e.preventDefault(), e.stopPropagation(), r.onDrop(e), window.CustomEvent) try {
                    i = new CustomEvent(r.HIDE_ZONES_EVENT_NAME)
                } catch (e) {
                    t()
                } else t();
                document.dispatchEvent(i)
            }
        }), qq.extend(this, {
            dropDisabled: n,
            dispose: function() {
                o.dispose()
            },
            getElement: function() {
                return t
            }
        })
    }, qq.DeleteFileAjaxRequester = function(e) {
        "use strict";
        var s, n = {
            method: "DELETE",
            uuidParamName: "qquuid",
            endpointStore: {},
            maxConnections: 3,
            customHeaders: function() {
                return {}
            },
            paramsStore: {},
            demoMode: !1,
            cors: {
                expected: !1,
                sendCredentials: !1
            },
            log: function() {},
            onDelete: function() {},
            onDeleteComplete: function() {}
        };
        qq.extend(n, e), s = qq.extend(this, new qq.AjaxRequester({
            acceptHeader: "application/json",
            validMethods: ["POST", "DELETE"],
            method: n.method,
            endpointStore: n.endpointStore,
            paramsStore: n.paramsStore,
            mandatedParams: "POST" === n.method.toUpperCase() ? {
                _method: "DELETE"
            } : {},
            maxConnections: n.maxConnections,
            customHeaders: function(e) {
                return n.customHeaders.get(e)
            },
            demoMode: n.demoMode,
            log: n.log,
            onSend: n.onDelete,
            onComplete: n.onDeleteComplete,
            cors: n.cors
        })), qq.extend(this, {
            sendDelete: function(e, t, i) {
                i = i || {};
                n.log("Submitting delete file request for " + e), ("DELETE" === n.method ? s.initTransport(e).withPath(t) : (i[n.uuidParamName] = t, s.initTransport(e))).withParams(i).send()
            }
        })
    }, function() {
        function h(e, t, i, s) {
            var n, a, o = e.naturalWidth,
                r = e.naturalHeight,
                l = i.width,
                d = i.height,
                c = t.getContext("2d"),
                u = (c.save(), qq.supportedFeatures.unlimitedScaledImageSize || (f = function(e) {
                    if (qq.ios()) return 5241e3 < e.origHeight * e.origWidth ? {
                        newHeight: Math.round(Math.sqrt(e.origHeight / e.origWidth * 5241e3)),
                        newWidth: Math.round(Math.sqrt(e.origWidth / e.origHeight * 5241e3))
                    } : void 0;
                    throw new qq.Error("Downsampled dimensions can only be reliably calculated for iOS!")
                }({
                    origWidth: l,
                    origHeight: d
                })) && (qq.log(qq.format("Had to reduce dimensions due to device limitations from {}w / {}h to {}w / {}h", l, d, f.newWidth, f.newHeight), "warn"), l = f.newWidth, d = f.newHeight), t),
                h = l,
                p = d,
                f = i.orientation;
            switch (f) {
                case 5:
                case 6:
                case 7:
                case 8:
                    u.width = p, u.height = h;
                    break;
                default:
                    u.width = h, u.height = p
            }
            var m = u.getContext("2d");
            switch (f) {
                case 2:
                    m.translate(h, 0), m.scale(-1, 1);
                    break;
                case 3:
                    m.translate(h, p), m.rotate(Math.PI);
                    break;
                case 4:
                    m.translate(0, p), m.scale(1, -1);
                    break;
                case 5:
                    m.rotate(.5 * Math.PI), m.scale(1, -1);
                    break;
                case 6:
                    m.rotate(.5 * Math.PI), m.translate(0, -p);
                    break;
                case 7:
                    m.rotate(.5 * Math.PI), m.translate(h, -p), m.scale(-1, 1);
                    break;
                case 8:
                    m.rotate(-.5 * Math.PI), m.translate(-h, 0)
            }
            if (qq.ios()) {
                n = (i = e).naturalWidth, a = i.naturalHeight, w = document.createElement("canvas"), 1048576 < n * a && (w.width = w.height = 1, (a = w.getContext("2d")).drawImage(i, 1 - n, 0), 0 === a.getImageData(0, 0, 1, 1).data[3]) && (o /= 2, r /= 2);
                var g, v, y, b = document.createElement("canvas"),
                    w = s ? function(e, t) {
                        var i, s = document.createElement("canvas"),
                            n = 0,
                            a = t,
                            o = t;
                        for (s.width = 1, s.height = t, (s = s.getContext("2d")).drawImage(e, 0, 0), i = s.getImageData(0, 0, 1, t).data; n < o;) 0 === i[4 * (o - 1) + 3] ? a = o : n = o, o = a + n >> 1;
                        return 0 == (e = o / t) ? 1 : e
                    }(e, r) : 1,
                    _ = Math.ceil(1024 * l / o),
                    C = Math.ceil(1024 * d / r / w),
                    k = 0,
                    x = 0;
                for (b.width = b.height = 1024, g = b.getContext("2d"); k < r;) {
                    for (y = v = 0; v < o;) g.clearRect(0, 0, 1024, 1024), g.drawImage(e, -v, -k), c.drawImage(b, 0, 0, 1024, 1024, y, x, _, C), v += 1024, y += _;
                    k += 1024, x += C
                }
                c.restore()
            } else c.drawImage(e, 0, 0, l, d);
            t.qqImageRendered && t.qqImageRendered()
        }

        function e(e, t) {
            var s = this;
            if (window.Blob && e instanceof Blob) {
                var i = new Image,
                    n = window.URL && window.URL.createObjectURL ? window.URL : window.webkitURL && window.webkitURL.createObjectURL ? window.webkitURL : null;
                if (!n) throw Error("No createObjectURL function found to create blob url");
                i.src = n.createObjectURL(e), s.blob = e, e = i
            }
            e.naturalWidth || e.naturalHeight || (e.onload = function() {
                var i = s.imageLoadListeners;
                i && (s.imageLoadListeners = null, setTimeout(function() {
                    for (var e = 0, t = i.length; e < t; e++) i[e]()
                }, 0))
            }, e.onerror = t, this.imageLoadListeners = []), this.srcImage = e
        }
        e.prototype.render = function(e, t) {
            t = t || {};
            var i, s = this,
                n = this.srcImage.naturalWidth,
                a = this.srcImage.naturalHeight,
                o = t.width,
                r = t.height,
                l = t.maxWidth,
                d = t.maxHeight,
                c = !this.blob || "image/jpeg" === this.blob.type,
                u = e.tagName.toLowerCase();
            return this.imageLoadListeners ? void this.imageLoadListeners.push(function() {
                s.render(e, t)
            }) : (o && !r ? r = a * o / n << 0 : r && !o ? o = n * r / a << 0 : (o = n, r = a), l && l < o && (r = a * (o = l) / n << 0), d && d < r && (o = n * (r = d) / a << 0), i = {
                width: o,
                height: r
            }, qq.each(t, function(e, t) {
                i[e] = t
            }), "img" === u ? (l = e.src, e.src = (n = s.srcImage, d = i, a = c, o = document.createElement("canvas"), r = d.mime || "image/jpeg", h(n, o, d, a), o.toDataURL(r, d.quality || .8)), l === e.src && e.onload()) : "canvas" === u && h(this.srcImage, e, i, c), void("function" == typeof this.onrender && this.onrender(e)))
        }, qq.MegaPixImage = e
    }(), qq.ImageGenerator = function(d) {
        "use strict";

        function r(e) {
            return "img" === e.tagName.toLowerCase()
        }

        function l(e) {
            return "canvas" === e.tagName.toLowerCase()
        }

        function o(e) {
            var t, i = document.createElement("a");
            return i.href = e, e = i.protocol, t = i.port, i = i.hostname, e.toLowerCase() !== window.location.protocol.toLowerCase() || i.toLowerCase() !== window.location.hostname.toLowerCase() || t !== window.location.port && !qq.ie()
        }

        function c(e, t) {
            var i, s, n, a, o = r(e) || l(e);
            return r(e) ? (a = t, (n = e).onload = function() {
                n.onload = null, n.onerror = null, a.success(n)
            }, n.onerror = function() {
                n.onload = null, n.onerror = null, d("Problem drawing thumbnail!", "error"), a.failure(n, "Problem drawing thumbnail!")
            }) : l(e) ? (s = t, (i = e).qqImageRendered = function() {
                s.success(i)
            }) : (t.failure(e), d(qq.format("Element container of type {} is not supported!", e.tagName), "error")), o
        }

        function a(e, t, i, s) {
            var n = new Image,
                a = new qq.Promise;
            c(n, a), o(e) && (n.crossOrigin = "anonymous"), n.src = e, a.then(function() {
                c(t, i), new qq.MegaPixImage(n).render(t, {
                    maxWidth: s,
                    maxHeight: s,
                    mime: function(e) {
                        switch (e = (e = e.split("/"))[e.length - 1], e = (e = qq.getExtension(e)) && e.toLowerCase()) {
                            case "jpeg":
                            case "jpg":
                                return "image/jpeg";
                            case "png":
                                return "image/png";
                            case "bmp":
                                return "image/bmp";
                            case "gif":
                                return "image/gif";
                            case "tiff":
                            case "tif":
                                return "image/tiff"
                        }
                    }(e)
                })
            }, i.failure)
        }

        function u(e, t, i, s) {
            c(t, i), qq(t).css({
                maxWidth: s + "px",
                maxHeight: s + "px"
            }), t.src = e
        }

        function h(e, t, i) {
            var s = new qq.Promise,
                n = i.scale,
                i = n ? i.maxSize : null;
            return n && r(t) ? (!(n = document.createElement("canvas")).getContext || !n.getContext("2d") || o(e) && void 0 === (new Image).crossOrigin ? u : a)(e, t, s, i) : l(t) ? a(e, t, s, i) : c(t, s) && (t.src = e), s
        }
        qq.extend(this, {
            generate: function(e, t, i) {
                return qq.isString(e) ? (d("Attempting to update thumbnail based on server response."), h(e, t, i || {})) : (d("Attempting to draw client-side image preview."), n = e, a = t, e = i || {}, o = new qq.Promise, t = new qq.Identify(n, d), r = e.maxSize, l = null == e.orient || e.orient, t.isPreviewable().then(function(t) {
                    var e = {
                            parse: function() {
                                return (new qq.Promise).success()
                            }
                        },
                        e = l ? new qq.Exif(n, d) : e,
                        i = new qq.MegaPixImage(n, s);
                    c(a, o) && e.parse().then(function(e) {
                        e = e && e.Orientation;
                        i.render(a, {
                            maxWidth: r,
                            maxHeight: r,
                            orientation: e,
                            mime: t
                        })
                    }, function(e) {
                        d(qq.format("EXIF data could not be parsed ({}).  Assuming orientation = 1.", e)), i.render(a, {
                            maxWidth: r,
                            maxHeight: r,
                            mime: t
                        })
                    })
                }, function() {
                    d("Not previewable"), o.failure(a, "Not previewable")
                }), o);

                function s() {
                    a.onerror = null, a.onload = null, d("Could not render preview, file may be too large!", "error"), o.failure(a, "Browser cannot render image!")
                }
                var n, a, o, r, l
            }
        })
    }, qq.Exif = function(o, d) {
        "use strict";

        function c(e) {
            for (var t = 0, i = 0; 0 < e.length;) t += parseInt(e.substring(0, 2), 16) * Math.pow(2, i), e = e.substring(2, e.length), i += 8;
            return t
        }

        function e() {
            var t = new qq.Promise;
            return qq.readBlobToHex(o, 0, 6).then(function(e) {
                0 !== e.indexOf("ffd8") ? t.failure("Not a valid JPEG!") : function i(e, t) {
                    var s = e,
                        n = t;
                    return void 0 === s && (s = 2, n = new qq.Promise), qq.readBlobToHex(o, s, 4).then(function(e) {
                        var t = /^ffe([0-9])/.exec(e);
                        t ? "1" !== t[1] ? (t = parseInt(e.slice(4, 8), 16), i(s + t + 2, n)) : n.success(s) : n.failure("No EXIF header to be found!")
                    }), n
                }().then(function(e) {
                    t.success(e)
                }, function(e) {
                    t.failure(e)
                })
            }), t
        }
        var u = [274],
            h = {
                274: {
                    name: "Orientation",
                    bytes: 2
                }
            };
        qq.extend(this, {
            parse: function() {
                function a(e) {
                    d(qq.format("EXIF header parse failed: '{}' ", e)), l.failure(e)
                }
                var l = new qq.Promise;
                return e().then(function(n) {
                    var e, t;
                    d(qq.format("Moving forward with EXIF header parsing for '{}'", void 0 === o.name ? "blob" : o.name)), e = n, t = new qq.Promise, qq.readBlobToHex(o, e + 10, 2).then(function(e) {
                        t.success("4949" === e)
                    }), t.then(function(t) {
                        var e, i, s;
                        d(qq.format("EXIF Byte order is {} endian", t ? "little" : "big")), e = n, i = t, s = new qq.Promise, qq.readBlobToHex(o, e + 18, 2).then(function(e) {
                            return i ? s.success(c(e)) : void s.success(parseInt(e, 16))
                        }), s.then(function(e) {
                            d(qq.format("Found {} APP1 directory entries", e)), qq.readBlobToHex(o, n + 20, 12 * e).then(function(e) {
                                var a, o, r, e = function(e) {
                                        for (var t = [], i = 0; i + 24 <= e.length;) t.push(e.slice(i, i + 24)), i += 24;
                                        return t
                                    }(e),
                                    e = (a = t, e = e, o = qq.extend([], u), r = {}, qq.each(e, function(e, t) {
                                        var i, s = t.slice(0, 4),
                                            s = a ? c(s) : parseInt(s, 16),
                                            n = o.indexOf(s);
                                        return 0 <= n && (i = h[s].name, s = h[s].bytes, t = t.slice(16, 16 + 2 * s), r[i] = a ? c(t) : parseInt(t, 16), o.splice(n, 1)), 0 !== o.length && void 0
                                    }), r);
                                d("Successfully parsed some EXIF tags"), l.success(e)
                            }, a)
                        }, a)
                    }, a)
                }, a), l
            }
        })
    }, qq.Identify = function(n, r) {
        "use strict";
        qq.extend(this, {
            isPreviewable: function() {
                var e = this,
                    a = new qq.Promise,
                    o = !1,
                    t = void 0 === n.name ? "blob" : n.name;
                return r(qq.format("Attempting to determine if {} can be rendered in this browser", t)), r("First pass: check type attribute of blob object."), this.isPreviewableSync() ? (r("Second pass: check for magic bytes in file header."), qq.readBlobToHex(n, 0, 4).then(function(n) {
                    qq.each(e.PREVIEWABLE_MIME_TYPES, function(e, t) {
                        return i = n, s = !1, t = [].concat(t = t), qq.each(t, function(e, t) {
                            return 0 === i.indexOf(t) ? !(s = !0) : void 0
                        }), s ? ("image/tiff" === e && !qq.supportedFeatures.tiffPreviews || (o = !0, a.success(e)), !1) : void 0;
                        var i, s
                    }), r(qq.format("'{}' is {} able to be rendered in this browser", t, o ? "" : "NOT")), o || a.failure()
                }, function() {
                    r("Error reading file w/ name '" + t + "'.  Not able to be rendered in this browser."), a.failure()
                })) : a.failure(), a
            },
            isPreviewableSync: function() {
                var e = n.type,
                    t = 0 <= qq.indexOf(Object.keys(this.PREVIEWABLE_MIME_TYPES), e),
                    i = !1,
                    s = void 0 === n.name ? "blob" : n.name;
                return (i = t ? "image/tiff" !== e || qq.supportedFeatures.tiffPreviews : i) || r(s + " is not previewable in this browser per the blob's type attr"), i
            }
        })
    }, qq.Identify.prototype.PREVIEWABLE_MIME_TYPES = {
        "image/jpeg": "ffd8ff",
        "image/gif": "474946",
        "image/png": "89504e",
        "image/bmp": "424d",
        "image/tiff": ["49492a00", "4d4d002a"]
    }, qq.ImageValidation = function(a, o) {
        "use strict";
        this.validate = function(t) {
            var i, s, n = new qq.Promise;
            return o("Attempting to validate image."), s = !1, qq.each(t, function(e, t) {
                return 0 < t ? !(s = !0) : void 0
            }), s ? (i = new qq.Promise, new qq.Identify(a, o).isPreviewable().then(function() {
                var e = new Image,
                    t = window.URL && window.URL.createObjectURL ? window.URL : window.webkitURL && window.webkitURL.createObjectURL ? window.webkitURL : null;
                t ? (e.onerror = function() {
                    o("Cannot determine dimensions for image.  May be too large.", "error"), i.failure()
                }, e.onload = function() {
                    i.success({
                        width: this.width,
                        height: this.height
                    })
                }, e.src = t.createObjectURL(a)) : (o("No createObjectURL function available to generate image URL!", "error"), i.failure())
            }, i.failure), i.then(function(e) {
                a = e, qq.each(t, function(e, t) {
                    if (0 < t) {
                        var i = /(max|min)(Width|Height)/.exec(e),
                            s = i[2].charAt(0).toLowerCase() + i[2].slice(1),
                            n = a[s];
                        switch (i[1]) {
                            case "min":
                                if (n < t) return o = e, !1;
                                break;
                            case "max":
                                if (t < n) return o = e, !1
                        }
                    }
                });
                var a, o, e = o;
                e ? n.failure(e) : n.success()
            }, n.success)) : n.success(), n
        }
    }, qq.Session = function(e) {
        "use strict";

        function n(e, t, i, s) {
            var n = !1;
            (t = t && (!!qq.isArray(e) || void a.log("Session response is not an array.", "error"))) && qq.each(e, function(e, t) {
                if (null == t.uuid) n = !0, a.log(qq.format("Session response item {} did not include a valid UUID - ignoring.", e), "error");
                else if (null == t.name) n = !0, a.log(qq.format("Session response item {} did not include a valid name - ignoring.", e), "error");
                else try {
                    return a.addFileRecord(t), !0
                } catch (e) {
                    n = !0, a.log(e.message, "error")
                }
                return !1
            }), s[t && !n ? "success" : "failure"](e, i)
        }
        var a = {
            endpoint: null,
            params: {},
            customHeaders: {},
            cors: {},
            addFileRecord: function() {},
            log: function() {}
        };
        qq.extend(a, e, !0), this.refresh = function() {
            var s = new qq.Promise,
                e = qq.extend({}, a);
            return new qq.SessionAjaxRequester(qq.extend(e, {
                onComplete: function(e, t, i) {
                    n(e, t, i, s)
                }
            })).queryServer(), s
        }
    }, qq.SessionAjaxRequester = function(e) {
        "use strict";
        var t, n = {
            endpoint: null,
            customHeaders: {},
            params: {},
            cors: {
                expected: !1,
                sendCredentials: !1
            },
            onComplete: function() {},
            log: function() {}
        };
        qq.extend(n, e), t = qq.extend(this, new qq.AjaxRequester({
            acceptHeader: "application/json",
            validMethods: ["GET"],
            method: "GET",
            endpointStore: {
                get: function() {
                    return n.endpoint
                }
            },
            customHeaders: n.customHeaders,
            log: n.log,
            onComplete: function(e, t, i) {
                var s = null;
                if (null != t.responseText) try {
                    s = qq.parseJson(t.responseText)
                } catch (e) {
                    n.log("Problem parsing session response: " + e.message, "error"), i = !0
                }
                n.onComplete(s, !i, t)
            },
            cors: n.cors
        })), qq.extend(this, {
            queryServer: function() {
                var e = qq.extend({}, n.params);
                n.log("Session query request."), t.initTransport("sessionRefresh").withParams(e).withCacheBuster().send()
            }
        })
    }, qq.FormSupport = function(e, t, i) {
        "use strict";

        function s(e, t) {
            return !e.checkValidity || e.checkValidity() || (i("Form did not pass validation checks - will not upload.", "error"), void t())
        }
        var n, a, o, r = this,
            l = e.interceptSubmit,
            d = e.element,
            e = e.autoUpload;
        qq.extend(this, {
            newEndpoint: null,
            newAutoUpload: e,
            attachedToForm: !1,
            getFormInputsAsObject: function() {
                return null == d ? null : r._form2Obj(d)
            }
        }), (e = d) && (e = qq.isString(e) ? document.getElementById(e) : e) && (i("Attaching to form element."), (o = e).getAttribute("action") && (r.newEndpoint = o.getAttribute("action")), l) && (a = (n = e).submit, qq(n).attach("submit", function(e) {
            (e = e || window.event).preventDefault ? e.preventDefault() : e.returnValue = !1, s(n, a) && t()
        }), n.submit = function() {
            s(n, a) && t()
        }), d = e, this.attachedToForm = !!d
    }, qq.extend(qq.FormSupport.prototype, {
        _form2Obj: function(e) {
            "use strict";

            function n(e) {
                return t = e.type, 0 <= qq.indexOf(["checkbox", "radio"], t.toLowerCase()) && !e.checked || e.disabled && "hidden" !== e.type.toLowerCase();
                var t
            }
            var a = {};
            return qq.each(e.elements, function(e, t) {
                var i, s;
                (qq.isInput(t, !0) || "textarea" === t.tagName.toLowerCase()) && (s = t.type, qq.indexOf(["button", "image", "reset", "submit"], s.toLowerCase()) < 0) && !n(t) ? a[t.name] = t.value : "select" !== t.tagName.toLowerCase() || n(t) || (i = null, qq.each(qq(t).children(), function(e, t) {
                    return "option" === t.tagName.toLowerCase() && t.selected ? (i = t.value, !1) : void 0
                }), null !== (s = i) && (a[t.name] = s))
            }), a
        }
    }), qq.Scaler = function(e, r) {
        "use strict";
        var i = e.sendOriginal,
            l = e.orient,
            d = e.defaultType,
            c = e.defaultQuality / 100,
            u = e.failureText,
            h = e.includeExif,
            p = this._getSortedSizes(e.sizes);
        qq.extend(this, {
            enabled: qq.supportedFeatures.scaling && 0 < p.length,
            getFileRecords: function(e, s, t) {
                var n = this,
                    a = [],
                    o = t.blob || t;
                return new qq.Identify(o, r).isPreviewableSync() && (qq.each(p, function(e, t) {
                    var i = n._determineOutputType({
                        defaultType: d,
                        requestedType: t.type,
                        refType: o.type
                    });
                    a.push({
                        uuid: qq.getUniqueId(),
                        name: n._getName(s, {
                            name: t.name,
                            type: i,
                            refType: o.type
                        }),
                        blob: new qq.BlobProxy(o, qq.bind(n._generateScaledImage, n, {
                            maxSize: t.maxSize,
                            orient: l,
                            type: i,
                            quality: c,
                            failedText: u,
                            includeExif: h,
                            log: r
                        }))
                    })
                }), !i) || a.push({
                    uuid: e,
                    name: s,
                    blob: o
                }), a
            },
            handleNewFile: function(n, e, t, a, o, r, s, i) {
                n.qqButtonId || n.blob && n.blob.qqButtonId;
                var l = [],
                    d = null,
                    c = i.addFileToHandler,
                    u = i.uploadData,
                    h = i.paramsStore,
                    p = qq.getUniqueId();
                qq.each(this.getFileRecords(t, e, n), function(e, t) {
                    var i = n,
                        s = a;
                    t.blob instanceof qq.BlobProxy && (i = t.blob, s = -1), s = u.addFile({
                        uuid: t.uuid,
                        name: t.name,
                        size: s,
                        batchId: r,
                        proxyGroupId: p
                    }), t.blob instanceof qq.BlobProxy ? l.push(s) : d = s, c(s, i), o.push({
                        id: s,
                        file: i
                    })
                }), null !== d && (qq.each(l, function(e, t) {
                    var i = {
                        qqparentuuid: u.retrieve({
                            id: d
                        }).uuid,
                        qqparentsize: u.retrieve({
                            id: d
                        }).size
                    };
                    i[s] = u.retrieve({
                        id: t
                    }).uuid, u.setParentId(t, d), h.addReadOnly(t, i)
                }), l.length) && ((i = {})[s] = u.retrieve({
                    id: d
                }).uuid, h.addReadOnly(d, i))
            }
        })
    }, qq.extend(qq.Scaler.prototype, {
        scaleImage: function(t, e, i) {
            "use strict";
            var s, n, a, o, r, l;
            if (qq.supportedFeatures.scaling) return s = new qq.Promise, n = i.log, a = i.getFile(t), i = i.uploadData.retrieve({
                id: t
            }), o = i && i.name, r = i && i.uuid, i = {
                sendOriginal: !1,
                orient: e.orient,
                defaultType: e.type || null,
                defaultQuality: e.quality,
                failedToScaleText: "Unable to scale",
                sizes: [{
                    name: "",
                    maxSize: e.maxSize
                }]
            }, l = new qq.Scaler(i, n), qq.Scaler && qq.supportedFeatures.imagePreviews && a ? qq.bind(function() {
                var e = l.getFileRecords(r, o, a)[0];
                e && e.blob instanceof qq.BlobProxy ? e.blob.create().then(s.success, s.failure) : (n(t + " is not a scalable image!", "error"), s.failure())
            }, this)() : (s.failure(), n("Could not generate requested scaled image for " + t + ".  Scaling is either not possible in this browser, or the file could not be located.", "error")), s;
            throw new qq.Error("Scaling is not supported in this browser!")
        },
        _determineOutputType: function(e) {
            "use strict";
            var t = e.requestedType,
                i = e.defaultType,
                e = e.refType;
            return i || t ? t && 0 <= qq.indexOf(Object.keys(qq.Identify.prototype.PREVIEWABLE_MIME_TYPES), t) && ("image/tiff" !== t || qq.supportedFeatures.tiffPreviews) ? t : i : "image/jpeg" !== e ? "image/png" : e
        },
        _getName: function(e, t) {
            "use strict";
            var i = e.lastIndexOf("."),
                s = t.type || "image/png",
                n = t.refType,
                a = "",
                o = qq.getExtension(e),
                r = "";
            return t.name && t.name.trim().length && (r = " (" + t.name + ")"), 0 <= i ? (a = e.substr(0, i), a += r + "." + (o = n !== s ? s.split("/")[1] : o)) : a = e + r, a
        },
        _getSortedSizes: function(e) {
            "use strict";
            return (e = qq.extend([], e)).sort(function(e, t) {
                return e.maxSize > t.maxSize ? 1 : e.maxSize < t.maxSize ? -1 : 0
            })
        },
        _generateScaledImage: function(e, s) {
            "use strict";
            var n = this,
                a = e.log,
                t = e.maxSize,
                i = e.orient,
                o = e.type,
                r = e.quality,
                l = e.failedText,
                d = e.includeExif && "image/jpeg" === s.type && "image/jpeg" === o,
                c = new qq.Promise,
                e = new qq.ImageGenerator(a),
                u = document.createElement("canvas");
            return a("Attempting to generate scaled version for " + s.name), e.generate(s, u, {
                maxSize: t,
                orient: i
            }).then(function() {
                function t() {
                    a("Success generating scaled version for " + s.name);
                    var e = qq.dataUriToBlob(i);
                    c.success(e)
                }
                var i = u.toDataURL(o, r);
                d ? n._insertExifHeader(s, i, a).then(function(e) {
                    i = e, t()
                }, function() {
                    a("Problem inserting EXIF header into scaled image.  Using scaled image w/out EXIF data.", "error"), t()
                }) : t()
            }, function() {
                a("Failed attempt to generate scaled version for " + s.name, "error"), c.failure(l)
            }), c
        },
        _insertExifHeader: function(e, t, i) {
            "use strict";
            var s, n = new FileReader,
                a = new qq.Promise;
            return n.onload = function() {
                s = n.result, a.success(ExifRestorer.restore(s, t))
            }, n.onerror = function() {
                i("Problem reading " + e.name + " during attempt to transfer EXIF data to scaled version.", "error"), a.failure()
            }, n.readAsDataURL(e), a
        },
        _dataUriToBlob: function(e) {
            "use strict";
            var t = (0 <= e.split(",")[0].indexOf("base64") ? atob : decodeURI)(e.split(",")[1]),
                e = e.split(",")[0].split(":")[1].split(";")[0],
                i = new ArrayBuffer(t.length),
                s = new Uint8Array(i);
            return qq.each(t, function(e, t) {
                s[e] = t.charCodeAt(0)
            }), this._createBlob(i, e)
        },
        _createBlob: function(e, t) {
            "use strict";
            var i = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder,
                i = i && new i;
            return i ? (i.append(e), i.getBlob(t)) : new Blob([e], {
                type: t
            })
        }
    }), function() {
        var e = {
            KEY_STR: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
            encode64: function(e) {
                for (var t, i, s, n, a, o = "", r = "", l = 0; i = (t = e[l++]) >> 2, s = (3 & t) << 4 | (t = e[l++]) >> 4, n = (15 & t) << 2 | (a = e[l++]) >> 6, r = 63 & a, isNaN(t) ? n = r = 64 : isNaN(a) && (r = 64), o = o + this.KEY_STR.charAt(i) + this.KEY_STR.charAt(s) + this.KEY_STR.charAt(n) + this.KEY_STR.charAt(r), n = r = "", l < e.length;);
                return o
            },
            restore: function(e, t) {
                var i = "data:image/jpeg;base64,";
                return e.match(i) ? (e = this.decode64(e.replace(i, "")), e = this.slice2Segments(e), e = this.exifManipulation(t, e), i + this.encode64(e)) : t
            },
            exifManipulation: function(e, t) {
                t = this.getExifArray(t), e = this.insertExif(e, t);
                return new Uint8Array(e)
            },
            getExifArray: function(e) {
                for (var t, i = 0; i < e.length; i++)
                    if (255 == (t = e[i])[0] & 225 == t[1]) return t;
                return []
            },
            insertExif: function(e, t) {
                var e = e.replace("data:image/jpeg;base64,", ""),
                    e = this.decode64(e),
                    i = e.indexOf(255, 3),
                    s = e.slice(0, i),
                    e = e.slice(i);
                return s.concat(t).concat(e)
            },
            slice2Segments: function(e) {
                for (var t, i, s = 0, n = []; !(255 == e[s] & 218 == e[s + 1]);)
                    if (255 == e[s] & 216 == e[s + 1] ? s += 2 : (t = s + (256 * e[s + 2] + e[s + 3]) + 2, i = e.slice(s, t), n.push(i), s = t), s > e.length) break;
                return n
            },
            decode64: function(e) {
                var t, i, s, n, a, o, r = 0,
                    l = [];
                if (/[^A-Za-z0-9\+\/\=]/g.exec(e)) throw new Error("There were invalid base64 characters in the input text.  Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='");
                for (e = e.replace(/[^A-Za-z0-9\+\/\=]/g, ""); i = this.KEY_STR.indexOf(e.charAt(r++)), t = (15 & (s = this.KEY_STR.indexOf(e.charAt(r++)))) << 4 | (n = this.KEY_STR.indexOf(e.charAt(r++))) >> 2, a = (3 & n) << 6 | (o = this.KEY_STR.indexOf(e.charAt(r++))), l.push(i << 2 | s >> 4), 64 != n && l.push(t), 64 != o && l.push(a), r < e.length;);
                return l
            }
        };
        return e
    }()),
    isModel = (qq.TotalProgress = function(i, s) {
        "use strict";

        function n(e) {
            var t = s(e);
            0 < t && (a(e, 0, t), o[e] = {
                loaded: 0,
                total: t
            })
        }

        function a(e, t, i) {
            var s = o[e] ? o[e].loaded : 0,
                e = o[e] ? o[e].total : 0; - 1 === t && -1 === i ? (r -= s, l -= e) : (t && (r += t - s), i && (l += i - e)), u(r, l)
        }
        var o = {},
            r = 0,
            l = 0,
            d = -1,
            c = -1,
            u = function(e, t) {
                e === d && t === c || i(e, t), d = e, c = t
            };
        qq.extend(this, {
            onAllComplete: function(e, t, i) {
                var s, n;
                0 !== t.length && (s = i, n = !0, qq.each(t, function(e, t) {
                    return 0 <= qq.indexOf(s, t) ? n = !1 : void 0
                }), !n) || (u(l, l), this.reset())
            },
            onStatusChange: function(e, t, i) {
                var s;
                i === qq.status.CANCELED || i === qq.status.REJECTED ? (a(s = e, -1, -1), delete o[s]) : i === qq.status.SUBMITTING && n(e)
            },
            onIndividualProgress: function(e, t, i) {
                a(e, t, i), o[e] = {
                    loaded: t,
                    total: i
                }
            },
            onNewSize: function(e) {
                n(e)
            },
            reset: function() {
                o = {}, l = r = 0
            }
        })
    }, qq.UiEventHandler = function(e, t) {
        "use strict";

        function i(e) {
            s.attach(e, n.eventType, function(e) {
                var t = (e = e || window.event).target || e.srcElement;
                n.onHandled(t, e)
            })
        }
        var s = new qq.DisposeSupport,
            n = {
                eventType: "click",
                attachTo: null,
                onHandled: function() {}
            };
        qq.extend(this, {
            addHandler: function(e) {
                i(e)
            },
            dispose: function() {
                s.dispose()
            }
        }), qq.extend(t, {
            getFileIdFromItem: function(e) {
                return e.qqFileId
            },
            getDisposeSupport: function() {
                return s
            }
        }), qq.extend(n, e), n.attachTo && i(n.attachTo)
    }, qq.FileButtonsClickHandler = function(e) {
        "use strict";
        var n = {
                templating: null,
                log: function() {},
                onDeleteFile: function() {},
                onCancel: function() {},
                onRetry: function() {},
                onPause: function() {},
                onContinue: function() {},
                onGetName: function() {}
            },
            t = {
                cancel: function(e) {
                    n.onCancel(e)
                },
                retry: function(e) {
                    n.onRetry(e)
                },
                deleteButton: function(e) {
                    n.onDeleteFile(e)
                },
                pause: function(e) {
                    n.onPause(e)
                },
                continueButton: function(e) {
                    n.onContinue(e)
                }
            };
        qq.extend(n, e), n.eventType = "click", n.onHandled = function(i, s) {
            qq.each(t, function(e, t) {
                var e = e.charAt(0).toUpperCase() + e.slice(1);
                return n.templating["is" + e](i) ? (e = n.templating.getFileId(i), qq.preventDefault(s), n.log(qq.format("Detected valid file button click event on file '{}', ID: {}.", n.onGetName(e), e)), t(e), !1) : void 0
            })
        }, n.attachTo = n.templating.getFileList(), qq.extend(this, new qq.UiEventHandler(n, {}))
    }, qq.FilenameClickHandler = function(e) {
        "use strict";
        var s = {},
            n = {
                templating: null,
                log: function() {},
                classes: {
                    file: "qq-upload-file",
                    editNameIcon: "qq-edit-filename-icon"
                },
                onGetUploadStatus: function() {},
                onGetName: function() {}
            };
        qq.extend(n, e), n.eventType = "click", n.onHandled = function(e, t) {
            var i;
            (n.templating.isFileName(e) || n.templating.isEditIcon(e)) && (i = n.templating.getFileId(e), n.onGetUploadStatus(i) === qq.status.SUBMITTED) && (n.log(qq.format("Detected valid filename click event on file '{}', ID: {}.", n.onGetName(i), i)), qq.preventDefault(t), s.handleFilenameEdit(i, e, !0))
        }, qq.extend(this, new qq.FilenameEditHandler(n, s))
    }, qq.FilenameInputFocusInHandler = function(e, i) {
        "use strict";
        var s = {
            templating: null,
            onGetUploadStatus: function() {},
            log: function() {}
        };
        i = i || {}, s.eventType = "focusin", s.onHandled = function(e) {
            var t;
            s.templating.isEditInput(e) && (t = s.templating.getFileId(e), s.onGetUploadStatus(t) === qq.status.SUBMITTED) && (s.log(qq.format("Detected valid filename input focus event on file '{}', ID: {}.", s.onGetName(t), t)), i.handleFilenameEdit(t, e))
        }, qq.extend(s, e), qq.extend(this, new qq.FilenameEditHandler(s, i))
    }, qq.FilenameInputFocusHandler = function(e) {
        "use strict";
        e.eventType = "focus", e.attachTo = null, qq.extend(this, new qq.FilenameInputFocusInHandler(e, {}))
    }, qq.FilenameEditHandler = function(e, c) {
        "use strict";

        function u(e, t) {
            var i, e = e.value;
            void 0 !== e && 0 < qq.trimStr(e).length && (i = t, i = h.onGetName(t), i = qq.getExtension(i), h.onSetName(t, e = void 0 !== i ? e + "." + i : e)), h.onEditingStatusChange(t, !1)
        }
        var h = {
            templating: null,
            log: function() {},
            onGetUploadStatus: function() {},
            onGetName: function() {},
            onSetName: function() {},
            onEditingStatusChange: function() {}
        };
        qq.extend(h, e), h.attachTo = h.templating.getFileList(), qq.extend(this, new qq.UiEventHandler(h, c)), qq.extend(c, {
            handleFilenameEdit: function(e, t, i) {
                var s, n, a, o, r, l, d = h.templating.getEditInput(e);
                h.onEditingStatusChange(e, !0), d.value = (r = e, r = 0 < (l = (r = h.onGetName(r)).lastIndexOf(".")) ? r.substr(0, l) : r), i && d.focus(), a = d, o = e, c.getDisposeSupport().attach(a, "blur", function() {
                    u(a, o)
                }), s = d, n = e, c.getDisposeSupport().attach(s, "keyup", function(e) {
                    13 === (e.keyCode || e.which) && u(s, n)
                })
            }
        })
    }, function(r) {
        "use strict";

        function o(e) {
            var t, i, o, e = d(e || {}),
                s = (t = e, s = n("uploaderType"), i = n("endpointType"), new(s ? (s = s.charAt(0).toUpperCase() + s.slice(1).toLowerCase(), (i ? qq[i] : qq)["FineUploader" + s]) : (i ? qq[i] : qq).FineUploader)(t));
            return l(s), i = s, o = e.callbacks = {}, r.each(i._options.callbacks, function(e, s) {
                var n, a = /^on(\w+)/.exec(e)[1];
                a = a.substring(0, 1).toLowerCase() + a.substring(1), n = u, o[e] = function() {
                    var e, t = Array.prototype.slice.call(arguments),
                        i = [];
                    r.each(t, function(e, t) {
                        i.push(c(t))
                    }), t = s.apply(this, t);
                    try {
                        e = n.triggerHandler(a, i)
                    } catch (e) {
                        qq.log("Caught error in Fine Uploader jQuery event handler: " + e.message, "error")
                    }
                    return null != t ? t : e
                }
            }), i._options.callbacks = o, u
        }

        function i(e, t) {
            var i = u.data("fineuploader");
            return t ? ((i = void 0 === i ? {} : i)[e] = t, void u.data("fineuploader", i)) : void 0 === i ? null : i[e]
        }

        function l(e) {
            return i("uploader", e)
        }

        function n(e, t) {
            return i(e, t)
        }

        function d(e, t) {
            var s, i = void 0 === t ? "basic" !== e.uploaderType ? {
                element: u[0]
            } : {} : t;
            return r.each(e, function(e, t) {
                0 <= r.inArray(e, a) ? n(e, t) : t instanceof r ? i[e] = t[0] : r.isPlainObject(t) ? (i[e] = {}, d(t, i[e])) : r.isArray(t) ? (s = [], r.each(t, function(e, t) {
                    var i = {};
                    t instanceof r ? r.merge(s, t) : r.isPlainObject(t) ? (d(t, i), s.push(i)) : s.push(t)
                }), i[e] = s) : i[e] = t
            }), void 0 === t ? i : void 0
        }

        function c(e) {
            var t = e;
            return t = null == e || "object" != typeof e || 1 !== e.nodeType && 9 !== e.nodeType || !e.cloneNode ? t : r(e)
        }
        var u, a = ["uploaderType", "endpointType"];
        r.fn.fineUploader = function(i) {
            var s = this,
                n = arguments,
                a = [];
            return this.each(function(e, t) {
                if (u = r(t), l() && (t = i, "string" === r.type(t)) && !t.match(/^_/) && void 0 !== l()[t]) {
                    if (a.push(function(e) {
                            var t = [];
                            return d(Array.prototype.slice.call(arguments, 1), t), c(l()[e].apply(l(), t))
                        }.apply(s, n)), 1 === s.length) return !1
                } else "object" != typeof i && i ? r.error("Method " + i + " does not exist on jQuery.fineUploader") : o.apply(s, n)
            }), 1 === a.length ? a[0] : 1 < a.length ? a : this
        }
    }(jQuery), function(o) {
        "use strict";

        function r(e) {
            (e = e || {}).dropZoneElements = [c];
            var s, e = d(e);
            return s = e.callbacks = {}, o.each(new qq.DragAndDrop.callbacks, function(e) {
                var t = e,
                    i = c;
                s[e] = function() {
                    var e = Array.prototype.slice.call(arguments);
                    return i.triggerHandler(t, e)
                }
            }), l(new qq.DragAndDrop(e)), c
        }

        function l(e) {
            return t = "dndInstance", e = e, i = c.data(s), e ? ((i = void 0 === i ? {} : i)[t] = e, void c.data(s, i)) : void 0 === i ? null : i[t];
            var t, i
        }

        function d(e, t) {
            var i, s = void 0 === t ? {} : t;
            return o.each(e, function(e, t) {
                t instanceof o ? s[e] = t[0] : o.isPlainObject(t) ? (s[e] = {}, d(t, s[e])) : o.isArray(t) ? (i = [], o.each(t, function(e, t) {
                    t instanceof o ? o.merge(i, t) : i.push(t)
                }), s[e] = i) : s[e] = t
            }), void 0 === t ? s : void 0
        }
        var c, s = "fineUploaderDnd";
        o.fn.fineUploaderDnd = function(i) {
            var s = this,
                n = arguments,
                a = [];
            return this.each(function(e, t) {
                if (c = o(t), l() && (t = i, "string" === o.type(t)) && "dispose" === t && void 0 !== l()[t]) {
                    if (a.push(function(e) {
                            var t = [];
                            return d(Array.prototype.slice.call(arguments, 1), t), l()[e].apply(l(), t)
                        }.apply(s, n)), 1 === s.length) return !1
                } else "object" != typeof i && i ? o.error("Method " + i + " does not exist in Fine Uploader's DnD module.") : r.apply(s, n)
            }), 1 === a.length ? a[0] : 1 < a.length ? a : this
        }
    }(jQuery), ! function() {
        for (var t, i = window.MV.isMobile, o = $('<video class="inline-video-preview-video animated fadeIn" style="display:none" muted playsinline autoplay mutedAutoplayOnMobile ></video>'), n = $('<img  class="inline-video-preview-video gif-preview animated fadeIn"/>'), a = $('<div class="inline-video-preview-layer"><span class="vid-toggle-sound js-toggle-vid-sound"><i class="icon small video-controls mv-icon-sound-on" title="Toggle sound"></i></span></div>'), e = a.find(".js-toggle-vid-sound"), s = e.find(".icon"), r = document.getElementsByClassName("js-video-preview js-video-preview-autoplay"), l = r.length ? r.length - 1 : 0, d = 0; d < r.length; d++) $(r[d]).data("video-autoplay-index", d);

        function c(e) {
            (t = t || new h).showPlayer(e)
        }

        function u() {
            r[l] && c($(r[l]))
        }

        function h() {
            "objectFit" in document.documentElement.style == !1 && (o.addClass("object-fit-fallback"), this.objectFitSupported = !1), o.on("ended", $.proxy(this.onEnded, this)), e.on("click", $.proxy(this.onToggleSound, this))
        }
        $(document).on("click", "[data-video-extreme]", function(e) {
            e.currentTarget.removeAttribute("data-video-extreme");
            var t = $(this).children(".js-video-extreme");
            t.length && (e.preventDefault(), e.stopImmediatePropagation(), t.remove())
        }), document.addEventListener("scroll", function(e) {
            i && $(".js-video-preview").each(function(e) {
                $(this).is(":in-viewport( 500 )") && $(this).data("video-preview") ? c($(this)) : (t = t || new h).removeListeners($(this))
            })
        }), document.addEventListener("mouseenter", function(e) {
            i || -1 === (e.target.className + "").indexOf("js-video-preview") || e.target.hasAttribute("data-video-extreme") || !e.target.hasAttribute("data-video-preview") || c($(e.target))
        }, !0), h.prototype = {
            videoDir: window.MV.externalCdn + "/php_uploads/preview_videos/",
            videoDir_V2: window.MV.externalCdnV2,
            isAutoplay: !1,
            isLoop: !1,
            isMuted: void 0,
            addListeners: function() {
                this.isAutoplay || (this.removeListeners(), this.$element.on("mouseleave", $.proxy(this.onBlur, this)), this.$element.addClass("hide-thumb"))
            },
            removeListeners: function() {
                this.$element && (this.$element.off("mouseleave", this.onBlur, this), this.$element.removeClass("hide-thumb"), this.$element.find(".js-inline-player-progress-bar").remove())
            },
            showPlayer: function(e) {
                if (e) {
                    if (this.$element && this.$element[0] === e[0]) {
                        if (this.addListeners(), setTimeout(function() {
                                o[0] && o[0].paused && o[0].load()
                            }, 250), o.parent().length) return
                    } else {
                        this.clearTimeout(), this.detachPlayer(), this.$element && this.removeListeners(), this.$element = e, this.isV2 = this.$element.hasClass("js-video-preview-v2"), this.isV3 = this.$element.hasClass("js-video-preview-v3"), this.videoDir = this.isV2 || this.isV3 ? window.MV.externalCdnV2 + "/" : window.MV.externalCdn + "/php_uploads/preview_videos/", this.isAutoplay = !!this.$element.hasClass("js-video-preview-autoplay"), this.isLoop = !!this.$element.data("video-loop"), this.addListeners();
                        e = this.$element.data("video-preview");
                        if (!e) return;
                        var t, i, s = this;
                        if (this.isAutoplay && (this.isV2 && (this.timeoutV2 = setTimeout(function() {
                                s.onEnded()
                            }, 9e3)), l = this.$element.data("video-autoplay-index") >> 0), !this.isV2) return o.data("videoLocation", this.videoDir + e), (t = document.createElement("source")).setAttribute("type", "video/mp4"), this.isV3 ? t.setAttribute("src", this.videoDir + e) : t.setAttribute("src", this.videoDir + e + ".mp4"), o[0].pause(), o[0].innerHTML = "", a.toggleClass("-is-profile-video", "profile" == this.$element.attr("data-video-type")), i = void 0 !== this.isMuted ? this.isMuted : !this.$element.data("video-unmuted"), this.setMute(i), this.setLoop(this.isLoop), o.append(t), o[0].load(), o.addClass("js-vid-playing"), void this.appendPlayer();
                        n.addClass("inline-video-preview-video").attr("src", this.videoDir + e)
                    }
                    this.isV2 ? this.appendGif() : this.appendPlayer()
                }
            },
            appendAndPlayVideo: function(a) {
                console.log("play ***********************************"), 0 === $(".js-inline-player-progress-bar", this.$element).length && this.$element.prepend('<div class="js-inline-player-progress-bar inline-player-progress-bar"></div>'), o[0].addEventListener("progress", function(e) {
                    console.log("in progress ***********************************");
                    for (var e = e.currentTarget, t = 0, i = e.buffered, s = e.currentTime; !(i.start(t) <= s && s <= i.end(t));) t += 1;
                    var n = i.start(t) / e.duration,
                        n = i.end(t) / e.duration - n;
                    $(".js-inline-player-progress-bar", this.$element).css("width", 2 * n * 100 + "%"), .5 < n && (o.addClass("js-vid-playing"), $(o[0]).off("progress", e.progressTracker, e), a.appendPlayer())
                })
            },
            progressTracker: function(e) {},
            clearTimeout: function() {
                this.timeout && clearTimeout(this.timeout)
            },
            appendPlayer: function() {
                0 === this.$element.find("video").length && (this.$element.append(o), this.$element.append(a), this.$element.addClass("hide-thumb"), this.$element.find("video").fadeIn(), $(".js-inline-player-progress-bar", this.$element).fadeOut(), setTimeout(function() {
                    o[0] && o[0].paused && o[0].load()
                }, 250))
            },
            appendGif: function(e) {
                this.$element.prepend(n)
            },
            detachPlayer: function() {
                o.detach(), a.detach()
            },
            detachGif: function() {
                n.detach()
            },
            onEnded: function() {
                this.onBlur()
            },
            onBlur: function() {
                var e;
                this.isV2 = this.$element.hasClass("js-video-preview-v2"), this.isV3 = this.$element.hasClass("js-video-preview-v3"), this.isV2 ? (this.clearTimeout(), this.removeListeners(), this.detachGif(), this.isAutoplay && (e = this.$element.data("video-autoplay-index") >> 0, l = ++e % r.length), u()) : this.clearTimeout(), o[0].pause(), this.removeListeners(), this.detachPlayer(), this.$element && this.$element.removeClass("hide-thumb"), this.isAutoplay && (e = this.$element.data("video-autoplay-index") >> 0, l = ++e % r.length), u()
            },
            onToggleSound: function(e) {
                e.preventDefault(), this.isMuted = !o[0].muted, this.setMute(this.isMuted)
            },
            setMute: function(e) {
                e ? o[0].setAttribute("muted", "true") : o[0].removeAttribute("muted"), o[0].muted = e, s.toggleClass("mv-icon-sound-on", !e).toggleClass("mv-icon-sound-off", e)
            },
            setLoop: function(e) {
                e ? (o[0].loop = !0, o[0].setAttribute("loop", "true")) : (o[0].loop = !1, o[0].removeAttribute("loop"))
            }
        }, u()
    }(), ! function() {
        function e() {
            var i = this;
            this.sendGAEvent = function(e) {
                var t = e.getAttribute("data-event-category"),
                    i = e.getAttribute("data-event-action"),
                    s = e.getAttribute("data-event-label"),
                    e = e.getAttribute("data-metadata-key");
                window.dataLayer.push({
                    event: t + "_" + i + "_" + s,
                    event_category: t,
                    event_action: i,
                    event_label: s,
                    metadata: {
                        metadata_key: e
                    }
                })
            }, this.init(), $(window).on("hashchange", function() {
                var e = window.location.hash,
                    t = "";
                if ("" === e || i.isTabClicked) i.isTabClicked = !1;
                else {
                    switch (e) {
                        case "#crushnotes":
                            t = i.messageTypes.crushMessage;
                            break;
                        case "#messages":
                            t = i.messageTypes.privateMessage
                    }
                    i.loadConversationTab(t, !1)
                }
            })
        }
        e.prototype = {
            mv: window.MV,
            xhr: null,
            iuid: 0,
            lmid: 0,
            mid: 0,
            conversationNextOffset: 0,
            conversationTotal: 0,
            previousUnreadMessagesCount: 0,
            unreadMessagesCount: 0,
            unreadPrivateMessagesCount: 0,
            unreadCrushMessagesCount: 0,
            unreadMvFlyerMessageCount: 0,
            typeMessage: "private",
            crushFilter: "All",
            crushFilterId: 0,
            modelType: "model",
            maximumVideoDuration: 1200,
            maximumCrushVideoDuration: 1200,
            hasActiveCrushMembership: !1,
            hasDefaultMessage: !1,
            messagesNextOffset: 0,
            messagesTotal: 0,
            isTabClicked: !1,
            state: null,
            type: "inbox",
            isArchive: !1,
            isMobile: !1,
            isIos: /iPad|iPhone|iPod/g.test(navigator.userAgent),
            isGlobalNotification: !1,
            imageMaxSize: 15728640,
            imageMimeType: "image/*",
            imageExtensionsRegExp: /\.(png|jpeg|jpg|gif)$/i,
            videoMaxSize: 5242880,
            videoMimeType: "video/*",
            videoExtensionsRegExp: /\.(m4v|mp4|mov)$/i,
            unreadMessageAmount: 0,
            imagePlaceHolder: "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
            states: {
                hasConversation: "hasConversation",
                newConversation: "newConversation",
                noConversation: "noConversation"
            },
            requestActions: {
                getConversation: "c",
                getConversationList: "cl",
                getContersationListAndGetSpecific: "cls",
                getConversationListAndFirstConversation: "clc",
                archiveConversation: "archive",
                unarchiveConversation: "unarchive",
                deleteConversation: "delete",
                deleteMessage: "delmsg",
                includeMessage: "incmsg"
            },
            conversationTypes: {
                inbox: "all",
                unread: "unread",
                archive: "archive"
            },
            cssClasses: {
                conversationSelected: "-selected",
                conversationUnread: "-unread",
                hasAttachment: "-has-attachment",
                allStates: "-hasConversation -newConversation -noConversation",
                archiveIcon: "archive-icon",
                unarchiveIcon: "unarchive-icon",
                scrollbarDisabled: "-auto-scrollbar",
                messageSelected: "-is-selected",
                isStudio: "-is-studio",
                isHidden: "is-hidden"
            },
            messageTypes: {
                privateMessage: "private",
                crushMessage: "crush",
                mvflyersMessage: "mvflyers"
            },
            messageTypeClasses: {
                privateMessageClass: "private-message",
                crushMessageClass: "crush-message",
                mvflyerMessageClass: "mvflyer-message"
            },
            dropdownToggleActions: {
                unfollow: "unfollow",
                archive: "archive",
                unarchive: "unarchive"
            },
            userTypes: {
                user: "user",
                model: "model",
                admin: "admin"
            },
            profilePicBasePath: "",
            videoFileDuration: "",
            videoPlayerLicenseKey: "",
            showMVCrushSendMessageBtn: !0,
            maxItemImageUpload: 12,
            storedImagePreviewFiles: [],
            storedVideoPreviewFiles: [],
            deletedTitle: "User has been deleted",
            videoPosterImage: "https://cdn3.manyvids.com/site_files/images/backgrounds/Website_Thumbnail_1.jpg",
            currentUser: {},
            selectedUser: {},
            hasConversations: !1,
            hasMessages: !1,
            ajaxConfig: {
                method: "GET",
                url: "/includes/user_messages.php",
                cache: "false",
                dataType: "json"
            },
            isCrushMembership: !1,
            isSelectedUserCrushMembershipExpired: !0,
            init: async function() {
                this.$inbox = $(".inbox-wrapper"), this.$inbox.length && (await this.setCurrentUser(), this.$inbox.data("global-notification") && (this.isGlobalNotification = !0), $(".js-conversation-list-section, .js-conversation-messages-slider").scrollbar().off("scroll", this.lazyLoadImages).on("scroll", $.proxy(this.lazyLoadImages, this)), this.$conversationBodyState = $("body"), this.$conversationTab = $(".js-messages"), this.$inboxOffset = this.$inbox.parents(".container-fluid"), this.$conversationPrivateCountDisplay = $(".js-private-message-count"), this.$conversationPrivateCountUnread = $(".js-unread-private"), this.$conversationCrushCountDisplay = $(".js-crush-message-count"), this.$conversationCrushCountUnread = $(".js-unread-crush"), this.$conversationMvFlyerCountDisplay = $(".js-mvflyers-message-count"), this.$conversationMvFlyerCountUnread = $(".js-unread-mvflyers"), this.$conversationType = $(".js-conversation-type"), this.type = this.$conversationType.val(), this.isArchive = this.type == this.conversationTypes.archive, this.$conversationListSection = $(".js-conversation-list-section"), this.$conversationTypeInboxOption = this.$conversationType.find("option[value=" + this.conversationTypes.inbox + "]"), this.$conversationTypeUnreadOption = this.$conversationType.find("option[value=" + this.conversationTypes.unread + "]"), this.$conversationTypeContainer = $(".js-conversation-type-container"), this.$conversationList = $(".js-conversation-list"), this.$conversationLoad = $(".js-conversation-load"), this.$conversationListSlider = $(".js-conversation-list-slider"), this.$conversationMessageOptions = $(".js-conversation-message-options"), this.$conversationThreadOptions = $(".js-conversation-thread-options"), this.$conversationThreadOptionsToggleArchive = $(".js-conversation-toggle-archive", this.$conversationThreadOptions), this.$conversationThreadOptionsUnfollowUser = $(".js-conversation-toggle-unfollow", this.$conversationThreadOptions), this.$conversationThreadOptionsToggleArchiveIcon = $(".icon", this.$conversationThreadOptionsToggleArchive), this.$conversationThreadOptionsToggleArchiveLabel = $(".js-dropdown-label", this.$conversationThreadOptionsToggleArchive), this.$conversationThreadOptionsDelete = $(".js-conversation-delete", this.$conversationThreadOptions), this.$conversationThreadOptionsBlockUser = $(".block-user", this.$conversationThreadOptions), this.$conversationThreadOptionsBlockUserLabel = $(".js-dropdown-label", this.$conversationThreadOptionsBlockUser), this.$conversationDropdownMenu = $(".js-conversation-dropdown"), this.$payToView = $(".js-button-pay-to-view"), this.$savePayToViewAmount = $(".js-save-pay-to-view-amount"), this.$payToViewModal = $("#modalPayToView"), this.$modalCloseBtn = $(".modal-close"), this.$conversationCurrentUserCrushNoteHeader = $(".js-conversation-current-user-crush-notes"), this.$crushFilterDisplayBar = $(".js-crush-filter-member"), this.$conversationDropdownContainer = $(".js-dropdown-container"), this.dropdownDisplayArchive = $(".js-conversation-toggle-archive-display"), this.dropdownDisplayDelete = $(".js-conversation-toggle-delete-display"), this.dropdownDisplayUnfollow = $(".js-conversation-toggle-unfollow-display"), this.$emptyCrushMessage = $(".js-no-crush-message"), this.$conversationMvFlyerHeader = $(".js-conversation-mvflyer-no-conversation"), this.$conversationMvFlyerHasFlyerHeader = $(".js-conversation-mvflyer-message"), this.$conversationLoadMoreButton = $(".js-conversation-load-more", this.$conversationListSlider), this.$conversationLoadingMore = $(".js-conversation-loading-more", this.$conversationListSlider), this.$conversationNewUserSection = $(".js-conversation-new-user-section"), this.$conversationUserSection = $(".js-conversation-user-section"), this.$conversationMessageList = $(".js-conversation-messages-list"), this.$conversationMessagesSection = $(".js-conversation-messages-section"), this.$messageListSlider = $(".js-conversation-messages-slider:last"), this.$messageListContainer = $(".js-conversation-messages-slider:first"), this.$messagesLoadMoreButton = $(".js-messages-load-more", this.$messageListSlider), this.$messagesLoadingMore = $(".js-messages-loading-more", this.$messageListSlider), this.$conversationMobileBackButton = $(".inbox-mobile-back-btn"), this.$conversationNewMessageButton = $(".js-conversation-new-message-btn"), this.$conversationRedirectCrushButton = $(".js-redirect-to-profile-crush-btn"), this.$conversationNewMessageTextSection = $(".js-conversation-new-message-section"), this.$conversationNewMessageTextSection.mvManymote(), this.$conversationNewMessageTextContainer = $(".js-inbox-new-message-container:first"), this.$conversationNewMessageTextInput = $(".js-conversation-new-message-input"), this.$conversationCancelNewMessageButton = $(".js-conversation-cancel-new-message"), this.$conversationNewMessageUsernameInput = $(".js-conversation-new-message-username"), this.$conversationMessageUploader = $(".js-conversation-file-uploader"), this.$conversationMessageUploaderList = $(".js-upload-list", this.$conversationMessageUploader), this.$uploadFileTemplate = this.$conversationMessageUploaderList.children().first().clone(), this.$conversationMessageUploadFiles = $(".js-conversation-upload-files"), this.$conversationMessageSubmit = $(".js-conversation-submit"), this.$crushRenew = $(".js-crush-renew"), this.$crushFilterAttachment = $(".js-crush-filter"), this.twitterButton = $(".js-tweet-button"), this.$conversationMessageUploaderList.empty(), this.$globalNotificationCount = $(".js-inbox-new-message-count"), this.$globalNotificationWrapper = $(".js-inbox-new-message-wrapper"), this.$videoAttachmentLabel = $(".js-video-attachment-label"), this.setMessageType(), this.setDisplayStatus(), this.$crushTab = $("#id-crush-notes-link"), this.$flyerTab = $("#id-mv-flyers-link"), this.$messagesTab = $("#id-mv-messages-link"), this.$messageListSlider.hasClass("scroll-wrapper") || (this.$messageListSlider.addClass(this.cssClasses.scrollbarDisabled), this.$conversationListSection.addClass(this.cssClasses.scrollbarDisabled)), this.addListeners(), this.createInboxVidUploader(), this.handleActiveTabStyleMobile())
            },
            delayedAdjustInboxContainerHeights: function(e) {
                this.adjustInboxContainerHeightsTimeout && clearTimeout(this.adjustInboxContainerHeightsTimeout), this.adjustInboxContainerHeightsTimeout = setTimeout($.proxy(this.adjustInboxContainerHeights, this, e), 500)
            },
            adjustContainerHeightsMvFlyersMobile: function() {
                var e = document.querySelector(".mv-inbox .nav-bar");
                document.querySelector(".js-conversation-messages-slider").style.maxHeight = "95%", e.style.display = "none"
            },
            hideWriteMessageTextSection: function() {
                var e = this.getCurrentUser("user_type"),
                    t = "mvflyers" === this.typeMessage;
                "model" !== e && (t ? (this.$conversationNewMessageTextSection.removeAttr("style"), this.$conversationNewMessageTextSection.addClass(this.cssClasses.isHidden), window.matchMedia("(max-height: 916px)").matches && ($(".js-conversation-messages-slider").css("max-height", "none"), this.adjustContainerHeightsMvFlyersMobile())) : this.resetMessageTextSectionStyles())
            },
            resetMessageTextSectionStyles: function() {
                this.$conversationNewMessageTextSection.removeClass(this.cssClasses.isHidden), this.adjustInboxContainerHeights()
            },
            adjustInboxContainerHeights: function(e) {
                var t = this.$conversationNewMessageTextInput.is(":focus"),
                    i = $(window).height(),
                    s = 0,
                    n = i - this.$inboxOffset.position().top - 1,
                    a = n - this.$conversationMessageOptions.outerHeight() - (s = this.$conversationNewMessageTextSection.hasClass(this.cssClasses.isHidden) ? s : this.$conversationNewMessageTextSection.outerHeight());
                /twitter/gi.test(navigator.userAgent) && s && !t && (a -= $(window).width() > i ? 45 : 96), this.mv.isMobile && (n -= parseInt($(".inbox-conversation__mobile__tabs-container").height()) + 20), this.isIos && this.state == this.states.newConversation && (a = n - (this.$conversationNewMessageTextSection.outerHeight() + 38)), this.$conversationListSection.css({
                    height: n - 55
                }), this.$messageListContainer.css({
                    height: a
                })
            },
            addListeners: function() {
                this.$crushFilterAttachment.on("click", $.proxy(this.onCrushFilterClick, this)), this.$conversationTab.on("click", $.proxy(this.onMessageTypeTabClick, this)), this.$conversationList.on("click", ".js-conversation-load", $.proxy(this.onConversationClicked, this)), this.$conversationType.on("change", $.proxy(this.onConversationTypeChanged, this)), this.$conversationList.on("click", ".js-conversation-toggle-archive", $.proxy(this.onToggleArchiveClicked, this)), this.$conversationList.on("click", ".js-conversation-delete", $.proxy(this.onDeleteConversationClicked, this)), this.$conversationMessagesSection.on("click", ".js-group-conversation-toggle-archive", $.proxy(this.onToggleGroupArchiveClicked, this)), this.$conversationMessagesSection.on("click", ".js-group-conversation-delete", $.proxy(this.onDeleteGroupConversationClicked, this)), this.$conversationLoadMoreButton.on("click", $.proxy(this.onLoadMoreConversationClicked, this)), this.$conversationNewMessageButton.on("click", $.proxy(this.onNewMessageBtnClicked, this)), this.$conversationCancelNewMessageButton.on("click", $.proxy(this.onCancelNewMessageBtnClicked, this)), this.$conversationMobileBackButton.on("click", $.proxy(this.onMobileBackButtonClicked, this)), this.$conversationThreadOptionsToggleArchive.on("click", $.proxy(this.onToggleArchiveClicked, this)), this.$conversationThreadOptionsUnfollowUser.on("click", $.proxy(this.onUnfollowUserClicked, this)), this.$conversationThreadOptionsDelete.on("click", $.proxy(this.removePinOnControls, this)), this.$conversationThreadOptionsToggleArchiveLabel.on("click", $.proxy(this.removePinOnControls, this)), this.$conversationThreadOptionsDelete.on("click", $.proxy(this.onDeleteConversationClicked, this)), this.$conversationNewMessageUsernameInput.on("mv:new-user-selected", $.proxy(this.onNewMessageUsernameChange, this)), this.$conversationMessageSubmit.on("click", $.proxy(this.onMessageSubmit, this)), this.$crushRenew.on("click", $.proxy(this.showRenewCrushService, this)), this.$conversationMessageUploadFiles.on("change", $.proxy(this.onUploadImageChange, this)), this.$conversationMessageUploadFiles.on("change", $.proxy(this.onUploadVideoChange, this)), this.$conversationMessageUploader.on("click", ".js-upload-file-remove", $.proxy(this.onRemoveUploadImageClicked, this)), this.$conversationNewMessageTextInput.on("change", $.proxy(this.onNewMessageInputChange, this)), this.$conversationNewMessageTextInput.on("mv:sendmanymotesticker", $.proxy(this.onManymoteStickerSend, this)), this.$conversationMessageList.on("click", ".js-delete-message", $.proxy(this.onDeleteMessageClicked, this)), this.$messagesLoadMoreButton.on("click", $.proxy(this.onLoadMoreMessagesClicked, this)), this.$payToView.on("click", $.proxy(this.openPayToViewModal, this)), this.$savePayToViewAmount.on("click", $.proxy(this.savePayToViewAmount, this)), this.$conversationMessageList.on("click", ".js-pay-to-view-btn", $.proxy(this.payToViewCheckout, this)), this.$modalCloseBtn.on("click", $.proxy(this.redirectToPastHistory, this)), this.$videoAttachmentLabel.on("click", $.proxy(this.triggerUploader, this)), this.mv.isMobile && (this.$conversationMessageList.on("click", ".js-inbox-message-body", $.proxy(this.onMessageBodyClicked, this)), this.$conversationNewMessageTextInput.on("blur", $.proxy(this.adjustInboxContainerHeights, this))), $(window).on("resize", $.proxy(this.delayedAdjustInboxContainerHeights, this)), this.$conversationList.on("click", ".js-default-conversation", $.proxy(this.reloadDefaultMessage, this)), $(document).on("mv:userblocked", $.proxy(this.onUserBlocked, this)), $(document).on("mv:openmanymotemenu mv:closemanymotemenu", $.proxy(this.onManymoteMenuToggle, this)), $(document).on("click", ".js-hide-crush-info-popup", $.proxy(this.onCrushHideInfoPopup, this)), this.$followButton = $("#id-following-btn"), this.addEventFollowButton(), this.addEventPinButton()
            },
            triggerUploader: function() {
                $(".js-inbox-vid-btn div").trigger("click")
            },
            removeListeners: function() {
                this.$conversationType.off("change", this.onConversationTypeChanged)
            },
            onConversationTypeChanged: function(e) {
                this.type == this.$conversationType.val() && "force" != e || (this.type = this.$conversationType.val(), this.isArchive = this.type == this.conversationTypes.archive, this.ajaxConfig.data = {
                    typeMessage: this.typeMessage,
                    action: this.requestActions.getConversationListAndFirstConversation,
                    type: this.type,
                    isMobile: this.mv.isMobile
                }, this.ajaxConfig.success = $.proxy(this.requestSuccess, this), $.when($.ajax(this.ajaxConfig)).then(function(e, t, i) {
                    window.history.pushState({
                        html: $("html").text(),
                        pageTitle: window.document.title
                    }, "", "/Inbox/")
                }), this.setDisplayStatus())
            },
            onConversationClicked: function(e) {
                var t, i = $(e.currentTarget),
                    s = $(e.currentTarget).hasClass(this.cssClasses.conversationUnread);
                $(".js-conversation-load").removeClass(this.cssClasses.conversationSelected), i.removeClass(this.cssClasses.conversationUnread).addClass(this.cssClasses.conversationSelected), $(e.target).hasClass("block-user") || $(e.target).hasClass("js-conversation-toggle-archive") || $(e.target).hasClass("js-conversation-delete") || (this.toggleMobileSections(!1), e = i.data("conversation-iuid"), t = i.data("conversation-lmid"), this.crushFilterId = t, this.crushFilter = "All", this.clearNewMessage(), this.loadConversation(e, !1, t, 0), !0 === s && 0 < (t = i.find(".js-conversation-messages-amount").text()).length && (t = parseInt(t), this.updateUnreadCount(t)), this.setDefaultCrushFilter(), window.history.pushState({
                    html: $("html").text(),
                    pageTitle: window.document.title
                }, "", "/Inbox/" + e), this.typeMessage == this.messageTypes.privateMessage && this.checkPinBtnStatus())
            },
            onToggleArchiveClicked: function(e) {
                this.onConversationIconClicked(e, this.typeMessage)
            },
            onUnfollowUserClicked: function(e) {
                this.onConversationIconClicked(e, this.typeMessage)
            },
            onToggleGroupArchiveClicked: function(e) {
                this.typeMessage = "crush", this.onConversationIconClicked(e, this.typeMessage)
            },
            onDeleteConversationClicked: function(e) {
                this.onConversationIconClicked(e, this.typeMessage)
            },
            onDeleteGroupConversationClicked: function(e) {
                this.typeMessage = "crush", this.onConversationIconClicked(e, this.typeMessage)
            },
            onConversationIconClicked: function(e, t) {
                var i, s, n = this,
                    a = this.selectedUser.user_id,
                    o = $(e.currentTarget),
                    r = "",
                    l = !0;
                (a || t !== this.messageTypes.privateMessage) && (e.stopImmediatePropagation(), e.stopPropagation(), i = o.attr("data-conversation-lmid"), o.hasClass("crush-service-renew") ? (l = !1, $(".crush-renew[data-model-id=" + a + "]").click()) : s = o.hasClass("js-conversation-delete") || o.hasClass("js-group-conversation-delete") ? (r = this.requestActions.deleteConversation, this.mv.mvDialog.confirm("Are you sure you want to delete this conversation forever?", "", "Yes", "Cancel").promise) : (r = o.attr("data-conversation-action")) === this.dropdownToggleActions.unfollow ? this.mv.mvDialog.confirm("You will no longer receive flyers from the MV Star.", "", "Yes", "Cancel").promise : (r = o.attr("data-conversation-action") || (this.isArchive ? this.requestActions.unarchiveConversation : this.requestActions.archiveConversation), $.when(!0)), l) && s.done(function() {
                    n.ajaxConfig.data = {
                        typeMessage: t,
                        action: r,
                        iuid: a,
                        lmid: i,
                        mid: n.mid,
                        type: n.type,
                        isMobile: n.mv.isMobile
                    }, n.$conversationDropdownMenu.click(), n.ajaxConfig.success = $.proxy(n.requestSuccess, n), n.sendRequest(!1)
                })
            },
            onLoadMoreConversationClicked: function() {
                this.ajaxConfig.data = {
                    typeMessage: this.typeMessage,
                    action: this.requestActions.getConversationList,
                    offset: this.conversationNextOffset,
                    type: this.type,
                    isMobile: this.mv.isMobile
                }, this.ajaxConfig.success = $.proxy(this.loadNextConversations, this), this.sendRequest(!1)
            },
            onLoadMoreMessagesClicked: function() {
                this.loadMoreMessages(), this.filterPinnedConversations()
            },
            onNewMessageBtnClicked: function() {
                var e = this.getCurrentUser("user_type"),
                    t = this.getCurrentUser("user_id");
                "mvflyers" === this.typeMessage && "user" === e || (this.typeMessage == this.messageTypes.privateMessage ? (this.$conversationMessageOptions.removeClass(this.cssClasses.isHidden), this.$conversationThreadOptions.addClass(this.cssClasses.isHidden), this.$conversationNewUserSection.removeClass(this.cssClasses.isHidden), this.$conversationNewMessageTextSection.removeClass(this.cssClasses.isHidden)) : (this.ajaxConfig.data = {
                    typeMessage: this.typeMessage,
                    iuid: t,
                    action: this.requestActions.getContersationListAndGetSpecific,
                    isMobile: this.mv.isMobile
                }, this.ajaxConfig.success = $.proxy(this.setNewMessage, this), this.sendRequest(!1)), this.$conversationMessageList.html(""), this.$conversationNewMessageUsernameInput.val(""), $(".js-conversation-new-message-profile-pic").html(""), this.setState(this.states.newConversation), this.mv.isMobile || this.typeMessage != this.messageTypes.crushMessage || this.renderConversationList(), this.hideDisplayLandingPage())
            },
            onCancelNewMessageBtnClicked: function() {
                var e = this.getUrlParams();
                this.cancelNewMessage(), "New" !== e[2] && !/^\d+$/.test(e[2]) || window.history.pushState({
                    html: $("html").text(),
                    pageTitle: window.document.title
                }, "", "/Inbox/"), window.location.reload(), this.displayLandingPageMessage()
            },
            onMobileBackButtonClicked: function() {
                this.toggleMobileSections(!0), this.lazyLoadImages(), this.navigateToInbox(window.location.href)
            },
            onDeleteMessageClicked: function(e) {
                var t = this,
                    i = $(e.currentTarget).parents(".js-inbox-message").data("mid") >> 0,
                    s = this.selectedUser.user_id;
                (this.typeMessage !== this.messageTypes.privateMessage || i && s) && (e.preventDefault(), e.stopImmediatePropagation(), this.mv.mvDialog.confirm("Are you sure you want to delete this message forever?", "Delete Message", "Yes", "No").promise.done(function() {
                    t.ajaxConfig.data = {
                        action: t.requestActions.deleteMessage,
                        iuid: s,
                        mid: i,
                        typeMessage: t.typeMessage
                    }, t.ajaxConfig.success = $.proxy(t.showSelectedMessage, t), t.sendRequest(!1)
                }))
            },
            onMessageBodyClicked: function(e) {
                var e = $(e.currentTarget),
                    t = this.cssClasses.messageSelected,
                    i = e.hasClass(t);
                this.$conversationMessageList.find(".js-inbox-message-body." + t).removeClass(t), e.toggleClass(t, !i)
            },
            onMessageSubmit: function() {
                var e = this.validateMessageForm();
                e ? this.showError(e, "Oops!") : $(".image-preview").length > this.maxItemImageUpload ? this.showError("Oops! Only " + this.maxItemImageUpload + " images can be sent at a time. Please remove the rest", "Oops!") : 0 < $(".js-qq-upload-list li").length || this.sendMessage()
            },
            onUploadImageChange: function() {
                this.populateMultipleImageUpload(), $("#image-attachment").val(""), this.updateSubmitButtonState(), this.delayedAdjustInboxContainerHeights()
            },
            onUploadVideoChange: function() {
                this.updateSubmitButtonState(), this.delayedAdjustInboxContainerHeights()
            },
            onUserBlocked: function(e, t) {
                var i;
                t && t.user_id && (i = t.user_id, this.isArchive && "unblock" == t.action ? this.ajaxConfig.data = {
                    typeMessage: this.typeMessage,
                    action: this.requestActions.getConversationListAndFirstConversation,
                    type: this.type
                } : this.ajaxConfig.data = {
                    action: this.requestActions.archiveConversation,
                    iuid: i,
                    lmid: this.lmid,
                    typeMessage: this.typeMessage,
                    mid: this.mid,
                    type: this.type
                }, this.ajaxConfig.success = $.proxy(this.requestSuccess, this), this.sendRequest(!1))
            },
            onManymoteStickerSend: function(e, t) {
                var i;
                t && t.manymote ? (i = this.isRecipientInvalid()) ? this.showError(i, "Oops!") : this.sendMessage(t.manymote) : this.showError("An error has occured!", "Oops!")
            },
            onNewMessageInputChange: function(e) {
                this.updateSubmitButtonState()
            },
            onManymoteMenuToggle: function(e) {
                var t = 0;
                this.state == this.states.hasConversation && (t = document.body.scrollHeight), this.adjustInboxContainerHeights(e), setTimeout(function() {
                    window.scrollTo(0, t)
                }, 0)
            },
            onRemoveUploadImageClicked: function(e) {
                this.removeUploadImage(e), this.enableImageUpload(), this.enableVideoUpload()
            },
            onNewMessageUsernameChange: function(e, t) {
                this.updateSubmitButtonState(), this.updateNewMessageProfilePic(t.user)
            },
            loadMoreMessages: function() {
                this.loadConversation(this.selectedUser.user_id, !0, this.lmid, this.messagesNextOffset)
            },
            loadConversation: function(e, t, i, s) {
                var n = this.requestActions.getConversation;
                e = this.typeMessage === this.messageTypes.crushMessage && 0 === e ? 0 : e || this.selectedUser.user_id, i = i || this.mid, this.ajaxConfig.data = {
                    typeMessage: this.typeMessage,
                    action: n,
                    iuid: e,
                    filter: this.crushFilter,
                    mid: i,
                    offset: s,
                    isMobile: this.mv.isMobile
                }, this.ajaxConfig.success = $.proxy(this.showSelectedMessage, this), t && (this.ajaxConfig.offset = this.messagesNextOffset), this.sendRequest(!1), this.updateLoadMoreMessagesSection(!0)
            },
            beforeRequest: function() {
                $("#loadingDiv,#loadingOverlay").hide(), this.previousUnreadMessagesCount = this.unreadMessagesCount
            },
            showLoadingOverlay: function(e) {
                e ? $("#loadingDiv,#loadingOverlay").show() : $("#loadingDiv,#loadingOverlay").hide()
            },
            sendRequest: function(e) {
                this.cancelRequest(), this.showLoadingOverlay(), this.ajaxConfig.method = !0 === e ? "post" : "get", this.xhr = $.ajax(this.ajaxConfig)
            },
            cancelRequest: function() {
                this.xhr && "abort" != this.xhr.statusText && this.xhr.abort()
            },
            requestSuccess: function(e) {
                var t;
                $(".js-redirect-to-profile-crush-btn");
                e ? (null !== e.selectedUser && (this.iuid = parseInt(e.selectedUser.user_id), this.renderConversationUserInfo(e.selectedUser)), e.action !== this.requestActions.getContersationListAndGetSpecific && e.action !== this.requestActions.getConversation || localStorage.setItem("currentUserType", JSON.stringify(e.currentUser)), 0 < e.messages.list.length ? this.lmid = parseInt(e.messages.list[e.messages.list.length - 1].msg_id) : this.lmid = 0, void 0 !== e.unread && (this.unreadMessagesCount = e.unread >> 0, this.updateInboxTypeUnreadMessages()), this.conversationNextOffset = e.conversations.meta.nextOffset >> 0, this.conversationTotal = e.conversations.meta.total >> 0, this.messagesNextOffset = e.messages.meta.nextOffset >> 0, this.messagesTotal = e.messages.meta.total >> 0, this.unreadMessagesCount = e.unread >> 0, e.currentUser && 0 < e.currentUser.length ? this.currentUser = e.currentUser : this.currentUser = this.getCurrentUser("user_type"), this.selectedUser = e.selectedUser, this.videoPlayerLicenseKey = e.videoLicenseKey, this.unreadPrivateMessagesCount = e.allUnreadTotal.private, this.unreadCrushMessagesCount = e.allUnreadTotal.crush, this.unreadMvFlyerMessageCount = e.allUnreadTotal.mvflyers, this.setUnreadCount(), this.resetPayToView(), t = this.states.noConversation, this.iuid && this.lmid ? t = this.states.hasConversation : this.$conversationMessagesSection.hasClass("-" + this.states.newConversation) || this.iuid && !this.lmid ? t = this.states.newConversation : this.$conversationMessagesSection.hasClass("-" + this.states.hasConversation) && (t = this.states.hasConversation), this.setState(t), this.setThreadOptions(), this.renderConversationList(e.conversations.list, e.conversations.meta, !1), this.renderMessageList(e.messages.list, e.messages.meta), this.hasConversations = !1, 0 < e.conversations.list.length ? (this.hasConversations = !0, this.$conversationThreadOptions.removeClass(this.cssClasses.isHidden)) : this.$conversationThreadOptions.addClass(this.cssClasses.isHidden), this.hasDefaultMessage = e.hasDefaultMessage, this.isCrushMembershipExpired(e.conversations.list), this.setConversationThreadOption(), this.setConversationHeaderDisplay(), this.updateInboxTypeUnreadMessages(), this.setMessageTypeBodyClass(this.typeMessage), this.afterRequestSuccess(e), this.showHideNewMessageButton(), this.showHideRedirectCrushButton(), this.setMessageInputDisplay(), this.$conversationMessageOptions.removeClass(this.cssClasses.isHidden)) : this.requestError(!0)
            },
            requestError: function(e) {
                e && "abort" != e.statusText && this.showError("An error has occured!", "Oops"), this.updateLoadMoreConversationSection(), this.updateLoadMoreMessagesSection()
            },
            requestComplete: function(e) {
                this.$conversationNewMessageButton.addClass(this.cssClasses.isHidden), this.$conversationRedirectCrushButton.addClass(this.cssClasses.isHidden)
            },
            setCurrentUser: async function() {
                try {
                    $.get("/includes/user_messages.php?mvtoken=" + $("html").data("mvtoken") + "&action=current_user_info").then(function(e) {
                        localStorage.setItem("currentUserType", JSON.stringify(e.user))
                    })
                } catch (e) {
                    console.error(e)
                }
            },
            getCurrentUser: function(e) {
                var t = localStorage.getItem("currentUserType"),
                    t = JSON.parse(t);
                return "model" === t.user_type && ($("#pay-to-view-container-id").removeClass("inbox-attachment-container__pay-to-view"), $("#jsInboxVidBtn").removeClass("inbox-attachment-container__video")), t[e]
            },
            renderConversationList: function(e, t, i) {
                var c = this;
                t && t.offset;
                c.unreadMessageAmount = 0, i || this.$conversationList.html(""), e && 0 < e.length ? $.each(e, function(e, t) {
                    var i, s, n, a, o, r, l, d;
                    0 === t.id && c.typeMessage == c.messageTypes.crushMessage ? (i = c.currentUser.user_type == c.userTypes.model ? "You haven't created a Club note" : "You haven't subscribed to a Club", i = $("<li />").attr({
                        class: "js-default-conversation inbox-conversation"
                    }).text(i)) : (i = c.iuid == t.user_id, n = !!t.user_blocked, r = parseInt(t.user_status) >> 0 == 3, s = parseInt(t.isStudio) >> 0, i && c.cssClasses.conversationSelected, i = 0 === parseInt(t.unread_msg_amount) || i ? "" : c.cssClasses.conversationUnread, n = n ? "user-is-blocked" : "", d = r ? "-is-deleted" : "", s = s ? c.cssClasses.isStudio : "", r = r ? c.deletedTitle : "", l = t.unread_msg_amount >> 0, i = $("<li />").attr({
                        class: "js-conversation-load inbox-conversation  " + i + " " + n + " ",
                        id: "conversation-card",
                        "data-conversation-iuid": t.user_id,
                        "data-conversation-lmid": t.msg_last_id,
                        title: r
                    }), n = $("<div />").attr({
                        class: "pr-2 relative"
                    }), r = $("<div />").attr({
                        class: "pic-wrapper square-size-4 inbox-conversation-user-pic" + s + " " + d
                    }), $("<img />").attr({
                        class: "inbox-conversation-user-pic-image b-lazy middle-x-y",
                        "data-src": t.profile_pic,
                        src: c.imagePlaceHolder
                    }).appendTo(r), r.appendTo(n), l && $("<div />").attr({
                        class: "js-conversation-messages-amount conversation-messages-amount"
                    }).text(t.unread_msg_amount).appendTo(n), n.appendTo(i), s = $("<div />").attr({
                        class: "media-body"
                    }), d = $("<div />").attr({
                        class: "media-heading"
                    }), r = $("<span />").attr({
                        class: "ellipsis max-width font-weight-bold"
                    }).html(t.stage_name), l = $("<span />").attr({
                        class: "time-stamp"
                    }).html(t.msg_date_clean), n = $("<span />").attr({
                        class: "pin-span"
                    }), a = $("<div />").attr({
                        class: "pin-container"
                    }), o = $("<div />").attr({
                        class: "user-info-container"
                    }), 0 < t.msg_has_attachments && $("<i />").attr({
                        class: "icon mini attachment-icon mr-1"
                    }).prependTo(l), r.appendTo(d), l.appendTo(d), d.appendTo(s), (r = $("<div />").attr({
                        class: "-manymotes-inline line-limit-3 message-preview"
                    }).html(t.msg_body)).appendTo(s), a.appendTo(o), n.appendTo(a), o.appendTo(i), t.isCrushMemberActivated || c.typeMessage != c.messageTypes.crushMessage || (l = $("<a />").attr({
                        class: "view-services crush-renew",
                        title: "Subscribe",
                        href: "javascript:;",
                        "data-event-category": "CommsInbox",
                        "data-event-action": "clickRenew",
                        "data-event-label": "Buttons",
                        "data-service": "crush",
                        "data-model-username": t.stage_name,
                        "data-model-id": t.sender_id
                    }).html("Renew").click(function() {
                        MV.inbox.sendGAEvent(this)
                    }), d = $("<div />").attr({
                        class: "-manymotes-inline line-limit-3 picture-footer-links"
                    }).html("Club Expired"), r.remove(), l.appendTo(d), d.appendTo(s)), s.appendTo(i)), c.$conversationList.append(i)
                }) : (t = this.typeMessage == this.messageTypes.mvflyersMessage ? "You have not sent any Broadcast" : "You have no conversations", i = $("<li />").attr({
                    class: "inbox-conversation"
                }).text(t), this.$conversationList.html(i)), this.updateLoadMoreConversationSection(), this.filterPinnedConversations(), this.selectConversation(), this.isConversationInList()
            },
            updateLoadMoreConversationSection: function(e) {
                this.$conversationLoadingMore.prop("hidden", !e), this.$conversationLoadMoreButton.prop("hidden", !0 === e || !this.conversationNextOffset)
            },
            updateLoadMoreMessagesSection: function(e) {
                var t = this.state == this.states.hasConversation;
                this.$messagesLoadingMore.prop("hidden", !e || !t), this.$messagesLoadMoreButton.prop("hidden", !0 === e || !this.messagesNextOffset || !t)
            },
            renderConversationUserInfo: function(e) {
                this.typeMessage != this.messageTypes.privateMessage && (t = JSON.parse(window.localStorage.getItem("currentUserType"))) !== e && (e = t), this.$conversationUserSection.html("");
                var t = e.profile_pic,
                    i = e.isStudio >> 0,
                    s = e.user_status >> 0 == 3,
                    i = i ? this.cssClasses.isStudio : "",
                    n = s ? "-is-deleted" : "",
                    a = s ? this.deletedTitle : "",
                    o = s ? " <i>deleted</i>" : "",
                    r = e.stage_name || "",
                    l = s ? "return false;" : "/MVLive/" + r + "/" + e.user_id + "/",
                    s = s ? "return false;" : "/Profile/" + e.user_id + "/" + r + "/",
                    e = (device.prototype.isMobile && this.typeMessage != this.messageTypes.privateMessage && (r = ""), $("<a />").attr({
                        class: "pic-wrapper square-size-2 inbox-message-nav-user-pic mr-1" + i + " " + n,
                        href: l,
                        title: a
                    }), $("<a />").attr({
                        class: "pic-wrapper square-size-2 inbox-message-nav-user-pic mr-1" + i + " " + n,
                        href: s,
                        title: a
                    })),
                    i = $("<img />").attr({
                        class: "b-lazy",
                        "data-src": t,
                        src: this.imagePlaceHolder
                    }),
                    n = $("<span />").attr({
                        class: "inbox-message-nav-user-name",
                        href: s
                    }).html(r + " " + o);
                $("<a />").attr({
                    class: "inbox-message-nav-user-name",
                    href: l
                }).html(r + " " + o);
                this.$conversationUserSection.append(e), i.appendTo(e), this.$conversationUserSection.removeClass("mv-live-model mv-live-model-name mv-private-model mv-private-model-name"), this.$conversationUserSection.append(n)
            },
            generateRandomPlaceholderText: function(e) {
                for (var t = "", i = "a b c def ghijkl mnopqrstuvw xyz ", s = i.length, n = 0; n < e; n++) t += i.charAt(Math.floor(Math.random() * s));
                return t
            },
            selectConversation: function() {
                var e = this.getUrlParams(),
                    t = e[3],
                    i = e[2],
                    s = document.querySelector(".js-conversation-list"),
                    s = Array.from(s.querySelectorAll("li"));
                "New" === e[2] && (s.forEach(function(e) {
                    (liData = e.getAttribute("data-conversation-iuid")) == t && $(e).addClass("-selected")
                }), this.typeMessage == this.messageTypes.privateMessage) && this.hideDisplayLandingPage(), /^\d+$/.test(i) && (s.forEach(function(e) {
                    (liData = e.getAttribute("data-conversation-iuid")) == i && $(e).addClass("-selected")
                }), this.typeMessage == this.messageTypes.privateMessage) && this.hideDisplayLandingPage()
            },
            unselectConversation: function() {
                var e = document.querySelector(".js-conversation-list"),
                    e = Array.from(e.querySelectorAll("li")),
                    t = this.getUrlParams(),
                    i = t[3],
                    s = t[2];
                this.mv.isMobile || (/^\d+$/.test(s) && e.forEach(function(e) {
                    (liData = e.getAttribute("data-conversation-iuid")) == s && $(e).removeClass("-selected")
                }), "New" === t[2] && e.forEach(function(e) {
                    (liData = e.getAttribute("data-conversation-iuid")) == i && $(e).removeClass("-selected")
                }), window.history.pushState({
                    html: $("html").text(),
                    pageTitle: window.document.title
                }, "", "/Inbox/"), this.setDisplayStatus())
            },
            isConversationInList: function() {
                var e = this.getUrlParams(),
                    t = e[3],
                    i = document.querySelector(".js-conversation-list"),
                    s = Array.from(i.querySelectorAll("li"));
                if ("New" === e[2])
                    for (var n = 0; n < s.length; n++)
                        if (s[n].getAttribute("data-conversation-iuid") === t) {
                            window.location.href = "/Inbox/" + t;
                            break
                        }
            },
            renderMessageList: function(e, t) {
                var i, s = JSON.parse(localStorage.getItem("currentUserType")),
                    n = "",
                    a = "",
                    o = "",
                    r = t && t.offset,
                    l = [this.messageTypes.crushMessage],
                    d = !1;
                if (r ? e.reverse() : this.$conversationMessageList.html(""), d = (this.typeMessage != this.messageTypes.crushMessage || !t.isCrushMemberActivated || t.isMemberBlocked) && (this.typeMessage != this.messageTypes.mvflyersMessage || t.isMemberBlocked) && this.typeMessage != this.messageTypes.privateMessage ? d : !0) {
                    for (var c = 0, u = e.length; c < u; c++) {
                        "0" === (i = e[c]).msg_status && 0;
                        var h = i.msg_id,
                            p = i.profile_pic,
                            f = parseInt(i.user_id) == s.user_id,
                            m = i.isStudio >> 0,
                            g = i.user_status >> 0 == 3,
                            m = m ? this.cssClasses.isStudio : "",
                            v = g ? "User has been deleted" : "",
                            y = g ? " <i>deleted</i>" : "",
                            b = i.stage_name,
                            w = g ? "return false;" : "/Profile/" + i.user_id + "/" + b + "/",
                            _ = (g || i.user_id, i.msg_body),
                            C = i.msg_date_clean,
                            m = '<a href="' + w + '"class="pic-wrapper square-size-2 ' + m + " " + (g ? "-is-deleted" : "") + ' inbox-message-user-pic" title="' + v + '">',
                            g = '<a href="' + w + '" title="' + v + '">',
                            w = "",
                            k = "",
                            x = " ",
                            v = "",
                            S = void 0 !== i.attachments || 0,
                            T = "";
                        if (this.typeMessage == this.messageTypes.crushMessage && (w = "crush-notes ", a = (f = parseInt(i.user_id) === parseInt(t.userId)) ? "" : g + b + "</a>", x = " Club "), this.typeMessage == this.messageTypes.mvflyersMessage && (w = "mvflyer-notes ", x = " Flyer "), w += f ? "message-sent" : "message-received", S) {
                            var E, A = [];
                            for (E in i.attachments) {
                                var P = {};
                                switch (P.messageId = h, E) {
                                    case "images":
                                        var M = i.attachments[E],
                                            D = !1;
                                        this.typeMessage;
                                        for (var I = 0; I < M.length; I++) {
                                            0 < i.pay_to_view_price && "0" === i.pay_to_view_access && i.current_user_id != i.user_id ? (P.source = "https://cdn3.manyvids.com/site_files/images/backgrounds/pay_to_open_pics.png", P.source_full = "https://cdn3.manyvids.com/site_files/images/backgrounds/pay_to_open_pics.png", P.blurred_source = "https://cdn5.manyvids.com/php_uploads/gallery/" + encodeURI(i.username) + "/thumbs/blur_thumb_" + M[I].image_file, P.hideImageIcons = !0, k = i.attachments.images.length + " Locked" + x + "Pic" + (1 < i.attachments.images.length ? "s" : "")) : (P.source = M[I].signed_image_thumbnail, P.source_full = M[I].signed_image, P.blurred_source = "https://cdn5.manyvids.com/php_uploads/gallery/" + encodeURI(i.username) + "/thumbs/blur_thumb_" + M[I].image_file, D = !0), P.messageType = this.typeMessage;
                                            var L = this.showAttachment(P, "image", D, i.attachments.images.length);
                                            if (A.push(L), k) break
                                        }
                                        break;
                                    case "videos":
                                        for (var j = i.attachments[E], I = 0; I < j.length; I++) 0 < i.pay_to_view_price && "0" === i.pay_to_view_access && i.current_user_id != i.user_id ? (P.source = "https://cdn3.manyvids.com/site_files/images/backgrounds/pay_to_open_vid.png", P.source_full = "https://cdn3.manyvids.com/site_files/images/backgrounds/pay_to_open_vid.png", P.hideImageIcons = !0, L = this.showAttachment(P, "image", !0, 1), k = "Locked" + x + "Vid") : (P.source = j[0], L = this.showAttachment(P, "video", !1, 1)), A.push(L)
                                }
                            }
                            0 < A.length && (T = A.join(""))
                        }
                        n = '<li class="inbox-message ' + w + '  js-inbox-message" data-mid="' + h + '">' + m + '<img class="b-lazy" data-src="' + p + '" src="' + this.imagePlaceHolder + '"></a><div class="media-heading"><span class="comment-name">' + a + "</span>" + y + '<span class="time-stamp">' + C + '</span></div><div class="inbox-message-body js-inbox-message-body ' + (0 < i.attachments.videos.length ? "vid-message" : "") + '">';
                        "0" === i.pay_to_view_access && "1" === i.isBlocked ? (g = "", b = "purple-lock", f = "btn-primary", 0 < i.attachments.images.length || 0 < i.attachments.videos.length ? g = i.msg_body : (k = "Locked Message", v = '<img class="inbox-message-attachment-image image-cover" src="https://cdn3.manyvids.com/site_files/images/backgrounds/pay_to_open_msg.png">'), "crush" === this.typeMessage && (b = "crush-only-icon-v3", f = "btn-highlight"), n += '<div class="js-attachment-display inbox-message-attachment-container">' + T + (v += '<div class="pay-to-open-wrapper"><i class="icon ' + b + ' large" /><span>' + k + '</span><a class="btn ' + f + ' js-pay-to-view-btn" data-id="' + i.msg_id + '" title="Pay To Open" href="javascript:;">Unlock for $' + i.pay_to_view_price + "</a></div>") + "</div>" + g) : (n += '<div class="js-attachment-display inbox-message-attachment-container">' + T + "</div>" + _, 0 < i.pay_to_view_price && (i.current_user_id != i.user_id ? n += '<p class="pay-to-open-unlocked"><small><i class="pay-per-view-icon icon small mr-1"></i><i>You unlocked this message for $' + i.pay_to_view_price + "</i></small></p>" : "0" !== i.pay_to_view_purchases ? "private" === this.typeMessage ? n += '<p class="pay-to-open-unlocked"><small><i class="pay-per-view-icon icon small mr-1"></i><i>Message has been unlocked for $' + i.pay_to_view_price + ".</i></small></p>" : n += '<p class="pay-to-open-unlocked"><small><i class="pay-per-view-icon icon small mr-1"></i><i>' + i.pay_to_view_purchases + " member" + ("1" === i.pay_to_view_purchases ? " has" : "s have") + " unlocked this for $" + i.pay_to_view_price + ".</i></small></p>" : n += '<p><small><i class="pay-per-view-icon icon small mr-1"></i><i>$' + i.pay_to_view_price + " to unlock this message.</i></small></p>")), n += '<a class="inbox-delete-message-btn js-delete-message" href="javascript:;">Remove</a></div></li>', r ? this.$conversationMessageList.prepend(n) : this.$conversationMessageList.append(n)
                    }
                    this.getFollowers()
                }!r && i && i.user_id != this.iuid && 1 === parseInt(i.msg_status) && this.messageTypes.mvflyersMessage != this.typeMessage && (d = $("<li />").attr({
                    class: "media inbox-message"
                }), o = $("<div />").attr({
                    class: "inbox-message-seen"
                }), $("<span />").text("Seen").appendTo(o), o.appendTo(d), this.$conversationMessageList.append(d)), -1 < l.indexOf(this.typeMessage) && this.toggleMobileSections(!1), t.isMemberBlocked && $(".js-messages-load-more").hide(), this.updateLoadMoreMessagesSection(), this.setMessageFormOption()
            },
            updateInboxTypeUnreadMessages: function() {
                var e = "Unread",
                    t = this.unreadMessagesCount,
                    i = 0;
                this.unreadMessagesCount ? (e += " (" + t + ")", this.$globalNotificationCount.prop("hidden", !1), this.$globalNotificationCount.text(t)) : (this.$globalNotificationCount.prop("hidden", !0), this.$globalNotificationWrapper.removeClass("unread")), "private" === this.typeMessage && (i = 0 < t ? t - this.unreadCrushMessagesCount : i), this.$conversationTypeUnreadOption.text(e), this.$conversationType.change()
            },
            afterRequestSuccess: function(e) {
                this.lazyLoadImages();
                var t, i = e.action,
                    s = (i === this.requestActions.getConversationList ? (s = this.previousUnreadMessagesCount, t = this.unreadMessagesCount, 0 < s && s < t && this.$globalNotificationCount.addClass("item-count-highlight")) : this.isArchive || this.$globalNotificationCount.removeClass("item-count-highlight"), 0 === parseInt(this.selectedUser.user_id) && this.$conversationMessageOptions.addClass(this.cssClasses.isHidden), e && e.messages.meta);
                s && 0 === s.offset && this.scrollMessageListToBottom(), !!(s && s.offset) && s.results && this.$messageListSlider.scrollTop($("li", this.$conversationMessageList).eq(s.results).position().top), i != this.requestActions.archiveConversation && i != this.requestActions.unarchiveConversation && i != this.requestActions.deleteConversation || (e.messages && e.messages.length ? this.showSuccess("You have received a new message") : this.mv.isMobile && this.toggleMobileSections(!0)), this.updateMediaUploadState(), this.resetPayToOpenPrice()
            },
            clearNewMessage: function() {
                this.$conversationNewMessageTextInput.trigger("mv:empty"), this.resetUploadFiles()
            },
            scrollMessageListToBottom: function() {
                this.$messageListSlider.scrollTop(this.$conversationMessageList.height())
            },
            cancelNewMessage: function() {
                this.setDisplayStatus(), this.toggleMobileSections(!0)
            },
            resetConversation: function() {
                this.clearNewMessage(), this.$conversationMessageList.empty(), this.resetConversationThreadOptions(), this.updateSubmitButtonState()
            },
            setState: function(e, t) {
                this.state = e, this.state === this.states.newConversation ? (this.resetConversation(), this.toggleMobileSections(!1)) : this.clearNewMessage(), this.adjustInboxContainerHeights(), this.state == this.states.newConversation && this.$conversationNewMessageUsernameInput.focus(), this.$conversationMessagesSection.removeClass(this.cssClasses.allStates).addClass("-" + this.state), this.updateLoadMoreMessagesSection(), this.updateSubmitButtonState()
            },
            updateNewMessageProfilePic: function(e) {
                var t = e[0],
                    i = e[2] >> 0 ? this.cssClasses.isStudio : "",
                    e = (e[1], '<span class="pic-wrapper square-size-2 ' + i + ' inbox-message-nav-user-pic" ><img class="b-lazy b-loaded" src="' + t + '"></span>');
                $(".js-conversation-new-message-profile-pic").html(e)
            },
            updateSubmitButtonState: function() {
                var t = this;
                t.typeMessage === t.messageTypes.crushMessage && ("" === $(".js-pay-to-view-price").val() || $(".js-pay-to-view-price").val() <= "0") ? t.$conversationMessageSubmit.attr({
                    disabled: "disabled"
                }) : setTimeout(function() {
                    var e = !1;
                    t.validateMessageForm() && (e = !0), t.$conversationMessageSubmit.attr({
                        disabled: e
                    }), t.$conversationMessageSubmit.toggleClass("disabled", e)
                }, 500)
            },
            setDisplayStatus: async function() {
                if (!this.mv.isMobile) {
                    switch (this.typeMessage) {
                        case this.messageTypes.privateMessage:
                            this.displayLandingPageMessage();
                            break;
                        case this.messageTypes.crushMessage:
                            this.displayLandingPageCrushMessage();
                            break;
                        case this.messageTypes.mvflyersMessage:
                            this.displayLandingPageMvflyersMessage()
                    }
                    return !0
                }
            },
            displayLandingPageMessage: function() {
                this.$conversationMessagesSection.children().hide(), this.$conversationMessagesSection.removeClass("is-crush-landing-page-models is-crush-landing-page-members is-mvflyers-landing-page-models is-mvflyers-landing-page-members"), this.$conversationMessagesSection.addClass("is-message-landing-page")
            },
            displayLandingPageCrushMessage: function() {
                var e = this.getCurrentUser("user_type");
                this.$conversationMessagesSection.removeClass("is-message-landing-page is-mvflyers-landing-page-models is-mvflyers-landing-page-members is-crush-landing-page-models is-crush-landing-page-members"), this.$conversationMessagesSection.children().show(), "user" === e && (this.$conversationMessagesSection.children().hide(), this.$conversationMessagesSection.addClass("is-crush-landing-page-members"))
            },
            displayLandingPageMvflyersMessage: async function() {
                var e = this.getCurrentUser("user_type");
                this.$conversationMessagesSection.children().hide(), this.$conversationMessagesSection.removeClass("is-message-landing-page is-crush-landing-page-models is-crush-landing-page-members"), "model" === e ? (this.$conversationMessagesSection.removeClass("is-mvflyers-landing-page-members"), this.$conversationMessagesSection.addClass("is-mvflyers-landing-page-models")) : (this.$conversationMessagesSection.removeClass("is-mvflyers-landing-page-models"), this.$conversationMessagesSection.addClass("is-mvflyers-landing-page-members"))
            },
            hideDisplayLandingPage: function() {
                this.mv.isMobile || (this.$conversationMessagesSection.children().show(), this.$conversationMessagesSection.removeClass("is-message-landing-page is-crush-landing-page-models is-crush-landing-page-members is-mvflyers-landing-page-models is-mvflyers-landing-page-members"))
            },
            toggleMobileSections: function(e) {
                var t;
                this.mv.isMobile && (t = e ? this.states.noConversation : this.states.hasConversation, this.$conversationBodyState.removeClass(this.cssClasses.allStates).addClass("-" + t), this.$conversationListSection.toggle(e), this.$conversationMessagesSection.toggle(!e), this.$conversationTypeContainer.toggle(e), this.$conversationMobileBackButton.toggle(!e), setTimeout(function() {
                    window.scrollTo(0, 0)
                }, 30))
            },
            resetConversationThreadOptions: function() {
                this.iuid = 0, this.lmid = 0, this.updateConversationThreadOptions()
            },
            updateConversationThreadOptions: function(e, t) {
                var i = "Block",
                    s = "",
                    n = e ? "Unarchive" : "Archive",
                    e = e ? "unarchive" : "archive";
                t && (s = "unblock", i = "Unblock"), this.$conversationThreadOptionsToggleArchive.data("conversation-iuid", this.iuid).data("conversation-lmid", this.lmid).data("conversation-action", e).attr("title", n), this.$conversationThreadOptionsDelete.data("conversation-iuid", this.iuid).data("conversation-lmid", this.lmid), this.$conversationThreadOptionsBlockUser.data("user-id", this.iuid).data("action", s).attr("title", i), this.$conversationThreadOptionsBlockUserLabel.html(i), this.$conversationThreadOptionsToggleArchiveLabel.html(n), this.$conversationThreadOptionsToggleArchiveIcon.toggleClass(this.cssClasses.archiveIcon, !this.isArchive).toggleClass(this.cssClasses.unarchiveIcon, this.isArchive)
            },
            removeUploadImage: function(e) {
                this.resetUploadFiles()
            },
            populateUploadVideo: function() {
                var e, t, i, s, n, a = this.$conversationMessageUploadFiles[1].files[0],
                    o = this,
                    r = [this.messageTypes.crushMessage, this.messageTypes.mvflyersMessage];
                void 0 !== a && (t = $("<div />").attr({
                    class: "video-file-upload-container"
                }), i = $("<video />").attr({
                    controls: !1
                }), s = $("<source />").attr({
                    src: URL.createObjectURL(a)
                }), n = $("<i />").attr({
                    class: "js-remove-attached-file file-remove-icon",
                    "data-filename": a.name,
                    "data-file-type": "video"
                }).click(this.removeAttachedFile), s.appendTo(i), i.appendTo(t), n.appendTo(t), setTimeout(function() {
                    o.videoFileDuration = i[0].duration, (e = o.validateVideoFile()) ? (o.showError(e), o.resetUploadFiles()) : (o.storedVideoPreviewFiles = [], o.storedVideoPreviewFiles.push(a), o.$conversationMessageUploader.removeClass(o.cssClasses.isHidden), $(".inbox-new-message-media").html(t), o.disableImageUpload(), o.disableVideoUpload())
                }, 200)), -1 < r.indexOf(this.typeMessage) && this.enableTwitter()
            },
            validateVideoFile: function() {
                var e = this.$conversationMessageUploadFiles[1].files[0];
                return 300 < Math.floor(this.videoFileDuration) ? "Oops! The video length cannot be greater than 5 minutes" : e.type != this.videoMimeType && !this.videoExtensionsRegExp.test(e.name) && "Oops! Only file types M4V/MP4/MOV are supported"
            },
            resetUploadFiles: function() {
                this.$conversationMessageUploader.addClass("is-hidden"), this.$conversationMessageUploader.find(".inbox-new-message-media").html(""), this.$conversationMessageUploadFiles.val(""), this.storedImagePreviewFiles = [], this.storedVideoPreviewFiles = [], this.enableImageUpload(), this.enableVideoUpload(), this.disableTwitter(), this.$conversationNewMessageTextContainer.removeClass(this.cssClasses.hasAttachment), this.updateSubmitButtonState(), this.delayedAdjustInboxContainerHeights()
            },
            getInputMessage: function() {
                return (this.$conversationNewMessageTextInput.data("manymotes-message") || "").trim()
            },
            isRecipientInvalid: function() {
                this.setThreadOptions();
                var e = "",
                    t = this.selectedUser.user_id;
                return e = !this.isGlobalNotification && this.state === this.states.newConversation && "" === this.$conversationNewMessageUsernameInput.val() && this.typeMessage !== this.messageTypes.crushMessage || this.state !== this.states.newConversation && !t ? "Please select a recipient!" : e
            },
            validateMessageForm: function() {
                var e = this.isRecipientInvalid(),
                    t = this.getInputMessage(),
                    i = 0 < this.storedImagePreviewFiles.length,
                    s = 0 < $(".js-qq-upload-list li").length;
                return e || ("" !== t || i || s ? "" : "Please enter a message or select an image/video!")
            },
            sendMessage: function(i) {
                var e, s = this,
                    t = new FormData,
                    n = $("#share_twitter").is(":checked") ? 1 : 0,
                    a = $(".js-pay-to-view-price").val();
                if (-1 < [this.messageTypes.crushMessage, this.messageTypes.mvflyersMessage].indexOf(this.typeMessage) && t.append("toTweet", n), t.append("typeMessage", this.typeMessage), i ? e = i : (e = this.getInputMessage(), hasVideo = 0 < $(".js-qq-upload-list li").length), this.state == this.states.newConversation ? t.append("notification_receiver", this.$conversationNewMessageUsernameInput.val()) : t.append("iuid", this.selectedUser.user_id), t.append("notification_body", e), t.append("notification_title", "-"), t.append("notification_price", a), t.append("global-notification", this.isGlobalNotification), 0 < s.storedImagePreviewFiles.length)
                    for (var o = 0; o < s.storedImagePreviewFiles.length; o++) t.append("notification_image[]", s.storedImagePreviewFiles[o], s.storedImagePreviewFiles[o].name);
                hasVideo && t.append("notification_video", this.uploadedVideoName), t.append("mvtoken", globalSettings.prototype.mvtoken), t.append("action", this.requestActions.includeMessage), this.showLoadingOverlay(!0), $.ajax({
                    type: "POST",
                    url: "/includes/user_messages.php",
                    data: t,
                    xhr: function() {
                        var e = new window.XMLHttpRequest;
                        return e.upload.addEventListener("progress", function(e) {
                            e.lengthComputable && (e = e.loaded / e.total, e = parseInt(100 * e))
                        }, !1), e
                    },
                    success: function(e) {
                        var t;
                        (e = e || {}).success ? (this.mid = e.messageId, s.isGlobalNotification && s.mv.mvDialog.alert(e.success), s.messageSentSuccess(!!i), s.showMVCrushSendMessageBtn = !1, s.selectedUser = e.selectedUser, s.loadConversation(s.selectedUser.user_id, !1, e.messages.single_message.msg_id, 0), s.afterRequestSuccess(e)) : (t = e.error || "An error has occurred, message has not been sent!", s.showError(t, "Oops!"), s.$conversationMessageOptions.addClass(s.cssClasses.isHidden), "crush" == s.typeMessage && s.$conversationMessageOptions.removeClass(s.cssClasses.isHidden), e.redirect && setTimeout(function() {
                            window.location.href = e.redirect
                        }, 3e3), e.NeedPremium && $("#hiddenPremiumTrigger").trigger("click"), s.mv.isMobile && (s.$conversationMessageOptions.removeClass(s.cssClasses.isHidden), s.$conversationThreadOptions.removeClass(s.cssClasses.isHidden))), s.$conversationNewMessageUsernameInput.val(""), s.$conversationNewUserSection.addClass(s.cssClasses.isHidden), s.enableImageUpload(), s.enableVideoUpload(), s.storedImagePreviewFiles = []
                    },
                    error: function(e) {
                        e = e && e.error || "An error has occurred, message has not been sent!";
                        s.showError(e, "Oops!")
                    },
                    dataType: "json",
                    cache: !1,
                    contentType: !1,
                    processData: !1
                })
            },
            messageSentSuccess: function(e) {
                e || (this.resetUploadFiles(), this.clearNewMessage()), this.state == this.states.newConversation && (this.$conversationType.val(this.conversationTypes.inbox), this.onConversationTypeChanged("force"))
            },
            lazyLoadImages: function() {
                lazyLoadingStart()
            },
            showError: function(e, t) {
                gritter(e, t = t || "")
            },
            showSuccess: function(e, t) {
                success(e, t = t || "")
            },
            showAttachment: function(e, t, i, s) {
                var n, a, o = this,
                    r = $("<div />").attr({
                        class: "inbox-message-attachment-row"
                    }),
                    l = $("<div />").attr({
                        class: "inbox-message-attachment"
                    }),
                    d = [this.messageTypes.crushMessage, this.messageTypes.mvflyersMessage];
                switch (t) {
                    case "image":
                        (-1 < d.indexOf(this.typeMessage) ? this.getCrushFlyerImageDisplay(e) : (p = $("<a />").attr({
                            href: "javascript:;",
                            class: e.hideImageIcons ? "" : "media-expand js-open-lightbox",
                            "data-image-src": e.source_full
                        }), u = e.hideImageIcons ? "" : $("<i />").attr({
                            class: "icon small expand-light-icon"
                        }), n = $("<a />").attr({
                            href: e.source_full,
                            target: "_blank",
                            class: e.hideImageIcons ? "" : "media-download",
                            title: "Right click and press 'Save link as...'",
                            "data-event-category": "CommsInbox",
                            "data-event-action": "downloadMedia",
                            "data-event-label": "MediaInteractions"
                        }).click(function() {
                            MV.inbox.sendGAEvent(this)
                        }), h = e.hideImageIcons ? "" : $("<i />").attr({
                            class: "icon small download-attachment-light-icon"
                        }), a = $("<image />").attr({
                            class: "inbox-message-attachment-image image-cover",
                            src: e.source_full
                        }), e.hideImageIcons || (u.appendTo(p), h.appendTo(n)), p.appendTo(l), n.appendTo(l), a)).appendTo(l), e.hideImageIcons || (l.addClass("_hasImageAttachment"), 1 === s && l.addClass("display-larger-image"));
                        break;
                    case "video":
                        var c = "jsInboxPlayer" + Math.floor(1e3 * Math.random() + 1),
                            u = window.MV.isMobile || window.MV.isTablet,
                            h = $("<div />").attr({
                                class: "attachment__container"
                            }),
                            p = $("<video>").attr({
                                id: c,
                                class: "js-inbox-player inbox-player",
                                width: u ? 260 : 610,
                                height: u ? 173 : 343,
                                controls: !0,
                                preload: "metadata",
                                oncontextmenu: "return false;",
                                controlsList: "nodownload"
                            }).html('<source src="' + e.source + '" type="video/mp4">');
                        $("<div />").attr({
                            class: "js-attachment-video"
                        }).html(p).appendTo(h), h.appendTo(l), setTimeout(function() {
                            document.getElementById(c).onplay = function(e) {
                                o.resizeVideoPlayer(e, c)
                            }
                        }, 200)
                }
                return l.appendTo(r), r.html()
            },
            resizeVideoPlayer: function(e, t) {
                var i = document.getElementById(t),
                    t = $("#" + t),
                    s = window.MV.isMobile || window.MV.isTablet,
                    n = i.videoWidth,
                    i = i.videoHeight,
                    a = s ? 260 : 610,
                    o = a * i / n;
                a < o && (o = (a = s ? 220 : 320) * i / n), t.hasClass("resized") || (t.attr({
                    width: a,
                    height: o
                }), t.addClass("resized"))
            },
            showRenewCrushService: function() {
                var e = this.$crushRenew.data("crush-membership"),
                    t = this.$crushRenew.data("model-id"),
                    i = this.$crushRenew.data("service"),
                    s = this.$crushRenew.data("model-username");
                1 === e ? callModelServices($("#ServicesCallout"), t, i, s) : gritter("The MV Star is not offering the Club anymore!", "Oops!")
            },
            enableTwitter: function() {
                var e = this.twitterButton.find("input[name=share_twitter]");
                1 === e.data("twitter") && (this.twitterButton.removeClass(this.cssClasses.isHidden), e.prop("checked", !0))
            },
            disableTwitter: function() {
                this.twitterButton.addClass(this.cssClasses.isHidden)
            },
            populateMultipleImageUpload: function() {
                for (var e = $("#image-attachment").prop("files"), t = void 0 !== $(".js-conversation-upload-files").attr("multiple"), i = !0 == t ? this.maxItemImageUpload : 1, s = 0; s < e.length; s++) {
                    var n = e[s];
                    0 === n.type.indexOf("image") && this.validateImage(n) && (t || (this.storedImagePreviewFiles = []), this.storedImagePreviewFiles.push(n), this.showAttachedFile(n, t))
                }
                0 < this.storedImagePreviewFiles.length && (this.disableVideoUpload(), this.storedImagePreviewFiles.length >= i) && this.disableImageUpload()
            },
            validateImage: function(e) {
                return e.size > this.imageMaxSize ? (this.showError("File is too large, maximum file size is 15MB!"), !1) : !(e.type != this.imageMimeType && !this.imageExtensionsRegExp.test(e.name) && (this.showError("File is of the wrong type. Please select a .jpg, .jpeg, .png or .gif file."), 1))
            },
            disableImageUpload: function() {
                var e = $("#image-attachment"),
                    t = e.parent("span").find("label");
                e.attr({
                    disabled: !0
                }), t.addClass("inbox-link-disabled").removeClass("is-link")
            },
            disableVideoUpload: function() {
                var e = $("#video-attachment"),
                    t = e.parent("span").find("label");
                e.attr({
                    disabled: !0
                }), t.addClass("inbox-link-disabled").removeClass("is-link")
            },
            enableImageUpload: function() {
                var e = $("#image-attachment"),
                    t = e.parent("span").find("label");
                e.attr({
                    disabled: !1
                }), t.removeClass("inbox-link-disabled").addClass("is-link")
            },
            enableVideoUpload: function() {
                var e = $("#video-attachment"),
                    t = e.parent("span").find("label");
                e.attr({
                    disabled: !1
                }), t.removeClass("inbox-link-disabled").addClass("is-link"), $(".js-qq-upload-list").empty()
            },
            onCrushFilterClick: function(e) {
                this.crushFilter = $(e.currentTarget).val(), this.crushFilterId = this.selectedUser.user_id, this.loadConversation(this.selectedUser.user_id, !1, this.lmid, 0)
            },
            onCrushHideInfoPopup: function() {
                $.cookie("crushHideInfoPopup") || ($.cookie("crushHideInfoPopup", "true", {
                    path: "/",
                    expires: 60
                }), $(".js-modal-crush-inbox-popup").modal("hide"))
            },
            showAttachedFile: function(i, s) {
                var n = this,
                    e = new FileReader,
                    a = !0 === s ? this.maxItemImageUpload : 1;
                e.onload = function(e) {
                    var t = $("<div />").attr({
                        class: "image-preview"
                    });
                    $("<img />").attr({
                        src: e.target.result
                    }).appendTo(t), $("<i />").attr({
                        class: "image-remove-icon",
                        "data-filename": i.name
                    }).click(function() {
                        var e = $(this),
                            t = e.data("filename");
                        e.parent(".image-preview").remove();
                        for (var i = 0; i < n.storedImagePreviewFiles.length; i++)
                            if (n.storedImagePreviewFiles[i].name == t) {
                                n.storedImagePreviewFiles.splice(i, 1);
                                break
                            } 0 === n.storedImagePreviewFiles.length && (n.adjustInboxContainerHeights(), n.enableVideoUpload(), n.disableTwitter()), n.storedImagePreviewFiles.length < a ? n.enableImageUpload() : n.disableImageUpload(), n.updateSubmitButtonState()
                    }).appendTo(t), !0 === s ? $(".inbox-new-message-media").append(t) : (n.disableImageUpload(), $(".inbox-new-message-media").html(t))
                }, e.readAsDataURL(i), this.$conversationMessageUploader.hasClass(this.cssClasses.isHidden) && this.$conversationMessageUploader.removeClass(this.cssClasses.isHidden)
            },
            onMessageTypeTabClick: function(e) {
                var t = this,
                    i = (this.isTabClicked = !0, $(e.currentTarget).hasClass("active")),
                    e = $(e.target).data("messageType");
                this.unselectConversation(), e === this.messageTypes.mvflyersMessage ? $(".js-messages").removeClass("active") : (e !== this.messageTypes.privateMessage ? this.selectPinElements().pinBtnContainer.css("display", "none") : this.selectPinElements().pinBtnContainer.css("display", "flex"), i || ($(".js-messages").removeClass("active"), $(this).addClass("active")), this.mv.isMobile && new Promise(function(e) {
                    window.addEventListener("hashchange", function() {
                        e()
                    })
                }).then(function() {
                    "#messages" !== window.location.hash && "#crushnotes" === window.location.hash && t.setState(t.states.hasConversation)
                }), "New" === this.getUrlParams()[2] && this.navigateToInbox(window.location.href), this.loadConversationTab(e), this.setDisplayStatus())
            },
            loadConversationTab: function(e) {
                this.$conversationNewUserSection.addClass(this.cssClasses.isHidden), this.typeMessage = e, this.typeMessage === this.messageTypes.privateMessage && this.setState(this.states.hasConversation), this.typeMessage === this.messageTypes.crushMessage && this.setState(this.states.hasConversation), this.ajaxConfig.data = {
                    typeMessage: e,
                    action: this.requestActions.getConversationListAndFirstConversation,
                    isMobile: this.mv.isMobile
                }, this.ajaxConfig.success = $.proxy(this.requestSuccess, this), this.sendRequest(!1), this.setDefaultCrushFilter(), this.showHideNewMessageButton(), this.showHideRedirectCrushButton()
            },
            setMessageTypeBodyClass: function(e) {
                var t = "";
                switch (this.$conversationBodyState.removeClass(this.messageTypeClasses.crushMessageClass), this.$conversationBodyState.removeClass(this.messageTypeClasses.privateMessageClass), this.$conversationBodyState.removeClass(this.messageTypeClasses.mvflyerMessageClass), e = null !== e && "" !== e ? e : this.typeMessage) {
                    case this.messageTypes.crushMessage:
                        t = this.messageTypeClasses.crushMessageClass;
                        break;
                    case this.messageTypes.mvflyersMessage:
                        t = this.messageTypeClasses.mvflyerMessageClass;
                        break;
                    default:
                        t = this.messageTypeClasses.privateMessageClass
                }
                $("body").addClass(t)
            },
            setMessageType: function() {
                var e = window.location.hash;
                if ("" !== e) {
                    switch (e) {
                        case "#crushnotes":
                            this.typeMessage = this.messageTypes.crushMessage;
                            break;
                        case "#messages":
                            this.typeMessage = this.messageTypes.privateMessage
                    }
                    $(".js-messages").removeClass("active"), $(".js-messages[href=" + e + "]").addClass("active"), this.loadConversationTab(this.typeMessage)
                } else {
                    $(".js-messages[href=#messages]").addClass("active"), this.ajaxConfig.data = {
                        typeMessage: this.typeMessage,
                        action: this.requestActions.getConversationListAndFirstConversation,
                        isMobile: this.mv.isMobile
                    };
                    e = window.location.pathname.split("/")[2], e = (void 0 !== e && "" != e && (this.ajaxConfig.data.action = this.requestActions.getContersationListAndGetSpecific, this.ajaxConfig.data.iuid = e), this.getUrlParams());
                    "New" === e[2] && 3 < e.length && (this.iuid = e[3], this.ajaxConfig.data = {
                        typeMessage: this.typeMessage,
                        action: this.requestActions.getContersationListAndGetSpecific,
                        iuid: e[3],
                        isMobile: this.mv.isMobile
                    }), this.mv.isMobile && 3 === e.length && "" !== e[2] && this.toggleMobileSections(!1), this.ajaxConfig.success = $.proxy(this.requestSuccess, this), this.sendRequest(!1)
                }
            },
            getUrlParams: function() {
                return window.location.pathname.split("/")
            },
            showSelectedMessage: function(e) {
                var t = this.getUrlParams();
                this.typeMessage == this.messageTypes.privateMessage && "" === t[2] && (window.location.href = window.location.href + e.selectedUser.user_id), this.selectedUser = e.selectedUser, this.hasConversations = 0 < e.conversations.list.length, 0 < e.messages.list.length && (this.lmid = e.messages.list[e.messages.list.length - 1].msg_id, this.hasConversations = !0, this.state = this.states.hasConversation), this.$conversationNewUserSection.addClass(this.cssClasses.isHidden), this.$conversationThreadOptions.removeClass(this.cssClasses.isHidden), this.messagesNextOffset = e.messages.meta.nextOffset, this.renderMessageList(e.messages.list, e.messages.meta), this.setConversationHeaderDisplay(), this.setConversationThreadOption(), this.renderConversationUserInfo(this.selectedUser), this.$conversationMessageOptions.removeClass(this.cssClasses.isHidden), this.setMessageInputDisplay(), this.hideDisplayLandingPage(), this.afterRequestSuccess(e), this.isCrushMembershipExpired(e.conversations.list), this.hideWriteMessageTextSection()
            },
            setMessageFormOption: function() {
                var e = this.getCurrentUser("user_type"),
                    t = !1,
                    i = [this.messageTypes.mvflyersMessage, this.messageTypes.crushMessage, this.messageTypes.privateMessage]; - 1 < [this.userTypes.model, this.userTypes.admin].indexOf(e) && -1 < i.indexOf(this.typeMessage) && (t = !0), this.disableMultipleImageUploadOption(), !0 === t && this.enableMultipleImageUploadOption()
            },
            enableMultipleImageUploadOption: function() {
                $("#image-attachment").attr("multiple", !0)
            },
            disableMultipleImageUploadOption: function() {
                $("#image-attachment").attr("multiple", !1)
            },
            setConversationThreadOption: function() {
                var e = JSON.parse(localStorage.getItem("currentUserType")),
                    e = (this.typeMessage === this.messageTypes.crushMessage && this.selectedUser.user_id !== e.user_id && (this.selectedUser = e, $(".mv-inbox .js-button-image").css("display", "flex"), $("#id-following-btn").css("display", "none")), this.$conversationThreadOptions.find(".js-conversation-block-user")),
                    t = this.$conversationThreadOptions.find(".js-conversation-toggle-archive"),
                    i = this.$conversationThreadOptions.find(".js-conversation-delete"),
                    s = !1 === this.selectedUser.isMemberBlocked ? "" : "unblock",
                    n = !1 === this.selectedUser.isMemberBlocked ? "Block" : "Unblock",
                    a = this.$conversationThreadOptions.find(".js-conversation-toggle-unfollow"),
                    o = !0 === this.isArchive ? "Unarchive" : "Archive",
                    r = !0 === this.isArchive ? this.dropdownToggleActions.unarchive : this.dropdownToggleActions.archive;
                1 == this.isCrushMembership && 1 == this.isSelectedUserCrushMembershipExpired ? (i.addClass("crush-service-renew"), e.addClass("crush-service-renew"), t.addClass("crush-service-renew")) : (i.removeClass("crush-service-renew"), e.removeClass("crush-service-renew"), t.removeClass("crush-service-renew"), i.attr({
                    "data-conversation-iuid": this.selectedUser.user_id,
                    "data-conversation-lmid": this.lmid
                }), e.attr({
                    "data-user-id": this.selectedUser.user_id,
                    "data-action": s,
                    "data-conversation-lmid": this.lmid,
                    title: n
                }).find(".js-dropdown-label").text(n), t.attr({
                    "data-conversation-iuid": this.selectedUser.user_id,
                    "data-conversation-lmid": this.lmid,
                    "data-conversation-action": r
                }).find(".js-dropdown-label").text(o)), a.attr({
                    "data-conversation-action": this.dropdownToggleActions.unfollow
                }), this.typeMessage == this.messageTypes.crushMessage || this.typeMessage == this.messageTypes.mvflyersMessage ? $(".inbox-message-nav-user-section").css("display", "none") : $(".inbox-message-nav-user-section").css("display", "inline-flex")
            },
            setConversationHeaderDisplay: function() {
                switch (this.resetConversationHeaderDisplay(), this.mv.isMobile && this.$conversationThreadOptions.removeClass(this.cssClasses.isHidden), this.$crushFilterDisplayBar.addClass(this.cssClasses.isHidden), this.dropdownDisplayArchive.removeClass(this.cssClasses.isHidden), this.dropdownDisplayDelete.removeClass(this.cssClasses.isHidden), this.dropdownDisplayUnfollow.addClass(this.cssClasses.isHidden), $(".js-delete-message").removeClass(this.cssClasses.isHidden), this.typeMessage) {
                    case this.messageTypes.crushMessage:
                        this.setCrushMessageHeaderDisplay(), this.setCrushDropdownOption();
                        break;
                    case this.messageTypes.mvflyersMessage:
                        this.setMVFlyerHeaderDisplay(), this.$conversationTypeContainer.find('li[data-value="archive"]').addClass(this.cssClasses.isHidden), this.$conversationTypeContainer.find("option[value=archive]").addClass(this.cssClasses.isHidden), this.currentUser.user_type != this.userTypes.user && this.currentUser.user_id == this.selectedUser.user_id || (this.dropdownDisplayArchive.addClass(this.cssClasses.isHidden), this.dropdownDisplayDelete.addClass(this.cssClasses.isHidden), $(".js-delete-message").addClass(this.cssClasses.isHidden));
                        break;
                    default:
                        this.setThreadOptions(), this.state == this.states.newConversation ? (this.$conversationNewMessageUsernameInput.val(this.selectedUser.stage_name), this.$conversationNewUserSection.removeClass(this.cssClasses.isHidden), this.$conversationUserSection.addClass(this.cssClasses.isHidden), this.$conversationDropdownContainer.addClass(this.cssClasses.isHidden), this.setNewMessageProfilePic()) : (this.$conversationNewUserSection.addClass(this.cssClasses.isHidden), this.$conversationUserSection.removeClass(this.cssClasses.isHidden), this.$conversationDropdownContainer.removeClass(this.cssClasses.isHidden)), this.$conversationTypeContainer.find('li[data-value="archive"]').removeClass(this.cssClasses.isHidden), this.$conversationTypeContainer.find("option[value=archive]").removeClass(this.cssClasses.isHidden)
                }
            },
            resetConversationHeaderDisplay: function() {
                this.$conversationUserSection.addClass(this.cssClasses.isHidden), this.$conversationDropdownContainer.addClass(this.cssClasses.isHidden), this.resetCrushHeaderDisplay(), this.resetMVFlyerHeaderDisplay()
            },
            setDefaultCrushFilter: function() {
                this.crushFilter = "All", $(".js-crush-filter[value=All]").prop("checked", !0)
            },
            resetPayToView: function() {
                $(".js-pay-to-view-price").val(""), $("#appendedPrependedInput").val("3.99"), $(".js-pay-to-view-txt").empty(), $(".js-reset-pay-to-open-price").remove(), this.updateSubmitButtonState()
            },
            setUnreadCount: function() {
                0 < this.unreadPrivateMessagesCount ? (this.$conversationPrivateCountUnread.text(this.unreadPrivateMessagesCount), this.$conversationPrivateCountDisplay.removeClass(this.cssClasses.isHidden)) : this.$conversationPrivateCountDisplay.addClass(this.cssClasses.isHidden), 0 < this.unreadCrushMessagesCount ? (this.$conversationCrushCountUnread.text(this.unreadCrushMessagesCount), this.$conversationCrushCountDisplay.removeClass(this.cssClasses.isHidden)) : this.$conversationCrushCountDisplay.addClass(this.cssClasses.isHidden), 0 < this.unreadMvFlyerMessageCount ? (this.$conversationMvFlyerCountUnread.text(this.unreadMvFlyerMessageCount), this.$conversationMvFlyerCountDisplay.removeClass(this.cssClasses.isHidden)) : this.$conversationMvFlyerCountDisplay.addClass(this.cssClasses.isHidden)
            },
            updateUnreadCount: function(e) {
                var t = 0,
                    i = "",
                    s = "";
                switch (this.typeMessage) {
                    case this.messageTypes.crushMessage:
                        t = this.unreadCrushMessagesCount, i = this.$conversationCrushCountUnread, s = this.$conversationCrushCountDisplay;
                        break;
                    case this.messageTypes.mvflyersMessage:
                        t = this.unreadMvFlyerMessageCount, i = this.$conversationMvFlyerCountUnread, s = this.$conversationMvFlyerCountDisplay;
                        break;
                    default:
                        t = this.unreadPrivateMessagesCount, i = this.$conversationPrivateCountUnread, s = this.$conversationPrivateCountDisplay
                }
                switch (0 < (t = 0 < t ? t - e : 0) ? i.text(t) : s.addClass(this.cssClasses.isHidden), this.typeMessage) {
                    case this.messageTypes.crushMessage:
                        this.unreadCrushMessagesCount = t;
                        break;
                    case this.messageTypes.mvflyersMessage:
                        this.unreadMvFlyerMessageCount = t;
                        break;
                    default:
                        this.unreadPrivateMessagesCount = t
                }
            },
            loadNextConversations: function(e) {
                this.conversationNextOffset = e.conversations.meta.nextOffset, this.renderConversationList(e.conversations.list, e.conversations.meta, !0)
            },
            removeAttachedFile: function(e) {
                var e = $(e.currentTarget),
                    t = window.MV.inbox,
                    i = e.data("filename"),
                    s = e.data("fileType"),
                    n = [];
                if (0 < (n = "video" === s ? t.storedVideoPreviewFiles : n).length)
                    for (var a = 0; a < n.length; a++)
                        if (n[a].name == i) {
                            n.splice(a, 1);
                            break
                        }
                "video" === s && (t.storedVideoPreviewFiles = n, e.parent(".video-file-upload-container").remove(), 0 === n.length) && (t.resetUploadFiles(), t.disableTwitter()), t.updateSubmitButtonState(), t.adjustInboxContainerHeights()
            },
            showHideNewMessageButton: function() {
                var e = !1,
                    t = this.getCurrentUser("user_type");
                switch (this.typeMessage) {
                    case this.messageTypes.crushMessage:
                        e = !0;
                        break;
                    case this.messageTypes.mvflyersMessage:
                        e = t == this.userTypes.user
                }
                this.$conversationNewMessageButton.toggleClass(this.cssClasses.isHidden, e), this.setNewMessageButtonLabel()
            },
            showHideRedirectCrushButton: function() {
                var e = !0;
                this.typeMessage === this.messageTypes.crushMessage && (e = !1), this.$conversationRedirectCrushButton.toggleClass(this.cssClasses.isHidden, e)
            },
            setMessageInputDisplay: function() {
                switch (this.typeMessage) {
                    case this.messageTypes.mvflyersMessage:
                        this.currentUser.user_id != this.selectedUser.user_id || this.currentUser.user_type != this.userTypes.model && this.currentUser.user_type != this.userTypes.admin || this.hasDefaultMessage;
                        break;
                    case this.messageTypes.crushMessage:
                        this.currentUser.user_id != this.iuid && this.iuid;
                        break;
                    default:
                        0
                }
                this.adjustInboxContainerHeights()
            },
            getCrushFlyerImageDisplay: function(e) {
                var t = $("<div />").attr({
                        class: "js-open-lightbox crush-pointer",
                        "data-image-src": e.source_full
                    }),
                    i = $("<img />").attr({
                        class: "inbox-message-attachment-image image-cover b-lazy",
                        src: this.imagePlaceHolder,
                        "data-src": e.source
                    }),
                    s = $("<a />").attr({
                        href: "javascript:;",
                        class: e.hideImageIcons ? "" : "media-expand js-open-lightbox",
                        "data-image-src": i.source_full
                    }),
                    n = e.hideImageIcons ? "" : $("<i />").attr({
                        class: "icon small expand-light-icon"
                    }),
                    a = $("<a />").attr({
                        href: i.source_full,
                        target: "_blank",
                        class: e.hideImageIcons ? "" : "media-download",
                        title: "Right click and press 'Save link as...'"
                    }),
                    o = e.hideImageIcons ? "" : $("<i />").attr({
                        class: "icon small download-attachment-light-icon"
                    });
                return e.hideImageIcons || (n.appendTo(s), o.appendTo(a)), s.appendTo(t), a.appendTo(t), i.appendTo(t), e.hideImageIcons || t.addClass("_hasImageAttachment"), t
            },
            setCrushMessageHeaderDisplay: function() {
                var e = this.getCurrentUser("user_id"),
                    t = this.getCurrentUser("user_type"),
                    i = this.getCurrentUser("username");
                this.hasDefaultMessage && t == this.userTypes.model && (this.state = this.states.newConversation, this.$conversationNewMessageUsernameInput.val(i), this.$emptyCrushMessage.removeClass(this.cssClasses.isHidden), this.$conversationThreadOptions.addClass(this.cssClasses.isHidden)), this.selectedUser.user_id == e && (this.$conversationCurrentUserCrushNoteHeader.removeClass(this.cssClasses.isHidden), this.$conversationDropdownContainer.addClass(this.cssClasses.isHidden)), this.hasConversations ? (this.selectedUser.user_id != e && (this.$conversationCurrentUserCrushNoteHeader.removeClass(this.cssClasses.isHidden), this.$conversationDropdownContainer.removeClass(this.cssClasses.isHidden), this.$conversationNewMessageUsernameInput.val(i)), this.$crushFilterDisplayBar.removeClass(this.cssClasses.isHidden)) : this.$conversationDropdownContainer.addClass(this.cssClasses.isHidden)
            },
            setCrushDropdownOption: function() {
                this.dropdownDisplayArchive.addClass(this.cssClasses.isHidden), this.$conversationTypeContainer.find('li[data-value="archive"]').addClass(this.cssClasses.isHidden), this.$conversationTypeContainer.find("option[value=archive]").addClass(this.cssClasses.isHidden)
            },
            resetCrushHeaderDisplay: function() {
                this.$emptyCrushMessage.addClass(this.cssClasses.isHidden), this.$conversationCurrentUserCrushNoteHeader.addClass(this.cssClasses.isHidden)
            },
            setMVFlyerHeaderDisplay: function() {
                var e = this.getCurrentUser("user_id"),
                    t = this.getCurrentUser("user_type"),
                    i = this.getCurrentUser("username");
                this.$conversationDropdownContainer.addClass(this.cssClasses.isHidden), this.$crushFilterDisplayBar.addClass(this.cssClasses.isHidden), !this.hasDefaultMessage || t != this.userTypes.model && t != this.userTypes.admin ? e != this.selectedUser.user_id ? (this.$crushFilterDisplayBar.removeClass(this.cssClasses.isHidden), this.$conversationDropdownContainer.removeClass(this.cssClasses.isHidden), this.dropdownDisplayUnfollow.removeClass(this.cssClasses.isHidden), this.$conversationUserSection.removeClass(this.cssClasses.isHidden)) : !0 === this.hasConversations && e == this.selectedUser.user_id && (this.$crushFilterDisplayBar.removeClass(this.cssClasses.isHidden), this.$conversationMvFlyerHasFlyerHeader.removeClass(this.cssClasses.isHidden), this.$conversationNewMessageUsernameInput.val(i)) : (this.$conversationMvFlyerHeader.removeClass(this.cssClasses.isHidden), this.state == this.states.newConversation && (this.$conversationNewMessageUsernameInput.val(i), this.$conversationThreadOptions.addClass(this.cssClasses.isHidden)))
            },
            resetMVFlyerHeaderDisplay: function() {
                this.$conversationMvFlyerHeader.addClass(this.cssClasses.isHidden), this.$conversationMvFlyerHasFlyerHeader.addClass(this.cssClasses.isHidden)
            },
            reloadDefaultMessage: function() {
                this.ajaxConfig.data = {
                    typeMessage: this.typeMessage,
                    action: this.requestActions.getConversationListAndFirstConversation,
                    isMobile: this.mv.isMobile
                }, this.ajaxConfig.success = $.proxy(this.requestSuccess, this), this.sendRequest(!1)
            },
            setNewMessage: function(e) {
                e.hasDefaultMessage ? (this.setMVFlyerHeaderDisplay(), this.$conversationNewMessageTextSection.toggleClass(this.cssClasses.isHidden, !1), this.adjustInboxContainerHeights()) : this.showSelectedMessage(e)
            },
            setNewMessageButtonLabel: function() {
                var e = "New Message";
                this.typeMessage == this.messageTypes.mvflyersMessage && (e = "My Broadcasts"), $(".js-conversation-new-message-btn--desktop").text(e)
            },
            setNewMessageProfilePic: function() {
                var e;
                null != this.selectedUser.profile_pic && (e = '<span class="pic-wrapper square-size-2 inbox-message-nav-user-pic" ><img class="b-lazy b-loaded" src="' + this.selectedUser.profile_pic + '"></span>', $(".js-conversation-new-message-profile-pic").html(e))
            },
            updateMediaUploadState: function() {
                var e = "inbox-user",
                    t = "inbox-model",
                    i = (this.$conversationBodyState.removeClass(e), this.$conversationBodyState.removeClass(t), e);
                switch (this.currentUser.user_type) {
                    case this.userTypes.admin:
                    case this.userTypes.model:
                        i = t
                }
                this.$conversationBodyState.addClass(i)
            },
            resetPayToOpenPrice: function() {
                $(".js-pay-to-view-price").val(""), $(".js-pay-to-view-txt").empty()
            },
            isCrushMembershipExpired: function(e) {
                for (var t in e) e[t].user_id == this.selectedUser.user_id && void 0 !== e[t].isCrushMemberActivated && (this.isCrushMembership = !0, this.isSelectedUserCrushMembershipExpired = null !== e[t])
            },
            openPayToViewModal: function(e) {
                this.$payToViewModal.modal("show")
            },
            savePayToViewAmount: function(e) {
                var t = $("input[name=per_per_view_amount]").val(),
                    i = this;
                $(".js-pay-to-view-price").val(t), $(".js-pay-to-view-txt").html(" ($" + t + ")"), 0 === $(".js-reset-pay-to-open-price").length && ($(".js-button-pay-to-view").after('<span class="btn js-reset-pay-to-open-price inbox-reset-pay-to-open"><i class="image-remove-pay-to-open-icon"></i></span>'), $(document).on("click", ".js-reset-pay-to-open-price", function() {
                    i.resetPayToView()
                })), $("input[name=per_per_view_amount]").val("3.99"), this.$payToViewModal.modal("hide"), this.updateSubmitButtonState()
            },
            payToViewCheckout: function(e) {
                e = $(e.currentTarget).data("id"), e = $('<form action="/checkout-site.php" method="post"><input type="text" name="serviceChoice" value="' + e + '-paytoopen" /></form>');
                $("body").append(e), e.submit()
            },
            createInboxVidUploader: function() {
                var a = this,
                    i = $("html").data("session-details"),
                    o = new qq.s3.FineUploader({
                        element: document.getElementById("bootstrapped-inbox-vid-uploader"),
                        debug: !0,
                        multiple: !1,
                        autoUpload: !1,
                        request: {
                            endpoint: "https://manyvids-data.s3-accelerate.amazonaws.com",
                            accessKey: "AKIAQWGGGIKU75EPLHDM"
                        },
                        signature: {
                            endpoint: "/includes/create_inbox_vid_upload_signature.php?_method=POST&bucket=manyvids-data"
                        },
                        validation: {
                            allowedExtensions: ["mp4", "m4v", "mov"],
                            sizeLimit: 5368709120,
                            acceptFiles: ["video/mp4,video/x-m4v,video/*"]
                        },
                        extraButtons: [{
                            element: document.getElementById("jsInboxVidBtn"),
                            validation: {
                                allowedExtensions: ["mp4", "m4v", "mov"],
                                sizeLimit: 5368709120,
                                acceptFiles: ["video/mp4,video/x-m4v,video/*"]
                            }
                        }],
                        objectProperties: {
                            key: function(e) {
                                var e = o.getName(e),
                                    e = qq.getExtension(e),
                                    e = "inb_" + o._currentBatchId.replace(/\D/g, "") + "." + e,
                                    t = "php_uploads/profile/" + i.user_id + "/notifications/" + ($("body").hasClass("mvflyer-message") ? "flyers" : "video") + "/" + e;
                                return a.uploadedVideoName = e, t
                            }
                        },
                        chunking: {
                            enabled: !1
                        },
                        resume: {
                            enabled: !0
                        },
                        retry: {
                            enableAuto: !0,
                            showButton: !0
                        },
                        deleteFile: {
                            enabled: !1
                        },
                        messages: {
                            onLeave: "You are currently uploading a vid. If you leave, your upload will be interrupted"
                        },
                        callbacks: {
                            onSubmitted: function(i, e) {
                                var t = $("#inboxVideoContainer"),
                                    s = this,
                                    n = o.getFile(i);
                                t[0].src = URL.createObjectURL(n), t.parent()[0].load(), t.parent()[0].onloadeddata = function() {
                                    var e = this.duration,
                                        t = "crush" === a.typeMessage ? a.maximumCrushVideoDuration : a.maximumVideoDuration;
                                    t < e ? (gritter("Your Vid duration is too long. It must be under " + t / 60 + " minutes.", "Oops!"), s.cancel(i), a.resetUploadFiles(), a.enableImageUpload()) : (setTimeout(function() {
                                        a.disableImageUpload(), a.updateSubmitButtonState()
                                    }, 200), a.delayedAdjustInboxContainerHeights())
                                }
                            },
                            onCancel: function(e, t) {
                                a.resetUploadFiles(), a.videoUploadInProgress = !1
                            },
                            onUpload: function(e, t) {
                                a.updateSubmitButtonState()
                            },
                            onProgress: function(e, t, i, s) {},
                            onError: function(e, t, i) {
                                return $.gritter.add({
                                    title: "Upload error",
                                    text: errorReason,
                                    sticky: !0
                                }), !1
                            },
                            onComplete: function(e, t, i) {
                                a.sendMessage(), a.videoUploadInProgress = !1
                            }
                        }
                    });
                qq(document.getElementById("jsConversationSubmit")).attach("click", function() {
                    0 < $(".js-qq-upload-list li").length && (o.uploadStoredFiles(), a.videoUploadInProgress = !0, setTimeout(function() {
                        a.disableVideoUpload()
                    }, 200))
                })
            },
            navigateToInbox(e) {
                e = new URL(e);
                e.pathname = "/Inbox/", window.location.href = e.href
            },
            setThreadOptions: function() {
                var e = this.getUrlParams(),
                    t = e[2];
                "New" === e[2] || /^\d+$/.test(t) ? this.state == this.states.newConversation && this.hideThreadOptions() : this.showThreadOptions()
            },
            hideThreadOptions: function() {
                $(".inbox-conversation-thread-options").addClass("options-hidden")
            },
            showThreadOptions: function() {
                $(".inbox-conversation-thread-options").removeClass("options-hidden")
            },
            getPhpSessionId: function() {
                return userSessionId || ($.cookie("PHPSESSID") ? $.cookie("PHPSESSID") : null)
            },
            getToken: function() {
                return null === localStorage.getItem("account-identity") ? $.cookie("accountIdToken") ? $.cookie("accountIdToken") : null : JSON.parse(localStorage.getItem("account-identity")).auth.idToken
            },
            getIuids: function() {
                return new Promise(function(e) {
                    var t = [];
                    $("[data-conversation-iuid]").each(function() {
                        var e = $(this).attr("data-conversation-iuid");
                        t.push(e)
                    }), e(t)
                })
            },
            selectPinElements: function() {
                var e = $("#id-pin-post"),
                    t = $("#id-pin-delete"),
                    i = $("#conversation-card"),
                    s = $("li.-selected"),
                    n = s.find(".pin-span");
                return {
                    pinPost: e,
                    pinDelete: t,
                    roomLi: i,
                    selectedLi: s,
                    selectedPinSpan: n,
                    pinBtnContainer: $(".pin-btn-container"),
                    reportId: $("#report-user"),
                    blockId: $("#block-user")
                }
            },
            isPinned: function(e) {
                return e.selectedPinSpan.hasClass("pinned-conversation-list")
            },
            pin: function(e) {
                e.selectedPinSpan.addClass("pinned-conversation-list"), this.changePinStylesDelete()
            },
            unpin: function(e) {
                e.selectedPinSpan.removeClass("pinned-conversation-list"), this.changePinStylesPost()
            },
            checkPinBtnStatus: function() {
                var e = this.selectPinElements();
                this.isPinned(e) ? this.unpin(e) : this.pin(e)
            },
            removePinOnControls: function() {
                var e = this.selectPinElements();
                this.isPinned(e) && this.deletePinnedConversation()
            },
            changePinStylesPost: function() {
                var e = this.selectPinElements();
                e.selectedPinSpan.addClass("pinned-conversation-list"), e.pinPost.hide(), e.pinDelete.show(), e.pinBtnContainer.show()
            },
            changePinStylesDelete: function() {
                var e = this.selectPinElements();
                e.selectedPinSpan.removeClass("pinned-conversation-list"), e.pinPost.show(), e.pinDelete.hide(), e.pinBtnContainer.show()
            },
            reorderPinnedConversations: function() {
                var t = document.querySelector(".js-conversation-list");
                Array.from(t.querySelectorAll("li")).forEach(function(e) {
                    e.querySelector("span.pinned-conversation-list") && (t.removeChild(e), t.insertBefore(e, t.firstChild))
                })
            },
            filterPinnedConversations: function() {
                var a = this,
                    t = this.selectPinElements();
                this.typeMessage !== this.messageTypes.privateMessage ? (t.pinDelete.hide(), t.pinPost.hide(), t.pinBtnContainer.hide()) : Promise.all([this.getPinnedConversations(), this.getIuids()]).then(function(e) {
                    for (var t = e[0], i = e[1], s = [], n = 0; n < t.length; n++) i.includes(t[n]) && s.push(t[n]);
                    for (n = 0; n < s.length; n++) $('[data-conversation-iuid="' + s[n] + '"]').find(".pin-span").addClass("pinned-conversation-list");
                    a.checkPinBtnStatus(), a.reorderPinnedConversations()
                }).catch(function(e) {
                    t.pinBtnContainer.hide(), console.error(e)
                })
            },
            getPinnedConversations: function() {
                var s = this.selectPinElements(),
                    n = this;
                return new Promise(function(t, i) {
                    var e = {
                        url: "https://api.comms.manyvids.com/rooms/pin",
                        method: "GET",
                        headers: {
                            "Content-Type": "application/x-www-form-urlencoded",
                            Authorization: n.getPhpSessionId()
                        }
                    };
                    $.ajax(e).done(function(e) {
                        t(e)
                    }).fail(function(e) {
                        s.pinBtnContainer.hide(), console.log("Failed to get pinned conversations", e), i(e)
                    })
                })
            },
            postPinConversation: function() {
                var t = this,
                    e = $("li.-selected").data("conversation-iuid"),
                    i = this.getUrlParams(),
                    s = i[3];
                if (null == e) {
                    if ("New" !== i[2]) return !1;
                    e = s
                }
                s = {
                    url: "https://api.comms.manyvids.com/rooms/pin?target=" + e,
                    method: "POST",
                    headers: {
                        "Content-Type": "application/x-www-form-urlencoded",
                        Authorization: this.getPhpSessionId()
                    }
                };
                $.ajax(s).done(function(e) {
                    t.changePinStylesPost(), t.reorderPinnedConversations()
                }).fail(function(e) {
                    console.log("Failed to pin conversation", e)
                }), "New" === i[2] && (this.filterPinnedConversations(), this.checkPinBtnStatus())
            },
            deletePinnedConversation: function() {
                var t = this,
                    e = $("li.-selected").data("conversation-iuid"),
                    i = this.getUrlParams(),
                    s = i[3];
                if (null == e) {
                    if ("New" !== i[2]) return !1;
                    e = s
                }
                i = {
                    url: "https://api.comms.manyvids.com/rooms/pin?target=" + e,
                    method: "DELETE",
                    headers: {
                        "Content-Type": "application/x-www-form-urlencoded",
                        Authorization: this.getPhpSessionId()
                    }
                };
                $.ajax(i).done(function(e) {
                    t.changePinStylesDelete(), t.reorderPinnedConversations()
                }).fail(function(e) {
                    console.log("Failed to unpin conversation", e)
                })
            },
            addEventPinButton: function() {
                var e = this.selectPinElements();
                e.pinPost.on("click", $.proxy(this.postPinConversation, this)), e.pinDelete.on("click", $.proxy(this.deletePinnedConversation, this)), e.reportId.on("click", $.proxy(this.removePinOnControls, this)), e.blockId.on("click", $.proxy(this.removePinOnControls, this))
            },
            handleActiveTabStyleMobile: function() {
                $("a[href='#messages']").on("click", function() {
                    $(".js-messages[href='#cushnotes']").removeClass("active"), $(".js-messages[href='#mvflyers']").removeClass("active"), $(".js-messages[href='#messages']").addClass("active")
                }), $("a[href='#crushnotes']").on("click", function() {
                    $(".js-messages[href='#messages']").removeClass("active"), $(".js-messages[href='#mvflyers']").removeClass("active"), $(".js-messages[href='#crushnotes']").addClass("active")
                })
            },
            addEventFollowButton: function() {
                this.$followButton.unbind("click").on("click", $.proxy(this.followUser, this))
            },
            getFollowers: function() {
                if (this.typeMessage !== this.messageTypes.privateMessage) return this.setFollowButtonState({
                    state: !0
                }), !1;
                var t = this,
                    e = $("li.-selected").data("conversation-iuid"),
                    i = this.getUrlParams(),
                    s = i[3];
                if (null == e) {
                    if ("New" !== i[2]) return t.setFollowButtonState({
                        state: !0
                    });
                    e = s
                }
                i = {
                    url: "https://api.comms.manyvids.com/followers/is-follower?target=" + e,
                    method: "GET",
                    headers: {
                        "Content-Type": "application/x-www-form-urlencoded",
                        Authorization: this.getPhpSessionId()
                    }
                };
                $.ajax(i).done(function(e) {
                    t.setFollowButtonState({
                        state: !!e
                    })
                }).fail(function(e) {
                    t.setFollowButtonState({
                        state: !0
                    })
                })
            },
            setFollowButtonState: function(e) {
                this.$followButton = $("#id-following-btn"), e.state ? this.$followButton.hide() : this.$followButton.show()
            },
            followUser: function() {
                var t = this,
                    e = $("li.-selected").data("conversation-iuid"),
                    i = this.getUrlParams(),
                    s = i[3],
                    i = {
                        url: "https://social-prod.kiwi.manyvids.com/users/" + (e = "New" === i[2] ? s : e) + "/followers",
                        method: "POST",
                        headers: {
                            "Content-Type": "application/x-www-form-urlencoded"
                        },
                        xhrFields: {
                            withCredentials: !0
                        },
                        data: {
                            mvtoken: $("html").data("mvtoken")
                        }
                    };
                $.ajax(i).done(function(e) {
                    t.setFollowButtonState({
                        state: !0
                    })
                }).fail(function(e) {
                    console.error("Error trying to follow user.")
                })
            },
            redirectToPastHistory: function() {
                history.back()
            }
        }, jQuery(function() {
            window.MV.inbox = new e
        })
    }(), ! function() {
        function e() {
            this.init()
        }
        e.prototype = {
            $element: null,
            $image: null,
            $title: null,
            htmlAttributes: {
                hidden: "hidden"
            },
            init: function() {
                this.addDocumentListeners()
            },
            addDocumentListeners: function() {
                $(document.body).on("click", ".js-open-lightbox", $.proxy(this.show, this)).on("keyup keypress", $.proxy(this.onKeyup, this))
            },
            addElementListeners: function() {
                this.$element.on("click", ".js-close-dialog", $.proxy(this.hide, this))
            },
            createElement: function() {
                this.$element = $('<div class="mv-dialog-container"><div class="mv-dialog-bg js-close-dialog"></div><div class="mv-dialog -no-animation mv-lightbox"><span class="close-btn js-close-dialog"></span><div class="mv-content-display"></div><div class="js-lightbox-title"></div></div></div>'), this.$title = $(".js-lightbox-title", this.$element), $(document.body).append(this.$element), this.addElementListeners()
            },
            show: function(e) {
                this.$element || this.createElement();
                var t, i, s = $(e.currentTarget);
                this.$element.find(".mv-lightbox .mv-content-display").html(""), this.$element.find(".mv-lightbox-image").attr({
                    src: ""
                }), void 0 !== s.data("mediaType") ? (t = $("<source />").attr({
                    src: s.data("videoSource"),
                    type: "video/" + s.data("mimeType")
                }), i = $("<video />").attr({
                    controls: !0
                }), t.appendTo(i), t = $("<div />").attr({
                    id: "rmpPlayer",
                    "data-video-filepath": s.data("videoSource"),
                    "data-license-key": s.data("videoLicenseKey")
                }), this.$element.find(".mv-lightbox .mv-content-display").html(t), render_player("rmpPlayer", !1)) : (i = $("<img />").attr({
                    src: $(e.currentTarget).data("image-src"),
                    class: "mv-lightbox-image js-lightbox-image js-close-dialog"
                }).css({
                    "max-width": .8 * $(window).width() - 20,
                    "max-height": .8 * $(window).height() - 20
                }), this.$element.find(".mv-lightbox .mv-content-display").html(i)), this.$element.prop(this.htmlAttributes.hidden, !1).focus()
            },
            onKeyup: function(e) {
                27 == e.which && this.hide()
            },
            hide: function(e) {
                this.$element && this.$element.prop(this.htmlAttributes.hidden, !0)
            }
        }, new e
    }(), ! function() {
        var p = ["p", "div", "pre", "form"];

        function a(e) {
            this.init(e)
        }

        function t(e) {
            this.init(e)
        }
        a.prototype = {
            mv: window.MV,
            inputSectionSelector: ".js-manymotes-input-section",
            inputFocusSelector: ".js-manymotes-input-focus",
            inputSelector: ".js-manymotes-input",
            menuButtonSelector: ".js-manymotes-menu-button",
            savedSelection: null,
            isMenuVisible: !1,
            emojiBasePath: null,
            iconPath: "",
            stickerPath: "stickers/",
            selectionTagsClassName: "mv-sel",
            userStatus: 0,
            isMobile: 0,
            isIE11: 0,
            icons: {
                ":)": {
                    src: "emoji/Layer1.svg"
                },
                ";)": {
                    src: "emoji/Layer2.svg"
                },
                ":A": {
                    src: "emoji/Layer3.svg"
                },
                ":H": {
                    src: "emoji/Layer4.svg"
                },
                ":x": {
                    src: "emoji/Layer5.svg"
                },
                ":|": {
                    src: "emoji/Layer6.svg"
                },
                "O.O": {
                    src: "emoji/Layer7.svg"
                },
                ":]": {
                    src: "emoji/Layer8.svg"
                },
                "<3": {
                    src: "emoji/Layer11.svg"
                },
                "</3": {
                    src: "emoji/Layer12.svg"
                },
                "O:)": {
                    src: "emoji/Layer13.svg"
                },
                "B|": {
                    src: "emoji/Layer14.svg"
                },
                "x(": {
                    src: "emoji/Layer15.svg"
                },
                ":`(": {
                    src: "emoji/Layer16.svg"
                },
                ":P": {
                    src: "emoji/Layer17.svg"
                },
                ":(": {
                    src: "emoji/Layer19.svg"
                },
                "-p-": {
                    src: "emoji/Layer20.svg"
                },
                "^.^": {
                    src: "emoji/Layer21.svg"
                },
                ":Z": {
                    src: "emoji/Layer23.svg"
                },
                x_x: {
                    src: "emoji/Layer24.svg"
                },
                ">_<": {
                    src: "emoji/Layer25.svg"
                },
                "8-)": {
                    src: "emoji/Layer26.svg"
                },
                ":<D": {
                    src: "emoji/Layer27.svg"
                },
                "+o(": {
                    src: "emoji/Layer28.svg"
                },
                ":-#": {
                    src: "emoji/Layer29.svg"
                },
                ":-D": {
                    src: "emoji/Layer31.svg"
                },
                "(oo)": {
                    src: "emoji/Layer33.svg"
                },
                ":@": {
                    src: "emoji/Layer35.svg"
                },
                ":/": {
                    src: "emoji/Layer36.svg"
                },
                ":%": {
                    src: "emoji/Layer38.svg"
                },
                ":$": {
                    src: "emoji/Layer39.svg"
                },
                "(.)(.)": {
                    src: "emoji/Layer40.svg"
                },
                ">|<": {
                    src: "emoji/Layer41.svg"
                },
                "<-": {
                    src: "emoji/Layer44.svg"
                },
                ":W": {
                    src: "emoji/Layer45.svg"
                },
                "(V))": {
                    src: "emoji/Layer46.svg"
                },
                "(Y))": {
                    src: "emoji/Layer49.svg"
                },
                ":pop_me:": {
                    src: "fetish/fetish1.svg",
                    title: "Pop Me!"
                },
                ":sniff_me:": {
                    src: "fetish/fetish2.svg",
                    title: "Sniff Me!"
                },
                ":diaper_love:": {
                    src: "fetish/fetismh3.svg",
                    title: "Diaper Love"
                },
                ":wax_play:": {
                    src: "fetish/fetish25.svg",
                    title: "Wax Play"
                },
                ":spank_me:": {
                    src: "fetish/fetish5.svg",
                    title: "Spank Me!"
                },
                ":sph:": {
                    src: "fetish/fetish6.svg",
                    title: "SPH"
                },
                ":gag_me:": {
                    src: "fetish/fetish8.svg",
                    title: "Gag Me!"
                },
                ":submissive_slut:": {
                    src: "fetish/fetish9.svg",
                    title: "Submissive Slut"
                },
                ":glove_love:": {
                    src: "fetish/fetish10.svg",
                    title: "Glove Love"
                },
                ":sissy_slut:": {
                    src: "fetish/fetish11.svg",
                    title: "Sissy Slut"
                },
                ":stomp_on_me:": {
                    src: "fetish/fetish14.svg",
                    title: "Stomp On Me"
                },
                ":peg_me:": {
                    src: "fetish/fetish15.svg",
                    title: "Peg Me"
                },
                ":smoke_with_me:": {
                    src: "fetish/fetish16.svg",
                    title: "Smoke With Me"
                },
                ":worship_these_heels:": {
                    src: "fetish/fetish18.svg",
                    title: "Worship These Heels"
                },
                ":mask_up:": {
                    src: "fetish/fetish19.svg",
                    title: "Mask Up"
                },
                ":chain_me_up:": {
                    src: "fetish/fetish20.svg",
                    title: "Chain Me Up"
                },
                ":naughty_nylons:": {
                    src: "fetish/fetish21.svg",
                    title: "Naughty Nylons"
                },
                ":lick_these_boots:": {
                    src: "fetish/fetish22.svg",
                    title: "Lick These Boots"
                },
                ":rough_me_up:": {
                    src: "fetish/fetish24.svg",
                    title: "Rough me Up"
                },
                ":in_the_hood:": {
                    src: "fetish/fetish4.svg",
                    title: "In The Hood"
                },
                ":whip_me:": {
                    src: "fetish/fetish23.svg",
                    title: "Whip Me"
                },
                ":facial:": {
                    src: "body/body1.svg",
                    title: "Facial"
                },
                ":stay_safe:": {
                    src: "body/body2.svg",
                    title: "Stay Safe"
                },
                ":hairy_bush:": {
                    src: "body/body3.svg",
                    title: "Hairy Bush"
                },
                ":mtf:": {
                    src: "body/body4.svg",
                    title: "MtF"
                },
                ":like_my_nails:": {
                    src: "body/body5.svg",
                    title: "Like My Nails?"
                },
                ":ass_worship:": {
                    src: "body/body6.svg",
                    title: "Ass Worship"
                },
                ":bbw:": {
                    src: "body/body7.svg",
                    title: "BBW"
                },
                ":cumming:": {
                    src: "body/body9.svg",
                    title: "Cumming"
                },
                ":cock:": {
                    src: "body/body13.svg",
                    title: "Cock"
                },
                ":boobs:": {
                    src: "body/body15.svg",
                    title: "Boobs"
                },
                ":smelly_feet:": {
                    src: "body/body16.svg",
                    title: "Smelly Feet"
                },
                ":pee_on_me:": {
                    src: "body/body17.svg",
                    title: "Pee On Me"
                },
                ":foot_job:": {
                    src: "body/body18.svg",
                    title: "Foot Job"
                },
                ":pregnant:": {
                    src: "body/body21.svg",
                    title: "Pregnant"
                },
                ":pussy:": {
                    src: "body/body22.svg",
                    title: "Pussy"
                },
                ":pee_on_you:": {
                    src: "body/body25.svg",
                    title: "Pee On You"
                },
                ":yesbaby-2:": {
                    src: "naked1/yesbaby-2.svg",
                    title: "Shhh, stick a cock in it"
                },
                ":yesbaby-4:": {
                    src: "naked1/yesbaby-4.svg",
                    title: "Good to the last drop - 01"
                },
                ":yesbaby-5:": {
                    src: "naked1/yesbaby-5.svg",
                    title: "Good to the last drop - 02"
                },
                ":yesbaby-6:": {
                    src: "naked1/yesbaby-6.svg",
                    title: "Ass fingering"
                },
                ":yesbaby-8:": {
                    src: "naked1/yesbaby-8.svg",
                    title: "Boobies"
                },
                ":yesbaby-9:": {
                    src: "naked1/yesbaby-9.svg",
                    title: "Perfect handful"
                },
                ":yesbaby-11:": {
                    src: "naked1/yesbaby-11.svg",
                    title: "Mmmmotorboat"
                },
                ":yesbaby-12:": {
                    src: "naked1/yesbaby-12.svg",
                    title: "Splooosh!"
                },
                ":yesbaby-15:": {
                    src: "naked1/yesbaby-15.svg",
                    title: "Pussy gape - 02"
                },
                ":yesbaby-16:": {
                    src: "naked1/yesbaby-16.svg",
                    title: "Mow many fingers do you see?"
                },
                ":yesbaby-18:": {
                    src: "naked1/yesbaby-18.svg",
                    title: "Rim job"
                },
                ":yesbaby-19:": {
                    src: "naked1/yesbaby-19.svg",
                    title: "Double the pleasure - 01"
                },
                ":yesbaby-20:": {
                    src: "naked1/yesbaby-20.svg",
                    title: "Double the pleasure - 02"
                },
                ":yesbaby-21:": {
                    src: "naked1/yesbaby-21.svg",
                    title: "Digital divide"
                },
                ":yesbaby-22:": {
                    src: "naked1/yesbaby-22.svg",
                    title: "Hot in here - 01"
                },
                ":yesbaby-25:": {
                    src: "naked1/yesbaby-25.svg",
                    title: "Melting pot"
                },
                ":woohoo-5:": {
                    src: "naked2/woohoo-5.svg",
                    title: "Lunch time"
                },
                ":woohoo-7:": {
                    src: "naked2/woohoo-7.svg",
                    title: "Tit wank - 02"
                },
                ":woohoo-9:": {
                    src: "naked2/woohoo-9.svg",
                    title: "Tit wank - front POV"
                },
                ":woohoo-10:": {
                    src: "naked2/woohoo-10.svg",
                    title: "BBC Blowjob"
                },
                ":woohoo-11:": {
                    src: "naked2/woohoo-11.svg",
                    title: "Face things head on"
                },
                ":woohoo-14:": {
                    src: "naked2/woohoo-14.svg",
                    title: "Shafted - 02"
                },
                ":woohoo-16:": {
                    src: "naked2/woohoo-16.svg",
                    title: "Boobs"
                },
                ":woohoo-17:": {
                    src: "naked2/woohoo-17.svg",
                    title: "Dat ass"
                },
                ":woohoo-19:": {
                    src: "naked2/woohoo-19.svg",
                    title: "BBC cum-splosion"
                },
                ":woohoo-20:": {
                    src: "naked2/woohoo-20.svg",
                    title: "Boob bath - 01"
                },
                ":woohoo-21:": {
                    src: "naked2/woohoo-21.svg",
                    title: "Burning sensation"
                },
                ":woohoo-23:": {
                    src: "naked2/woohoo-23.svg",
                    title: "Ass bath - 01"
                },
                ":woohoo-25:": {
                    src: "naked2/woohoo-25.svg",
                    title: "Perl necklace"
                },
                ":diggin_your_vibe:": {
                    src: "items/items1.svg",
                    title: "Diggin' Your vibe"
                },
                ":getting_ready:": {
                    src: "items/items2.svg",
                    title: "Getting ready"
                },
                ":magic_wand:": {
                    src: "items/items3.svg",
                    title: "Magic wand"
                },
                ":butt_plug:": {
                    src: "items/items4.svg",
                    title: "Butt Plug"
                },
                ":little_blue_pill:": {
                    src: "items/items5.svg",
                    title: "Little Blue Pill"
                },
                ":used_condom:": {
                    src: "items/items7.svg",
                    title: "Used Condom"
                },
                ":anal_beads:": {
                    src: "items/items8.svg",
                    title: "Anal beads"
                },
                ":condom:": {
                    src: "items/items10.svg",
                    title: "Condom"
                },
                ":manyvids:": {
                    src: "items/items16-V2.svg",
                    title: "ManyVids"
                },
                ":fun_with_fruit:": {
                    src: "items/items17.svg",
                    title: "Fun With Fruit"
                },
                ":bra:": {
                    src: "items/items19.svg",
                    title: "Bra"
                },
                ":mv_tee:": {
                    src: "items/items20-V2.svg",
                    title: "MV Tee"
                },
                ":vibrator:": {
                    src: "items/items21.svg",
                    title: "Vibrator"
                },
                ":cuff-me:": {
                    src: "items/items22.svg",
                    title: "Cuff Me"
                },
                ":webcam:": {
                    src: "items/items23.svg",
                    title: "Webcam"
                },
                ":boxers:": {
                    src: "items/items24.svg",
                    title: "Boxers"
                },
                ":thong:": {
                    src: "items/items25.svg",
                    title: "Thong"
                },
                ":bedazzled:": {
                    src: "money/money1.svg",
                    title: "Bedazzled!"
                },
                ":blast_off:": {
                    src: "money/money2.svg",
                    title: "Blast off!"
                },
                ":shopping:": {
                    src: "money/money3.svg",
                    title: "Shopping"
                },
                ":magic_styleto:": {
                    src: "money/money6.svg",
                    title: "Magic styleto"
                },
                ":a_gift_for_you:": {
                    src: "money/money7.svg",
                    title: "A Gift for you"
                },
                ":charge_it:": {
                    src: "money/money8.svg",
                    title: "Charge it!"
                },
                ":money_bags:": {
                    src: "money/money9.svg",
                    title: "Money bags"
                },
                ":take_my_money!:": {
                    src: "misc/Tokens_TakeOver-04.svg",
                    title: "Take my money!"
                },
                ":champagne_shower:": {
                    src: "money/money11.svg",
                    title: "Champagne Shower"
                },
                ":spoil_me:": {
                    src: "money/money13.svg",
                    title: "Spoil Me"
                },
                ":marry_me:": {
                    src: "money/money16.svg",
                    title: "Marry Me?"
                },
                ":manyvids_verified:": {
                    src: "money/money20-V2.svg",
                    title: "ManyVids Verified"
                },
                ":whatapp:": {
                    src: "money/money23.svg",
                    title: "WhatApp"
                },
                ":fries_with_that:": {
                    src: "food/food1.svg",
                    title: "Fries With That?"
                },
                ":hamburger:": {
                    src: "food/food2.svg",
                    title: "Hamburger"
                },
                ":pizza_slice:": {
                    src: "food/food3.svg",
                    title: "Pizza Slice"
                },
                ":wine_n_dine:": {
                    src: "food/food5.svg",
                    title: "Wine n' dine"
                },
                ":cake:": {
                    src: "food/food6.svg",
                    title: "Cake"
                },
                ":drinks:": {
                    src: "food/food7.svg",
                    title: "Drinks?"
                },
                ":hotdog:": {
                    src: "food/food8.svg",
                    title: "Hotdog"
                },
                ":suck_on_it:": {
                    src: "food/food9.svg",
                    title: "Suck on it!"
                },
                ":lolipop:": {
                    src: "food/food11.svg",
                    title: "Lolipop"
                },
                ":candy_cane:": {
                    src: "food/food12.svg",
                    title: "Candy Cane"
                },
                ":shots:": {
                    src: "food/food13.svg",
                    title: "Shots"
                },
                ":sushi:": {
                    src: "food/food14.svg",
                    title: "Sushi"
                },
                ":got_milk:": {
                    src: "food/food15.svg",
                    title: "Got Milk?"
                },
                ":water:": {
                    src: "food/food16.svg",
                    title: "Water"
                },
                ":apple:": {
                    src: "food/food17.svg",
                    title: "Apple"
                },
                ":pickle:": {
                    src: "food/food18.svg",
                    title: "Pickle"
                },
                ":cookie:": {
                    src: "food/food19.svg",
                    title: "Cookie"
                },
                ":eggplant:": {
                    src: "food/food20.svg",
                    title: "Eggplant"
                },
                ":lick_my_cookie:": {
                    src: "food/food21.svg",
                    title: "Lick My Cookie"
                },
                ":taco_lover:": {
                    src: "food/food22.svg",
                    title: "Taco Lover"
                },
                ":hot_hot_hot:": {
                    src: "food/food23.svg",
                    title: "Hot hot hot!"
                },
                ":ice_cream:": {
                    src: "food/food24.svg",
                    title: "Ice Cream"
                },
                ":pineapple:": {
                    src: "food/food25.svg",
                    title: "Pineapple"
                },
                ":3...:": {
                    src: "mv/mv1.svg",
                    title: "3..."
                },
                ":2...:": {
                    src: "mv/mv2.svg",
                    title: "2..."
                },
                ":1...:": {
                    src: "mv/mv3.svg",
                    title: "1..."
                },
                ":mv_tv:": {
                    src: "misc/Tv_MV_Emojis.svg",
                    title: "MV TV"
                },
                ":gold_trophee:": {
                    src: "mv/mv10.svg",
                    title: "Gold trophee"
                },
                ":silver_trophee:": {
                    src: "mv/mv15.svg",
                    title: "Silver trophee"
                },
                ":and...action:": {
                    src: "mv/mv16.svg",
                    title: "And...action!"
                },
                ":mv_champion:": {
                    src: "mv/mv17.svg",
                    title: "MV champion"
                },
                ":love_message:": {
                    src: "mv/mv19.svg",
                    title: "Love message"
                },
                ":bronze_trophee:": {
                    src: "mv/mv20.svg",
                    title: "Bronze trophee"
                },
                ":light_my_fire:": {
                    src: "user/user4.svg",
                    title: "Light My Fire"
                },
                ":girl_on_girl_action:": {
                    src: "user/user6.svg",
                    title: "Girl on girl action"
                },
                ":gay_pride:": {
                    src: "user/user8.svg",
                    title: "Gay Pride"
                },
                ":spotlight:": {
                    src: "user/user10.svg",
                    title: "Spotlight"
                },
                ":bra_buster:": {
                    src: "surgery/surgery7.svg",
                    title: "Bra buster"
                },
                ":rack_em_up:": {
                    src: "surgery/surgery8.svg",
                    title: "Rack 'em up"
                },
                ":giant_jugs:": {
                    src: "surgery/surgery9.svg",
                    title: "Giant jugs"
                },
                ":bootyful:": {
                    src: "surgery/surgery13.svg",
                    title: "Bootyful"
                },
                ":the_thighs_have_it:": {
                    src: "surgery/surgery15.svg",
                    title: "The thighs have it"
                },
                ":glossing_over:": {
                    src: "beauty/beauty6.svg",
                    title: "Glossing over"
                },
                ":on_my_lips:": {
                    src: "beauty/beauty7.svg",
                    title: "A moment on my lips, a lifetime on your dick"
                },
                ":lash_hurrah:": {
                    src: "beauty/beauty8.svg",
                    title: "Lash hurrah"
                },
                ":put_a_smile_on_my_face:": {
                    src: "beauty/beauty11.svg",
                    title: "Put a smile on my face"
                },
                ":blowjob_lips:": {
                    src: "beauty/beauty12.svg",
                    title: "Blowjob lips"
                },
                ":blonde_ambitions:": {
                    src: "beauty/beauty17.svg",
                    title: "Blonde ambitions"
                },
                ":sex_a_teal:": {
                    src: "beauty/beauty18.svg",
                    title: "Sex a-teal"
                },
                ":in_the_pink:": {
                    src: "beauty/beauty19.svg",
                    title: "In the pink"
                },
                ":black_is_the_new_black:": {
                    src: "beauty/beauty20.svg",
                    title: "Black is the new black"
                }
            },
            stickers: {
                ":shopping_blowny:": {
                    src: "blowny1.svg",
                    title: "Shopping blowny"
                },
                ":orgy_blowny:": {
                    src: "blowny2.svg",
                    title: "Orgy blowny"
                },
                ":travel_blowny:": {
                    src: "blowny3.svg",
                    title: "Travel blowny"
                },
                ":bday_blowny:": {
                    src: "blowny4.svg",
                    title: "Bday blowny"
                },
                ":space_blowny:": {
                    src: "blowny5.svg",
                    title: "Space blowny"
                },
                ":president_blowny:": {
                    src: "blowny6.svg",
                    title: "President blowny"
                },
                ":wedding_blowny:": {
                    src: "blowny7.svg",
                    title: "Wedding blowny"
                },
                ":football_blowny:": {
                    src: "blowny8.svg",
                    title: "Football blowny"
                },
                ":convertible_blowny:": {
                    src: "blowny9.svg",
                    title: "Convertible blowny"
                },
                ":caming_blowny:": {
                    src: "blowny10.svg",
                    title: "Caming blowny"
                },
                ":taxi_blowny:": {
                    src: "blowny11.svg",
                    title: "Taxi blowny"
                },
                ":s&m_blowny:": {
                    src: "blowny12.svg",
                    title: "S&amp;M blowny"
                },
                ":strapon_blowny:": {
                    src: "blowny13.svg",
                    title: "Strap-on blowny"
                },
                ":teacher_blowny:": {
                    src: "blowny14.svg",
                    title: "Teacher blowny"
                },
                ":chef_blowny:": {
                    src: "blowny15.svg",
                    title: "Chef blowny"
                },
                ":hooker_blowny:": {
                    src: "blowny16.svg",
                    title: "Hooker blowny"
                },
                ":sticker2-1:": {
                    src: "roleplay-sticker-1.svg",
                    title: "Lay the law"
                },
                ":sticker2-2:": {
                    src: "roleplay-sticker-2.svg",
                    title: "Studying hard"
                },
                ":sticker2-3:": {
                    src: "roleplay-sticker-3.svg",
                    title: "Healing hands- 01"
                },
                ":sticker2-4:": {
                    src: "roleplay-sticker-4.svg",
                    title: "Healing hands- 02"
                },
                ":sticker2-5:": {
                    src: "roleplay-sticker-5.svg",
                    title: "Healing hands- 03"
                },
                ":sticker2-6:": {
                    src: "roleplay-sticker-6.svg",
                    title: "Get thee behind me"
                },
                ":sticker2-7:": {
                    src: "roleplay-sticker-7.svg",
                    title: "A snatch made in heaven"
                },
                ":sticker2-8:": {
                    src: "roleplay-sticker-8.svg",
                    title: "On my knees"
                },
                ":sticker2-9:": {
                    src: "roleplay-sticker-9.svg",
                    title: "Poking fun"
                },
                ":sticker2-10:": {
                    src: "roleplay-sticker-10.svg",
                    title: "Wonder Pussy"
                },
                ":sticker2-11:": {
                    src: "roleplay-sticker-11.svg",
                    title: "Perfect Storm"
                },
                ":sticker2-12:": {
                    src: "roleplay-sticker-12.svg",
                    title: "Fire in the hole, mateys!"
                },
                ":sticker2-13:": {
                    src: "roleplay-sticker-13.svg",
                    title: "The cat who got the cream"
                },
                ":sticker2-14:": {
                    src: "roleplay-sticker-14.svg",
                    title: "Jailhouse cock"
                },
                ":sticker2-15:": {
                    src: "roleplay-sticker-15.svg",
                    title: "Ebony"
                },
                ":sticker2-16:": {
                    src: "roleplay-sticker-16.svg",
                    title: "Deep space 69"
                },
                ":sticker2-17:": {
                    src: "roleplay-sticker-17.svg",
                    title: "I suck so good"
                },
                ":sticker2-18:": {
                    src: "roleplay-sticker-18.svg",
                    title: "Hose me down"
                },
                ":sticker2-19:": {
                    src: "roleplay-sticker-19.svg",
                    title: "Do me any witch way"
                },
                ":sticker2-20:": {
                    src: "roleplay-sticker-20.svg",
                    title: "Poke-my-hotness"
                },
                ":sticker2-21:": {
                    src: "roleplay-sticker-21.svg",
                    title: "Maid service"
                },
                ":sticker2-22:": {
                    src: "roleplay-sticker-22.svg",
                    title: "Hop on"
                },
                ":sticker2-23:": {
                    src: "roleplay-sticker-23.svg",
                    title: "Play-by-play"
                },
                ":sticker2-24:": {
                    src: "roleplay-sticker-24.svg",
                    title: "Man the hatch"
                },
                ":sticker2-25:": {
                    src: "roleplay-sticker-25.svg",
                    title: "I can take you there"
                },
                ":sticker2-26:": {
                    src: "roleplay-sticker-26.svg",
                    title: "Planet pussy"
                },
                ":sticker2-27:": {
                    src: "roleplay-sticker-27.svg",
                    title: "Hipster hottie"
                },
                ":sticker2-28:": {
                    src: "roleplay-sticker-28.svg",
                    title: "Santa&#39;s little humper"
                }
            },
            init: function(e) {
                this.$inputSection = e, this.$input = $(this.inputSelector, this.$inputSection), this.$button = $(this.menuButtonSelector, this.$inputSection), this.$inputFocus = $(this.inputFocusSelector, this.$inputSection).eq(0), this.$input.length && (this.emojiBasePath = this.mv.internalCdn + "/site_files/images/manymotes-v2/", this.mv.manymotesMenu || (this.mv.manymotesMenu = new t(this)), this.userStatus = $("html").data("status") >> 0, this.isMobile = this.mv.isMobile, this.isIE11 = !!navigator.userAgent.match(/Trident.*rv[ :]*11\./), this.canUseManymotes = this.userStatus >> 1, this.sanitizeNewMessageTextInput(), this.addListeners())
            },
            addListeners: function() {
                this.$input.on("mousedown focus", function() {
                    try {
                        document.execCommand("enableObjectResizing", !1, !1)
                    } catch (e) {}
                }), this.$input.on("keyup", $.proxy(this.onInputKeyup, this)), this.$input.on("focus", $.proxy(this.onInputFocus, this)), this.$input.on("blur", $.proxy(this.onInputBlur, this)), this.$input.on("paste drop", $.proxy(this.onInputPasteOrDrop, this)), this.$input.on("mv:empty", $.proxy(this.onMvEmpty, this)), this.$button.on("mousedown", $.proxy(this.onMenuButtonMousedown, this)), this.$button.on("click", $.proxy(this.onMenuButtonClicked, this))
            },
            removeListeners: function() {},
            onInputFocus: function() {
                this.hasFocus = !0, this.$inputFocus.addClass("focus")
            },
            onInputKeyup: function() {
                this.sanitizeNewMessageTextInput(!0)
            },
            onInputBlur: function() {
                this.hasFocus = !1, this.$inputFocus.removeClass("focus");
                try {
                    document.execCommand("enableObjectResizing", !0, !0)
                } catch (e) {}
                this.sanitizeNewMessageTextInput()
            },
            onInputPasteOrDrop: function() {
                var e = this;
                setTimeout(function() {
                    e.saveSelection(), e.sanitizeNewMessageTextInput(), e.restoreSelection(), e.isIE11 && e.$input.blur()
                }, 0)
            },
            onMvEmpty: function() {
                this.empty()
            },
            onMenuButtonClicked: function(e) {
                this.toggleMenu(), e.stopPropagation()
            },
            onMenuButtonMousedown: function(e) {
                if (this.hasFocus && this.saveSelection(), !this.isMobile) return e.stopPropagation(), !1
            },
            onMenuItemSelected: function(e, t) {
                this.insertIcon(e)
            },
            getHtml: function() {
                return this.$input.html()
            },
            setHtml: function(e) {
                e = e.replace(/\n/gm, ""), this.$input.html(e), this.sanitizeNewMessageTextInput()
            },
            getValue: function() {
                var e = this.$input.data("manymotes-message");
                return void 0 === e ? "" : e
            },
            sanitizeNewMessageTextInput: function(e) {
                var d = this,
                    c = "",
                    u = "";

                function h(e) {
                    for (var t, i, s, n, a, o = e.childNodes, r = 0, l = o.length; r < l; r++) t = o[r], a = n = s = i = void 0, 3 === t.nodeType ? (c += t.nodeValue, u += t.nodeValue) : 1 === t.nodeType && (i = t.tagName.toLowerCase(), s = -1 !== p.indexOf(i), n = t.getAttribute("data-manymote"), !s && "br" != i || (c += "<br>", u += "\n"), d.canUseManymotes && "img" === i && n ? (a = d.getIconHtml(n), c += a, a && (u += n)) : ("span" == i && t.className == d.selectionTagsClassName && (c += t.outerHTML), s && 1 == t.childNodes.length && t.childNodes[0].tagName && "br" == t.childNodes[0].tagName.toLowerCase() || h(t)))
                }
                h(this.$input[0]), c = c.replace(/((<br>){3,})/gim, "<br><br>"), u = u.replace(/\n{3,}/gim, "\n\n"), c = c.replace(/\n/gm, "").trim(), "" === (u = u.trim()) && (c = ""), e || this.$input.html(c), this.$input.data("manymotes-message", u.trim()).trigger("change")
            },
            saveSelection: function() {
                var e, t, i = window.getSelection(),
                    s = i.getRangeAt(0);
                i.rangeCount && (this.$input.find("." + this.selectionTagsClassName).remove(), i = s.extractContents(), (e = document.createElement("span")).className = this.selectionTagsClassName, t = e.cloneNode(), s.insertNode(t), s.insertNode(i), s.insertNode(e))
            },
            restoreSelection: function() {
                var e = window.getSelection(),
                    t = (e.removeAllRanges(), document.createRange()),
                    i = this.$input[0],
                    s = i.getElementsByClassName(this.selectionTagsClassName)[0],
                    i = i.getElementsByClassName(this.selectionTagsClassName)[1];
                s && i || (this.$input.find("." + this.selectionTagsClassName).remove(), (s = document.createElement("span")).className = this.selectionTagsClassName, i = s.cloneNode(), this.$input.append(s), this.$input.append(i));
                try {
                    t.setStartBefore(s), t.setEndAfter(i)
                } catch (e) {}
                e.addRange(t)
            },
            replaceSelectionWithIcon: function(e) {
                var t, i, s = window.getSelection(),
                    e = "string" == typeof e ? document.createTextNode(e) : e;
                s.getRangeAt && s.rangeCount && ((s = s.getRangeAt(0)).deleteContents(), this.$input.find("." + this.selectionTagsClassName).remove(), (t = document.createElement("span")).className = this.selectionTagsClassName, i = t.cloneNode(), s.insertNode(i), i.parentNode.insertBefore(t, i), t.parentNode.insertBefore(e, t))
            },
            htmlEntities: function(e) {
                return String(e).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;")
            },
            isSticker: function(e) {
                return !!this.stickers[e]
            },
            getIconHtml: function(e) {
                var t, i, s = this.isSticker(e),
                    n = this.icons[e] || this.stickers[e],
                    a = "manymote";
                return n ? (e = this.htmlEntities(e), i = n.title ? 'title="' + n.title + '"' : "", s ? (t = this.emojiBasePath + this.stickerPath + n.src, a = "manymote-sticker") : t = this.emojiBasePath + this.iconPath + n.src, '<img src="' + t + '" class="' + a + '" data-manymote="' + e + '" alt="' + e + '" ' + i + ">") : ""
            },
            insertIcon: function(e) {
                var t = this.isSticker(e),
                    e = this.getIconHtml(e),
                    e = t ? "<span>" + e + "&nbsp;</span>" : e,
                    i = $(e),
                    s = this.$input[0] == document.activeElement,
                    n = (this.isMobile || this.isIE11 ? this.$input.attr("contenteditable", !1) : this.$input.focus(), this);
                setTimeout(function() {
                    s || n.restoreSelection(), n.replaceSelectionWithIcon(i[0]), n.sanitizeNewMessageTextInput(!0), n.restoreSelection(), (n.isMobile || n.isIE11) && setTimeout(function() {
                        n.$input.attr("contenteditable", !0)
                    }, 0)
                }, 0)
            },
            empty: function() {
                this.$input.data("manymotes-message", "").html(""), window.getSelection().removeAllRanges()
            },
            showMenu: function() {
                this.toggleMenu(!0)
            },
            hideMenu: function() {
                this.toggleMenu(!1)
            },
            toggleMenu: function(e) {
                this.mv.manymotesMenu.toggle(e, this)
            },
            lazyLoadImages: function() {
                lazyLoadingStart()
            },
            onMenuToggle: function(e) {
                this.$button.toggleClass("active", e)
            }
        }, t.prototype = {
            mv: window.MV,
            isVisible: !1,
            $menu: null,
            manymotesInput: null,
            menuScrollerSelector: ".js-manymote-menu-scroller",
            menuHeaderScrollerSelector: ".js-manymote-menu-header-scroller",
            init: function(e) {
                this.manymotes = e, this.userStatus = this.mv.userStatus, this.canUseManymotes = this.mv.canUseManymotes
            },
            addListeners: function() {
                this.$menu.on("mousedown", $.proxy(this.onMenuMousedown, this)), this.$menu.on("click", ".js-manymote-menu-icon, .js-manymote-menu-sticker", $.proxy(this.onMenuItemClicked, this)), $(document).on("keydown", $.proxy(this.onDocumentKeydown, this)), $(document).on("mouseup", $.proxy(this.onDocumentMouseup, this))
            },
            onMenuMousedown: function(e) {
                return e.stopPropagation(), !1
            },
            onMenuItemClicked: function(e) {
                return this.onMenuItemSelected(e), e.stopPropagation(), !1
            },
            onMenuItemSelected: function(e) {
                var t;
                this.canUseManymotes ? (t = (e = $(e.target)).data("manymote"), e = e.hasClass("js-manymote-menu-sticker"), this.manymotesInput && t && this.manymotesInput.onMenuItemSelected(t, e)) : ($("#hiddenPremiumTrigger").trigger("click"), this.hide())
            },
            onDocumentMouseup: function(e) {
                if (!this.isVisible || e.target == this.$menu[0] || this.$menu[0].contains(e.target) || this.manymotesInput && (e.target == this.manymotesInput.$button[0] || this.manymotesInput.$button[0].contains(e.target))) return e.stopPropagation(), !1;
                this.hide()
            },
            onDocumentKeydown: function(e) {
                !this.isVisible || 27 !== e.keyCode && 9 !== e.keyCode || this.hide()
            },
            show: function() {
                this.toggle(!0, this.manymotesInput)
            },
            hide: function() {
                this.toggle(!1)
            },
            toggle: function(e, t) {
                var i, s = this.isVisible;
                t ? void 0 === e && (e = !this.isVisible) : e = !1, this.createMenu(), this.manymotesInput && this.manymotesInput != t && this.manymotesInput.onMenuToggle(e), e && this.manymotesInput == t || this.$menu.detach(), this.manymotesInput = t, e && this.manymotesInput && (this.$menu.appendTo(this.manymotesInput.$inputSection), (i = this).$menuHeaderScrollerContainer.scrollLeft(0), setTimeout(function() {
                    i.$menuHeaderScrollerContainer.trigger("scroll")
                }, 30)), this.isVisible = e, this.isVisible && this.lazyLoadImages(), this.manymotesInput && this.manymotesInput.onMenuToggle(e), s != e && this.triggerMenuEvent(e)
            },
            triggerMenuEvent: function(e) {
                e = e ? "mv:openmanymotemenu" : "mv:closemanymotemenu";
                $(document.body).trigger(e)
            },
            createMenu: function() {
                var a, l, d, c, u, h, e, s;

                function t(e, t) {
                    for (var i = '<div class="tab-pane flex-list keep-fluid' + (1 === ++a ? " active" : "") + '" id="mm' + a + '">', s = 0, n = t.length; s < n; s++) i += function(e, t) {
                        var i = "manymote-menu-icon",
                            s = "js-manymote-menu-icon",
                            n = !!u[t],
                            a = c[t] || u[t];
                        if (!a) return "";
                        var o = a.title ? 'title="' + a.title + '"' : "",
                            r = n ? l : d;
                        r += a.src, n ? (i = "manymote-menu-sticker", s = "js-manymote-menu-sticker") : 5 == e && (i = "manymote-menu-manymote");
                        return '<img class="col-1-' + e + " " + i + " " + s + ' b-lazy" data-src="' + r + '" ' + h + ' data-manymote="' + t + '" alt="' + t + '" ' + o + ">"
                    }(e, t[s]);
                    return i += "</div>"
                }
                this.$menu || (a = 0, l = this.manymotes.emojiBasePath + this.manymotes.stickerPath, d = this.manymotes.emojiBasePath + this.manymotes.iconPath, c = this.manymotes.icons, u = this.manymotes.stickers, h = ' src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"', e = '<div id="manymotes-container-id" class="manymotes-menu js-manymotes-menu"><div class="manymotes-nav clearfix scrollbar-mv js-manymote-menu-header-scroller"><ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" href="#mm1" id="mm" data-toggle="tab"><i class="icon medium manymote emoji-menu-icon"></i></a></li><li class="nav-item"><a class="nav-link" href="#mm2" id="mm" data-toggle="tab"><i class="icon medium manymote fetishes-menu-icon"></i></a></li><li class="nav-item"><a class="nav-link" href="#mm3" id="mm" data-toggle="tab"><i class="icon medium manymote body-menu-icon"></i></a></li><li class="nav-item"><a class="nav-link" href="#mm4" id="mm" data-toggle="tab"><i class="icon medium manymote items-menu-icon"></i></a></li><li class="nav-item"><a class="nav-link" href="#mm5" id="mm" data-toggle="tab"><i class="icon medium manymote money-menu-icon"></i></a></li><li class="nav-item"><a class="nav-link" href="#mm6" id="mm" data-toggle="tab"><i class="icon medium manymote food-menu-icon"></i></a></li><li class="nav-item"><a class="nav-link" href="#mm7" id="mm" data-toggle="tab"><i class="icon medium manymote stickers-menu-icon"></i></a></li><li class="nav-item"><a class="nav-link" href="#mm8" id="mm" data-toggle="tab"><i class="icon medium manymote stickers2-menu-icon"></i></a></li></ul></div><div class="manymotes-wrapper scrollbar-mv js-manymote-menu-scroller">' + t(5, [":)", ";)", ":A", ":H", ":x", ":|", "O.O", ":]", "<3", "</3", "O:)", "B|", "x(", ":`(", ":P", ":(", "-p-", "^.^", ":Z", "x_x", ">_<", "8-)", ":<D", "+o(", ":-#", ":-D", "(oo)", ":@", ":/", ":%", ":$", "(.)(.)", ">|<", "(V))", "(Y))"]) + t(5, [":pop_me:", ":sniff_me:", ":wax_play:", ":spank_me:", ":sph:", ":gag_me:", ":submissive_slut:", ":glove_love:", ":sissy_slut:", ":stomp_on_me:", ":peg_me:", ":smoke_with_me:", ":worship_these_heels:", ":mask_up:", ":chain_me_up:", ":naughty_nylons:", ":lick_these_boots:", ":rough_me_up:", ":in_the_hood:", ":whip_me:", ":mtf:", ":bbw:", ":smelly_feet:", ":foot_job:", ":pregnant:"]) + t(5, [":facial:", ":stay_safe:", ":hairy_bush:", ":ass_worship:", ":cumming:", ":cock:", ":boobs:", ":pee_on_me:", ":pussy:", ":pee_on_you:", ":woohoo-16:", ":woohoo-25:", ":woohoo-20:", ":woohoo-23:", ":woohoo-17:", ":yesbaby-2:", ":yesbaby-4:", ":yesbaby-6:", ":yesbaby-5:", ":yesbaby-8:", ":yesbaby-9:", ":yesbaby-11:", ":yesbaby-12:", ":yesbaby-15:", ":yesbaby-16:", ":yesbaby-18:", ":yesbaby-19:", ":yesbaby-20:", ":yesbaby-21:", ":woohoo-7:", ":woohoo-9:", ":woohoo-14:", ":woohoo-19:", ":woohoo-5:", ":woohoo-11:", ":woohoo-21:", ":light_my_fire:", ":yesbaby-22:", ":yesbaby-25:", ":W"]) + t(5, [":diggin_your_vibe:", ":getting_ready:", ":magic_wand:", ":butt_plug:", ":little_blue_pill:", ":used_condom:", ":anal_beads:", ":mv_tv:", ":condom:", ":manyvids:", ":bra:", ":mv_tee:", ":vibrator:", ":cuff-me:", ":webcam:", ":boxers:", ":thong:", ":3...:", ":2...:", ":1...:", ":spotlight:", ":and...action:", ":gold_trophee:", ":silver_trophee:", ":bronze_trophee:"]) + t(5, [":bedazzled:", ":blast_off:", ":shopping:", ":magic_styleto:", ":a_gift_for_you:", ":charge_it:", ":money_bags:", ":take_my_money!:", ":spoil_me:", ":marry_me:", ":manyvids_verified:", ":whatapp:", ":mv_champion:", ":love_message:", ":girl_on_girl_action:", ":gay_pride:", ":bra_buster:", ":giant_jugs:", ":bootyful:", ":the_thighs_have_it:", ":glossing_over:", ":on_my_lips:", ":lash_hurrah:", ":put_a_smile_on_my_face:", ":blowjob_lips:", "<-", ":blonde_ambitions:", ":sex_a_teal:", ":in_the_pink:", ":black_is_the_new_black:"]) + t(5, [":fries_with_that:", ":hamburger:", ":pizza_slice:", ":wine_n_dine:", ":cake:", ":drinks:", ":hotdog:", ":suck_on_it:", ":lolipop:", ":candy_cane:", ":shots:", ":sushi:", ":got_milk:", ":water:", ":apple:", ":pickle:", ":cookie:", ":eggplant:", ":lick_my_cookie:", ":taco_lover:", ":hot_hot_hot:", ":ice_cream:", ":pineapple:", ":fun_with_fruit:", ":champagne_shower:"]) + t(4, [":shopping_blowny:", ":orgy_blowny:", ":travel_blowny:", ":bday_blowny:", ":space_blowny:", ":president_blowny:", ":wedding_blowny:", ":football_blowny:", ":convertible_blowny:", ":caming_blowny:", ":taxi_blowny:", ":s&m_blowny:", ":strapon_blowny:", ":teacher_blowny:", ":chef_blowny:", ":hooker_blowny:"]) + t(4, [":sticker2-1:", ":sticker2-2:", ":sticker2-3:", ":sticker2-4:", ":sticker2-5:", ":sticker2-6:", ":sticker2-7:", ":sticker2-8:", ":sticker2-9:", ":sticker2-10:", ":sticker2-11:", ":sticker2-12:", ":sticker2-13:", ":sticker2-14:", ":sticker2-15:", ":sticker2-16:", ":sticker2-17:", ":sticker2-18:", ":sticker2-19:", ":sticker2-20:", ":sticker2-21:", ":sticker2-22:", ":sticker2-23:", ":sticker2-24:", ":sticker2-25:", ":sticker2-26:", ":sticker2-27:", ":sticker2-28:"]) + "</div></div>", this.$menu = $(e), $(this.menuScrollerSelector, this.$menu).scrollbar().off("scroll", this.lazyLoadImages).on("scroll", $.proxy(this.lazyLoadImages, this)), $(this.menuHeaderScrollerSelector, this.$menu).scrollbar({
                    onInit: function() {
                        this.scrollx.scrollArrowLess = $('<div class="scroll-arrow scroll-x scroll-arrow_less"></div>'), this.scrollx.scrollArrowMore = $('<div class="scroll-arrow scroll-x scroll-arrow_more"></div>'), this.wrapper.append(this.scrollx.scrollArrowLess), this.wrapper.append(this.scrollx.scrollArrowMore);
                        var t = this,
                            i = this.scrollx,
                            s = this.container;
                        this.scrollx.scrollArrowLess.on("click", function() {
                            var e = s.scrollLeft() - i.visible;
                            s.animate({
                                scrollLeft: e
                            }, t.options.duration)
                        }), this.scrollx.scrollArrowMore.on("click", function() {
                            var e = s.scrollLeft() + i.visible;
                            s.animate({
                                scrollLeft: e
                            }, t.options.duration)
                        })
                    },
                    onScroll: function(e, t) {
                        clearTimeout(s), s = setTimeout(function() {
                            i.scrollx.scrollArrowLess.toggle(0 < t.scroll), i.scrollx.scrollArrowMore.toggle(t.scroll < t.maxScroll)
                        }, 50);
                        var i = this
                    }
                }).off("scroll", this.lazyLoadImages).on("scroll", $.proxy(this.lazyLoadImages, this)), this.$menuHeaderScrollerContainer = $(this.menuHeaderScrollerSelector + ":last", this.$menu), this.addListeners())
            },
            lazyLoadImages: function() {
                lazyLoadingStart()
            }
        }, jQuery.fn.mvManymote = function(i, s) {
            var n = $(this);
            return $(this).each(function() {
                var e = $(this),
                    e = e.hasClass("js-manymotes-input-section") ? e : $(this).parents(".js-manymotes-input-section");
                if (!e.length) return $(this);
                var t = e.data("mv-manymotes");
                t || (t = new a(e), e.data("mv-manymotes", t)), "empty" == i ? t.empty() : "html" == i ? void 0 !== s ? t.setHtml(s) : n = t.getHtml() : "value" == i && (n = t.getValue())
            }), n
        }
    }(), ! function() {
        function e() {
            this.init()
        }
        e.prototype = {
            mv: window.MV,
            inProgress: !1,
            commentType: "",
            commentTypeId: 0,
            commentMinLength: 2,
            commentMaxLength: 1e3,
            actions: {
                new: "new",
                edit: "edit",
                delete: "delete"
            },
            selectors: {
                inputAppendTo: ".js-comment-input-container",
                textToEdit: ".js-comment-text",
                commentRow: "js-comment-row"
            },
            cssClasses: {
                moreCommentsHidden: "-more-comments-hidden",
                isCancel: "-is-cancel",
                isEdit: "-is-edit"
            },
            init: function() {
                this.userStatus = this.mv.userStatus, this.canUseManymotes = this.mv.canUseManymotes, this.$commentsSection = $(".js-comments-section"), this.$commentsSection.length && (this.$commentsContainer = $(".js-comments-container", this.$commentsSection), this.$toggleMoreComments = $(".js-toggle-more-comments", this.$commentsSection), this.$appendNewComments = $(".js-append-new-comments", this.$commentsSection), this.userPicHtml = $("." + this.selectors.commentRow + " .comment-row-user-pic", this.$commentsSection).html(), this.commentType = this.$commentsSection.data("comment-type"), this.commentTypeId = this.$commentsSection.data("comment-type-id"), this.$newCommentInputSection = $(".js-comment-input-section"), this.$replyCommentInputSection = this.$newCommentInputSection.clone(), this.$newCommentInputSection.mvManymote(), this.$replyCommentInputSection.mvManymote(), this.addListeners())
            },
            addListeners: function() {
                this.$toggleMoreComments.on("click", $.proxy(this.onToggleMoreCommentsClicked, this)), this.$commentsSection.on("click", ".js-comment-submit", $.proxy(this.onSendCommentClicked, this)), this.$commentsSection.on("click", ".js-comment-reply", $.proxy(this.onReplyCommentClicked, this)), this.$commentsSection.on("click", ".js-comment-edit", $.proxy(this.onEditCommentClicked, this)), this.$commentsSection.on("click", ".js-comment-delete", $.proxy(this.onDeleteCommentClicked, this)), this.$commentsSection.on("change", ".js-comment-input", $.proxy(this.onMessageInputChange, this)), this.$commentsSection.on("mv:sendmanymotesticker", ".js-comment-input", $.proxy(this.onManymoteStickerSend, this))
            },
            removeListeners: function() {},
            onToggleMoreCommentsClicked: function() {
                this.toggleMoreComments()
            },
            onSendCommentClicked: function(e) {
                this.sendComment(e)
            },
            onEditCommentClicked: function(e) {
                e = this.getCommentRow(e.currentTarget);
                e.data("isCancel") || this.editComment(e)
            },
            onReplyCommentClicked: function(e) {
                e = this.getCommentRow(e.currentTarget);
                e.data("isCancel") ? this.cancelComment() : this.replyComment(e)
            },
            onDeleteCommentClicked: function(e) {
                e = this.getCommentRow(e.currentTarget);
                this.deleteComment(e)
            },
            onMessageInputChange: function(e) {
                e = this.getCommentRow(e.currentTarget);
                this.updateSubmitButtonState(e)
            },
            getCommentRow: function(e) {
                return $(e).parents(".js-comment-row")
            },
            getSubmitButton: function(e) {
                return e.find(".js-comment-submit")
            },
            getMessage: function(e) {
                return e.find(".js-comment-input").mvManymote("value")
            },
            toggleMoreComments: function() {
                this.$commentsContainer.toggleClass(this.cssClasses.moreCommentsHidden), this.lazyLoadImages()
            },
            editComment: function(e) {
                this.cancelComment(), this.attachInput(e), e.addClass(this.cssClasses.isEdit).data("isEdit", !0);
                e = e.find(this.selectors.textToEdit).html();
                this.$replyCommentInputSection.mvManymote("html", e)
            },
            replyComment: function(e) {
                this.cancelComment(), this.attachInput(e)
            },
            cancelComment: function() {
                this.detachInput()
            },
            attachInput: function(e) {
                var t = e.data("cid") >> 0,
                    i = e.data("reply-id") >> 0;
                this.$replyCommentInputSection.data("reply-id", i).data("cid", t), e.addClass(this.cssClasses.isCancel).data("isCancel", !0), e.find(this.selectors.inputAppendTo).append(this.$replyCommentInputSection), this.$replyCommentInputSection.find(".js-comment-input").change().focus()
            },
            detachInput: function() {
                var e = this.getCommentRow(this.$replyCommentInputSection);
                this.$replyCommentInputSection.detach().data("reply-id", 0).data("cid", 0).mvManymote("empty"), e.length && e.removeClass(this.cssClasses.isCancel).removeClass(this.cssClasses.isEdit).data("isCancel", !1).data("isEdit", !1)
            },
            deleteComment: function(e) {
                var t = e.data("cid") >> 0,
                    e = this.mv.mvDialog.confirm("Are you sure you want to delete this conversation forever?", "", "Yes", "Cancel").promise,
                    i = this;
                e.done(function() {
                    var e = {
                        action: i.actions.delete,
                        cid: t,
                        type: i.commentType,
                        tid: i.commentTypeId
                    };
                    i.sendRequest(e)
                })
            },
            updateSubmitButtonState: function(e) {
                var t = !1;
                this.userStatus && !this.isMessageInvalid(e) || (t = !0), this.getSubmitButton(e).toggleClass("disabled", t)
            },
            isMessageInvalid: function(e) {
                var t = "",
                    e = this.getMessage(e);
                return void 0 === e || e.length < this.commentMinLength ? t = "Your comment must be at least two characters." : e.length > this.commentMaxLength && (t = "Your comment cannot be over 1000 characters."), t
            },
            onManymoteStickerSend: function(e, t) {
                t && t.manymote ? this.sendComment(e, t.manymote) : this.showError("An error has occured!", "Oops!")
            },
            sendComment: function(e, t) {
                var i, s, n, a, o, r, l;
                this.userStatus ? (r = this.getCommentRow(e.currentTarget)).length && !$(e.currentTarget).hasClass("disabled") && (i = r.data("cid") >> 0, s = r.data("reply-id") >> 0, n = !i && !s, a = i && r.data("isEdit"), o = t || this.getMessage(r), r = this.isMessageInvalid(r), !t && r ? this.showError(r) : (a ? l = {
                    action: this.actions.edit,
                    text: o,
                    cid: i,
                    type: this.commentType,
                    tid: this.commentTypeId
                } : (n || s) && (l = {
                    action: this.actions.new,
                    text: o,
                    type: this.commentType,
                    tid: this.commentTypeId,
                    rid: s
                }), $(e.currentTarget).addClass("disabled"), this.sendRequest(l, e))) : this.showSignupModal()
            },
            beforeRequest: function() {
                $("#loadingDiv,#loadingOverlay").hide()
            },
            sendRequest: function(e) {
                e = {
                    method: "POST",
                    url: "/includes/user_comments.php",
                    cache: "false",
                    data: e,
                    dataType: "json",
                    beforeSend: $.proxy(this.beforeRequest, this),
                    success: $.proxy(this.requestSuccess, this),
                    error: $.proxy(this.requestError, this),
                    complete: $.proxy(this.requestComplete, this)
                };
                this.xhr = $.ajax(e)
            },
            requestSuccess: function(e) {
                e && (e.action == this.actions.delete ? this.hideAndRemoveComments(e.cid) : e.action == this.actions.new ? this.addNewComment(e) : e.action == this.actions.edit && this.updateComment(e))
            },
            requestError: function(e) {
                if (e && "abort" != e.statusText) {
                    if (e.responseText) try {
                        responseText = JSON.parse(e.responseText)
                    } catch (e) {}
                    this.showError(responseText.error, "Oops"), responseText.redirect && window.location.reload()
                }
            },
            requestComplete: function(e) {},
            updateComment: function(e) {
                var t = this.getCommentRow(this.$replyCommentInputSection),
                    e = e.text;
                t.find(this.selectors.textToEdit).html(e), this.detachInput()
            },
            addNewComment: function(e) {
                var t, i, s, n;
                e.comment && (n = (e = e.comment).id >> 0, s = !!(e.reply >> 0), t = e.reply >> 0 || n, e.isStudio, i = s ? (this.detachInput(), this.$commentsContainer.find("." + this.selectors.commentRow + "[data-reply-id=" + t + "]").last()) : (this.$newCommentInputSection.mvManymote("empty"), this.$appendNewComments), this.$replyCommentInputSection.mvManymote("html", e.text).mvManymote("html"), s = '<div class="comment-row media animated fadeIn ' + (s ? "-is-reply" : "") + ' js-comment-row" data-cid="' + n + '" data-reply-id="' + t + '"><div class="pr-2"><div class="user-pic pic-wrapper square-size-4"><a href="' + e.link + '"><img class="user-pic-img" src="' + e.profile_pic + '" alt="' + e.stage_name + '"></a></div></div><div class="media-body"><div class="mb-1"><a class="comment-name mr-3" href="' + e.profile_link + '">' + e.stage_name + '</a> <span class="comment-date">' + e.date + '</span></div><p class="comment-text js-comment-text">' + e.text + '</p><div class="comment-actions mt-2"><a href="javascript:;" class="comment-reply js-comment-reply" data-cancel-text="Cancel" data-reply-text="Reply"><span class="comment-show-reply is-link">Reply</span><span class="comment-cancel-reply">Cancel</span></a><span class="dropdown comment-actions-more"><a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" role="button"><i class="icon xsmall mv-icon-more"></i></a><ul class="dropdown-menu dropdown-left p-1" role="menu"><li class="dropdown-item"><a class="js-comment-delete" title="Delete comment">Delete</a></li><li class="dropdown-item"><a class="js-comment-edit" title="Edit comment">Edit</a></li></ul></span></div><div class="js-comment-input-container"></div></div></div>', n = $(s), i.after(n))
            },
            hideAndRemoveComments: function(e) {
                this.detachInput();
                var t = this.$commentsContainer.find("." + this.selectors.commentRow + "[data-cid=" + e + "], ." + this.selectors.commentRow + "[data-reply-id=" + e + "]");
                t.addClass("fadeOut animated"), setTimeout(function() {
                    t.remove()
                }, 1e3)
            },
            lazyLoadImages: function() {
                lazyLoadingStart()
            },
            showError: function(e, t) {
                gritter(e, t = t || "Oops!")
            },
            showSuccess: function(e, t) {
                success(e, t = t || "Great!")
            },
            showSignupModal: function() {
                this.mv.showSignupModal()
            }
        }, jQuery(function() {
            window.MV.comments = new e
        })
    }(), window.MV && window.MV.isMobile, ! function() {
        function e() {
            this.init()
        }

        function d() {
            var e = 0 === $("#revolut").length;
            if (!e) {
                var t, i, s, e = 0 < $("#userCurrentPaymentMethod").length;
                if (!e) return e = $("#wire_account_owner_country").val(), t = $(".nice-select.js-payment-minimum-wu.js-payment-minimum-wu-active .option.selected").data("value"), i = $("#selPreferredMethod").val(), s = !1, $(".js-wu-bic-swiftcode").val() && (s = $(".js-wu-bic-swiftcode").val().toLowerCase().startsWith("revogb21")), !("GB" != e || "ACH" != i || !s || "GBP" != t)
            }
        }

        function t() {
            window.MV.formValidation.validationRules()
        }

        function i() {
            $business_owner_type = $("#business_owner_type").val(), $("#business_owner_type_form").addClass("is-hidden"), $("#business_owner_type_other_form").addClass("is-hidden"), $("#ach_lastname").val(""), $ach_account_class = $("#ach_account_class").val(), $ach_account_type = $("#ach_account_type").val(), "Corporate" == $ach_account_class && "Chequing" == $ach_account_type ? ($("#business_owner_type_other").val(""), "" != ($business_owner_type = $("#business_owner_type").val()) && "Other" != $business_owner_type && ($("#ach_lastname").prop("disabled", !1), $("#ach_lastname").val($business_owner_type)), $("#business_owner_type_form").removeClass("is-hidden")) : $("#ach_lastname").val("")
        }
        e.prototype = {
            mv: window.MV,
            defaultRegEx: "^([a-zA-Z0-9 \\/\\-?:().,'+]_M)$",
            jsClassNames: {
                state: ".js-wu-account-owner-state",
                zipCode: ".js-wu-account-owner-zip",
                swiftCode: ".js-wu-bic-swiftcode",
                accountNumber: ".js-wu-account-number",
                routingCode: ".js-wu-rtn",
                bankName: ".js-wu-ach-bank-name",
                bankStreet: ".js-wu-bank-st-address",
                bankCity: ".js-wu-bank-city",
                bankState: ".js-wu-bank-state"
            },
            validateArrayErrorMessages: {
                default: "Please enter letters or digits",
                alphanumericExactly_X_or_Y: "Please enter either _X or _Y combination of letters or digits ",
                numericExactly_X_or_Y: "Please enter either _X or _Y digits ",
                numeric: "This field can only contain digits",
                alphanumericBetweenX_to_Y: "Please enter between _X and _Y letters and/or digits",
                numericBetweenX_to_Y: "Please enter between _X and _Y digits",
                alphanumericExactly_X: "This field must contain _X letters and/or digits",
                numericExactly_X: "This number must be exactly _X digits in length",
                lettersExactly_X: "This entry must be exactly _X letters in length",
                charactersMaxLength_X: "Please enter less than _X letters, digits or the following special characters: / - ? : ( ) . , '",
                postalCode: "Please enter a valid postal code",
                accountNumber: "Please enter 2-letter country code followed by digits.",
                accountNumberExactly_X: "Please enter 2-letter country code followed by digits for a total of _X alphanumeric characters.",
                selectOption: "This input is required. Select and option"
            },
            validateArray: {
                default: {
                    state: {
                        labelContent: "State / Province / Region",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    },
                    zipCode: {
                        labelContent: "Zip Code / Postal Code",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    swiftCode: {
                        labelContent: "BIC / Swift Code",
                        visibility: !0,
                        mandatory: !0,
                        regExp: "^([a-zA-Z0-9]{8}|[a-zA-Z0-9]{11})$",
                        regExpErrMsg: {
                            type: "alphanumericExactly_X_or_Y",
                            p1: 8,
                            p2: 11
                        }
                    },
                    accountNumber: {
                        labelContent: "Account Number / IBAN",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    routingCode: {
                        labelContent: "Routing Code / ABA",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    bankName: {
                        labelContent: "Bank Name",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    bankStreet: {
                        labelContent: "Bank Street Address",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    bankCity: {
                        labelContent: "Bank City",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    bankState: {
                        labelContent: "Bank State / Province / Region",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    }
                },
                US: {
                    state: {
                        labelContent: "State",
                        visibility: !0,
                        mandatory: !0,
                        regExp: "[a-zA-Z0-9]",
                        regExpErrMsg: {
                            type: "selectOption"
                        }
                    },
                    zipCode: {
                        labelContent: "Zip Code",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    swiftCode: {
                        labelContent: "BIC / Swift Code (optional)",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    },
                    accountNumber: {
                        labelContent: "Account Number",
                        visibility: !0,
                        mandatory: !0,
                        regExp: "^([0-9]+)$",
                        regExpErrMsg: {
                            type: "numeric",
                            p1: 0,
                            p2: 0
                        }
                    },
                    routingCode: {
                        labelContent: "Routing Code",
                        visibility: !0,
                        mandatory: !0,
                        regExp: "^([0-9]{9})$",
                        regExpErrMsg: {
                            type: "numericExactly_X",
                            p1: 9,
                            p2: 0
                        }
                    },
                    bankName: {
                        labelContent: "Bank Name",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    bankStreet: {
                        labelContent: "Bank Street Address",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    },
                    bankCity: {
                        labelContent: "Bank City",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    },
                    bankState: {
                        labelContent: "Bank State",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    }
                },
                CA: {
                    state: {
                        labelContent: "Province",
                        visibility: !0,
                        mandatory: !0,
                        regExp: "[a-zA-Z0-9]",
                        regExpErrMsg: {
                            type: "selectOption"
                        }
                    },
                    zipCode: {
                        labelContent: "Postal Code",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    swiftCode: {
                        labelContent: "BIC / Swift Code (optional)",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    },
                    accountNumber: {
                        labelContent: "Account Number",
                        visibility: !0,
                        mandatory: !0,
                        regExp: "^([0-9]{7,12})$",
                        regExpErrMsg: {
                            type: "numericBetweenX_to_Y",
                            p1: 7,
                            p2: 12
                        }
                    },
                    routingCode: {
                        labelContent: "Routing Code",
                        visibility: !0,
                        mandatory: !0,
                        regExp: "^([0-9]{9})$",
                        regExpErrMsg: {
                            type: "numericExactly_X",
                            p1: 9,
                            p2: 0
                        }
                    },
                    bankName: {
                        labelContent: "Bank Name",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    bankStreet: {
                        labelContent: "Bank Street Address",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    },
                    bankCity: {
                        labelContent: "Bank City",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    },
                    bankState: {
                        labelContent: "Bank Province",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    }
                },
                GB: {
                    state: {
                        labelContent: "County",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    },
                    zipCode: {
                        labelContent: "Postal Code",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    swiftCode: {
                        labelContent: "BIC / Swift Code",
                        visibility: !0,
                        mandatory: !0,
                        regExp: "^([a-zA-Z0-9]{8}|[a-zA-Z0-9]{11})$",
                        regExpErrMsg: {
                            type: "alphanumericExactly_X_or_Y",
                            p1: 8,
                            p2: 11
                        }
                    },
                    accountNumber: {
                        labelContent: "IBAN",
                        visibility: !0,
                        mandatory: !0,
                        regExp: "^(_countryIso[a-zA-Z0-9]{20})$",
                        regExpErrMsg: {
                            type: "accountNumberExactly_X",
                            p1: 22,
                            p2: 0
                        }
                    },
                    routingCode: {
                        labelContent: "BACS (Sort code)",
                        visibility: !0,
                        mandatory: !0,
                        regExp: "^([0-9]{6})$",
                        regExpErrMsg: {
                            type: "numericExactly_X",
                            p1: 6,
                            p2: 0
                        }
                    },
                    bankName: {
                        labelContent: "Bank Name",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    bankStreet: {
                        labelContent: "Bank Street Address",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    },
                    bankCity: {
                        labelContent: "Bank City",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    },
                    bankState: {
                        labelContent: "Bank County",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    }
                },
                EU: {
                    state: {
                        labelContent: "State / Province / Region",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    zipCode: {
                        labelContent: "Postal Code",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    swiftCode: {
                        labelContent: "BIC / Swift Code",
                        visibility: !0,
                        mandatory: !0,
                        regExp: "^([a-zA-Z0-9]{8}|[a-zA-Z0-9]{11})$",
                        regExpErrMsg: {
                            type: "alphanumericExactly_X_or_Y",
                            p1: 8,
                            p2: 11
                        }
                    },
                    accountNumber: {
                        labelContent: "IBAN",
                        visibility: !0,
                        mandatory: !0,
                        regExp: "^(_countryIso[a-zA-Z0-9 \\/\\-?:().,'+]+)$",
                        regExpErrMsg: {
                            type: "accountNumber",
                            p1: 0,
                            p2: 0
                        }
                    },
                    routingCode: {
                        labelContent: "Routing Code / ABA",
                        visibility: !1,
                        mandatory: !1,
                        regExp: ""
                    },
                    bankName: {
                        labelContent: "Bank Name",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    bankStreet: {
                        labelContent: "Bank Street Address",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    },
                    bankCity: {
                        labelContent: "Bank City",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    },
                    bankState: {
                        labelContent: "Bank State / Province / Region",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    }
                },
                AU: {
                    state: {
                        labelContent: "State",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    zipCode: {
                        labelContent: "Postcode",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    swiftCode: {
                        labelContent: "BIC / Swift Code (optional)",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    },
                    accountNumber: {
                        labelContent: "Account Number",
                        visibility: !0,
                        mandatory: !0,
                        regExp: "^([0-9]{3,10})$",
                        regExpErrMsg: {
                            type: "numericBetweenX_to_Y",
                            p1: 3,
                            p2: 10
                        }
                    },
                    routingCode: {
                        labelContent: "Routing Code",
                        visibility: !0,
                        mandatory: !0,
                        regExp: "^([0-9]{6})$",
                        regExpErrMsg: {
                            type: "numericExactly_X",
                            p1: 6,
                            p2: 0
                        }
                    },
                    bankName: {
                        labelContent: "Bank Name",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    bankStreet: {
                        labelContent: "Bank Street Address",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    },
                    bankCity: {
                        labelContent: "Bank City",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    },
                    bankState: {
                        labelContent: "Bank State",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    }
                },
                HK: {
                    state: {
                        labelContent: "State / Province / Region",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    zipCode: {
                        labelContent: "Zip Code / Postal Code",
                        visibility: !1,
                        mandatory: !1,
                        regExp: ""
                    },
                    swiftCode: {
                        labelContent: "BIC / Swift Code",
                        visibility: !0,
                        mandatory: !0,
                        regExp: "^([a-zA-Z0-9]{8}|[a-zA-Z0-9]{11})$",
                        regExpErrMsg: {
                            type: "alphanumericExactly_X_or_Y",
                            p1: 8,
                            p2: 11
                        }
                    },
                    accountNumber: {
                        labelContent: "Account Number / IBAN",
                        visibility: !0,
                        mandatory: !0,
                        regExp: "^([a-zA-Z0-9 \\/\\-?:().,'+]{1,20})$",
                        regExpErrMsg: {
                            type: "charactersMaxLength_X",
                            p1: 20,
                            p2: 0
                        }
                    },
                    routingCode: {
                        labelContent: "Routing Code / ABA",
                        visibility: !0,
                        mandatory: !0,
                        regExp: "^([0-9]{6})$",
                        regExpErrMsg: {
                            type: "numericExactly_X",
                            p1: 6,
                            p2: 0
                        }
                    },
                    bankName: {
                        labelContent: "Bank Name",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    bankStreet: {
                        labelContent: "Bank Street Address",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    bankCity: {
                        labelContent: "Bank City",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    bankState: {
                        labelContent: "Bank State / Province / Region",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    }
                },
                NO: {
                    state: {
                        labelContent: "State / Province / Region",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    zipCode: {
                        labelContent: "Postal Code",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    swiftCode: {
                        labelContent: "BIC / Swift Code",
                        visibility: !0,
                        mandatory: !0,
                        regExp: "^([a-zA-Z0-9]{8}|[a-zA-Z0-9]{11})$",
                        regExpErrMsg: {
                            type: "alphanumericExactly_X_or_Y",
                            p1: 8,
                            p2: 11
                        }
                    },
                    accountNumber: {
                        labelContent: "IBAN",
                        visibility: !0,
                        mandatory: !0,
                        regExp: "^(_countryIso[a-zA-Z0-9]{13})$",
                        regExpErrMsg: {
                            type: "accountNumberExactly_X",
                            p1: 15,
                            p2: 0
                        }
                    },
                    routingCode: {
                        labelContent: "Routing Code / ABA",
                        visibility: !1,
                        mandatory: !1,
                        regExp: ""
                    },
                    bankName: {
                        labelContent: "Bank Name",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    bankStreet: {
                        labelContent: "Bank Street Address",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    },
                    bankCity: {
                        labelContent: "Bank City",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    },
                    bankState: {
                        labelContent: "Bank State / Province / Region",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    }
                },
                NZ: {
                    state: {
                        labelContent: "State / Province / Region",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    },
                    zipCode: {
                        labelContent: "Postcode",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    swiftCode: {
                        labelContent: "BIC / Swift Code (optional)",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    },
                    accountNumber: {
                        labelContent: "Account Number",
                        visibility: !0,
                        mandatory: !0,
                        regExp: "^([a-zA-Z0-9]{9,10})$",
                        regExpErrMsg: {
                            type: "alphanumericExactly_X_or_Y",
                            p1: 9,
                            p2: 10
                        }
                    },
                    routingCode: {
                        labelContent: "Routing Code",
                        visibility: !0,
                        mandatory: !0,
                        regExp: "^([a-zA-Z0-9]{6})$",
                        regExpErrMsg: {
                            type: "alphanumericExactly_X",
                            p1: 6,
                            p2: 0
                        }
                    },
                    bankName: {
                        labelContent: "Bank Name",
                        visibility: !0,
                        mandatory: !0,
                        regExp: ""
                    },
                    bankStreet: {
                        labelContent: "Bank Street Address",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    },
                    bankCity: {
                        labelContent: "Bank City",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    },
                    bankState: {
                        labelContent: "Bank State / Province / Region",
                        visibility: !0,
                        mandatory: !1,
                        regExp: ""
                    }
                }
            },
            init: function() {
                this.formValidation = this.mv.formValidation, this.addListeners(), this.validationRules(), $.validate({
                    form: ".js-payment-method-form",
                    modules: "sanitize",
                    onValidate: function(e) {
                        var t = $("#ach_contract");
                        if (0 < t.length && !t.prop("checked")) return {
                            element: $("#ach_contract"),
                            message: "Please accept the disclaimer"
                        }
                    }
                })
            },
            addListeners: function() {},
            getValidationIndex: function(e, t, i) {
                return index = "US" === e && "USD" === t && "0" === i ? "US" : "CA" !== e || "USD" !== t && "CAD" !== t || "0" !== i ? "GB" !== e || "GBP" !== t && "EUR" !== t || "0" !== i ? "GB" !== e && "NO" !== e && "EUR" === t && "0" === i ? "EU" : "AU" === e && "AUD" === t && "0" === i ? "AU" : "HK" === e && "HKD" === t && "0" === i ? "HK" : "NO" !== e || "NOK" !== t && "EUR" !== t || "0" !== i ? "NZ" === e && "NZD" === t && "0" === i ? "NZ" : "default" : "NO" : "GB" : "CA"
            },
            setDataValidation: function(s, e) {
                var n, a, o = this.jsClassNames,
                    r = this.validateArrayErrorMessages,
                    l = this.defaultRegEx;
                $.each(e, function(e, t) {
                    var e = o[e],
                        i = e + "-lbl";
                    $(i).text(t.labelContent), t.visibility ? ("" !== t.regExp ? (a = "", n = -1 < t.regExp.indexOf("_countryIso") ? t.regExp.replace("_countryIso", s) : t.regExp, void 0 !== r[t.regExpErrMsg.type] && (a = r[t.regExpErrMsg.type], p1 = t.regExpErrMsg.p1, p2 = t.regExpErrMsg.p2, 0 < p1 && (a = a.replace("_X", p1)), 0 < p2) && (a = a.replace("_Y", p2))) : a = t.mandatory ? (n = l.replace("_M", "+"), "This input is required. " + r.default) : (n = l.replace("_M", "*"), r.default), $(i).show(), $(e).show(), $(e).attr("data-sanitize", "trim"), $(e).attr("data-validation", "custom"), $(e).attr("data-validation-regexp", n), $(e).attr("data-validation-error-msg", a)) : ($(i).hide(), $(e).hide(), $(e).removeAttr("data-sanitize"), $(e).removeAttr("data-validation"), $(e).removeAttr("data-validation-regexp"), $(e).removeAttr("data-validation-error-msg"))
                })
            },
            validationRules: function() {
                var e = $(".js-wire_account_owner_country").val(),
                    t = $(".js-payment-minimum-wu.js-payment-minimum-wu-active :selected").val(),
                    i = $(".js-payment-minimum-wu.js-payment-minimum-wu-active :selected").attr("data-cost"),
                    s = $(".js-iban-tooltip"),
                    n = $(".js-routing-tooltip"),
                    a = $(".js-lookup-validation"),
                    o = $(".js-lookup-validation.js-lookup-validation-iban"),
                    r = $(".js-lookup-validation.js-lookup-validation-routing-usa"),
                    l = $(".js-lookup-validation.js-lookup-validation-routing-ca");
                $(".js-payment-method-form input").trigger("reset"), t = this.getValidationIndex(e, t, i), i = this.validateArray[t], "GB" == t && (d() ? i.accountNumber = {
                    labelContent: "Account Number",
                    visibility: !0,
                    mandatory: !0,
                    regExp: "^([0-9]{3,10})$",
                    regExpErrMsg: {
                        type: "numericBetweenX_to_Y",
                        p1: 3,
                        p2: 10
                    }
                } : i.accountNumber = {
                    labelContent: "IBAN",
                    visibility: !0,
                    mandatory: !0,
                    regExp: "^(_countryIso[a-zA-Z0-9]{20})$",
                    regExpErrMsg: {
                        type: "accountNumberExactly_X",
                        p1: 22,
                        p2: 0
                    }
                }), this.setDataValidation(e, i), d() ? (s.addClass("is-hidden"), o.addClass("is-hidden")) : ("EU" === t || "GB" === t || "NO" === t ? s.removeClass("is-hidden") : s.addClass("is-hidden"), "CA" === t ? n.removeClass("is-hidden") : n.addClass("is-hidden"), a.addClass("is-hidden"), "US" === t ? r.removeClass("is-hidden") : "CA" === t ? l.removeClass("is-hidden") : "AU" === t || "NZ" === t ? o.addClass("is-hidden") : o.removeClass("is-hidden"))
            }
        }, jQuery(function() {
            window.MV.formValidation = new e
        }), $(".js-wu-rtn").on("keyup", function() {
            124071889 == $(this).val() ? ($(this).show(), $(this).attr("data-sanitize", "trim"), $(this).attr("data-validation", "custom"), $(this).attr("data-validation-regexp", "!/^124071889$/"), $(this).attr("data-validation-error-msg", "This provider is currently not supported. Please refer to FAQ #19-Payment Methods on the ManyVids FAQ page.")) : window.MV.formValidation.validationRules()
        }), $(".js-wire_account_owner_country").on("change", function() {
            $(".js-countrycurrencyAT").addClass("is-hidden"), $(".js-countrycurrencyAT").addClass("is-hidden"), $(".js-countrycurrencyAU").addClass("is-hidden"), $(".js-countrycurrencyBE").addClass("is-hidden"), $(".js-countrycurrencyBG").addClass("is-hidden"), $(".js-countrycurrencyCA").addClass("is-hidden"), $(".js-countrycurrencyCH").addClass("is-hidden"), $(".js-countrycurrencyCY").addClass("is-hidden"), $(".js-countrycurrencyCZ").addClass("is-hidden"), $(".js-countrycurrencyDE").addClass("is-hidden"), $(".js-countrycurrencyDK").addClass("is-hidden"), $(".js-countrycurrencyEE").addClass("is-hidden"), $(".js-countrycurrencyES").addClass("is-hidden"), $(".js-countrycurrencyFI").addClass("is-hidden"), $(".js-countrycurrencyFR").addClass("is-hidden"), $(".js-countrycurrencyGR").addClass("is-hidden"), $(".js-countrycurrencyHK").addClass("is-hidden"), $(".js-countrycurrencyHR").addClass("is-hidden"), $(".js-countrycurrencyHU").addClass("is-hidden"), $(".js-countrycurrencyIE").addClass("is-hidden"), $(".js-countrycurrencyIS").addClass("is-hidden"), $(".js-countrycurrencyIT").addClass("is-hidden"), $(".js-countrycurrencyLI").addClass("is-hidden"), $(".js-countrycurrencyLT").addClass("is-hidden"), $(".js-countrycurrencyLU").addClass("is-hidden"), $(".js-countrycurrencyLV").addClass("is-hidden"), $(".js-countrycurrencyMC").addClass("is-hidden"), $(".js-countrycurrencyMT").addClass("is-hidden"), $(".js-countrycurrencyNL").addClass("is-hidden"), $(".js-countrycurrencyNO").addClass("is-hidden"), $(".js-countrycurrencyNZ").addClass("is-hidden"), $(".js-countrycurrencyPL").addClass("is-hidden"), $(".js-countrycurrencyPT").addClass("is-hidden"), $(".js-countrycurrencyRO").addClass("is-hidden"), $(".js-countrycurrencySE").addClass("is-hidden"), $(".js-countrycurrencySI").addClass("is-hidden"), $(".js-countrycurrencySK").addClass("is-hidden"), $(".js-countrycurrencyGB").addClass("is-hidden"), $(".js-countrycurrencyUS").addClass("is-hidden"), $(".js-countrycurrencyMX").addClass("is-hidden"), $(".js-countrycurrencyPA").addClass("is-hidden"), $(".js-countrycurrencySM").addClass("is-hidden"), $(".js-not-wu-country").addClass("is-hidden"), $(".js-countrycurrencyAT").addClass("is-disabled"), $(".js-countrycurrencyAT").addClass("is-disabled"), $(".js-countrycurrencyAU").addClass("is-disabled"), $(".js-countrycurrencyBE").addClass("is-disabled"), $(".js-countrycurrencyBG").addClass("is-disabled"), $(".js-countrycurrencyCA").addClass("is-disabled"), $(".js-countrycurrencyCH").addClass("is-disabled"), $(".js-countrycurrencyCY").addClass("is-disabled"), $(".js-countrycurrencyCZ").addClass("is-disabled"), $(".js-countrycurrencyDE").addClass("is-disabled"), $(".js-countrycurrencyDK").addClass("is-disabled"), $(".js-countrycurrencyEE").addClass("is-disabled"), $(".js-countrycurrencyES").addClass("is-disabled"), $(".js-countrycurrencyFI").addClass("is-disabled"), $(".js-countrycurrencyFR").addClass("is-disabled"), $(".js-countrycurrencyGR").addClass("is-disabled"), $(".js-countrycurrencyHK").addClass("is-disabled"), $(".js-countrycurrencyHR").addClass("is-disabled"), $(".js-countrycurrencyHU").addClass("is-disabled"), $(".js-countrycurrencyIE").addClass("is-disabled"), $(".js-countrycurrencyIS").addClass("is-disabled"), $(".js-countrycurrencyIT").addClass("is-disabled"), $(".js-countrycurrencyLI").addClass("is-disabled"), $(".js-countrycurrencyLT").addClass("is-disabled"), $(".js-countrycurrencyLU").addClass("is-disabled"), $(".js-countrycurrencyLV").addClass("is-disabled"), $(".js-countrycurrencyMC").addClass("is-disabled"), $(".js-countrycurrencyMT").addClass("is-disabled"), $(".js-countrycurrencyNL").addClass("is-disabled"), $(".js-countrycurrencyNO").addClass("is-disabled"), $(".js-countrycurrencyNZ").addClass("is-disabled"), $(".js-countrycurrencyPL").addClass("is-disabled"), $(".js-countrycurrencyPT").addClass("is-disabled"), $(".js-countrycurrencyRO").addClass("is-disabled"), $(".js-countrycurrencySE").addClass("is-disabled"), $(".js-countrycurrencySI").addClass("is-disabled"), $(".js-countrycurrencySK").addClass("is-disabled"), $(".js-countrycurrencyGB").addClass("is-disabled"), $(".js-countrycurrencyUS").addClass("is-disabled"), $(".js-countrycurrencyMX").addClass("is-disabled"), $(".js-countrycurrencyPA").addClass("is-disabled"), $(".js-countrycurrencySM").addClass("is-disabled"), $(".js-not-wu-country").addClass("is-disabled"), $(this);
            var e = $("#wire_account_owner_country").val();
            $(".js-payment-minimum-wu-active").removeClass("js-payment-minimum-wu-active"), e = "js-countrycurrency" + e, $("." + e).removeClass("is-hidden"), $("." + e).removeClass("is-disabled"), $(".js-payment-minimum_free").removeClass("is-hidden"), $(".js-payment-minimum_free").removeClass("is-disabled"), $("#minimum_free_or_charged").val(1), $(".js-payment-minimum_charged").addClass("is-hidden"), $(".js-payment-minimum_charged").addClass("is-disabled"), $("#currency_usd_non_wu").val(0), $("." + e + " .js-payment-minimum-wu").addClass("js-payment-minimum-wu-active"), device.prototype.isMobile && ($(".js-payment-minimum_charged").removeClass("visible-select-mobile"), $(".js-payment-minimum_free").addClass("visible-select")), selectedval = $(".js-wire_account_owner_country option:selected").val(), selectedtext = $(".js-wire_account_owner_country option:selected").text(), device.prototype.isMobile ? ($(".js-wire_account_owner_res_country").val(selectedval).change(), $(".js-wire_account_owner_bnk_country").val(selectedval).change()) : ($(".js-wire_account_owner_res_country").val(selectedval).niceSelect("update"), $(".js-wire_account_owner_bnk_country").val(selectedval).niceSelect("update")), window.MV.formValidation.validationRules()
        }), $(".js-payment-minimum-wu").on("change", function() {
            var e = $(this);
            "0" === e.find(":selected").attr("data-cost") ? ($(".js-payment-minimum_free").removeClass("is-hidden"), $(".js-payment-minimum_free").removeClass("is-disabled"), $("#minimum_free_or_charged").val(1), $(".js-payment-minimum_charged").addClass("is-hidden"), $(".js-payment-minimum_charged").addClass("is-disabled"), "yes" != e.find(":selected").data("official") && ($("#wire_account_owner_country :selected").html(), e.find(":selected").val(), e.find(":selected").data("currency"))) : ($(".js-payment-minimum_charged").removeClass("is-hidden"), $(".js-payment-minimum_charged").removeClass("is-disabled"), $(".js-payment-minimum_free").addClass("is-hidden"), $(".js-payment-minimum_free").addClass("is-disabled"), $("#minimum_free_or_charged").val(2)), window.MV.formValidation.validationRules()
        }), $(".js-payment-minimum-wu").on("change", function() {
            t()
        }), $("#wire_account_owner_country").on("change", function() {
            t()
        }), $("#selPreferredMethod").on("change", function() {
            t()
        }), $("#js-wu-bic-swiftcode").on("change", function() {
            t()
        }), $("#bic_swiftcode").on("keyup", function() {
            t()
        }), $(".js-payment-minimum_free").on("change", function() {
            $("#minimum_free_or_charged").val(1)
        }), $(".js-payment-minimum_charged").on("change", function() {
            $("#minimum_free_or_charged").val(2)
        }), $("#ach_account_class").on("change", function() {
            i()
        }), $("#ach_account_type").on("change", function() {
            i()
        }), $("#business_owner_type").on("change", function() {
            $("#business_owner_type_other_form").addClass("is-hidden"), $("#business_owner_type_other").val(""), "Please select" != ($business_owner_type = $("#business_owner_type").val()) && "Other" != $business_owner_type && ($("#ach_lastname").prop("disabled", !1), $("#ach_lastname").val($business_owner_type)), "Other" == $business_owner_type && $("#business_owner_type_other_form").removeClass("is-hidden")
        }), $("#business_owner_type_other").on("change", function() {
            $business_owner_type_other = $("#business_owner_type_other").val(), $("#ach_lastname").prop("disabled", !1), $("#ach_lastname").val($business_owner_type_other)
        })
    }(), ! function() {
        function e() {
            this.init()
        }
        e.prototype = {
            mv: window.MV,
            jsSelectors: {
                customVidsForm: ".js-custom-vids-form",
                personalMessage: ".js-custom-vids-message",
                personalMessageMaxLength: ".js-custom-vids-message-max-length",
                groupPackageSelection: ".js-group-package-selection",
                addCustomVidsPackage: ".js-add-custom-vids-package",
                packageMinutes: ".js-package-minutes",
                pricePerMinute: ".js-price-per-minute",
                packageBilled: ".js-package-billed",
                groupExtrasSelection: ".js-group-extras-selection",
                extraOption: ".js-extra-option",
                extraPrice: ".js-extra-input-price",
                addCustomVidsExtra: ".js-add-custom-vids-extra",
                removeCustomVidsFormRow: ".js-remove-custom-vids-row",
                customVidsCheckbox: ".js-custom-vids-checkbox",
                customVidsInputPrice: ".js-custom-vids-input-price"
            },
            jsMemberSelectors: {
                customVidsForm: ".js-custom-vid-form-member",
                story: ".js-custom-vid-story",
                storyMaxLength: ".js-custom-vid-story-max-length",
                package: ".js-custom-vid-package",
                selectedPackageValue: ".js-selected-package-value",
                extra: ".js-custom-vid-extra",
                resolution: ".js-custom-vid-resolution",
                delivery: ".js-custom-vid-delivery",
                selectedDeliveryValue: ".js-selected-delivery-value",
                exclusive: ".js-custom-vid-exclusive",
                addTip: ".js-custom-vid-tip",
                tipValue: ".js-tip-value",
                totalOrder: ".js-custom-vid-total-order"
            },
            init: function() {
                this.$customVids = $(this.jsSelectors.customVidsForm), this.$customVidsMember = $(this.jsMemberSelectors.customVidsForm), (this.$customVids.length || this.$customVidsMember.length) && (0 < this.$customVids.length ? (this.$personalMessage = $(this.jsSelectors.personalMessage), this.$groupPackageSelection = $(this.jsSelectors.groupPackageSelection), this.$addCustomVidsPackage = $(this.jsSelectors.addCustomVidsPackage), this.$packageMinutes = $(this.jsSelectors.packageMinutes), this.$pricePerMinute = $(this.jsSelectors.pricePerMinute), this.$packageBilled = $(this.jsSelectors.packageBilled), this.$addCustomVidsExtra = $(this.jsSelectors.addCustomVidsExtra), this.$groupExtrasSelection = $(this.jsSelectors.groupExtrasSelection), this.$extraOption = $(this.jsSelectors.extraOption), this.$extraPrice = $(this.jsSelectors.extraPrice), this.$customVidsCheckbox = $(this.jsSelectors.customVidsCheckbox), this.$removeCustomVidsFormRow = $(this.jsSelectors.removeCustomVidsFormRow), this.$customVidsInputPrice = $(this.jsSelectors.customVidsInputPrice), 1 === window.MV.isMobile && (this.initMobiscroll(), $("#mobile_extras_dummy").val("")), this.addListeners(), this.validateForm()) : (this.$story = $(this.jsMemberSelectors.story), this.$package = $(this.jsMemberSelectors.package), this.$selectedPackageValue = $(this.jsMemberSelectors.selectedPackageValue), this.$extra = $(this.jsMemberSelectors.extra), this.$resolution = $(this.jsMemberSelectors.resolution), this.$delivery = $(this.jsMemberSelectors.delivery), this.$selectedDeliveryValue = $(this.jsMemberSelectors.selectedDeliveryValue), this.$exclusive = $(this.jsMemberSelectors.exclusive), this.$addTip = $(this.jsMemberSelectors.addTip), this.$tipValue = $(this.jsMemberSelectors.tipValue), this.$totalOrder = $(this.jsMemberSelectors.totalOrder), this.addMemberListeners(), this.validateMemberForm(), this.onPackageChange(), this.onDeliveryChange()))
            },
            initMobiscroll: function() {
                $("#mobile_extras").mobiscroll().select({
                    theme: "mobiscroll",
                    display: "bottom",
                    placeholder: "Please select the extra",
                    maxWidth: [75, 300],
                    tap: !0,
                    group: {
                        groupWheel: !0,
                        header: !1
                    },
                    groupLabel: " ",
                    onSelect: function(e, t) {
                        var i, s, n;
                        0 < $('[name="custom_vids_extras"][data-package-val="' + e + '"]').length ? (gritter("You have already added this value.", "Ooops!"), $("#mobile_extras_dummy").val("")) : (i = window.MV.customVids.$extraPrice, s = window.MV.customVids.$extraOption, n = $("#mobile_extras :selected").data("extra-id"), s.val(e).data("extra-id", n).data("is-new", 0), i.prop("disabled", !1).removeClass("is-disabled"))
                    }
                })
            },
            validateForm: function() {
                $.formUtils.addValidator({
                    name: "forbidden",
                    validatorFunction: function(e, t, i, s, n) {
                        return !!!scanForKeywords(e, globalSettings.prototype.bannedVidKeywords).length
                    }
                }), $.validate({
                    form: this.jsSelectors.customVidsForm,
                    modules: "sanitize",
                    onValidate: function() {
                        var e = window.MV.customVids.$packageBilled,
                            t = $('[name="custom_vids_packages"]'),
                            i = $(".js-package-minutes");
                        return 1 === t.length && "" === i.val() ? {
                            element: e,
                            message: "You must select at least 1 option."
                        } : 1 === t.length && 0 < !t.val() ? {
                            element: e,
                            message: "You must select prices for all your options."
                        } : 0 < (i = $("#certify")).length && !i.prop("checked") ? {
                            element: i,
                            message: "You must agree to the Terms and Conditions in order to Save the form."
                        } : void 0
                    }
                }), this.$personalMessage.restrictLength($(this.jsSelectors.personalMessageMaxLength))
            },
            addListeners: function() {
                this.$addCustomVidsPackage.on("click", $.proxy(this.onAddCustomVidsPackage, this)), this.$addCustomVidsExtra.on("click", $.proxy(this.onAddCustomVidsExtra, this)), this.$packageBilled.on("blur", $.proxy(this.calculatePricePerMinute, this)), this.$packageMinutes.on("change", $.proxy(this.calculatePricePerMinute, this)), this.$customVidsCheckbox.on("click", $.proxy(this.onCustomVidsCheckbox, this)), this.$extraOption.on("click", $.proxy(this.onExtraOption, this)), this.$removeCustomVidsFormRow.on("click", $.proxy(this.onRemoveCustomVidsFormRow, this)), this.$customVidsInputPrice.on("blur", $.proxy(this.onBlurInputPrice, this))
            },
            calculatePricePerMinute: function() {
                var e, t = this.$packageMinutes.find("option:selected"),
                    i = t.data("package-id"),
                    s = this.$packageBilled,
                    n = this.$pricePerMinute;
                0 !== i ? (t = t.val(), e = 0 !== (e = parseFloat(s.val()) || 0) && "0" !== t ? (e / t).toFixed(2) : "- - -", s.data("package-id", i).prop("disabled", !1).removeClass("is-disabled")) : (s.hasClass("error") && this.removeErrorClass(s), s.data("package-id", "0").prop("disabled", !0).addClass("is-disabled").val("0.00"), e = "- - -"), n.text(e)
            },
            onBlurInputPrice: function() {
                setTimeout(function() {
                    $(".has-success").removeClass("has-success")
                }, 50)
            },
            removeErrorClass: function(e) {
                var t = $(e).closest(".form-group"),
                    i = t.find(".form-error");
                $(e).removeClass("error ").css("border-color", "#e0e0e0"), i.addClass("is-hidden"), t.removeClass("has-error")
            },
            onAddCustomVidsPackage: function() {
                var e = this.$packageBilled;
                if (e.prop("disabled")) return !1;
                if (e.blur(), e.hasClass("error")) return !1;
                var t = this.$groupPackageSelection.parent(),
                    i = this.$packageMinutes,
                    s = i.find("option:selected"),
                    n = s.data("package-id"),
                    a = s.val(),
                    o = this.$pricePerMinute,
                    a = '<div class="form-group row mv-form-row has-success"><div class="col-4 col-sm-5">' + a + ' min.</div><div class="flex-grow text-center col-3 col-sm-2">$&nbsp;<span>' + o.text() + '</span></div><div class="flex-grow col-5 text-right">$&nbsp;<input disabled class="is-disabled" type="" name="custom_vids_packages" data-package-id="' + n + '" value="' + e.val() + '" style="width:60px;">&nbsp;<i class="icon mv-icon-clear white-bg xsmall js-remove-custom-vids-row" data-package-id="' + n + '" title="Delete"></i></div></div>';
                t.append(a), setTimeout(function() {
                    $(".has-success").removeClass("has-success")
                }, 50);
                $(this.jsSelectors.removeCustomVidsFormRow).on("click", $.proxy(this.onRemoveCustomVidsFormRow, this)), o.text("- - -"), e.prop("disabled", !0).addClass("is-disabled").val(""), s.prop("disabled", !0).addClass("is-disabled");
                n = i.find("option:enabled:first");
                0 < n.length ? (n.prop("selected", !0), i.resizeSelect()) : i.prop("disabled", !0).addClass("is-disabled")
            },
            onAddCustomVidsExtra: function() {
                var e, t, i, s = this.$extraPrice;
                return !s.prop("disabled") && (s.blur(), !s.hasClass("error")) && (e = this.$groupExtrasSelection.parent(), t = this.$extraOption, i = parseFloat(s.val()).toFixed(2), i = '<div class="form-group row mv-form-row has-success" data-extra-val="' + t.val() + '"><div class="col-sm-8 col-7">' + t.val() + '</div><div class="flex-grow col-sm-4 col-5 text-right">$&nbsp;<input disabled class="is-disabled" type="text" name="custom_vids_extras"  data-package-val="' + t.val() + '" data-package-id="' + t.data("extra-id") + '" value="' + i + '" style="width:60px;">&nbsp;<i class="icon mv-icon-clear white-bg xsmall js-remove-custom-vids-row" data-package-id="' + t.data("extra-id") + '" title="Delete"></i></div></div>', e.append(i), setTimeout(function() {
                    $(".has-success").removeClass("has-success")
                }, 50), $(this.jsSelectors.removeCustomVidsFormRow).on("click", $.proxy(this.onRemoveCustomVidsFormRow, this)), s.prop("disabled", !0).addClass("is-disabled").val("0.00"), t.addClass("is-hidden"), void(0 === window.MV.isMobile ? $(".chosen-container.chosen-container-multi").removeClass("is-hidden") : $("#mobile_extras_dummy").val("")))
            },
            onRemoveCustomVidsFormRow: function(e) {
                var t = this.$packageMinutes,
                    i = t.prop("disabled"),
                    s = '[data-package-id="' + $(e.currentTarget).data("package-id") + '"]',
                    e = e.currentTarget.closest(".form-group"),
                    n = $(e).data("extra-val") || "";
                t.find(s).prop("disabled", !1).removeClass("is-disabled"), t.niceSelect("update"), i && (this.$packageBilled.prop("disabled", !1).removeClass("is-disabled"), t.prop("disabled", !1).removeClass("is-disabled"), t.find(s).prop("selected", !0)), 0 < n.length && 0 < (i = $(".chzn-search-categories")).length && null !== i.val() && (t = i.val().filter(function(e) {
                    return e !== n
                }), i.val(t), i.trigger("chosen:updated")), $(e).fadeOut(500, function() {
                    $(this).remove()
                })
            },
            onCustomVidsCheckbox: function(e) {
                var e = $(e.currentTarget),
                    t = e.closest(".form-group").find(this.jsSelectors.customVidsInputPrice);
                !e.prop("checked") ? ($(t).prop("disabled", !0).addClass("is-disabled").val("0.00"), $(t).hasClass("error") && $(t).trigger("validation")) : $(t).prop("disabled", !1).removeClass("is-disabled").focus().select()
            },
            onExtraOption: function() {
                var e, t = this.$extraOption,
                    i = t.val();
                this.$extraPrice.prop("disabled", !0).addClass("is-disabled"), t.addClass("is-hidden"), 0 === window.MV.isMobile && ($(".chosen-container.chosen-container-multi").removeClass("is-hidden"), null !== (t = $(".chzn-search-categories")).val() && (e = t.val().filter(function(e) {
                    return e !== i
                }), t.val(e), t.trigger("chosen:updated")), $(".mv-search-categories li.search-field input").val(i).select().focus(), t.trigger("chosen:change"))
            },
            validateMemberForm: function() {
                $.formUtils.addValidator({
                    name: "forbidden",
                    validatorFunction: function(e, t, i, s, n) {
                        return !!!scanForKeywords(e, globalSettings.prototype.bannedVidKeywords).length
                    }
                }), $.validate({
                    form: this.jsMemberSelectors.customVidsForm,
                    modules: "sanitize"
                }), this.$story.restrictLength($(this.jsMemberSelectors.storyMaxLength))
            },
            addMemberListeners: function() {
                this.$package.on("change", $.proxy(this.onPackageChange, this)), this.$extra.on("click", $.proxy(this.onExtraClick, this)), this.$resolution.on("change", $.proxy(this.onResolutionChange, this)), this.$delivery.on("change", $.proxy(this.onDeliveryChange, this)), this.$exclusive.on("change", $.proxy(this.onExclusiveChange, this)), this.$addTip.on("blur", $.proxy(this.onAddTipBlur, this)), $(".js-custom-vid-submit").on("click", $.proxy(this.onSubmitOrder, this))
            },
            onPackageChange: function() {
                var e = $(this.jsMemberSelectors.package + " option:selected");
                0 === e.data("package-id") ? this.$selectedPackageValue.text("") : (e = e.val(), this.$selectedPackageValue.text("$" + (parseFloat(e) || 0).toLocaleString("en"))), this.$package.blur(), this.updateTotal()
            },
            onExtraClick: function() {
                this.updateTotal()
            },
            onResolutionChange: function() {
                this.updateTotal()
            },
            onDeliveryChange: function() {
                var e = $(this.jsMemberSelectors.delivery + " option:selected");
                0 === e.data("delivery-id") ? this.$selectedDeliveryValue.text("") : (e = e.data("delivery-price"), this.$selectedDeliveryValue.text(0 < parseFloat(e) ? "$" + (parseFloat(e) || 0).toLocaleString("en") : "FREE")), this.$delivery.blur(), this.updateTotal()
            },
            onExclusiveChange: function() {
                this.updateTotal()
            },
            onAddTipBlur: function() {
                var e = this.$addTip,
                    t = this.$addTip.val();
                $.isNumeric(t) || (e.val("0.00"), t = 0), e.data("value", parseFloat(t).toFixed(2).toString()), this.$tipValue.text("$" + parseFloat(t).toLocaleString("en", {
                    minimumFractionDigits: 2,
                    maximumFractionDigits: 2
                })), this.updateTotal()
            },
            updateTotal: function() {
                var i = 0,
                    e = parseFloat($(this.jsMemberSelectors.package + " option:selected").val()) || 0,
                    t = parseFloat($(this.jsMemberSelectors.delivery + " option:selected").data("delivery-price")) || 0,
                    s = $(this.jsMemberSelectors.extra + ":checked"),
                    n = parseFloat(this.$exclusive.val()) || 0,
                    a = parseFloat(this.$addTip.val().replace(/,/g, "")) || 0,
                    n = this.$exclusive.prop("checked") ? n : 0,
                    s = ($.each(s, function(e, t) {
                        i += parseFloat($(t).val() || 0)
                    }), "$" + (i += e + (parseFloat($(this.jsMemberSelectors.resolution + ":checked").val()) || 0) + t + a + n).toLocaleString("en", {
                        minimumFractionDigits: 2,
                        maximumFractionDigits: 2
                    }));
                this.$totalOrder.val(s).blur()
            },
            onSubmitOrder: function(e) {
                var t, i, s, n, a, o, r, l, d, c;
                window.MV.customVids.$customVidsMember.isValid() && (d = $(".js-model-id").val(), t = $(".js-service-id").val(), i = $(this.jsMemberSelectors.package + " option:selected"), s = $(this.jsMemberSelectors.delivery + " option:selected"), n = $(this.jsMemberSelectors.resolution + ":checked"), a = $(this.jsMemberSelectors.extra + ":checked"), r = (o = this.$exclusive).prop("checked") ? o.val() : 0, c = this.$totalOrder.val().replace(/,/g, "").replace("$", ""), l = new Array, $.each(a, function(e, t) {
                    l.push({
                        desc: $(t).data("extra-description"),
                        price: $(t).val(),
                        id: $(t).data("extra-id")
                    })
                }), a = {
                    request: "customvid",
                    model_id: d,
                    service_custom_vid_id: t,
                    pricetotal: c,
                    userstory: this.$story.val(),
                    package: {
                        desc: i.data("package-description") + " Minutes of Custom Vid",
                        id: i.data("package-id"),
                        price: i.val().replace(/,/g, "")
                    },
                    delivery: {
                        desc: s.data("delivery-description"),
                        id: s.data("delivery-id"),
                        price: s.data("delivery-price")
                    },
                    resolution: {
                        desc: n.data("resolution-description"),
                        id: n.data("resolution-id"),
                        price: n.val()
                    },
                    tip: {
                        desc: "Tip",
                        id: "0",
                        price: this.$addTip.data("value")
                    },
                    exclusive: {
                        selected: o.prop("checked"),
                        desc: o.data("exclusive-description"),
                        id: o.data("exclusive-id"),
                        price: r
                    },
                    extras: l
                }, (d = $("<form></form>")).attr("method", "POST"), d.attr("action", "/Checkout/"), (c = $("<input></input>")).attr("type", "hidden"), c.attr("name", "breakdown"), c.attr("value", encodeURI(JSON.stringify(a))), d.append(c), (c = $("<input></input>")).attr("type", "hidden"), c.attr("name", "serviceChoice"), c.attr("value", t + "-customvid"), d.append(c), $(document.body).append(d), d.submit())
            }
        }, jQuery(function() {
            window.MV.customVids = new e
        })
    }(), ! function() {
        function e() {
            this.init()
        }
        e.prototype = {
            mv: window.MV,
            init: function() {
                this.$canadianTaxForm = $(".js-canadian-tax-form"), 0 < this.$canadianTaxForm.length && (this.$checkCanadianTaxId = $(".js-canadian-registered-tax"), this.$canadianProvinces = $(".js-canadian-provinces"), this.$canadianTaxDetails = $(".js-canadian-tax-details"), this.$submitButton = $(".js-canadian-tax-form-submit"), this.$provincialTaxId = $(".js-provincialTaxId"), this.addListeners(), this.validateForm())
            },
            addListeners: function() {
                this.$checkCanadianTaxId.on("click", $.proxy(this.onClickCheckIfRegisteredId, this)), this.$canadianProvinces.on("change", $.proxy(this.onChangeProvince, this)), this.$submitButton.on("click", $.proxy(this.onSubmitOrder, this))
            },
            validateForm: function() {
                $.validate({
                    form: this.$canadianTaxForm,
                    modules: "sanitize"
                })
            },
            onClickCheckIfRegisteredId: function(e) {
                var e = $(e.target),
                    t = e.parent().find("#canadianTaxIdYes").prop("checked");
                this.$canadianTaxDetails.toggleClass("is-hidden", !t), e.is(":checked") && this.$submitButton.prop("disabled", !1)
            },
            onChangeProvince: function(e) {
                e = "" === $(e.target).find("option:selected").data("provincial_tax");
                this.$provincialTaxId.toggleClass("is-hidden", e)
            },
            onSubmitOrder: function(e) {
                this.$canadianTaxForm.isValid() && this.$canadianTaxForm.attr("action", "/includes/canadian_tax_form_update.php").submit()
            }
        }, jQuery(function() {
            window.MV.canadianSalesTaxes = new e
        })
    }(), ! function() {
        function e() {
            this.init()
        }
        e.prototype = {
            mv: window.MV,
            init: function() {
                this.$taxForm1099 = $(".js-tax-form-1099"), 0 < this.$taxForm1099.length && (this.$taxForm1099CorporateLabel = $(".js-tax-form-1099-corporate"), this.$taxForm1099LegalNameLabel = $(".js-tax-form-1099-legal-name"), this.$taxForm1099FirstNameDiv = $(".js-tax-form-1099-first-name-div"), this.$taxForm1099FirstName = $(".js-tax-form-1099-first-name"), this.$taxForm1099TaxIdLabel = $(".js-tax-form-1099-tax-id"), this.$taxForm1099SelectCountry = $(".js-tax-form-1099-select-country"), this.$submitButton = $(".js-tax-form-1099-submit"), this.$taxIdText = $(".js-tax-form-1099-tax-id-text"), this.$taxFormType = $(".js-tax-form-1099-corporate"), this.addListeners(), this.validateForm())
            },
            addListeners: function() {
                this.changeCountryState(this.$taxForm1099SelectCountry.val()), this.$taxForm1099CorporateLabel.on("change", $.proxy(this.onChangeCorporate, this)), this.$taxForm1099SelectCountry.on("change", $.proxy(this.onChangeCountry, this)), this.$taxFormType.on("change", $.proxy(this.onFormTypeChange, this)), this.$submitButton.on("click", $.proxy(this.onSubmitOrder, this))
            },
            validateForm: function() {
                $.validate({
                    form: this.$taxForm1099,
                    modules: "sanitize",
                    onValidate: function() {
                        var e = $(".js-tax-form-1099-select-country");
                        return "" === e.val() ? {
                            element: e,
                            message: "You must select country."
                        } : (e = $(".js-tax-form-1099-select-state")).hasClass("is-hidden") || "" !== e.val() ? void 0 : {
                            element: e,
                            message: "Please select a state / province"
                        }
                    }
                })
            },
            onChangeCorporate: function(e) {
                e = $(e.target).find("option:selected").val();
                switch (-1 < ["0", "1"].indexOf(e) ? $(".js-tax-form-1099-container").removeClass("is-hidden") : $(".js-tax-form-1099-container").addClass("is-hidden"), e) {
                    case "0":
                        this.$taxForm1099FirstNameDiv.removeClass("is-hidden"), this.$taxForm1099LegalNameLabel.text("Last Name"), this.$taxForm1099TaxIdLabel.text("SSN (XXX-XX-XXXX)"), this.$taxForm1099FirstName.val(this.$taxForm1099FirstName.attr("value"));
                        break;
                    case "1":
                        this.$taxForm1099FirstNameDiv.addClass("is-hidden"), this.$taxForm1099FirstName.val(""), this.$taxForm1099LegalNameLabel.text("Company Name"), this.$taxForm1099TaxIdLabel.text("TIN (XX-XXXXXXX)"), this.$taxIdText.attr("placeholder", "XX-XXXXXXX"), this.$taxIdText.attr("data-validation-regexp", "^[0-9]{2}-[0-9]{7}$"), this.$taxIdText.attr("data-validation-error-msg", "Please fill out the field in this format 'XX-XXXXXXX'.")
                }
            },
            onSubmitOrder: function(e) {
                this.$taxForm1099.isValid() && ($(".js-tax-form-1099-submit").attr("disabled", !0), this.$taxForm1099.attr("action", "/includes/tax_form_1099.php").submit())
            },
            onChangeCountry: function(e) {
                e = $(e.target).find("option:selected").val();
                this.changeCountryState(e), this.changeSSN(this.$taxFormType.val(), e)
            },
            onFormTypeChange: function(e) {
                e = $(e.target).find("option:selected").val();
                this.changeSSN(e, this.$taxForm1099SelectCountry.val())
            },
            changeCountryState: function(e) {
                var t = {},
                    i = $(".js-tax-form-1099-select-state"),
                    s = $(".js-tax-form-1099-state-text"),
                    n = s.val();
                switch (e.toLowerCase()) {
                    case "canada":
                        t = {
                            AB: "Alberta",
                            BC: "British Columbia",
                            MB: "Manitoba",
                            NB: "New Brunswick",
                            NL: "Newfoundland and Labrador",
                            NT: "Northwest Territories",
                            NS: "Nova Scotia",
                            NU: "Nunavut",
                            ON: "Ontario",
                            PE: "Prince Edward Island",
                            QC: "Quebec",
                            SK: "Saskatchewan",
                            YT: "Yukon Territory"
                        };
                        break;
                    case "united states":
                        t = {
                            AK: "Alaska",
                            AL: "Alabama",
                            AR: "Arkansas",
                            AS: "American Samoa",
                            AZ: "Arizona",
                            CA: "California",
                            CO: "Colorado",
                            CT: "Connecticut",
                            DC: "District of Columbia",
                            DE: "Delaware",
                            FL: "Florida",
                            GA: "Georgia",
                            GU: "Guam",
                            HI: "Hawaii",
                            IA: "Iowa",
                            ID: "Idaho",
                            IL: "Illinois",
                            IN: "Indiana",
                            KS: "Kansas",
                            KY: "Kentucky",
                            LA: "Louisiana",
                            MA: "Massachusetts",
                            MD: "Maryland",
                            ME: "Maine",
                            MI: "Michigan",
                            MN: "Minnesota",
                            MO: "Missouri",
                            MS: "Mississippi",
                            MT: "Montana",
                            NC: "North Carolina",
                            ND: "North Dakota",
                            NE: "Nebraska",
                            NH: "New Hampshire",
                            NJ: "New Jersey",
                            NM: "New Mexico",
                            NV: "Nevada",
                            NY: "New York",
                            OH: "Ohio",
                            OK: "Oklahoma",
                            OR: "Oregon",
                            PA: "Pennsylvania",
                            PR: "Puerto Rico",
                            RI: "Rhode Island",
                            SC: "South Carolina",
                            SD: "South Dakota",
                            TN: "Tennessee",
                            TX: "Texas",
                            UT: "Utah",
                            VA: "Virginia",
                            VI: "Virgin Islands",
                            VT: "Vermont",
                            WA: "Washington",
                            WI: "Wisconsin",
                            WV: "West Virginia",
                            WY: "Wyoming"
                        }
                }
                if (0 < Object.keys(t).length) {
                    for (var a in s.addClass("is-hidden"), i.removeClass("is-hidden"), i.find("option").remove(), t) {
                        a = $("<option />").attr({
                            class: "js-option-state-value",
                            value: a
                        }).text(t[a]);
                        i.append(a)
                    }(0 < n.length ? i.val(n) : i).niceSelect("update")
                } else i.addClass("is-hidden"), s.removeClass("is-hidden")
            },
            changeSSN: function(e, t) {
                if (this.resetSSN(), "0" === e) switch (t.toLowerCase()) {
                    case "canada":
                        this.$taxForm1099TaxIdLabel.text("SIN (XXX-XXX-XXX)"), this.$taxIdText.attr("placeholder", "XXX-XXX-XXX"), this.$taxIdText.attr("data-validation-regexp", "^[0-9]{3}-[0-9]{3}-[0-9]{3}$"), this.$taxIdText.attr("data-validation-error-msg", "Please fill out the field in this format 'XXX-XXX-XXX'.");
                        break;
                    case "united states":
                        this.$taxForm1099TaxIdLabel.text("SSN (XXX-XX-XXXX)"), this.$taxIdText.attr("placeholder", "XXX-XX-XXXX"), this.$taxIdText.attr("data-validation-regexp", "^[0-9]{3}-[0-9]{2}-[0-9]{4}$"), this.$taxIdText.attr("data-validation-error-msg", "Please fill out the field in this format 'XXX-XX-XXXX'.")
                }
            },
            resetSSN: function() {
                this.$taxIdText.removeClass("error").removeAttr("style"), this.$taxIdText.parent("div").find(".form-error").remove()
            }
        }, jQuery(function() {
            window.MV.mvTaxForm1099 = new e
        })
    }(), ! function(e, t) {
        "function" == typeof define && define.amd ? define(["jquery"], t) : "undefined" != typeof exports ? t(require("jquery")) : t(e.jQuery)
    }(this, function(v) {
        "use strict";

        function e(e) {
            var t;
            y.scroll || (y.overlay = !((t = a(!0)).height || t.width), y.scroll = a(), d(), v(window).resize(function() {
                var e, t = !1;
                !y.scroll || !y.scroll.height && !y.scroll.width || (e = a()).height === y.scroll.height && e.width === y.scroll.width || (y.scroll = e, t = !0), d(t)
            })), this.container = e, this.namespace = ".scrollbar_" + y.data.index++, this.options = v.extend({}, s, window.jQueryScrollbarOptions || {}), this.scrollTo = null, this.scrollx = {}, this.scrolly = {}, e.data(y.data.name, this), y.scrolls.add(this)
        }
        var l, i, y = {
                data: {
                    index: 0,
                    name: "scrollbar"
                },
                firefox: /firefox/i.test(navigator.userAgent),
                macosx: /mac/i.test(navigator.platform),
                msedge: /edge\/\d+/i.test(navigator.userAgent),
                msie: /(msie|trident)/i.test(navigator.userAgent),
                mobile: /android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent),
                overlay: null,
                scroll: null,
                scrolls: [],
                webkit: /webkit/i.test(navigator.userAgent) && !/edge\/\d+/i.test(navigator.userAgent)
            },
            s = (y.scrolls.add = function(e) {
                this.remove(e).push(e)
            }, {
                autoScrollSize: !0,
                autoUpdate: !0,
                debug: !(y.scrolls.remove = function(e) {
                    for (; 0 <= v.inArray(e, this);) this.splice(v.inArray(e, this), 1);
                    return this
                }),
                disableBodyScroll: !1,
                duration: 200,
                ignoreMobile: !1,
                ignoreOverlay: !1,
                isRtl: !1,
                scrollStep: 30,
                showArrows: !1,
                stepScrolling: !0,
                scrollx: null,
                scrolly: null,
                onDestroy: null,
                onFallback: null,
                onInit: null,
                onScroll: null,
                onUpdate: null
            }),
            n = (e.prototype = {
                destroy: function() {
                    var e, t;
                    this.wrapper && (this.container.removeData(y.data.name), y.scrolls.remove(this), e = this.container.scrollLeft(), t = this.container.scrollTop(), this.container.insertBefore(this.wrapper).css({
                        height: "",
                        margin: "",
                        "max-height": ""
                    }).removeClass("scroll-content scroll-scrollx_visible scroll-scrolly_visible").off(this.namespace).scrollLeft(e).scrollTop(t), this.scrollx.scroll.removeClass("scroll-scrollx_visible").find("div").addBack().off(this.namespace), this.scrolly.scroll.removeClass("scroll-scrolly_visible").find("div").addBack().off(this.namespace), this.wrapper.remove(), v(document).add("body").off(this.namespace), v.isFunction(this.options.onDestroy)) && this.options.onDestroy.apply(this, [this.container])
                },
                init: function(e) {
                    var h = this,
                        p = this.container,
                        s = this.containerWrapper || p,
                        f = this.namespace,
                        m = v.extend(this.options, e || {}),
                        g = {
                            x: this.scrollx,
                            y: this.scrolly
                        },
                        i = this.wrapper,
                        e = {},
                        t = {
                            scrollLeft: p.scrollLeft(),
                            scrollTop: p.scrollTop()
                        };
                    if (y.mobile && m.ignoreMobile || y.overlay && m.ignoreOverlay) return v.isFunction(m.onFallback) && m.onFallback.apply(this, [p]), !1;
                    i ? ((e = {
                        height: "auto",
                        "margin-bottom": -1 * y.scroll.height + "px",
                        "max-height": ""
                    })[m.isRtl ? "margin-left" : "margin-right"] = -1 * y.scroll.width + "px", s.css(e)) : (this.wrapper = i = v("<div>").addClass("scroll-wrapper").addClass(p.attr("class")).css("position", "absolute" === p.css("position") ? "absolute" : "relative").insertBefore(p).append(p), m.isRtl && i.addClass("scroll--rtl"), p.is("textarea") && (this.containerWrapper = s = v("<div>").insertBefore(p).append(p), i.addClass("scroll-textarea")), (e = {
                        height: "auto",
                        "margin-bottom": -1 * y.scroll.height + "px",
                        "max-height": ""
                    })[m.isRtl ? "margin-left" : "margin-right"] = -1 * y.scroll.width + "px", s.addClass("scroll-content").css(e), p.on("scroll" + f, function(e) {
                        var t = p.scrollLeft(),
                            i = p.scrollTop();
                        if (m.isRtl) switch (!0) {
                            case y.firefox:
                                t = Math.abs(t);
                            case y.msedge || y.msie:
                                t = p[0].scrollWidth - p[0].clientWidth - t
                        }
                        v.isFunction(m.onScroll) && m.onScroll.call(h, {
                            maxScroll: g.y.maxScrollOffset,
                            scroll: i,
                            size: g.y.size,
                            visible: g.y.visible
                        }, {
                            maxScroll: g.x.maxScrollOffset,
                            scroll: t,
                            size: g.x.size,
                            visible: g.x.visible
                        }), g.x.isVisible && g.x.scroll.bar.css("left", t * g.x.kx + "px"), g.y.isVisible && g.y.scroll.bar.css("top", i * g.y.kx + "px")
                    }), i.on("scroll" + f, function() {
                        i.scrollTop(0).scrollLeft(0)
                    }), m.disableBodyScroll && (i.on("MozMousePixelScroll" + f, e = function(e) {
                        b(e) ? g.y.isVisible && g.y.mousewheel(e) : g.x.isVisible && g.x.mousewheel(e)
                    }), i.on("mousewheel" + f, e), y.mobile) && i.on("touchstart" + f, function(e) {
                        var e = e.originalEvent.touches && e.originalEvent.touches[0] || e,
                            i = e.pageX,
                            s = e.pageY,
                            n = p.scrollLeft(),
                            a = p.scrollTop();
                        v(document).on("touchmove" + f, function(e) {
                            var t = e.originalEvent.targetTouches && e.originalEvent.targetTouches[0] || e;
                            p.scrollLeft(n + i - t.pageX), p.scrollTop(a + s - t.pageY), e.preventDefault()
                        }), v(document).on("touchend" + f, function() {
                            v(document).off(f)
                        })
                    }), v.isFunction(m.onInit) && m.onInit.apply(this, [p])), v.each(g, function(n, a) {
                        function o() {
                            var e = p[d]();
                            p[d](e + c), 1 == l && u <= e + c && (e = p[d]()), -1 == l && e + c <= u && (e = p[d]()), p[d]() == e && r && r()
                        }
                        var r = null,
                            l = 1,
                            d = "x" === n ? "scrollLeft" : "scrollTop",
                            c = m.scrollStep,
                            u = 0;
                        a.scroll || (a.scroll = h._getScroll(m["scroll" + n]).addClass("scroll-" + n), m.showArrows && a.scroll.addClass("scroll-element_arrows_visible"), a.mousewheel = function(e) {
                            var t, i;
                            return !(a.isVisible && ("x" !== n || !b(e)) && ("y" !== n || b(e) ? (t = -1 * e.originalEvent.wheelDelta || e.originalEvent.detail, i = a.size - a.visible - a.offset, t || ("x" === n && e.originalEvent.deltaX ? t = 40 * e.originalEvent.deltaX : "y" === n && e.originalEvent.deltaY && (t = 40 * e.originalEvent.deltaY)), (0 < t && u < i || t < 0 && 0 < u) && (i < (u = (u += t) < 0 ? 0 : u) && (u = i), h.scrollTo = h.scrollTo || {}, h.scrollTo[d] = u, setTimeout(function() {
                                h.scrollTo && (p.stop().animate(h.scrollTo, 240, "linear", function() {
                                    u = p[d]()
                                }), h.scrollTo = null)
                            }, 1)), e.preventDefault(), 1) : (g.x.mousewheel(e), 0)))
                        }, a.scroll.on("MozMousePixelScroll" + f, a.mousewheel).on("mousewheel" + f, a.mousewheel).on("mouseenter" + f, function() {
                            u = p[d]()
                        }), a.scroll.find(".scroll-arrow, .scroll-element_track").on("mousedown" + f, function(e) {
                            if (1 != e.which) return !0;
                            l = 1;
                            var t = {
                                    eventOffset: e["x" === n ? "pageX" : "pageY"],
                                    maxScrollValue: a.size - a.visible - a.offset,
                                    scrollbarOffset: a.scroll.bar.offset()["x" === n ? "left" : "top"],
                                    scrollbarSize: a.scroll.bar["x" === n ? "outerWidth" : "outerHeight"]()
                                },
                                i = 0,
                                s = 0;
                            if (v(this).hasClass("scroll-arrow")) {
                                if (l = v(this).hasClass("scroll-arrow_more") ? 1 : -1, c = m.scrollStep * l, u = 0 < l ? t.maxScrollValue : 0, m.isRtl) switch (!0) {
                                    case y.firefox:
                                        u = 0 < l ? 0 : -1 * t.maxScrollValue;
                                        break;
                                    case y.msie || y.msedge:
                                }
                            } else l = t.scrollbarOffset + t.scrollbarSize < t.eventOffset ? 1 : t.eventOffset < t.scrollbarOffset ? -1 : 0, "x" === n && m.isRtl && (y.msie || y.msedge) && (l *= -1), c = Math.round(.75 * a.visible) * l, u = t.eventOffset - t.scrollbarOffset - (m.stepScrolling ? 1 == l ? t.scrollbarSize : 0 : Math.round(t.scrollbarSize / 2)), u = p[d]() + u / a.kx;
                            return h.scrollTo = h.scrollTo || {}, h.scrollTo[d] = m.stepScrolling ? p[d]() + c : u, m.stepScrolling && (r = function() {
                                u = p[d](), clearInterval(s), clearTimeout(i), s = i = 0
                            }, i = setTimeout(function() {
                                s = setInterval(o, 40)
                            }, m.duration + 100)), setTimeout(function() {
                                h.scrollTo && (p.animate(h.scrollTo, m.duration), h.scrollTo = null)
                            }, 1), h._handleMouseDown(r, e)
                        }), a.scroll.bar.on("mousedown" + f, function(e) {
                            var t, i;
                            return 1 != e.which || (t = e["x" === n ? "pageX" : "pageY"], i = p[d](), a.scroll.addClass("scroll-draggable"), v(document).on("mousemove" + f, function(e) {
                                e = parseInt((e["x" === n ? "pageX" : "pageY"] - t) / a.kx, 10);
                                "x" === n && m.isRtl && (y.msie || y.msedge) && (e *= -1), p[d](i + e)
                            }), h._handleMouseDown(function() {
                                a.scroll.removeClass("scroll-draggable"), u = p[d]()
                            }, e))
                        }))
                    }), v.each(g, function(e, t) {
                        var i = "scroll-scroll" + e + "_visible",
                            e = "x" == e ? g.y : g.x;
                        t.scroll.removeClass(i), e.scroll.removeClass(i), s.removeClass(i)
                    }), v.each(g, function(e, t) {
                        v.extend(t, "x" == e ? {
                            offset: parseInt(p.css("left"), 10) || 0,
                            size: p.prop("scrollWidth"),
                            visible: i.width()
                        } : {
                            offset: parseInt(p.css("top"), 10) || 0,
                            size: p.prop("scrollHeight"),
                            visible: i.height()
                        })
                    }), this._updateScroll("x", this.scrollx), this._updateScroll("y", this.scrolly), v.isFunction(m.onUpdate) && m.onUpdate.apply(this, [p]), v.each(g, function(e, t) {
                        var i = "x" === e ? "left" : "top",
                            s = "x" === e ? "outerWidth" : "outerHeight",
                            e = "x" === e ? "width" : "height",
                            n = parseInt(p.css(i), 10) || 0,
                            a = t.size,
                            n = t.visible + n,
                            i = t.scroll.size[s]() + (parseInt(t.scroll.size.css(i), 10) || 0);
                        m.autoScrollSize && (t.scrollbarSize = parseInt(i * n / a, 10), t.scroll.bar.css(e, t.scrollbarSize + "px")), t.scrollbarSize = t.scroll.bar[s](), t.kx = (i - t.scrollbarSize) / (a - n) || 1, t.maxScrollOffset = a - n
                    }), p.scrollLeft(t.scrollLeft).scrollTop(t.scrollTop).trigger("scroll")
                },
                _getScroll: function(e) {
                    var t = {
                        advanced: ['<div class="scroll-element">', '<div class="scroll-element_corner"></div>', '<div class="scroll-arrow scroll-arrow_less"></div>', '<div class="scroll-arrow scroll-arrow_more"></div>', '<div class="scroll-element_outer">', '<div class="scroll-element_size"></div>', '<div class="scroll-element_inner-wrapper">', '<div class="scroll-element_inner scroll-element_track">', '<div class="scroll-element_inner-bottom"></div>', "</div>", "</div>", '<div class="scroll-bar">', '<div class="scroll-bar_body">', '<div class="scroll-bar_body-inner"></div>', "</div>", '<div class="scroll-bar_bottom"></div>', '<div class="scroll-bar_center"></div>', "</div>", "</div>", "</div>"].join(""),
                        simple: ['<div class="scroll-element">', '<div class="scroll-element_outer">', '<div class="scroll-element_size"></div>', '<div class="scroll-element_track"></div>', '<div class="scroll-bar"></div>', "</div>", "</div>"].join("")
                    };
                    return e = "string" == typeof(e = (e = t[e] ? t[e] : e) || t.simple) ? v(e).appendTo(this.wrapper) : v(e), v.extend(e, {
                        bar: e.find(".scroll-bar"),
                        size: e.find(".scroll-element_size"),
                        track: e.find(".scroll-element_track")
                    }), e
                },
                _handleMouseDown: function(e, t) {
                    var i = this.namespace;
                    return v(document).on("blur" + i, function() {
                        v(document).add("body").off(i), e && e()
                    }), v(document).on("dragstart" + i, function(e) {
                        return e.preventDefault(), !1
                    }), v(document).on("mouseup" + i, function() {
                        v(document).add("body").off(i), e && e()
                    }), v("body").on("selectstart" + i, function(e) {
                        return e.preventDefault(), !1
                    }), t && t.preventDefault(), !1
                },
                _updateScroll: function(e, t) {
                    var i = this.container,
                        s = this.containerWrapper || i,
                        n = "scroll-scroll" + e + "_visible",
                        a = "x" === e ? this.scrolly : this.scrollx,
                        o = parseInt(this.container.css("x" === e ? "left" : "top"), 10) || 0,
                        r = this.wrapper,
                        l = t.size,
                        o = t.visible + o;
                    t.isVisible = 1 < l - o, t.isVisible ? (t.scroll.addClass(n), a.scroll.addClass(n), s.addClass(n)) : (t.scroll.removeClass(n), a.scroll.removeClass(n), s.removeClass(n)), "y" === e && (i.is("textarea") || l < o ? s.css({
                        height: o + y.scroll.height + "px",
                        "max-height": "none"
                    }) : s.css({
                        "max-height": o + y.scroll.height + "px"
                    })), t.size == i.prop("scrollWidth") && a.size == i.prop("scrollHeight") && t.visible == r.width() && a.visible == r.height() && t.offset == (parseInt(i.css("left"), 10) || 0) && a.offset == (parseInt(i.css("top"), 10) || 0) || (v.extend(this.scrollx, {
                        offset: parseInt(i.css("left"), 10) || 0,
                        size: i.prop("scrollWidth"),
                        visible: r.width()
                    }), v.extend(this.scrolly, {
                        offset: parseInt(i.css("top"), 10) || 0,
                        size: this.container.prop("scrollHeight"),
                        visible: r.height()
                    }), this._updateScroll("x" === e ? "y" : "x", a))
                }
            }, e),
            d = (v.fn.scrollbar = function(i, s) {
                return "string" != typeof i && (s = i, i = "init"), void 0 === s && (s = []), v.isArray(s) || (s = [s]), this.not("body, .scroll-wrapper").each(function() {
                    var e = v(this),
                        t = e.data(y.data.name);
                    (t || "init" === i) && (t = t || new n(e))[i] && t[i].apply(t, s)
                }), this
            }, v.fn.scrollbar.options = s, l = 0, function(e) {
                for (var t, i, s, n, a, o, r = 0; r < y.scrolls.length; r++) t = (s = y.scrolls[r]).container, i = s.options, n = s.wrapper, a = s.scrollx, o = s.scrolly, (e || i.autoUpdate && n && n.is(":visible") && (t.prop("scrollWidth") != a.size || t.prop("scrollHeight") != o.size || n.width() != a.visible || n.height() != o.visible)) && (s.init(), i.debug) && (window.console && console.log({
                    scrollHeight: t.prop("scrollHeight") + ":" + s.scrolly.size,
                    scrollWidth: t.prop("scrollWidth") + ":" + s.scrollx.size,
                    visibleHeight: n.height() + ":" + s.scrolly.visible,
                    visibleWidth: n.width() + ":" + s.scrollx.visible
                }, !0));
                clearTimeout(l), l = setTimeout(d, 300)
            });

        function a(e) {
            return y.webkit && !e ? {
                height: 0,
                width: 0
            } : (y.data.outer || (e = {
                border: "none",
                "box-sizing": "content-box",
                height: "200px",
                margin: "0",
                padding: "0",
                width: "200px"
            }, y.data.inner = v("<div>").css(v.extend({}, e)), y.data.outer = v("<div>").css(v.extend({
                left: "-1000px",
                overflow: "scroll",
                position: "absolute",
                top: "-1000px"
            }, e)).append(y.data.inner).appendTo("body")), y.data.outer.scrollLeft(1e3).scrollTop(1e3), {
                height: Math.ceil(y.data.outer.offset().top - y.data.inner.offset().top || 0),
                width: Math.ceil(y.data.outer.offset().left - y.data.inner.offset().left || 0)
            })
        }

        function b(e) {
            e = e.originalEvent;
            return !(e.axis && e.axis === e.HORIZONTAL_AXIS || e.wheelDeltaX)
        }
        window.angular && (i = window.angular).module("jQueryScrollbar", []).provider("jQueryScrollbar", function() {
            var t = s;
            return {
                setOptions: function(e) {
                    i.extend(t, e)
                },
                $get: function() {
                    return {
                        options: i.copy(t)
                    }
                }
            }
        }).directive("jqueryScrollbar", ["jQueryScrollbar", "$parse", function(s, n) {
            return {
                restrict: "AC",
                link: function(e, t, i) {
                    i = n(i.jqueryScrollbar)(e);
                    t.scrollbar(i || s.options).on("$destroy", function() {
                        t.scrollbar("destroy")
                    })
                }
            }
        }])
    }), ! function(u) {
        function e(e, t, i) {
            if (!i[0] || "object" == typeof i[0]) return t.init.apply(e, i);
            if (t[i[0]]) return t[i[0]].apply(e, Array.prototype.slice.call(i, 1));
            throw o(i[0] + " is not a method or property")
        }

        function r(e, t, i, s) {
            return {
                css: {
                    position: "absolute",
                    top: e,
                    left: t,
                    overflow: s || "hidden",
                    zIndex: i || "auto"
                }
            }
        }

        function l(e, t, i, s, n) {
            var a = 1 - n,
                o = a * a * a,
                r = n * n * n;
            return L(Math.round(o * e.x + 3 * n * a * a * t.x + 3 * n * n * a * i.x + r * s.x), Math.round(o * e.y + 3 * n * a * a * t.y + 3 * n * n * a * i.y + r * s.y))
        }

        function L(e, t) {
            return {
                x: e,
                y: t
            }
        }

        function j(e, t, i) {
            return p && i ? " translate3d(" + e + "px," + t + "px, 0px) " : " translate(" + e + "px, " + t + "px) "
        }

        function F(e) {
            return " rotate(" + e + "deg) "
        }

        function d(e, t) {
            return Object.prototype.hasOwnProperty.call(t, e)
        }

        function a() {
            for (var e = ["Moz", "Webkit", "Khtml", "O", "ms"], t = e.length, i = ""; t--;) e[t] + "Transform" in document.body.style && (i = "-" + e[t].toLowerCase() + "-");
            return i
        }

        function O(e, t, i, s, n) {
            var a = [];
            if ("-webkit-" == N) {
                for (r = 0; r < n; r++) a.push("color-stop(" + s[r][0] + ", " + s[r][1] + ")");
                e.css({
                    "background-image": "-webkit-gradient(linear, " + t.x + "% " + t.y + "%," + i.x + "% " + i.y + "%, " + a.join(",") + " )"
                })
            } else {
                var t = {
                        x: t.x / 100 * e.width(),
                        y: t.y / 100 * e.height()
                    },
                    o = (i = {
                        x: i.x / 100 * e.width(),
                        y: i.y / 100 * e.height()
                    }).x - t.x,
                    r = i.y - t.y,
                    l = Math.atan2(r, o),
                    d = l - Math.PI / 2,
                    d = Math.abs(e.width() * Math.sin(d)) + Math.abs(e.height() * Math.cos(d)),
                    o = Math.sqrt(r * r + o * o),
                    i = L(i.x < t.x ? e.width() : 0, i.y < t.y ? e.height() : 0),
                    c = Math.tan(l);
                for (i = (r = -1 / c) * (c = (r * i.x - i.y - c * t.x + t.y) / (r - c)) - r * i.x + i.y, t = Math.sqrt(Math.pow(c - t.x, 2) + Math.pow(i - t.y, 2)), r = 0; r < n; r++) a.push(" " + s[r][1] + " " + 100 * (t + o * s[r][0]) / d + "%");
                e.css({
                    "background-image": N + "linear-gradient(" + -l + "rad," + a.join(",") + ")"
                })
            }
        }

        function c(e, t, i) {
            return e = u.Event(e), t.trigger(e, i), e.isDefaultPrevented() ? "prevented" : e.isPropagationStopped() ? "stopped" : ""
        }

        function o(e) {
            function t(e) {
                this.name = "TurnJsError", this.message = e
            }
            return new((t.prototype = Error()).constructor = t)(e)
        }

        function h(e) {
            for (var t = {
                    top: 0,
                    left: 0
                }; t.left += e.offsetLeft, t.top += e.offsetTop, e = e.offsetParent;);
            return t
        }
        var p, q, N = "",
            R = Math.PI,
            B = R / 2,
            f = "ontouchstart" in window,
            m = f ? {
                down: "touchstart",
                move: "touchmove",
                up: "touchend",
                over: "touchstart",
                out: "touchend"
            } : {
                down: "mousedown",
                move: "mousemove",
                up: "mouseup",
                over: "mouseover",
                out: "mouseout"
            },
            n = {
                backward: ["bl", "tl"],
                forward: ["br", "tr"],
                all: "tl bl tr br l r".split(" ")
            },
            s = ["single", "double"],
            i = ["ltr", "rtl"],
            g = {
                acceleration: !0,
                display: "double",
                duration: 600,
                page: 1,
                gradients: !0,
                turnCorners: "bl,br",
                when: null
            },
            v = {
                cornerSize: 100
            },
            y = {
                init: function(e) {
                    p = "WebKitCSSMatrix" in window || "MozPerspective" in document.body.style, q = !(t = /AppleWebkit\/([0-9\.]+)/i.exec(navigator.userAgent)) || 534.3 < parseFloat(t[1]), N = a(), t = 0;
                    var t, i, s = this.data(),
                        n = this.children(),
                        e = u.extend({
                            width: this.width(),
                            height: this.height(),
                            direction: this.attr("dir") || this.css("direction") || "ltr"
                        }, g, e);
                    if (s.opts = e, s.pageObjs = {}, s.pages = {}, s.pageWrap = {}, s.pageZoom = {}, s.pagePlace = {}, s.pageMv = [], s.zoom = 1, s.totalPages = e.pages || 0, s.eventHandlers = {
                            touchStart: u.proxy(y._touchStart, this),
                            touchMove: u.proxy(y._touchMove, this),
                            touchEnd: u.proxy(y._touchEnd, this),
                            start: u.proxy(y._eventStart, this)
                        }, e.when)
                        for (i in e.when) d(i, e.when) && this.bind(i, e.when[i]);
                    for (this.css({
                            position: "relative",
                            width: e.width,
                            height: e.height
                        }), this.turn("display", e.display), "" !== e.direction && this.turn("direction", e.direction), p && !f && e.acceleration && this.transform(j(0, 0, !0)), i = 0; i < n.length; i++) "1" != u(n[i]).attr("ignore") && this.turn("addPage", n[i], ++t);
                    return u(this).bind(m.down, s.eventHandlers.touchStart).bind("end", y._eventEnd).bind("pressed", y._eventPressed).bind("released", y._eventReleased).bind("flip", y._flip), u(this).parent().bind("start", s.eventHandlers.start), u(document).bind(m.move, s.eventHandlers.touchMove).bind(m.up, s.eventHandlers.touchEnd), this.turn("page", e.page), s.done = !0, this
                },
                addPage: function(e, t) {
                    var i, s = !1,
                        n = this.data(),
                        a = n.totalPages + 1;
                    if (n.destroying) return !1;
                    if (t = (i = /\bp([0-9]+)\b/.exec(u(e).attr("class"))) ? parseInt(i[1], 10) : t) {
                        if (t == a) s = !0;
                        else if (a < t) throw o('Page "' + t + '" cannot be inserted')
                    } else t = a, s = !0;
                    return 1 <= t && t <= a && (i = "double" == n.display ? t % 2 ? " odd" : " even" : "", n.done && this.turn("stop"), t in n.pageObjs && y._movePages.call(this, t, 1), s && (n.totalPages = a), n.pageObjs[t] = u(e).css({
                        float: "left"
                    }).addClass("page p" + t + i), -1 != navigator.userAgent.indexOf("MSIE 9.0") && n.pageObjs[t].hasClass("hard") && n.pageObjs[t].removeClass("hard"), y._addPage.call(this, t), y._removeFromDOM.call(this)), this
                },
                _addPage: function(e) {
                    var t, i = this.data(),
                        s = i.pageObjs[e];
                    s && (y._necessPage.call(this, e) ? (i.pageWrap[e] || (i.pageWrap[e] = u("<div/>", {
                        class: "page-wrapper",
                        page: e,
                        css: {
                            position: "absolute",
                            overflow: "hidden"
                        }
                    }), this.append(i.pageWrap[e]), i.pagePlace[e] || (i.pagePlace[e] = e, i.pageObjs[e].appendTo(i.pageWrap[e])), t = y._pageSize.call(this, e, !0), s.css({
                        width: t.width,
                        height: t.height
                    }), i.pageWrap[e].css(t)), i.pagePlace[e] == e && y._makeFlip.call(this, e)) : (i.pagePlace[e] = 0, i.pageObjs[e] && i.pageObjs[e].remove()))
                },
                hasPage: function(e) {
                    return d(e, this.data().pageObjs)
                },
                center: function(e) {
                    var t = this.data(),
                        i = u(this).turn("size"),
                        s = 0;
                    return t.noCenter || ("double" == t.display && (e = this.turn("view", e || t.tpage || t.page), "ltr" == t.direction ? e[0] ? e[1] || (s += i.width / 4) : s -= i.width / 4 : e[0] ? e[1] || (s -= i.width / 4) : s += i.width / 4), u(this).css({
                        marginLeft: s
                    })), this
                },
                destroy: function() {
                    var i = this,
                        e = this.data(),
                        t = "end first flip last pressed released start turning turned zooming missing".split(" ");
                    if ("prevented" != c("destroying", this)) {
                        for (e.destroying = !0, u.each(t, function(e, t) {
                                i.unbind(t)
                            }), this.parent().unbind("start", e.eventHandlers.start), u(document).unbind(m.move, e.eventHandlers.touchMove).unbind(m.up, e.eventHandlers.touchEnd); 0 !== e.totalPages;) this.turn("removePage", e.totalPages);
                        return e.fparent && e.fparent.remove(), e.shadow && e.shadow.remove(), this.removeData(), e = null, this
                    }
                },
                is: function() {
                    return "object" == typeof this.data().pages
                },
                zoom: function(e) {
                    var t = this.data();
                    if ("number" != typeof e) return t.zoom;
                    if (e < .001 || 100 < e) throw o(e + " is not a value for zoom");
                    if ("prevented" != c("zooming", this, [e, t.zoom])) {
                        var i = this.turn("size"),
                            s = this.turn("view"),
                            n = 1 / t.zoom,
                            a = Math.round(i.width * n * e),
                            i = Math.round(i.height * n * e);
                        for (t.zoom = e, u(this).turn("stop").turn("size", a, i), t.opts.autoCenter && this.turn("center"), y._updateShadow.call(this), e = 0; e < s.length; e++) s[e] && t.pageZoom[s[e]] != t.zoom && (this.trigger("zoomed", [s[e], s, t.pageZoom[s[e]], t.zoom]), t.pageZoom[s[e]] = t.zoom)
                    }
                    return this
                },
                _pageSize: function(e, t) {
                    var i, s, n = this.data(),
                        a = {};
                    return "single" == n.display ? (a.width = this.width(), a.height = this.height(), t && (a.top = 0, a.left = 0, a.right = "auto")) : (i = this.width() / 2, s = this.height(), n.pageObjs[e].hasClass("own-size") ? (a.width = n.pageObjs[e].width(), a.height = n.pageObjs[e].height()) : (a.width = i, a.height = s), t && (t = e % 2, a.top = (s - a.height) / 2, "ltr" == n.direction ? (a[t ? "right" : "left"] = i - a.width, a[t ? "left" : "right"] = "auto") : (a[t ? "left" : "right"] = i - a.width, a[t ? "right" : "left"] = "auto"))), a
                },
                _makeFlip: function(e) {
                    var t, i, s = this.data();
                    return s.pages[e] || s.pagePlace[e] != e || (t = "single" == s.display, i = e % 2, s.pages[e] = s.pageObjs[e].css(y._pageSize.call(this, e)).flip({
                        page: e,
                        next: i || t ? e + 1 : e - 1,
                        turn: this
                    }).flip("disable", s.disabled), y._setPageLoc.call(this, e), s.pageZoom[e] = s.zoom), s.pages[e]
                },
                _makeRange: function() {
                    var e, t;
                    if (!(this.data().totalPages < 1))
                        for (e = (t = this.turn("range"))[0]; e <= t[1]; e++) y._addPage.call(this, e)
                },
                range: function(e) {
                    var t, i, s = this.data(),
                        e = e || s.tpage || s.page || 1,
                        n = y._view.call(this, e);
                    if (e < 1 || e > s.totalPages) throw o('"' + e + '" is not a valid page');
                    return n[1] = n[1] || n[0], 1 <= n[0] && n[1] <= s.totalPages ? (e = Math.floor(2), s.totalPages - n[1] > n[0] ? i = 2 * e - (t = Math.min(n[0] - 1, e)) : t = 2 * e - (i = Math.min(s.totalPages - n[1], e))) : i = t = 5, [Math.max(1, n[0] - t), Math.min(s.totalPages, n[1] + i)]
                },
                _necessPage: function(e) {
                    var t;
                    return 0 === e || (t = this.turn("range"), this.data().pageObjs[e].hasClass("fixed")) || e >= t[0] && e <= t[1]
                },
                _removeFromDOM: function() {
                    var e, t = this.data();
                    for (e in t.pageWrap) d(e, t.pageWrap) && !y._necessPage.call(this, e) && y._removePageFromDOM.call(this, e)
                },
                _removePageFromDOM: function(e) {
                    var t, i = this.data();
                    i.pages[e] && (t = i.pages[e].data(), U._moveFoldingPage.call(i.pages[e], !1), t.f && t.f.fwrapper && t.f.fwrapper.remove(), i.pages[e].removeData(), i.pages[e].remove(), delete i.pages[e]), i.pageObjs[e] && i.pageObjs[e].remove(), i.pageWrap[e] && (i.pageWrap[e].remove(), delete i.pageWrap[e]), y._removeMv.call(this, e), delete i.pagePlace[e], delete i.pageZoom[e]
                },
                removePage: function(e) {
                    var t = this.data();
                    if ("*" == e)
                        for (; 0 !== t.totalPages;) this.turn("removePage", t.totalPages);
                    else {
                        if (e < 1 || e > t.totalPages) throw o("The page " + e + " doesn't exist");
                        t.pageObjs[e] && (this.turn("stop"), y._removePageFromDOM.call(this, e), delete t.pageObjs[e]), y._movePages.call(this, e, -1), --t.totalPages, t.page > t.totalPages ? (t.page = null, y._fitPage.call(this, t.totalPages)) : (y._makeRange.call(this), this.turn("update"))
                    }
                    return this
                },
                _movePages: function(e, n) {
                    function t(e) {
                        var t = e + n,
                            i = t % 2,
                            s = i ? " odd " : " even ";
                        o.pageObjs[e] && (o.pageObjs[t] = o.pageObjs[e].removeClass("p" + e + " odd even").addClass("p" + t + s)), o.pagePlace[e] && o.pageWrap[e] && (o.pagePlace[t] = t, o.pageWrap[t] = (o.pageObjs[t].hasClass("fixed") ? o.pageWrap[e] : o.pageWrap[e].css(y._pageSize.call(a, t, !0))).attr("page", t), o.pages[e] && (o.pages[t] = o.pages[e].flip("options", {
                            page: t,
                            next: r || i ? t + 1 : t - 1
                        })), n) && (delete o.pages[e], delete o.pagePlace[e], delete o.pageZoom[e], delete o.pageObjs[e], delete o.pageWrap[e])
                    }
                    var i, a = this,
                        o = this.data(),
                        r = "single" == o.display;
                    if (0 < n)
                        for (i = o.totalPages; e <= i; i--) t(i);
                    else
                        for (i = e; i <= o.totalPages; i++) t(i)
                },
                display: function(e) {
                    var t = this.data(),
                        i = t.display;
                    if (void 0 === e) return i;
                    if (-1 == u.inArray(e, s)) throw o('"' + e + '" is not a value for display');
                    switch (e) {
                        case "single":
                            t.pageObjs[0] || (this.turn("stop").css({
                                overflow: "hidden"
                            }), t.pageObjs[0] = u("<div />", {
                                class: "page p-temporal"
                            }).css({
                                width: this.width(),
                                height: this.height()
                            }).appendTo(this)), this.addClass("shadow");
                            break;
                        case "double":
                            t.pageObjs[0] && (this.turn("stop").css({
                                overflow: ""
                            }), t.pageObjs[0].remove(), delete t.pageObjs[0]), this.removeClass("shadow")
                    }
                    return t.display = e, i && (e = this.turn("size"), y._movePages.call(this, 1, 0), this.turn("size", e.width, e.height).turn("update")), this
                },
                direction: function(e) {
                    var t = this.data();
                    if (void 0 === e) return t.direction;
                    if (e = e.toLowerCase(), -1 == u.inArray(e, i)) throw o('"' + e + '" is not a value for direction');
                    return "rtl" == e && u(this).attr("dir", "ltr").css({
                        direction: "ltr"
                    }), t.direction = e, t.done && this.turn("size", u(this).width(), u(this).height()), this
                },
                animating: function() {
                    return 0 < this.data().pageMv.length
                },
                corner: function() {
                    var e, t, i = this.data();
                    for (t in i.pages)
                        if (d(t, i.pages) && (e = i.pages[t].flip("corner"))) return e;
                    return !1
                },
                data: function() {
                    return this.data()
                },
                disable: function(e) {
                    var t, i = this.data(),
                        s = this.turn("view");
                    for (t in i.disabled = void 0 === e || !0 === e, i.pages) d(t, i.pages) && i.pages[t].flip("disable", !!i.disabled || -1 == u.inArray(parseInt(t, 10), s));
                    return this
                },
                disabled: function(e) {
                    return void 0 === e ? !0 === this.data().disabled : this.turn("disable", e)
                },
                size: function(e, t) {
                    if (void 0 === e || void 0 === t) return {
                        width: this.width(),
                        height: this.height()
                    };
                    this.turn("stop");
                    var i, s = this.data(),
                        n = "double" == s.display ? e / 2 : e;
                    for (i in this.css({
                            width: e,
                            height: t
                        }), s.pageObjs[0] && s.pageObjs[0].css({
                            width: n,
                            height: t
                        }), s.pageWrap) d(i, s.pageWrap) && (n = y._pageSize.call(this, i, !0), s.pageObjs[i].css({
                        width: n.width,
                        height: n.height
                    }), s.pageWrap[i].css(n), s.pages[i]) && s.pages[i].css({
                        width: n.width,
                        height: n.height
                    });
                    return this.turn("resize"), this
                },
                resize: function() {
                    var e, t = this.data();
                    for (t.pages[0] && (t.pageWrap[0].css({
                            left: -this.width()
                        }), t.pages[0].flip("resize", !0)), e = 1; e <= t.totalPages; e++) t.pages[e] && t.pages[e].flip("resize", !0);
                    y._updateShadow.call(this), t.opts.autoCenter && this.turn("center")
                },
                _removeMv: function(e) {
                    for (var t = this.data(), i = 0; i < t.pageMv.length; i++)
                        if (t.pageMv[i] == e) return t.pageMv.splice(i, 1), !0;
                    return !1
                },
                _addMv: function(e) {
                    var t = this.data();
                    y._removeMv.call(this, e), t.pageMv.push(e)
                },
                _view: function(e) {
                    var t = this.data(),
                        e = e || t.page;
                    return "double" == t.display ? e % 2 ? [e - 1, e] : [e, e + 1] : [e]
                },
                view: function(e) {
                    var t = this.data(),
                        e = y._view.call(this, e);
                    return "double" == t.display ? [0 < e[0] ? e[0] : 0, e[1] <= t.totalPages ? e[1] : 0] : [0 < e[0] && e[0] <= t.totalPages ? e[0] : 0]
                },
                stop: function(e, t) {
                    if (this.turn("animating")) {
                        var i, s, n, a = this.data();
                        for (a.tpage && (a.page = a.tpage, delete a.tpage), i = 0; i < a.pageMv.length; i++) a.pageMv[i] && a.pageMv[i] !== e && (s = (n = a.pages[a.pageMv[i]]).data().f.opts, n.flip("hideFoldedPage", t), t || U._moveFoldingPage.call(n, !1), s.force) && (s.next = 0 == s.page % 2 ? s.page - 1 : s.page + 1, delete s.force)
                    }
                    return this.turn("update"), this
                },
                pages: function(e) {
                    var t = this.data();
                    if (e) {
                        if (e < t.totalPages)
                            for (var i = t.totalPages; e < i; i--) this.turn("removePage", i);
                        return t.totalPages = e, y._fitPage.call(this, t.page), this
                    }
                    return t.totalPages
                },
                _missing: function(e) {
                    var t = this.data();
                    if (!(t.totalPages < 1)) {
                        for (var i = this.turn("range", e), s = [], e = i[0]; e <= i[1]; e++) t.pageObjs[e] || s.push(e);
                        0 < s.length && this.trigger("missing", [s])
                    }
                },
                _fitPage: function(e) {
                    var t = this.data(),
                        i = this.turn("view", e);
                    if (y._missing.call(this, e), t.pageObjs[e]) {
                        t.page = e, this.turn("stop");
                        for (var s = 0; s < i.length; s++) i[s] && t.pageZoom[i[s]] != t.zoom && (this.trigger("zoomed", [i[s], i, t.pageZoom[i[s]], t.zoom]), t.pageZoom[i[s]] = t.zoom);
                        y._removeFromDOM.call(this), y._makeRange.call(this), y._updateShadow.call(this), this.trigger("turned", [e, i]), this.turn("update"), t.opts.autoCenter && this.turn("center")
                    }
                },
                _turnPage: function(e) {
                    var t, i, s = this.data(),
                        n = s.pagePlace[e],
                        a = this.turn("view"),
                        o = this.turn("view", e);
                    if (s.page != e) {
                        var r = s.page;
                        if ("prevented" == c("turning", this, [e, o])) return void(r == s.page && -1 != u.inArray(n, s.pageMv) && s.pages[n].flip("hideFoldedPage", !0)); - 1 != u.inArray(1, o) && this.trigger("first"), -1 != u.inArray(s.totalPages, o) && this.trigger("last")
                    }
                    "single" == s.display ? (t = a[0], i = o[0]) : a[1] && e > a[1] ? (t = a[1], i = o[0]) : a[0] && e < a[0] && (t = a[0], i = o[1]), n = s.opts.turnCorners.split(","), o = (a = s.pages[t].data().f).opts, r = a.point, y._missing.call(this, e), s.pageObjs[e] && (this.turn("stop"), s.page = e, y._makeRange.call(this), s.tpage = i, o.next != i && (o.next = i, o.force = !0), this.turn("update"), a.point = r, "hard" == a.effect ? "ltr" == s.direction ? s.pages[t].flip("turnPage", t < e ? "r" : "l") : s.pages[t].flip("turnPage", t < e ? "l" : "r") : "ltr" == s.direction ? s.pages[t].flip("turnPage", n[t < e ? 1 : 0]) : s.pages[t].flip("turnPage", n[t < e ? 0 : 1]))
                },
                page: function(e) {
                    var t = this.data();
                    if (void 0 === e) return t.page;
                    if (!t.disabled && !t.destroying) {
                        if (0 < (e = parseInt(e, 10)) && e <= t.totalPages) return e != t.page && (t.done && -1 == u.inArray(e, this.turn("view")) ? y._turnPage : y._fitPage).call(this, e), this;
                        throw o("The page " + e + " does not exist")
                    }
                },
                next: function() {
                    return this.turn("page", Math.min(this.data().totalPages, y._view.call(this, this.data().page).pop() + 1))
                },
                previous: function() {
                    return this.turn("page", Math.max(1, y._view.call(this, this.data().page).shift() - 1))
                },
                peel: function(e, t) {
                    var i = this.data(),
                        s = this.turn("view"),
                        t = void 0 === t || !0 === t;
                    return !1 === e ? this.turn("stop", null, t) : "single" == i.display ? i.pages[i.page].flip("peel", e, t) : (s = "ltr" == i.direction ? -1 != e.indexOf("l") ? s[0] : s[1] : -1 != e.indexOf("l") ? s[1] : s[0], i.pages[s] && i.pages[s].flip("peel", e, t)), this
                },
                _addMotionPage: function() {
                    var e = u(this).data().f.opts,
                        t = e.turn;
                    t.data(), y._addMv.call(t, e.page)
                },
                _eventStart: function(e, t, i) {
                    var s = t.turn.data(),
                        n = s.pageZoom[t.page];
                    e.isDefaultPrevented() || (n && n != s.zoom && (t.turn.trigger("zoomed", [t.page, t.turn.turn("view", t.page), n, s.zoom]), s.pageZoom[t.page] = s.zoom), "single" == s.display && i && ("l" == i.charAt(1) && "ltr" == s.direction || "r" == i.charAt(1) && "rtl" == s.direction ? (t.next = t.next < t.page ? t.next : t.page - 1, t.force = !0) : t.next = t.next > t.page ? t.next : t.page + 1), y._addMotionPage.call(e.target)), y._updateShadow.call(t.turn)
                },
                _eventEnd: function(e, t, i) {
                    u(e.target).data();
                    var s = (e = t.turn).data();
                    i ? (i = s.tpage || s.page) != t.next && i != t.page || (delete s.tpage, y._fitPage.call(e, i || t.next, !0)) : (y._removeMv.call(e, t.page), y._updateShadow.call(e), e.turn("update"))
                },
                _eventPressed: function(e) {
                    var t = (e = u(e.target).data().f).opts.turn;
                    return t.data().mouseAction = !0, t.turn("update"), e.time = (new Date).getTime()
                },
                _eventReleased: function(e, t) {
                    var i = u(e.target),
                        s = i.data().f,
                        n = s.opts.turn,
                        a = n.data();
                    i = "single" == a.display ? "br" == t.corner || "tr" == t.corner ? t.x < i.width() / 2 : t.x > i.width() / 2 : t.x < 0 || t.x > i.width(), ((new Date).getTime() - s.time < 200 || i) && (e.preventDefault(), y._turnPage.call(n, s.opts.next)), a.mouseAction = !1
                },
                _flip: function(e) {
                    e.stopPropagation(), (e = u(e.target).data().f.opts).turn.trigger("turn", [e.next]), e.turn.data().opts.autoCenter && e.turn.turn("center", e.next)
                },
                _touchStart: function() {
                    var e, t = this.data();
                    for (e in t.pages)
                        if (d(e, t.pages) && !1 === U._eventStart.apply(t.pages[e], arguments)) return !1
                },
                _touchMove: function() {
                    var e, t = this.data();
                    for (e in t.pages) d(e, t.pages) && U._eventMove.apply(t.pages[e], arguments)
                },
                _touchEnd: function() {
                    var e, t = this.data();
                    for (e in t.pages) d(e, t.pages) && U._eventEnd.apply(t.pages[e], arguments)
                },
                calculateZ: function(e) {
                    function t(e) {
                        (e = a.turn("view", e))[0] && (c.pageV[e[0]] = !0), e[1] && (c.pageV[e[1]] = !0)
                    }
                    var i, s, n, a = this,
                        o = this.data(),
                        r = this.turn("view"),
                        l = r[0] || r[1],
                        d = e.length - 1,
                        c = {
                            pageZ: {},
                            partZ: {},
                            pageV: {}
                        };
                    for (r = 0; r <= d; r++) i = e[r], s = o.pages[i].data().f.opts.next, n = o.pagePlace[i], t(i), t(s), i = o.pagePlace[s] == s ? s : i, c.pageZ[i] = o.totalPages - Math.abs(l - i), c.partZ[n] = 2 * o.totalPages - d + r;
                    return c
                },
                update: function() {
                    var e, t = this.data();
                    if (this.turn("animating") && 0 !== t.pageMv[0]) {
                        var i, s = this.turn("calculateZ", t.pageMv),
                            n = this.turn("corner"),
                            a = this.turn("view"),
                            o = this.turn("view", t.tpage);
                        for (e in t.pageWrap) d(e, t.pageWrap) && (i = t.pageObjs[e].hasClass("fixed"), t.pageWrap[e].css({
                            display: s.pageV[e] || i ? "" : "none",
                            zIndex: (t.pageObjs[e].hasClass("hard") ? s.partZ : s.pageZ)[e] || (i ? -1 : 0)
                        }), i = t.pages[e]) && (i.flip("z", s.partZ[e] || null), s.pageV[e] && i.flip("resize"), t.tpage ? i.flip("hover", !1).flip("disable", -1 == u.inArray(parseInt(e, 10), t.pageMv) && e != o[0] && e != o[1]) : i.flip("hover", !1 === n).flip("disable", e != a[0] && e != a[1]))
                    } else
                        for (e in t.pageWrap) d(e, t.pageWrap) && (s = y._setPageLoc.call(this, e), t.pages[e]) && t.pages[e].flip("disable", t.disabled || 1 != s).flip("hover", !0).flip("z", null);
                    return this
                },
                _updateShadow: function() {
                    var e, t = this.data(),
                        i = this.width(),
                        s = this.height(),
                        n = "single" == t.display ? i : i / 2,
                        a = this.turn("view");
                    t.shadow || (t.shadow = u("<div />", {
                        class: "shadow",
                        css: r(0, 0, 0).css
                    }).appendTo(this));
                    for (var o = 0; o < t.pageMv.length && a[0] && a[1]; o++) a = this.turn("view", t.pages[t.pageMv[o]].data().f.opts.next), e = this.turn("view", t.pageMv[o]), a[0] = a[0] && e[0], a[1] = a[1] && e[1];
                    switch (a[0] ? a[1] ? 3 : "ltr" == t.direction ? 2 : 1 : "ltr" == t.direction ? 1 : 2) {
                        case 1:
                            t.shadow.css({
                                width: n,
                                height: s,
                                top: 0,
                                left: n
                            });
                            break;
                        case 2:
                            t.shadow.css({
                                width: n,
                                height: s,
                                top: 0,
                                left: 0
                            });
                            break;
                        case 3:
                            t.shadow.css({
                                width: i,
                                height: s,
                                top: 0,
                                left: 0
                            })
                    }
                },
                _setPageLoc: function(e) {
                    var t = this.data(),
                        i = this.turn("view"),
                        s = 0;
                    if (e == i[0] || e == i[1] ? s = 1 : ("single" == t.display && e == i[0] + 1 || "double" == t.display && e == i[0] - 2 || e == i[1] + 2) && (s = 2), !this.turn("animating")) switch (s) {
                        case 1:
                            t.pageWrap[e].css({
                                zIndex: t.totalPages,
                                display: ""
                            });
                            break;
                        case 2:
                            t.pageWrap[e].css({
                                zIndex: t.totalPages - 1,
                                display: ""
                            });
                            break;
                        case 0:
                            t.pageWrap[e].css({
                                zIndex: 0,
                                display: t.pageObjs[e].hasClass("fixed") ? "" : "none"
                            })
                    }
                    return s
                },
                options: function(e) {
                    if (void 0 === e) return this.data().opts;
                    var t = this.data();
                    if (u.extend(t.opts, e), e.pages && this.turn("pages", e.pages), e.page && this.turn("page", e.page), e.display && this.turn("display", e.display), e.direction && this.turn("direction", e.direction), e.width && e.height && this.turn("size", e.width, e.height), e.when)
                        for (var i in e.when) d(i, e.when) && this.unbind(i).bind(i, e.when[i]);
                    return this
                },
                version: function() {
                    return "4.1.0"
                }
            },
            U = {
                init: function(e) {
                    return this.data({
                        f: {
                            disabled: !1,
                            hover: !1,
                            effect: this.hasClass("hard") ? "hard" : "sheet"
                        }
                    }), this.flip("options", e), U._addPageWrapper.call(this), this
                },
                setData: function(e) {
                    var t = this.data();
                    return t.f = u.extend(t.f, e), this
                },
                options: function(e) {
                    var t = this.data().f;
                    return e ? (U.setData.call(this, {
                        opts: u.extend({}, t.opts || v, e)
                    }), this) : t.opts
                },
                z: function(e) {
                    var t = this.data().f;
                    return t.opts["z-index"] = e, t.fwrapper && t.fwrapper.css({
                        zIndex: e || parseInt(t.parent.css("z-index"), 10) || 0
                    }), this
                },
                _cAllowed: function() {
                    var e = this.data().f,
                        t = e.opts.page,
                        i = e.opts.turn.data(),
                        s = t % 2;
                    return "hard" == e.effect ? "ltr" == i.direction ? [s ? "r" : "l"] : [s ? "l" : "r"] : "single" == i.display ? 1 == t ? "ltr" == i.direction ? n.forward : n.backward : t == i.totalPages ? "ltr" == i.direction ? n.backward : n.forward : n.all : "ltr" == i.direction ? n[s ? "forward" : "backward"] : n[s ? "backward" : "forward"]
                },
                _cornerActivated: function(e) {
                    var t = this.data().f,
                        i = this.width(),
                        s = this.height(),
                        e = {
                            x: e.x,
                            y: e.y,
                            corner: ""
                        },
                        n = t.opts.cornerSize;
                    if (e.x <= 0 || e.y <= 0 || e.x >= i || e.y >= s) return !1;
                    var a = U._cAllowed.call(this);
                    switch (t.effect) {
                        case "hard":
                            if (e.x > i - n) e.corner = "r";
                            else {
                                if (!(e.x < n)) return !1;
                                e.corner = "l"
                            }
                            break;
                        case "sheet":
                            if (e.y < n) e.corner += "t";
                            else {
                                if (!(e.y >= s - n)) return !1;
                                e.corner += "b"
                            }
                            if (e.x <= n) e.corner += "l";
                            else {
                                if (!(e.x >= i - n)) return !1;
                                e.corner += "r"
                            }
                    }
                    return !(!e.corner || -1 == u.inArray(e.corner, a)) && e
                },
                _isIArea: function(e) {
                    var t = this.data().f.parent.offset(),
                        e = f && e.originalEvent ? e.originalEvent.touches[0] : e;
                    return U._cornerActivated.call(this, {
                        x: e.pageX - t.left,
                        y: e.pageY - t.top
                    })
                },
                _c: function(e, t) {
                    switch (t = t || 0, e) {
                        case "tl":
                            return L(t, t);
                        case "tr":
                            return L(this.width() - t, t);
                        case "bl":
                            return L(t, this.height() - t);
                        case "br":
                            return L(this.width() - t, this.height() - t);
                        case "l":
                            return L(t, 0);
                        case "r":
                            return L(this.width() - t, 0)
                    }
                },
                _c2: function(e) {
                    switch (e) {
                        case "tl":
                            return L(2 * this.width(), 0);
                        case "tr":
                            return L(-this.width(), 0);
                        case "bl":
                            return L(2 * this.width(), this.height());
                        case "br":
                            return L(-this.width(), this.height());
                        case "l":
                            return L(2 * this.width(), 0);
                        case "r":
                            return L(-this.width(), 0)
                    }
                },
                _foldingPage: function() {
                    var e = this.data().f;
                    if (e) {
                        var t = e.opts;
                        if (t.turn) return "single" == (e = t.turn.data()).display ? 1 < t.next || 1 < t.page ? e.pageObjs[0] : null : e.pageObjs[t.next]
                    }
                },
                _backGradient: function() {
                    var e = this.data().f,
                        t = e.opts.turn.data();
                    return (t = t.opts.gradients && ("single" == t.display || 2 != e.opts.page && e.opts.page != t.totalPages - 1)) && !e.bshadow && (e.bshadow = u("<div/>", r(0, 0, 1)).css({
                        position: "",
                        width: this.width(),
                        height: this.height()
                    }).appendTo(e.parent)), t
                },
                type: function() {
                    return this.data().f.effect
                },
                resize: function(e) {
                    var t = this.data().f,
                        i = t.opts.turn.data(),
                        s = this.width(),
                        n = this.height();
                    switch (t.effect) {
                        case "hard":
                            e && (t.wrapper.css({
                                width: s,
                                height: n
                            }), t.fpage.css({
                                width: s,
                                height: n
                            }), i.opts.gradients) && (t.ashadow.css({
                                width: s,
                                height: n
                            }), t.bshadow.css({
                                width: s,
                                height: n
                            }));
                            break;
                        case "sheet":
                            e && (e = Math.round(Math.sqrt(Math.pow(s, 2) + Math.pow(n, 2))), t.wrapper.css({
                                width: e,
                                height: e
                            }), t.fwrapper.css({
                                width: e,
                                height: e
                            }).children(":first-child").css({
                                width: s,
                                height: n
                            }), t.fpage.css({
                                width: s,
                                height: n
                            }), i.opts.gradients && t.ashadow.css({
                                width: s,
                                height: n
                            }), U._backGradient.call(this)) && t.bshadow.css({
                                width: s,
                                height: n
                            }), t.parent.is(":visible") && (i = h(t.parent[0]), t.fwrapper.css({
                                top: i.top,
                                left: i.left
                            }), i = h(t.opts.turn[0]), t.fparent.css({
                                top: -i.top,
                                left: -i.left
                            })), this.flip("z", t.opts["z-index"])
                    }
                },
                _addPageWrapper: function() {
                    var e = this.data().f,
                        t = e.opts.turn.data(),
                        i = this.parent();
                    if (e.parent = i, !e.wrapper) switch (e.effect) {
                        case "hard":
                            (s = {})[N + "transform-style"] = "preserve-3d", s[N + "backface-visibility"] = "hidden", e.wrapper = u("<div/>", r(0, 0, 2)).css(s).appendTo(i).prepend(this), e.fpage = u("<div/>", r(0, 0, 1)).css(s).appendTo(i), t.opts.gradients && (e.ashadow = u("<div/>", r(0, 0, 0)).hide().appendTo(i), e.bshadow = u("<div/>", r(0, 0, 0)));
                            break;
                        case "sheet":
                            var s = this.width(),
                                n = this.height();
                            Math.round(Math.sqrt(Math.pow(s, 2) + Math.pow(n, 2))), e.fparent = e.opts.turn.data().fparent, e.fparent || ((s = u("<div/>", {
                                css: {
                                    "pointer-events": "none"
                                }
                            }).hide()).data().flips = 0, s.css(r(0, 0, "auto", "visible").css).appendTo(e.opts.turn), e.opts.turn.data().fparent = s, e.fparent = s), this.css({
                                position: "absolute",
                                top: 0,
                                left: 0,
                                bottom: "auto",
                                right: "auto"
                            }), e.wrapper = u("<div/>", r(0, 0, this.css("z-index"))).appendTo(i).prepend(this), e.fwrapper = u("<div/>", r(i.offset().top, i.offset().left)).hide().appendTo(e.fparent), e.fpage = u("<div/>", r(0, 0, 0, "visible")).css({
                                cursor: "default"
                            }).appendTo(e.fwrapper), t.opts.gradients && (e.ashadow = u("<div/>", r(0, 0, 1)).appendTo(e.fpage)), U.setData.call(this, e)
                    }
                    U.resize.call(this, !0)
                },
                _fold: function(n) {
                    var d = this.data().f,
                        c = d.opts.turn.data(),
                        a = U._c.call(this, n.corner),
                        u = this.width(),
                        h = this.height();
                    switch (d.effect) {
                        case "hard":
                            n.x = "l" == n.corner ? Math.min(Math.max(n.x, 0), 2 * u) : Math.max(Math.min(n.x, u), -u);
                            var e, t, i, s, o = c.totalPages,
                                r = d.opts["z-index"] || o,
                                l = {
                                    overflow: "visible"
                                },
                                p = a.x ? (a.x - n.x) / u : n.x / u,
                                f = 90 * p,
                                m = f < 90;
                            switch (n.corner) {
                                case "l":
                                    i = "0% 50%", s = "100% 50%", t = m ? (e = (I = 0) < d.opts.next - 1, 1) : (I = "100%", e = d.opts.page + 1 < o, 0);
                                    break;
                                case "r":
                                    i = "100% 50%", s = "0% 50%", f = -f, u = -u, t = m ? (e = d.opts.next + 1 < o, I = 0) : (I = "-100%", e = 1 != d.opts.page, 1)
                            }
                            l[N + "perspective-origin"] = s, d.wrapper.transform("rotateY(" + f + "deg)translate3d(0px, 0px, " + (this.attr("depth") || 0) + "px)", s), d.fpage.transform("translateX(" + u + "px) rotateY(" + (180 + f) + "deg)", i), d.parent.css(l), m ? (p = 1 - p, d.wrapper.css({
                                zIndex: r + 1
                            }), d.fpage.css({
                                zIndex: r
                            })) : (--p, d.wrapper.css({
                                zIndex: r
                            }), d.fpage.css({
                                zIndex: r + 1
                            })), c.opts.gradients && (e ? d.ashadow.css({
                                display: "",
                                left: I,
                                backgroundColor: "rgba(0,0,0," + .5 * p + ")"
                            }).transform("rotateY(0deg)") : d.ashadow.hide(), d.bshadow.css({
                                opacity: 1 - p
                            }), m ? d.bshadow.parent()[0] != d.wrapper[0] && d.bshadow.appendTo(d.wrapper) : d.bshadow.parent()[0] != d.fpage[0] && d.bshadow.appendTo(d.fpage), O(d.bshadow, L(100 * t, 0), L(100 * (1 - t), 0), [
                                [0, "rgba(0,0,0,0.3)"],
                                [1, "rgba(0,0,0,0)"]
                            ], 2));
                            break;
                        case "sheet":
                            var g, v, y, b, w, _, C = this,
                                k = 0,
                                x = L(0, 0),
                                S = L(0, 0),
                                T = L(0, 0),
                                E = U._foldingPage.call(this),
                                A = (Math.tan(0), c.opts.acceleration),
                                P = d.wrapper.height(),
                                $ = "t" == n.corner.substr(0, 1),
                                M = "l" == n.corner.substr(1, 1),
                                D = function() {
                                    var e = L(0, 0),
                                        t = L(0, 0),
                                        i = (e.x = a.x ? a.x - n.x : n.x, e.y = q ? a.y ? a.y - n.y : n.y : 0, t.x = M ? u - e.x / 2 : n.x + e.x / 2, t.y = e.y / 2, B - Math.atan2(e.y, e.x)),
                                        s = i - Math.atan2(t.y, t.x),
                                        s = Math.max(0, Math.sin(s) * Math.sqrt(Math.pow(t.x, 2) + Math.pow(t.y, 2)));
                                    return k = i / R * 180, T = L(s * Math.sin(i), s * Math.cos(i)), B < i && (T.x += Math.abs(T.y * e.y / e.x), T.y = 0, Math.round(T.x * Math.tan(R - i)) < h) ? (n.y = Math.sqrt(Math.pow(h, 2) + 2 * t.x * e.x), $ && (n.y = h - n.y), D()) : (B < i && (e = R - i, t = P - h / Math.sin(e), x = L(Math.round(t * Math.cos(e)), Math.round(t * Math.sin(e))), M && (x.x = -x.x), $) && (x.y = -x.y), b = Math.round(T.y / Math.tan(i) + T.x), t = (e = u - b) * Math.cos(2 * i), s = e * Math.sin(2 * i), S = L(Math.round(M ? e - t : b + t), Math.round($ ? s : h - s)), c.opts.gradients && (b = e * Math.sin(i), e = U._c2.call(C, n.corner), e = Math.sqrt(Math.pow(e.x - n.x, 2) + Math.pow(e.y - n.y, 2)) / u, _ = Math.sin(B * (1 < e ? 2 - e : e)), w = Math.min(e, 1), y = 100 < b ? (b - 100) / b : 0, g = L(b * Math.sin(i) / u * 100, b * Math.cos(i) / h * 100), U._backGradient.call(C)) && (v = L(1.2 * b * Math.sin(i) / u * 100, 1.2 * b * Math.cos(i) / h * 100), M || (v.x = 100 - v.x), $ || (v.y = 100 - v.y)), T.x = Math.round(T.x), T.y = Math.round(T.y), !0)
                                },
                                I = function(e, t, i, s) {
                                    var n = ["0", "auto"],
                                        a = (u - P) * i[0] / 100,
                                        o = (h - P) * i[1] / 100,
                                        t = {
                                            left: n[t[0]],
                                            top: n[t[1]],
                                            right: n[t[2]],
                                            bottom: n[t[3]]
                                        },
                                        n = {},
                                        r = 90 != s && -90 != s ? M ? -1 : 1 : 0,
                                        l = i[0] + "% " + i[1] + "%";
                                    C.css(t).transform(F(s) + j(e.x + r, e.y, A), l), d.fpage.css(t).transform(F(s) + j(e.x + S.x - x.x - u * i[0] / 100, e.y + S.y - x.y - h * i[1] / 100, A) + F((180 / s - 2) * s), l), d.wrapper.transform(j(-e.x + a - r, -e.y + o, A) + F(-s), l), d.fwrapper.transform(j(-e.x + x.x + a, -e.y + x.y + o, A) + F(-s), l), c.opts.gradients && (i[0] && (g.x = 100 - g.x), i[1] && (g.y = 100 - g.y), n["box-shadow"] = "0 0 20px rgba(0,0,0," + .5 * _ + ")", E.css(n), O(d.ashadow, L(M ? 100 : 0, $ ? 0 : 100), L(g.x, g.y), [
                                        [y, "rgba(0,0,0,0)"],
                                        [.8 * (1 - y) + y, "rgba(0,0,0," + .2 * w + ")"],
                                        [1, "rgba(255,255,255," + .2 * w + ")"]
                                    ], 3), U._backGradient.call(C)) && O(d.bshadow, L(M ? 0 : 100, $ ? 0 : 100), L(v.x, v.y), [
                                        [.6, "rgba(0,0,0,0)"],
                                        [.8, "rgba(0,0,0," + .3 * w + ")"],
                                        [1, "rgba(0,0,0,0)"]
                                    ], 3)
                                };
                            switch (n.corner) {
                                case "tl":
                                    n.x = Math.max(n.x, 1), D(), I(T, [1, 0, 0, 1], [100, 0], k);
                                    break;
                                case "tr":
                                    n.x = Math.min(n.x, u - 1), D(), I(L(-T.x, T.y), [0, 0, 0, 1], [0, 0], -k);
                                    break;
                                case "bl":
                                    n.x = Math.max(n.x, 1), D(), I(L(T.x, -T.y), [1, 1, 0, 0], [100, 100], -k);
                                    break;
                                case "br":
                                    n.x = Math.min(n.x, u - 1), D(), I(L(-T.x, -T.y), [0, 1, 1, 0], [0, 100], k)
                            }
                    }
                    d.point = n
                },
                _moveFoldingPage: function(e) {
                    var t, i, s, n = this.data().f;
                    n && (s = (i = (t = n.opts.turn).data()).pagePlace, e ? (s[i = n.opts.next] != n.opts.page && (n.folding && U._moveFoldingPage.call(this, !1), U._foldingPage.call(this).appendTo(n.fpage), s[i] = n.opts.page, n.folding = i), t.turn("update")) : n.folding && (i.pages[n.folding] ? (t = i.pages[n.folding].data().f, i.pageObjs[n.folding].appendTo(t.wrapper)) : i.pageWrap[n.folding] && i.pageObjs[n.folding].appendTo(i.pageWrap[n.folding]), n.folding in s && (s[n.folding] = n.folding), delete n.folding))
                },
                _showFoldedPage: function(t, e) {
                    var i, s = U._foldingPage.call(this),
                        n = this.data(),
                        a = n.f,
                        o = a.visible;
                    if (s) {
                        if (!(o && a.point && a.point.corner == t.corner || (s = "hover" == a.status || "peel" == a.status || a.opts.turn.data().mouseAction ? t.corner : null, o = !1, "prevented" != c("start", this, [a.opts, s])))) return !1;
                        if (e ? (i = this, n = a.point && a.point.corner == t.corner ? a.point : U._c.call(this, t.corner, 1), this.animatef({
                                from: [n.x, n.y],
                                to: [t.x, t.y],
                                duration: 500,
                                frame: function(e) {
                                    t.x = Math.round(e[0]), t.y = Math.round(e[1]), U._fold.call(i, t)
                                }
                            })) : (U._fold.call(this, t), n.effect && !n.effect.turning && this.animatef(!1)), !o) switch (a.effect) {
                            case "hard":
                                a.visible = !0, U._moveFoldingPage.call(this, !0), a.fpage.show(), a.opts.shadows && a.bshadow.show();
                                break;
                            case "sheet":
                                a.visible = !0, a.fparent.show().data().flips++, U._moveFoldingPage.call(this, !0), a.fwrapper.show(), a.bshadow && a.bshadow.show()
                        }
                        return !0
                    }
                    return !1
                },
                hide: function() {
                    var e = this.data().f,
                        t = e.opts.turn.data(),
                        i = U._foldingPage.call(this);
                    switch (e.effect) {
                        case "hard":
                            t.opts.gradients && (e.bshadowLoc = 0, e.bshadow.remove(), e.ashadow.hide()), e.wrapper.transform(""), e.fpage.hide();
                            break;
                        case "sheet":
                            0 == --e.fparent.data().flips && e.fparent.hide(), this.css({
                                left: 0,
                                top: 0,
                                right: "auto",
                                bottom: "auto"
                            }).transform(""), e.wrapper.transform(""), e.fwrapper.hide(), e.bshadow && e.bshadow.hide(), i.transform("")
                    }
                    return e.visible = !1, this
                },
                hideFoldedPage: function(e) {
                    var t, i, s, n, a, o, r = this.data().f;
                    r.point && (t = this, i = r.point, s = function() {
                        r.point = null, r.status = "", t.flip("hide"), t.trigger("end", [r.opts, !1])
                    }, e ? (n = U._c.call(this, i.corner), e = "t" == i.corner.substr(0, 1) ? Math.min(0, i.y - n.y) / 2 : Math.max(0, i.y - n.y) / 2, a = L(i.x, i.y + e), o = L(n.x, n.y - e), this.animatef({
                        from: 0,
                        to: 1,
                        frame: function(e) {
                            e = l(i, a, o, n, e), i.x = e.x, i.y = e.y, U._fold.call(t, i)
                        },
                        complete: s,
                        duration: 800,
                        hiding: !0
                    })) : (this.animatef(!1), s()))
                },
                turnPage: function(t) {
                    var i = this,
                        e = this.data().f,
                        s = e.opts.turn.data(),
                        t = {
                            corner: e.corner ? e.corner.corner : t || U._cAllowed.call(this)[0]
                        },
                        n = e.point || U._c.call(this, t.corner, e.opts.turn ? s.opts.elevation : 0),
                        a = U._c2.call(this, t.corner);
                    this.trigger("flip").animatef({
                        from: 0,
                        to: 1,
                        frame: function(e) {
                            e = l(n, n, a, a, e), t.x = e.x, t.y = e.y, U._showFoldedPage.call(i, t)
                        },
                        complete: function() {
                            i.trigger("end", [e.opts, !0])
                        },
                        duration: s.opts.duration,
                        turning: !0
                    }), e.corner = null
                },
                moving: function() {
                    return "effect" in this.data()
                },
                isTurning: function() {
                    return this.flip("moving") && this.data().effect.turning
                },
                corner: function() {
                    return this.data().f.corner
                },
                _eventStart: function(e) {
                    var t = this.data().f,
                        i = t.opts.turn;
                    if (!t.corner && !t.disabled && !this.flip("isTurning") && t.opts.page == i.data().pagePlace[t.opts.page]) {
                        if (t.corner = U._isIArea.call(this, e), t.corner && U._foldingPage.call(this)) return this.trigger("pressed", [t.point]), U._showFoldedPage.call(this, t.corner), !1;
                        t.corner = null
                    }
                },
                _eventMove: function(e) {
                    var t, i = this.data().f;
                    i.disabled || (e = f ? e.originalEvent.touches : [e], i.corner ? (t = i.parent.offset(), i.corner.x = e[0].pageX - t.left, i.corner.y = e[0].pageY - t.top, U._showFoldedPage.call(this, i.corner)) : i.hover && !this.data().effect && this.is(":visible") && ((e = U._isIArea.call(this, e[0])) ? ("sheet" == i.effect && 2 == e.corner.length || "hard" == i.effect) && (i.status = "hover", i = U._c.call(this, e.corner, i.opts.cornerSize / 2), e.x = i.x, e.y = i.y, U._showFoldedPage.call(this, e, !0)) : "hover" == i.status && (i.status = "", U.hideFoldedPage.call(this, !0))))
                },
                _eventEnd: function() {
                    var e = this.data().f,
                        t = e.corner;
                    !e.disabled && t && "prevented" != c("released", this, [e.point || t]) && U.hideFoldedPage.call(this, !0), e.corner = null
                },
                disable: function(e) {
                    return U.setData.call(this, {
                        disabled: e
                    }), this
                },
                hover: function(e) {
                    return U.setData.call(this, {
                        hover: e
                    }), this
                },
                peel: function(e, t) {
                    var i, s = this.data().f;
                    if (e) {
                        if (-1 == u.inArray(e, n.all)) throw o("Corner " + e + " is not permitted"); - 1 != u.inArray(e, U._cAllowed.call(this)) && (i = U._c.call(this, e, s.opts.cornerSize / 2), s.status = "peel", U._showFoldedPage.call(this, {
                            corner: e,
                            x: i.x,
                            y: i.y
                        }, t))
                    } else s.status = "", U.hideFoldedPage.call(this, t);
                    return this
                }
            };
        window.requestAnim = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(e) {
            window.setTimeout(e, 1e3 / 60)
        }, u.extend(u.fn, {
            flip: function() {
                return e(u(this[0]), U, arguments)
            },
            turn: function() {
                return e(u(this[0]), y, arguments)
            },
            transform: function(e, t) {
                var i = {};
                return t && (i[N + "transform-origin"] = t), i[N + "transform"] = e, this.css(i)
            },
            animatef: function(s) {
                var n = this.data();
                if (n.effect && n.effect.stop(), s) {
                    s.to.length || (s.to = [s.to]), s.from.length || (s.from = [s.from]);
                    for (var a = [], o = s.to.length, r = !0, l = this, d = (new Date).getTime(), c = function() {
                            if (n.effect && r) {
                                for (var e = [], t = Math.min(s.duration, (new Date).getTime() - d), i = 0; i < o; i++) e.push(n.effect.easing(1, t, s.from[i], a[i], s.duration));
                                s.frame(1 == o ? e[0] : e), t == s.duration ? (delete n.effect, l.data(n), s.complete && s.complete()) : window.requestAnim(c)
                            }
                        }, e = 0; e < o; e++) a.push(s.to[e] - s.from[e]);
                    n.effect = u.extend({
                        stop: function() {
                            r = !1
                        },
                        easing: function(e, t, i, s, n) {
                            return s * Math.sqrt(1 - (t = t / n - 1) * t) + i
                        }
                    }, s), this.data(n), c()
                } else delete n.effect
            }
        }), u.isTouch = f, u.mouseEvents = m, u.cssPrefix = a, u.cssTransitionEnd = function() {
            var e, t = document.createElement("fakeelement"),
                i = {
                    transition: "transitionend",
                    OTransition: "oTransitionEnd",
                    MSTransition: "transitionend",
                    MozTransition: "transitionend",
                    WebkitTransition: "webkitTransitionEnd"
                };
            for (e in i)
                if (void 0 !== t.style[e]) return i[e]
        }, u.findPos = h
    }(jQuery), ! function(Te, e, Ee) {
        "use strict";

        function Ae(o, e, O) {
            function q(e) {
                var l, d, c, u, h, p, t, i = P.length;
                if (C.old = Te.extend({}, C), w = v ? 0 : y[m.horizontal ? "width" : "height"](), S = k[m.horizontal ? "width" : "height"](), _ = v ? o : b[m.horizontal ? "outerWidth" : "outerHeight"](), P.length = 0, C.start = 0, C.end = nt(_ - w, 0), j && (M.length, $ = b.children(m.itemSelector), M.length = 0, d = Ie(b, m.horizontal ? "paddingLeft" : "paddingTop"), c = Ie(b, m.horizontal ? "paddingRight" : "paddingBottom"), t = "border-box" === Te($).css("boxSizing"), u = "none" !== $.css("float"), h = 0, p = $.length - 1, _ = 0, $.each(function(e, t) {
                        var i = Te(t),
                            s = t.getBoundingClientRect(),
                            s = Qe(m.horizontal ? s.width || s.right - s.left : s.height || s.bottom - s.top),
                            n = Ie(i, m.horizontal ? "marginLeft" : "marginTop"),
                            i = Ie(i, m.horizontal ? "marginRight" : "marginBottom"),
                            a = s + n + i,
                            o = !n || !i,
                            r = {};
                        r.el = t, r.size = o ? s : a, r.half = r.size / 2, r.start = _ + (o ? n : 0), r.center = r.start - Qe(w / 2 - r.size / 2), r.end = r.start - w + r.size, e || (_ += d), _ += a, m.horizontal || u || i && n && 0 < e && (_ -= Ze(n, i)), e === p && (r.end += c, _ += c, h = o ? i : 0), M.push(r), l = r
                    }), b[0].style[m.horizontal ? "width" : "height"] = (t ? _ : _ - d - c) + "px", _ -= h, M.length ? (C.start = M[0][I ? "center" : "start"], C.end = I ? l.center : w < _ ? l.end : C.start) : C.start = C.end = 0), C.center = Qe(C.end / 2 + C.start / 2), Y(), x.length && 0 < S && (m.dynamicHandle ? (T = Le(T = C.start === C.end ? S : Qe(S * w / _), m.minHandleSize, S), x[0].style[m.horizontal ? "width" : "height"] = T + "px") : T = x[m.horizontal ? "outerWidth" : "outerHeight"](), E.end = S - T, ke || R()), !v && 0 < w) {
                    var s = C.start,
                        n = "";
                    if (j) Te.each(M, function(e, t) {
                        I ? P.push(t.center) : t.start + t.size > s && s <= C.end && (s = t.start, P.push(s), (s += w) > C.end) && s < C.end + w && P.push(C.end)
                    });
                    else
                        for (; s - w < C.end;) P.push(s), s += w;
                    if (A[0] && i !== P.length) {
                        for (var a = 0; a < P.length; a++) n += m.pageBuilder.call(g, a);
                        (fe = A.html(n).children()).eq(D.activePage).addClass(m.activeClass)
                    }
                }
                D.slideeSize = _, D.frameSize = w, D.sbSize = S, D.handleSize = T, j ? (e && null != m.startAt && (z(m.startAt), g[L ? "toCenter" : "toStart"](m.startAt)), t = M[D.activeItem], r(L && t ? t.center : Le(C.dest, C.start, C.end))) : e ? null != m.startAt && r(m.startAt, 1) : r(Le(C.dest, C.start, C.end)), f("load")
            }

            function r(e, t, i) {
                var s;
                j && h.released && !i && (i = W(e), s = e > C.start && e < C.end, L ? (s && (e = M[i.centerItem].center), I && m.activateMiddle && z(i.centerItem)) : s && (e = M[i.firstItem].start)), h.init && h.slidee && m.elasticBounds ? e > C.end ? e = C.end + (e - C.end) / 6 : e < C.start && (e = C.start + (e - C.start) / 6) : e = Le(e, C.start, C.end), u.start = +new Date, u.time = 0, u.from = C.cur, u.to = e, u.delta = e - C.cur, u.tweesing = h.tweese || h.init && !h.slidee, u.immediate = !u.tweesing && (t || h.init && h.slidee || !m.speed), h.tweese = 0, e !== C.dest && (C.dest = e, f("change"), ke || N()), K(), Y(), G(), fe[0] && c.page !== D.activePage && (c.page = D.activePage, fe.removeClass(m.activeClass).eq(D.activePage).addClass(m.activeClass), f("activePage", c.page))
            }

            function N() {
                g.initialized && (ke ? (u.immediate ? C.cur = u.to : u.tweesing ? (u.tweeseDelta = u.to - C.cur, Je(u.tweeseDelta) < .1 ? C.cur = u.to : C.cur += u.tweeseDelta * (h.released ? m.swingSpeed : m.syncSpeed)) : (u.time = Ze(+new Date - u.start, m.speed), C.cur = u.from + u.delta * Te.easing[m.easing](u.time / m.speed, u.time, 0, 1, m.speed)), u.to === C.cur ? (C.cur = u.to, h.tweese = ke = 0) : ke = Be(N), f("move"), v || (Fe ? b[0].style[Fe] = Oe + (m.horizontal ? "translateX" : "translateY") + "(" + -C.cur + "px)" : b[0].style[m.horizontal ? "left" : "top"] = -Qe(C.cur) + "px"), !ke && h.released && f("moveEnd"), R()) : (ke = Be(N), h.released && f("moveStart")))
            }

            function R() {
                x.length && (E.cur = C.start === C.end ? 0 : ((h.init && !h.slidee ? C.dest : C.cur) - C.start) / (C.end - C.start) * E.end, E.cur = Le(Qe(E.cur), E.start, E.end), c.hPos !== E.cur) && (c.hPos = E.cur, Fe ? x[0].style[Fe] = Oe + (m.horizontal ? "translateX" : "translateY") + "(" + E.cur + "px)" : x[0].style[m.horizontal ? "left" : "top"] = E.cur + "px")
            }

            function B() {
                t.speed && C.cur !== (0 < t.speed ? C.end : C.start) || g.stop(), Se = h.init ? Be(B) : 0, t.now = +new Date, t.pos = C.cur + (t.now - t.lastTime) / 1e3 * t.speed, r(h.init ? t.pos : Qe(t.pos)), h.init || C.cur !== C.dest || f("moveEnd"), t.lastTime = t.now
            }

            function U(e, t, i) {
                "boolean" === Pe(t) && (i = t, t = Ee), t === Ee ? r(C[e], i) : L && "center" !== e || (t = g.getPos(t)) && r(t[e], i, !L)
            }

            function V(e) {
                return null != e ? De(e) ? 0 <= e && e < M.length ? e : -1 : $.index(e) : -1
            }

            function H(e) {
                return V(De(e) && e < 0 ? e + M.length : e)
            }

            function z(e, t) {
                e = V(e);
                return !(!j || e < 0) && (c.active === e && !t || ($.eq(D.activeItem).removeClass(m.activeClass), $.eq(e).addClass(m.activeClass), c.active = D.activeItem = e, G(), f("active", e)), e)
            }

            function W(e) {
                e = Le(De(e) ? e : C.dest, C.start, C.end);
                var t = {},
                    i = I ? 0 : w / 2;
                if (!v)
                    for (var s = 0, n = P.length; s < n; s++) {
                        if (e >= C.end || s === P.length - 1) {
                            t.activePage = P.length - 1;
                            break
                        }
                        if (e <= P[s] + i) {
                            t.activePage = s;
                            break
                        }
                    }
                if (j) {
                    for (var a = !1, o = !1, r = !1, l = 0, d = M.length; l < d; l++)
                        if (!1 === a && e <= M[l].start + M[l].half && (a = l), !1 === r && e <= M[l].center + M[l].half && (r = l), l === d - 1 || e <= M[l].end + M[l].half) {
                            o = l;
                            break
                        } t.firstItem = De(a) ? a : 0, t.centerItem = De(r) ? r : t.firstItem, t.lastItem = De(o) ? o : t.centerItem
                }
                return t
            }

            function Y(e) {
                Te.extend(D, W(e))
            }

            function G() {
                var e = C.dest <= C.start,
                    t = C.dest >= C.end,
                    i = (e ? 1 : 0) | (t ? 2 : 0);
                c.slideePosState !== i && (c.slideePosState = i, l.is("button,input") && l.prop("disabled", e), Ce.is("button,input") && Ce.prop("disabled", t), l.add(_e)[e ? "addClass" : "removeClass"](m.disabledClass), Ce.add(s)[t ? "addClass" : "removeClass"](m.disabledClass)), c.fwdbwdState !== i && h.released && (c.fwdbwdState = i, _e.is("button,input") && _e.prop("disabled", e), s.is("button,input")) && s.prop("disabled", t), j && null != D.activeItem && (i = 0 === D.activeItem, e = D.activeItem >= M.length - 1, c.itemsButtonState !== (t = (i ? 1 : 0) | (e ? 2 : 0))) && (c.itemsButtonState = t, n.is("button,input") && n.prop("disabled", i), a.is("button,input") && a.prop("disabled", e), n[i ? "addClass" : "removeClass"](m.disabledClass), a[e ? "addClass" : "removeClass"](m.disabledClass))
            }

            function X(e, t, i) {
                var s, n, a;
                e = H(e), t = H(t), !(-1 < e && -1 < t && e !== t) || i && t === e - 1 || !i && t === e + 1 || ($.eq(e)[i ? "insertAfter" : "insertBefore"](M[t].el), s = e < t ? e : i ? t : t - 1, n = t < e ? e : i ? t + 1 : t, a = t < e, null != D.activeItem && (e === D.activeItem ? c.active = D.activeItem = i ? a ? t + 1 : t : a ? t : t - 1 : D.activeItem > s && D.activeItem < n && (c.active = D.activeItem += a ? 1 : -1)), q())
            }

            function J(e, t) {
                for (var i = 0, s = d[e].length; i < s; i++)
                    if (d[e][i] === t) return i;
                return -1
            }

            function K() {
                h.released && !g.isPaused && g.resume()
            }

            function Q(e) {
                return Qe(Le(e, E.start, E.end) / E.end * (C.end - C.start)) + C.start
            }

            function Z() {
                h.history[0] = h.history[1], h.history[1] = h.history[2], h.history[2] = h.history[3], h.history[3] = h.delta
            }

            function ee(e) {
                h.released = 0, h.source = e, h.slidee = "slidee" === e
            }

            function te(e) {
                var t = "touchstart" === e.type,
                    i = e.data.source,
                    s = "slidee" === i;
                h.init || !t && ne(e.target) || ("handle" !== i || m.dragHandle && E.start !== E.end) && (!s || (t ? m.touchDragging : m.mouseDragging && e.which < 2)) && (t || $e(e), ee(i), h.init = 0, h.$source = Te(e.target), h.touch = t, h.pointer = t ? e.originalEvent.touches[0] : e, h.initX = h.pointer.pageX, h.initY = h.pointer.pageY, h.initPos = (s ? C : E).cur, h.start = +new Date, h.time = 0, h.path = 0, h.delta = 0, h.locked = 0, h.history = [0, 0, 0, 0], h.pathToLock = s ? t ? 30 : 10 : 0, Ue.on(t ? ze : He, ie), g.pause(1), (s ? b : x).addClass(m.draggedClass), f("moveStart"), s) && (xe = setInterval(Z, 10))
            }

            function ie(e) {
                if (h.released = "mouseup" === e.type || "touchend" === e.type, h.pointer = h.touch ? e.originalEvent[h.released ? "changedTouches" : "touches"][0] : e, h.pathX = h.pointer.pageX - h.initX, h.pathY = h.pointer.pageY - h.initY, h.path = st(Ke(h.pathX, 2) + Ke(h.pathY, 2)), h.delta = m.horizontal ? h.pathX : h.pathY, h.released || !(h.path < 1)) {
                    if (!h.init) {
                        if (h.path < m.dragThreshold) return h.released ? se() : Ee;
                        if (!(m.horizontal ? Je(h.pathX) > Je(h.pathY) : Je(h.pathX) < Je(h.pathY))) return se();
                        h.init = 1
                    }
                    $e(e), !h.locked && h.path > h.pathToLock && h.slidee && (h.locked = 1, h.$source.on(Ye, Me)), h.released && (se(), m.releaseSwing) && h.slidee && (h.swing = (h.delta - h.history[0]) / 40 * 300, h.delta += h.swing, h.tweese = 10 < Je(h.swing)), r(h.slidee ? Qe(h.initPos - h.delta) : Q(h.initPos + h.delta))
                }
            }

            function se() {
                clearInterval(xe), h.released = !0, Ue.off(h.touch ? ze : He, ie), (h.slidee ? b : x).removeClass(m.draggedClass), setTimeout(function() {
                    h.$source.off(Ye, Me)
                }), C.cur === C.dest && h.init && f("moveEnd"), g.resume(1), h.init = 0
            }

            function ne(e) {
                return ~Te.inArray(e.nodeName, it) || Te(e).is(m.interactive)
            }

            function ae() {
                g.stop(), Ue.off("mouseup", ae)
            }

            function oe(e) {
                switch ($e(e), this) {
                    case s[0]:
                    case _e[0]:
                        g.moveBy(s.is(this) ? m.moveBy : -m.moveBy), Ue.on("mouseup", ae);
                        break;
                    case n[0]:
                        g.prev();
                        break;
                    case a[0]:
                        g.next();
                        break;
                    case l[0]:
                        g.prevPage();
                        break;
                    case Ce[0]:
                        g.nextPage()
                }
            }

            function re(e) {
                e.originalEvent.sly = g;
                var t = +new Date;
                et + m.scrollHijack > t && be[0] !== document && be[0] !== window ? et = t : m.scrollBy && C.start !== C.end && (t = e.originalEvent, p.curDelta = (m.horizontal ? t.deltaY || t.deltaX : t.deltaY) || -t.wheelDelta, p.curDelta /= 1 === t.deltaMode ? 3 : 100, t = j ? (qe = +new Date, p.last < qe - p.resetTime && (p.delta = 0), p.last = qe, p.delta += p.curDelta, Je(p.delta) < 1 ? p.finalDelta = 0 : (p.finalDelta = Qe(+p.delta), p.delta %= 1), p.finalDelta) : p.curDelta, (m.scrollTrap || 0 < t && C.dest < C.end || t < 0 && C.dest > C.start) && $e(e, 1), g.slideBy(m.scrollBy * t))
            }

            function le(e) {
                m.clickBar && e.target === k[0] && ($e(e), r(Q((m.horizontal ? e.pageX - k.offset().left : e.pageY - k.offset().top) - T / 2)))
            }

            function de(e) {
                if (m.keyboardNavBy) switch (e.which) {
                    case m.horizontal ? 37:
                        38: $e(e), g["pages" === m.keyboardNavBy ? "prevPage" : "prev"]();
                        break;
                    case m.horizontal ? 39:
                        40: $e(e), g["pages" === m.keyboardNavBy ? "nextPage" : "next"]()
                }
            }

            function ce(e) {
                return ne(this) ? void(e.originalEvent.slyignore = !0) : void(this.parentNode !== b[0] || e.originalEvent.slyignore || g.activate(this))
            }

            function ue() {
                this.parentNode === A[0] && g.activatePage(fe.index(this))
            }

            function he(e) {
                m.pauseOnHover && g["mouseenter" === e.type ? "pause" : "resume"](2)
            }

            function f(e, t) {
                if (d[e]) {
                    for (pe = d[e].length, i = Xe.length = 0; i < pe; i++) Xe.push(d[e][i]);
                    for (i = 0; i < pe; i++) Xe[i].call(g, e, t)
                }
            }
            if (!(this instanceof Ae)) return new Ae(o, e, O);
            var i, pe, m = Te.extend({}, Ae.defaults, e),
                g = this,
                v = De(o),
                y = Te(o),
                b = (m.slidee ? Te(m.slidee) : y.children()).eq(0),
                w = 0,
                _ = 0,
                C = {
                    start: 0,
                    center: 0,
                    end: 0,
                    cur: 0,
                    dest: 0
                },
                k = Te(m.scrollBar).eq(0),
                x = k.children().eq(0),
                S = 0,
                T = 0,
                E = {
                    start: 0,
                    end: 0,
                    cur: 0
                },
                A = Te(m.pagesBar),
                fe = 0,
                P = [],
                $ = 0,
                M = [],
                D = {
                    firstItem: 0,
                    lastItem: 0,
                    centerItem: 0,
                    activeItem: null,
                    activePage: 0
                },
                me = new je(y[0]),
                ge = new je(b[0]),
                ve = new je(k[0]),
                ye = new je(x[0]),
                e = "basic" === m.itemNav,
                I = "forceCentered" === m.itemNav,
                L = "centered" === m.itemNav || I,
                j = !v && (e || L || I),
                be = m.scrollSource ? Te(m.scrollSource) : y,
                we = m.dragSource ? Te(m.dragSource) : y,
                s = Te(m.forward),
                _e = Te(m.backward),
                n = Te(m.prev),
                a = Te(m.next),
                l = Te(m.prevPage),
                Ce = Te(m.nextPage),
                d = {},
                c = {},
                u = {},
                t = {},
                h = {
                    released: 1
                },
                p = {
                    last: 0,
                    delta: 0,
                    resetTime: 200
                },
                ke = 0,
                xe = 0,
                F = 0,
                Se = 0;
            v || (o = y[0]), g.initialized = 0, g.frame = o, g.slidee = b[0], g.pos = C, g.rel = D, g.items = M, g.pages = P, g.isPaused = 0, g.options = m, g.dragging = h, g.reload = function() {
                q()
            }, g.getPos = function(e) {
                var t;
                return j ? -1 !== (t = V(e)) && M[t] : !!(t = b.find(e).eq(0))[0] && (e = m.horizontal ? t.offset().left - b.offset().left : t.offset().top - b.offset().top, t = t[m.horizontal ? "outerWidth" : "outerHeight"](), {
                    start: e,
                    center: e - w / 2 + t / 2,
                    end: e - w + t,
                    size: t
                })
            }, g.moveBy = function(e) {
                t.speed = e, !h.init && t.speed && C.cur !== (0 < t.speed ? C.end : C.start) && (t.lastTime = +new Date, t.startPos = C.cur, ee("button"), h.init = 1, f("moveStart"), Re(Se), B())
            }, g.stop = function() {
                "button" === h.source && (h.init = 0, h.released = 1)
            }, g.prev = function() {
                g.activate(null == D.activeItem ? 0 : D.activeItem - 1)
            }, g.next = function() {
                g.activate(null == D.activeItem ? 0 : D.activeItem + 1)
            }, g.prevPage = function() {
                g.activatePage(D.activePage - 1)
            }, g.nextPage = function() {
                g.activatePage(D.activePage + 1)
            }, g.slideBy = function(e, t) {
                e && (j ? g[L ? "toCenter" : "toStart"](Le((L ? D.centerItem : D.firstItem) + m.scrollBy * e, 0, M.length)) : r(C.dest + e, t))
            }, g.slideTo = function(e, t) {
                r(e, t)
            }, g.toStart = function(e, t) {
                U("start", e, t)
            }, g.toEnd = function(e, t) {
                U("end", e, t)
            }, g.toCenter = function(e, t) {
                U("center", e, t)
            }, g.getIndex = V, g.activate = function(e, t) {
                e = z(e);
                m.smart && !1 !== e && (L ? g.toCenter(e, t) : e >= D.lastItem ? g.toStart(e, t) : e <= D.firstItem ? g.toEnd(e, t) : K())
            }, g.activatePage = function(e, t) {
                De(e) && r(P[Le(e, 0, P.length - 1)], t)
            }, g.resume = function(e) {
                m.cycleBy && m.cycleInterval && ("items" !== m.cycleBy || M[0] && null != D.activeItem) && !(e < g.isPaused) && (g.isPaused = 0, F ? F = clearTimeout(F) : f("resume"), F = setTimeout(function() {
                    switch (f("cycle"), m.cycleBy) {
                        case "items":
                            g.activate(D.activeItem >= M.length - 1 ? 0 : D.activeItem + 1);
                            break;
                        case "pages":
                            g.activatePage(D.activePage >= P.length - 1 ? 0 : D.activePage + 1)
                    }
                }, m.cycleInterval))
            }, g.pause = function(e) {
                e < g.isPaused || (g.isPaused = e || 100, F && (F = clearTimeout(F), f("pause")))
            }, g.toggle = function() {
                g[F ? "pause" : "resume"]()
            }, g.set = function(e, t) {
                Te.isPlainObject(e) ? Te.extend(m, e) : m.hasOwnProperty(e) && (m[e] = t)
            }, g.add = function(e, t) {
                e = Te(e);
                j ? (null == t || !M[0] || t >= M.length ? e.appendTo(b) : M.length && e.insertBefore(M[t].el), null != D.activeItem && t <= D.activeItem && (c.active = D.activeItem += e.length)) : b.append(e), q()
            }, g.remove = function(e) {
                var t, i;
                j ? -1 < (t = H(e)) && ($.eq(t).remove(), i = t === D.activeItem, null != D.activeItem && t < D.activeItem && (c.active = --D.activeItem), q(), i) && (c.active = null, g.activate(D.activeItem)) : (Te(e).remove(), q())
            }, g.moveAfter = function(e, t) {
                X(e, t, 1)
            }, g.moveBefore = function(e, t) {
                X(e, t)
            }, g.on = function(e, t) {
                if ("object" === Pe(e))
                    for (var i in e) e.hasOwnProperty(i) && g.on(i, e[i]);
                else if ("function" === Pe(t))
                    for (var s = e.split(" "), n = 0, a = s.length; n < a; n++) d[s[n]] = d[s[n]] || [], -1 === J(s[n], t) && d[s[n]].push(t);
                else if ("array" === Pe(t))
                    for (var o = 0, r = t.length; o < r; o++) g.on(e, t[o])
            }, g.one = function(t, i) {
                g.on(t, function e() {
                    i.apply(g, arguments), g.off(t, e)
                })
            }, g.off = function(e, t) {
                if (t instanceof Array)
                    for (var i = 0, s = t.length; i < s; i++) g.off(e, t[i]);
                else
                    for (var n = e.split(" "), a = 0, o = n.length; a < o; a++) {
                        var r;
                        d[n[a]] = d[n[a]] || [], null == t ? d[n[a]].length = 0 : -1 !== (r = J(n[a], t)) && d[n[a]].splice(r, 1)
                    }
            }, g.destroy = function() {
                return Ae.removeInstance(o), be.add(x).add(k).add(A).add(s).add(_e).add(n).add(a).add(l).add(Ce).off(".sly"), Ue.off("keydown", de), n.add(a).add(l).add(Ce).removeClass(m.disabledClass), $ && null != D.activeItem && $.eq(D.activeItem).removeClass(m.activeClass), A.empty(), v || (y.off(".sly"), me.restore(), ge.restore(), ve.restore(), ye.restore(), Te.removeData(o, Ne)), M.length = P.length = 0, c = {}, g.initialized = 0, g
            }, g.init = function() {
                if (!g.initialized) {
                    if (Ae.getInstance(o)) throw new Error("There is already a Sly instance on this element");
                    Ae.storeInstance(o, g), g.on(O);
                    var e = ["overflow", "position"],
                        t = ["position", "webkitTransform", "msTransform", "transform", "left", "top", "width", "height"],
                        e = (me.save.apply(me, e), ve.save.apply(ve, e), ge.save.apply(ge, t), ye.save.apply(ye, t), x);
                    return v || (e = e.add(b), y.css("overflow", "hidden"), Fe) || "static" !== y.css("position") || y.css("position", "relative"), Fe ? Oe && e.css(Fe, Oe) : ("static" === k.css("position") && k.css("position", "relative"), e.css({
                        position: "absolute"
                    })), m.forward && s.on(Ge, oe), m.backward && _e.on(Ge, oe), m.prev && n.on(Ye, oe), m.next && a.on(Ye, oe), m.prevPage && l.on(Ye, oe), m.nextPage && Ce.on(Ye, oe), be.on(We, re), k[0] && k.on(Ye, le), j && m.activateOn && y.on(m.activateOn + "." + Ne, "*", ce), A[0] && m.activatePageOn && A.on(m.activatePageOn + "." + Ne, "*", ue), we.on(Ve, {
                        source: "slidee"
                    }, te), x && x.on(Ve, {
                        source: "handle"
                    }, te), Ue.on("keydown", de), v || (y.on("mouseenter.sly mouseleave.sly", he), y.on("scroll.sly", tt)), g.initialized = 1, q(!0), m.cycleBy && !v && g[m.startPaused ? "pause" : "resume"](), g
                }
            }
        }

        function Pe(e) {
            return null == e ? String(e) : "object" == typeof e || "function" == typeof e ? Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase() || "object" : typeof e
        }

        function $e(e, t) {
            e.preventDefault(), t && e.stopPropagation()
        }

        function Me(e) {
            $e(e, 1), Te(this).off(e.type, Me)
        }

        function tt() {
            this.scrollLeft = 0, this.scrollTop = 0
        }

        function De(e) {
            return !isNaN(parseFloat(e)) && isFinite(e)
        }

        function Ie(e, t) {
            return 0 | Qe(String(e.css(t)).replace(/[^\-0-9.]/g, ""))
        }

        function Le(e, t, i) {
            return e < t ? t : i < e ? i : e
        }

        function je(t) {
            var i = {
                style: {},
                save: function() {
                    if (t && t.nodeType) {
                        for (var e = 0; e < arguments.length; e++) i.style[arguments[e]] = t.style[arguments[e]];
                        return i
                    }
                },
                restore: function() {
                    if (t && t.nodeType) {
                        for (var e in i.style) i.style.hasOwnProperty(e) && (t.style[e] = i.style[e]);
                        return i
                    }
                }
            };
            return i
        }
        var Fe, Oe, qe, n, a, t, s, i, Ne = "sly",
            Re = e.cancelAnimationFrame || e.cancelRequestAnimationFrame,
            Be = e.requestAnimationFrame,
            Ue = Te(document),
            Ve = "touchstart.sly mousedown.sly",
            He = "mousemove.sly mouseup.sly",
            ze = "touchmove.sly touchend.sly",
            We = (document.implementation.hasFeature("Event.wheel", "3.0") ? "wheel." : "mousewheel.") + Ne,
            Ye = "click.sly",
            Ge = "mousedown.sly",
            it = ["INPUT", "SELECT", "BUTTON", "TEXTAREA"],
            Xe = [],
            Je = Math.abs,
            st = Math.sqrt,
            Ke = Math.pow,
            Qe = Math.round,
            nt = Math.max,
            Ze = Math.min,
            et = 0;

        function o(e) {
            for (var t = 0, i = n.length; t < i; t++) {
                var s = n[t] ? n[t] + e.charAt(0).toUpperCase() + e.slice(1) : e;
                if (null != a.style[s]) return s
            }
        }
        Ue.on(We, function(e) {
            var e = e.originalEvent.sly,
                t = +new Date;
            (!e || e.options.scrollHijack < t - et) && (et = t)
        }), Ae.getInstance = function(e) {
            return Te.data(e, Ne)
        }, Ae.storeInstance = function(e, t) {
            return Te.data(e, Ne, t)
        }, Ae.removeInstance = function(e) {
            return Te.removeData(e, Ne)
        }, t = window, Be = t.requestAnimationFrame || t.webkitRequestAnimationFrame || function(e) {
            var t = (new Date).getTime(),
                i = Math.max(0, 16 - (t - s)),
                e = setTimeout(e, i);
            return s = t, e
        }, s = (new Date).getTime(), i = t.cancelAnimationFrame || t.webkitCancelAnimationFrame || t.clearTimeout, Re = function(e) {
            i.call(t, e)
        }, n = ["", "Webkit", "Moz", "ms", "O"], a = document.createElement("div"), Fe = o("transform"), Oe = o("perspective") ? "translateZ(0) " : "", e.Sly = Ae, Te.fn.sly = function(s, n) {
            var a, o;
            return Te.isPlainObject(s) || ("string" !== Pe(s) && !1 !== s || (a = !1 === s ? "destroy" : s, o = Array.prototype.slice.call(arguments, 1)), s = {}), this.each(function(e, t) {
                var i = Ae.getInstance(t);
                i || a ? i && a && i[a] && i[a].apply(i, o) : new Ae(t, s, n).init()
            })
        }, Ae.defaults = {
            slidee: null,
            horizontal: !1,
            itemNav: null,
            itemSelector: null,
            smart: !1,
            activateOn: null,
            activateMiddle: !1,
            scrollSource: null,
            scrollBy: 0,
            scrollHijack: 300,
            scrollTrap: !1,
            dragSource: null,
            mouseDragging: !1,
            touchDragging: !1,
            releaseSwing: !1,
            swingSpeed: .2,
            elasticBounds: !1,
            dragThreshold: 3,
            interactive: null,
            scrollBar: null,
            dragHandle: !1,
            dynamicHandle: !1,
            minHandleSize: 50,
            clickBar: !1,
            syncSpeed: .5,
            pagesBar: null,
            activatePageOn: null,
            pageBuilder: function(e) {
                return "<li>" + (e + 1) + "</li>"
            },
            forward: null,
            backward: null,
            prev: null,
            next: null,
            prevPage: null,
            nextPage: null,
            cycleBy: null,
            cycleInterval: 5e3,
            pauseOnHover: !1,
            startPaused: !1,
            moveBy: 300,
            speed: 0,
            easing: "swing",
            startAt: null,
            keyboardNavBy: null,
            draggedClass: "dragged",
            activeClass: "active",
            disabledClass: "disabled"
        }
    }(jQuery, window), $(document).ready(function() {
        $(document).on("click", ".js-mag-launch", function() {
            var e = $(this),
                t = (device.prototype.isMobile && $('meta[name="viewport"]').attr("content", "width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"), $(".mv-mag-wrapper")),
                i = "",
                s = t.data("server"),
                n = (void 0 === t.data("mag-type") ? e : t).data("mag-type");
            i = "StarLight" === n ? (dwnldHref = e.closest(".card-starlight").find("a").data("download"), "dev" == s ? "https://cdn3.manyvids.com/site_files/starlight/test/" + e.data("mag") : "https://cdn3.manyvids.com/site_files/starlight/" + e.data("mag")) : (dwnldHref = ($("body").hasClass("mv-daily-page") ? e : e.closest(".card-mag").find("a")).data("download"), "dev" == s ? "https://cdn3.manyvids.com/site_files/mag/test/" + e.data("mag") : "https://cdn3.manyvids.com/site_files/mag/" + e.data("mag"));
            for (var a = +e.data("pages"), o = '<div class="mag-viewport"><div class="mag-controls-wrapper"><div class="mag-controls"><a href="' + dwnldHref + '" class="icon download-attachment-light-icon large download-block"></a><a href="javascript:;" class="icon x-white-icon large mag-kill"></a></div></div>\t<div class="fixed-wrapper middle-x-y"><a href="javascript:;" class="icon arrow-left-grey-icon large mag-back"></a><a href="javascript:;" class="icon arrow-right-grey-icon large mag-next"></a><div class="flipbook-wrapper"><div class="flipbook">', r = 1; r <= a; r++) o += '<div class="page"><img src="' + i + r + '.jpg" alt=""></div>';
            o += '</div></div></div></div><div class="mag-overlay"></div>', t.append(o), $("body").addClass("no-overflow"), $.post("/view_mag.php", {
                issue: e.data("issue"),
                mvtoken: globalSettings.prototype.mvtoken,
                magtype: n
            }, function(e) {});
            var l = "",
                s = $(".flipbook-wrapper");
            device.prototype.isMobile ? device.prototype.isMobile && (t = s.parent(), $(".flipbook img").width($(window).width()), s.sly({
                horizontal: 1,
                itemNav: "forceCentered",
                smart: 1,
                activateMiddle: 1,
                touchDragging: 1,
                releaseSwing: 1,
                startAt: 0,
                scrollBy: 1,
                speed: 300,
                elasticBounds: 1,
                easing: "easeOutExpo",
                dragHandle: 1,
                dynamicHandle: 1,
                clickBar: 1,
                prev: t.find(".mag-back"),
                next: t.find(".mag-next")
            }), $(".mag-kill").click(function() {
                $(".mag-viewport").remove(), $(".mag-overlay").remove(), $("body").removeClass("no-overflow"), $('meta[name="viewport"]').attr("content", "width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=1")
            })) : (l = $(window).width() < 1200 ? $(".flipbook").turn({
                width: 928,
                height: 600,
                elevation: 50,
                acceleration: !0,
                next: !0,
                autoCenter: !0,
                gradients: !0
            }) : $(".flipbook").turn({
                width: 1186,
                height: 768,
                elevation: 50,
                acceleration: !0,
                next: !0,
                autoCenter: !0,
                gradients: !0
            }), $(".mag-kill").click(function() {
                $(".flipbook").turn("destroy"), $(".mag-viewport").remove(), $(".mag-overlay").remove(), $("body").removeClass("no-overflow")
            }), $(".mag-next").click(function(e) {
                e.preventDefault(), l.turn("next")
            }), $(".mag-back").click(function(e) {
                e.preventDefault(), l.turn("previous")
            }))
        })
    }), $(document).ready(function() {
        $("#lnkTokenBalanceExchange").click(function(e) {
            e.preventDefault(), $("#tokensExchangeConfirm").modal("show")
        }), $("#lnkTokensConvertConfirm").click(function(e) {
            e.preventDefault(), $.ajax({
                url: "/includes/get_earnings.php",
                data: {
                    action: "convert"
                }
            }).done(function(e) {
                "string" == typeof e && "0" === e ? location.reload() : gritter("There was an error while converting the tokens. Please contact support", "Oops!")
            })
        }), $("#lnkTokensConvertCancel").click(function(e) {
            e.preventDefault(), $("#tokensExchangeConfirm").modal("hide")
        })
    }), $("#newCummerIsModel").val()),
    isCurrentModel = $("#newCummerIsCurrentModel").val(),
    badgeDate = "0" !== $("#badgeDate").val() && $("#badgeDate").val(),
    newCummerDisplayNewCummerBadge = $("#newCummerDisplayNewCummerBadge").val(),
    isProfilePage = 0 !== $("#isProfilePage").length,
    mvScore = $("#mvScore").val(),
    isModel = "true" === isModel,
    isCurrentModel = "true" === isCurrentModel,
    newCummerDisplayNewCummerBadge = "true" === newCummerDisplayNewCummerBadge,
    newCummersCallback = function(e) {
        var t;
        void 0 !== e && isModel && !0 === isCurrentModel && (!1 === e.isCompliantWithNewCummers ? ($(".new-cummer-badge-wrapper").hide(), !(t = "Complete your MV Profile to make it searchable & receive all the benefits of your MV Account") === e.data.hasBadge ? (t = "Complete your MV Profile and get the new cummer badge", displayProgressBar(e.data.progress)) : $(".new-cummer-progress-wrapper-image").hide(), displaySideBarMessage(t), $(".new-cummer-link").show()) : !0 === e.data.hasBadge && !0 === e.isInNewCummerWelcomePeriod && displayBadge(e.data.badgeDate)), analyzeDisplayRankAndScorePanel()
    },
    checkNewCummers = ($(document).ready(function() {
        !0 === isProfilePage && (!0 === isCurrentModel ? checkIfDisplayNewCummerPopup(!0, newCummersCallback) : !0 === newCummerDisplayNewCummerBadge && displayBadge(badgeDate), analyzeDisplayRankAndScorePanel())
    }), $("#checkNewCummers").val());

function displayBadge(e) {
    e = e.substr(0, 4), e = "newcummer-badge-" + ("0000" === e ? (new Date).getFullYear().toString() : e) + ".svg";
    $("#imgNewCummerBadge").css("background-image", "url(https://cdn3.manyvids.com/site_files/images/icons/" + e + ")"), $(".new-cummer-badge-wrapper").show(), $(".newCummersPanel").show()
}

function displayProgressBar(e) {
    e = "NewCummer_" + e.toString() + "percent.png";
    $("#newCummerProgressBar").attr("src", "https://cdn3.manyvids.com/site_files/images/icons/" + e), $(".newCummersPanel").show(), $(".new-cummer-progress-wrapper").show(), $(".new-cummer-progress-wrapper-image").show()
}

function displaySideBarMessage(e) {
    $(".js-newcummer-progress-msg").html(e + ".<br><br>"), $(".new-cummer-progress-wrapper").show(), $(".newCummersPanel").show()
}

function analyzeDisplayRankAndScorePanel() {
    var e = "true" === $("#isActivated").val(),
        t = "true" === $("#newCummerCompliant").val();
    0 < mvScore && (!0 == t || !0 == e) ? $("#rankAndScorePanel").show() : $("#rankAndScorePanel").hide()
}

function displayNewCummerPopup(e) {
    var t, i = !1;
    switch (e.step) {
        case 1:
            t = "First-PopUp-New-Cummer";
            break;
        case 2:
            t = "Second-PopUp-New-Cummer", $("#heading").text("You're on Your Way!"), $("#done-task").html("You have  " + e.done + "."), $("#to-be-done-task").html('Now you need to <a href="' + e.link1 + '" class="is-link ' + e.classLink1 + '" onclick="return reloadPage(\'' + e.classLink1 + "')\">" + e.missing1 + '</a> and <a href="' + e.link2 + '" class="is-link ' + e.classLink2 + '" onclick="return reloadPage(\'' + e.classLink2 + "')\">" + e.missing2 + "</a>"), $("#motivating-text").text("Keep going! Your MV Profile is almost active."), $("#last-line").text("");
            break;
        case 3:
            t = "Second-PopUp-New-Cummer", $("#heading").text("Almost There!"), $("#done-task").html("You have " + e.done + "."), $("#to-be-done-task").html("Awesome!"), $("#motivating-text").html('Take the last step. <a href="' + e.link1 + '" class="is-link ' + e.classLink1 + '" onclick="return reloadPage(\'' + e.classLink1 + "')\">" + e.missing1 + "</a> to activate your MV Profile."), $("#last-line").text(""), $("#btnNewCummersPopup2").text("Thanks");
            break;
        case 4:
            t = "Second-PopUp-New-Cummer", $("#heading").text("Congratulations!"), $("#done-task").html("Your MV Profile is complete!"), $("#to-be-done-task").text("Welcome, New Cummer. You are now an active MV Star!"), $("#motivating-text").html("The MV Team is happy to award you the New Cummer badge."), $("#last-line").text("ItÃ¢â‚¬â„¢s your time to shine!"), $("#btnNewCummersPopup2").text("Start Selling "), displayBadge((new Date).getFullYear().toString()), $(".new-cummer-badge-wrapper-popup").show(), $(".new-cummer-progress-wrapper").hide(), i = !0
    }
    return $("#" + t).modal("show"), $.ajax({
        url: "/includes/newCummer.ajax.php",
        method: "post",
        beforeSend: function() {
            $("#loadingDiv,#loadingOverlay").hide()
        },
        data: {
            action: "setShown",
            step: e.step,
            changeInDb: i
        },
        dataType: "json"
    }), i
}

function analyzeUserData(e, t, i) {
    var s = !1;
    (!0 === t && !1 === e.newCummerPopupShown || e.data.currentStep < e.data.step) && (!0 === (s = !1 === e.isCompliantWithNewCummers && !1 === e.data.hasBadge || !0 === e.isCompliantWithNewCummers && !1 === e.lastPopupShown && "0000-00-00 00:00:00" === e.data.activationDate ? displayNewCummerPopup(e.data) : s) || !0 === e.isCompliantWithNewCummers && !1 === e.isActivated && "0000-00-00 00:00:00" !== e.data.activationDate) && 4 === e.data.step && $.ajax({
        url: "/includes/newCummer.ajax.php",
        method: "post",
        beforeSend: function() {
            $("#loadingDiv,#loadingOverlay").hide()
        },
        data: {
            action: "activateUser"
        }
    }).done(function() {
        $(".new-cummer-progress-wrapper").hide(), $(".newCummersPanel").hide(), $("#isActivated").val(!0), $("#newCummerCompliant").val("true"), e.isCompliantWithNewCummers = !0, e.data.hasBadge = !0, "0000-00-00 00:00:00" === e.data.badgeDate && displayBadge((new Date).getFullYear().toString()), void 0 !== i && i(e)
    }), !1 !== i && i(e)
}

function checkIfDisplayNewCummerPopup(t, i) {
    t = void 0 !== t && t, i = void 0 !== i && i, window.MV.isLoggedIn && !0 === checkNewCummers ? $.ajax({
        url: "/includes/newCummer.ajax.php",
        method: "post",
        data: {
            action: "check",
            force: t
        },
        beforeSend: function() {
            $("#loadingDiv,#loadingOverlay").hide()
        },
        dataType: "json"
    }).done(function(e) {
        analyzeUserData(e, t, i)
    }) : !1 !== i && i()
}

function galleryReload() {
    -1 === window.location.href.indexOf("#gallery") && (window.location.href = window.location.href + "#gallery"), window.setTimeout(function() {
        location.reload()
    }, 1)
}

function reloadPage(e) {
    var t = window.location.href.indexOf("Profile"),
        i = window.location.href.indexOf("Profile/Edit");
    "js-link-pics" === e && -1 !== t && -1 === i && galleryReload()
}

function NMIValidateForm() {
    var e = NMIFormValidateField("firstName"),
        t = NMIFormValidateField("lastName"),
        i = NMIFormValidateField("email"),
        s = NMIFormValidateField("agree_terms"),
        n = NMIFormValidateCCField("ccnumber"),
        a = NMIFormValidateCCField("ccexp"),
        o = NMIFormValidateCCField("cvv");
    e && t && i && s && n && a && o ? (document.getElementById("form-fill-text").style.display = "block", document.getElementById("form-error-box").style.display = "none", NMIdisableSubmit(), CollectJS.startPaymentRequest()) : (document.getElementById("form-fill-text").style.display = "none", document.getElementById("form-error-box").style.display = "block")
}

function NMIdisableSubmit() {
    document.getElementById("pay_button").disabled = !0, document.getElementById("pay_button").innerHTML = "Processing..."
}

function NMIFormValidateField(e) {
    NMIFormRemoveError(e);
    var t = document.getElementById(e);
    if ("checkbox" === t.type) {
        if (!t.checked) return document.querySelector(".element .checkmark").classList.add("checkbox-error"), !1;
        document.querySelector(".element .checkmark").classList.remove("checkbox-error")
    } else {
        if (void 0 === t.value || 0 === t.value.length) return NMIFormSetError(e), !1;
        if ("email" === e)
            if (!t.value.match(/\S+@\S+\.\S+/)) return NMIFormSetError(e), !1
    }
    return !0
}

function NMIFormValidateCCField(e, t) {
    var i = t,
        t = (void 0 === t && (i = document.querySelector("#" + e + " .CollectJSValid")), document.getElementById(e + "_state"));
    return t.classList.remove("state-initial"), i ? (document.getElementById(e).classList.remove("elt-error"), t.classList.remove("state-error"), t.classList.add("state-valid"), !0) : (t.classList.remove("state-valid"), t.classList.add("state-error"), !1)
}

function NMIFormSetError(e) {
    document.getElementById(e).classList.add("elt-error"), document.getElementById(e + "_state") && document.getElementById(e + "_state").classList.add("state-error")
}

function NMIFormRemoveError(e) {
    document.getElementById(e).classList.remove("elt-error"), document.getElementById(e + "_state") && document.getElementById(e + "_state").classList.remove("state-error")
}
checkNewCummers = "true" === checkNewCummers, $(document).ready(function() {
    $("#new-cummer-pics, #First-PopUp-New-Cummer .modal-dialog .modal-content .modal-body .js-link-pics").on("click", galleryReload)
}), $(document).ready(function() {
    function e(i) {
        var e = [],
            t = ($("#crushCandidate" + i + " > li").each(function() {
                "selected" === $(this).attr("data-state") && e.push({
                    id: $(this).data("vid-id"),
                    target: "candidate"
                })
            }), $("#crushSelected" + i + " > li").each(function() {
                "available" === $(this).attr("data-state") && e.push({
                    id: $(this).data("vid-id"),
                    target: "selected"
                })
            }), {
                action: i,
                elements: e
            });
        $.ajax({
            url: "/includes/crush_save_content.php",
            type: "post",
            data: t,
            dataType: "json"
        }).done(function(e) {
            !1 === e.error ? (success("Your crush selections were saved successfully", "Success !"), $.each(t.elements, function(e, t) {
                t = $("#" + i + "-" + t.id);
                t.attr("data-state", "selected" === t.data("state") ? "available" : "selected")
            })) : gritter(e.errorMessage.error, "Oops!")
        })
    }
    1 === $("html").data("mobile") || 1 === $("html").data("tablet") ? ($(document).on("click", "ol.pictureboxone li a, ol.pictureboxtwo li a", function() {
        var e = $(this).parent();
        e.clone().appendTo(".picturebox" + e.parent().data("target")), e.remove(), n()
    }), $(document).on("click", "ol.videoboxone li a, ol.videoboxtwo li a", function() {
        var e = $(this).parent();
        e.clone().appendTo(".videobox" + e.parent().data("target")), e.remove(), n()
    })) : 0 < $("ol.crush-management-sortable").length && $("ol.crush-management-sortable").sortable({
        group: "crush-management-sortable",
        pullPlaceholder: !1,
        isValidTarget: function(e, t) {
            return "available" === e.data("state") || e.parent("ol")[0] == t.el[0]
        },
        onDrop: function(e, t, i) {
            var s = $("<li/>").css({
                height: 0
            });
            e.before(s), s.detach(), i(e, t), n()
        },
        onDragStart: function(e, t, i) {
            var s = e.offset(),
                n = t.rootGroup.pointer;
            a = {
                left: n.left - s.left,
                top: n.top - s.top
            }, i(e, t)
        },
        onDrag: function(e, t) {
            e.css({
                left: t.left - a.left,
                top: t.top - a.top
            })
        }
    });
    var a, n = function() {
        $(".js-mv-crush-item-list").each(function() {
            var e = $(this),
                t = e.find("li").length;
            e.find(".js-mv-crush-item-count").text(t)
        })
    };
    $("#btnSaveCrushVideos").on("click", function() {
        e("Videos")
    }), $("#btnSaveCrushPictures").on("click", function() {
        e("Pictures")
    })
}), $(document).ready(function() {
    function t(e) {
        var t, e = $(e),
            i = e.parents(".js-mv-crush-offers"),
            s = $("select.crush-amount.crush-month", i).val(),
            n = $("input.crush-amount.crush-price", i).val(),
            a = $("input.crush-amount.crush-price", i),
            o = a.data("original-price"),
            r = e.data("crush"),
            l = !e.hasClass("noformat"),
            d = e.hasClass("ignore"),
            c = "month";
        o !== n && (o = $("input.crush-amount:not(.minutes):not(.custom-month):not(.ignore)", i).val(), 0 < s) && (!0 === r && "" !== n && (0 < n.indexOf(".") && !/^\d+(?:\.\d{0,2})$/.test(n) ? (gritter("Oops! You have entered a invalid price format.", "Oops!", 1), e.val(n = ""), e.focus()) : o = n / s), "" !== o ? (r && (t = o < 1.99 ? "" : n, t = 29.99 < o ? "" : t), e.data("trial") && (c = "trial"), l ? o < 1.99 ? (gritter("You cannot go lower than $1.99/" + c + ".", "Oops!", 1), a.val(1.99 * s), e.val("")) : 29.99 < o && (gritter("You cannot exceed $29.99/" + c + ".", "Oops!", 1), a.focus(), a.val(29.99 * s)) : (d && (o = a.val(), s = 1), o < 1.99 ? (gritter("You cannot go lower than $1.99/" + c + ".", "Oops!", 1), a.focus(), e.val("")) : 29.99 < o && (gritter("You cannot exceed $29.99/" + c + ".", "Oops!", 1), a.focus(), a.val(29.99 * s)), t = a.val()), convertPerCustomField(t, s, i)) : convertPerCustomField(0, s, i))
    }
    $("input.crush-amount").blur(function(e) {
        t(this)
    }), $("input.crush-amount").blur(function(e) {
        t(this)
    }), $("select.crush-amount").change(function(e) {
        t(this)
    }), $(".js-crush-best-deal").change(function(i) {
        $(".js-crush-best-deal").each(function(e, t) {
            i.currentTarget.name !== t.name && (t.checked = !1)
        })
    }), $(".js-save-all-crush-membership").click(function() {
        var a = [],
            o = !1,
            r = [],
            l = !1,
            t = $(".js-crush-trial-offer"),
            d = parseFloat(t.find(".crush-price").val(), 2),
            c = !1,
            i = $("input[name=crush_price_offer1]"),
            u = !1;
        window.MV.mvDialog.confirm("By changing your price or deleting a crush offer, current subscribers will still<br>get their original offer until they stop renewing their subscription.<br><br>For more information please contact support.", "Club", "Continue").promise.done(function(e) {
            $(".js-mv-crush-offers").each(function(e, t) {
                var i = $(this),
                    t = $(t),
                    s = t.find(".crush-price").val(),
                    n = t.find(".crush-month").val();
                i.hasClass("js-crush-trial-offer") || (-1 !== $.inArray(n, r) && 0 < s ? (o = !0, gritter("You cannot have multiple " + n + " Month Subscribers.", "Oops!")) : ("1" === n && (u = !0, 0 < s) && (0 < d && (l = !0), d >= parseFloat(s, 2)) && (c = !0), 0 < n.length && 0 < s.length && (r.push(n), a.push({
                    frequency: n,
                    price: s,
                    best_deal: t.find("input[type=checkbox]:checked").not(":disabled").val(),
                    offer: t.data("offer")
                }))))
            }), console.log(c), 0 < d && ("" == i.val() || 0 == i.val()) ? gritter("You must have a 1 Month Club in order to set a Trial period", "Oops!") : u && c ? gritter("Your Trial price should be smaller than your 1 Month Club price", "Oops!") : o || (console.log(l), l || 0 !== $(".js-crush-trial-offer").find(".crush-price") ? (l && a.push({
                trial_days: t.find(".crush-month").val(),
                trial_price: t.find(".crush-price").val()
            }), 0 < a.length ? $.ajax({
                type: "POST",
                url: "/includes/saveCrushMembership.php?mvtoken=" + globalSettings.prototype.mvtoken,
                dataType: "json",
                data: {
                    _offers: a
                },
                success: function(e) {
                    !1 === e.error ? (success(e.data.success, "Great!"), window.location.href = "/Profile/Services/mvcrush") : gritter(e.error.errorMessage, "Oops!")
                },
                error: function() {}
            }) : gritter("Please fill out all the required fields.", "Oops!")) : gritter("You can only set a Trial Period if you have a 1 Month Crush Set", "Oops!"))
        })
    }), $("a.delete-offer-crush").click(function() {
        var e = $(this).attr("data-id");
        $("#alertCrushBox").modal("show").find(".js-btn-submit").attr("data-delete-id", e)
    }), $("a.delete-offer-trial-crush").click(function() {
        var e = $(this).attr("data-id");
        $("#alertCrushTrialBox").modal("show").find(".js-btn-submit").attr("data-delete-id", e)
    }), $("#alertCrushBox .js-modal-btn-mv-crush, #alertCrushTrialBox .js-modal-btn-mv-crush").click(function() {
        var e = $(this).attr("data-delete-id");
        $.ajax({
            type: "POST",
            url: "/includes/deleteCrushMembership.php",
            data: {
                id: e
            },
            success: function(e) {
                e.error ? gritter(e.error, "Oops!") : (success(e.success, "Great!"), window.location.href = "/Profile/Services/mvcrush")
            },
            error: function() {},
            dataType: "json"
        })
    }), $(".number-mask").keypress(function(e) {
        e = e.which || e.keyCode;
        return !(46 !== e && 31 < e && (e < 48 || 57 < e))
    }), ["#collapseCrush", "#collapseMakeItRain"].includes(window.location.hash) && $("a[href=" + window.location.hash + "]").click()
}), window.io_global_object_name = "IGLOO", window.IGLOO = window.IGLOO || {
    enable_flash: !1,
    bbout_element_id: "io-blackbox",
    loader: {
        version: "5.1.0"
    }
}, ! function(l) {
    var d = "manage-content-view-sort--asc",
        o = "manage-content-view-sort--desc",
        c = l(".js-display-content-list"),
        s = l(".js-pagination-display"),
        u = l(".js-manage-content-sort"),
        r = l(".js-manage-content-subfilter select"),
        n = l("#advanced_manage_vids_sort"),
        h = l(".js-manage-content-tabs"),
        a = l(".manage-content__empty-result"),
        p = l(".js-toggle-dragdrop"),
        f = l("#manage-content-mobile-category"),
        e = l(".js-content-type-label"),
        m = l(".js-sorting-order-reset"),
        g = !1,
        v = 0,
        y = 0,
        b = l("#pc_advanced_vids_sub_type"),
        w = l(".js-pc-filter-subtype"),
        _ = {
            vids: "vids",
            storeItems: "store-items"
        },
        C = {
            total: 0,
            sold: 0,
            likes: 0,
            earnings: 0
        },
        k = {
            0: {
                orderBy: 0
            },
            2: {
                orderBy: 0
            },
            3: {
                orderBy: 0
            },
            4: {
                orderBy: 0
            },
            5: {
                orderBy: 0
            },
            6: {
                orderBy: 0
            }
        },
        x = {
            pageNumber: 1,
            sort: 0,
            filter: 0,
            pageSize: 50,
            totalCount: 0,
            numberOfPages: 0,
            filterKey: 11,
            updateStats: 1,
            updatePendingVidsCount: 1,
            pendingVidsCount: 0
        },
        S = {
            filterKey: 11,
            updateStats: 1,
            updatePendingVidsCount: 1,
            offset: 1,
            limit: 50,
            sortBy: 0,
            orderBy: 0,
            contentType: _.vids
        },
        T = {
            pageNumber: 1,
            pageSize: 50,
            pendingVidsCount: 0,
            totalCount: 0,
            numberOfPages: 0,
            unpinEarliest: 0
        },
        E = {
            launched: 1,
            scheduled: 2
        },
        A = {
            url: "",
            data: "",
            dataType: "json"
        };

    function P() {
        A.url = "/includes/ajax_repository/manage_content.php", A.data = S, A.success = l.proxy(O, this), D(!1)
    }

    function O(t) {
        a.removeClass("manage-content__empty-result--hide");
        var o, r, e = S.contentType == _.storeItems ? "Items" : "Vids";
        l(".js-order-type").text(e), S.updateStats && (C = t.stats, $()), S.updatePendingVidsCount && (x.pendingVidsCount = t.pending_vids_count, 0 < x.pendingVidsCount && S.contentType === _.vids ? (l(".js-pending-vids-count").text(x.pendingVidsCount), l(".manage-content__pending-vids").show(), c.addClass("manage-content__list--pending-vids"), l("body").addClass("manage-content__has-pending-vids")) : (l(".manage-content__pending-vids").hide(), c.removeClass("manage-content__list--pending-vids"), l("body").removeClass("manage-content__has-pending-vids"))), c.html(""), null !== t.content_list && 0 < t.content_list.length && (T.totalCount = t.total_count, T.unpinEarliest = t.unpinEarliest, jQuery.get("/views/manage-content-item.mustache", function(e) {
            e = Mustache.render(e, {
                manage_video_item: t.content_list
            });
            c.html(e)
        }), a.addClass("manage-content__empty-result--hide")), T.numberOfPages = Math.ceil(T.totalCount / T.pageSize), s.html(""), setTimeout(function() {
            T.totalCount > T.pageSize && s.pagination({
                items: T.totalCount,
                itemsOnPage: T.pageSize,
                currentPage: T.pageNumber,
                cssStyle: "",
                onPageClick: function(e, t) {
                    !0 !== L() && (T.pageNumber = S.offset = e, S.updateStats = 0, P(), l("html, body").animate({
                        scrollTop: 0
                    }, "slow"))
                }
            })
        }, 2e3), 1 === T.numberOfPages ? l("body").addClass("manage-content__hide-move-to") : (l("body").removeClass("manage-content__hide-move-to"), r = o = 1, setTimeout(function() {
            if (1 < T.numberOfPages) {
                var e = l(".js-moveto-container"),
                    t = l(".js-moveto"),
                    i = l(".js-pc-move-to-list-display-list");
                for (e.removeClass("is-hidden"), t.html(""); o <= T.numberOfPages; o++) {
                    var s = T.pageNumber == o ? "disabled" : "";
                    l("<li />").attr({
                        class: "js-move-to-page " + s,
                        "data-move-to-page": o
                    }).text(o).appendTo(t)
                }
                for (var n = l("<ul />").attr({
                        class: "manage-content__pc-move-to--list-display"
                    }); r <= T.numberOfPages; r++) {
                    var a = T.pageNumber == r ? "disabled" : "";
                    l("<li />").attr({
                        class: "js-move-to-page " + a,
                        "data-move-to-page": r
                    }).text(r).appendTo(n), r % 5 != 0 && T.numberOfPages != r || (n.appendTo(i), n = l("<ul />").attr({
                        class: "manage-content__pc-move-to--list-display"
                    }))
                }
            }
        }, 1e3))
    }

    function $() {
        l(".js-filter-total").text(C.total), g && (C.sold = 0, C.likes = 0, C.views = 0, C.earnings = 0), l(".js-filter-sold").text(C.sold), l(".js-filter-likes").text(C.likes), l(".js-filter-views").text(C.views), l(".js-filter-earnings").text("$" + C.earnings), l(".js-content-type").text("vids" === S.contentType ? "Vids" : "Store Items"), l(".js-likes-label").text("vids" === S.contentType ? "Likes" : "In Stock"), e.text("vids" === S.contentType ? "Vids" : "Items"), S.contentType === _.storeItems ? (l(".js-filter-likes").removeClass("manage-content__header-summary--likes").addClass("manage-content__header-summary--instock"), n.find("option[value=4]").text("In Stock")) : (l(".js-filter-likes").removeClass("manage-content__header-summary--instock").addClass("manage-content__header-summary--likes"), n.find("option[value=4]").text("Likes"))
    }

    function M(e) {
        k[e].orderBy = 0 === k[e].orderBy ? 1 : 0, S.sortBy = e, S.orderBy = k[e].orderBy, P()
    }

    function D(e) {
        A.type = !0 === e ? "POST" : "GET", l.ajax(A)
    }

    function I() {
        var e, t = S.contentType === _.storeItems && "" === S.filterKey || S.contentType === _.vids && "11" === S.filterKey;
        t = t, e = l(".manage-content__header-filter__dragdrop-info"), t ? (p.removeClass("is-hidden"), e.removeClass("is-hidden")) : (p.addClass("is-hidden"), e.addClass("is-hidden"))
    }

    function L() {
        return !!c.hasClass("js-sorting-has-changed") && (gritter("the action cannot be performed in re-ordering mode", "Oops!"), !0)
    }

    function t(e) {
        var t = L();
        if (!0 !== t) {
            var i, s = E.launched,
                t = l(".js-pc-filter-subtype .nice-select"),
                n = t.find(".option"),
                a = n.first(),
                o = "selected focus";
            switch (e) {
                case "launched":
                    b.find('option[value="5"]').attr("disabled", !1), b.find('option[value="6"]').attr("disabled", !1), r.find('option[value="5"]').attr("disabled", !1), w.find(".option[data-value=5]").show(), w.find(".option[data-value=6]").show(), S.updateStats = x.updateStats = 1, l("body").removeClass("hide-pin-tweet"), g = !1;
                    break;
                case "scheduled":
                    b.find('option[value="5"]').attr("disabled", !0), b.find('option[value="6"]').attr("disabled", !0), w.find(".option[data-value=5]").hide(), w.find(".option[data-value=6]").hide(), r.find('option[value="5"]').attr("disabled", !0), s = E.scheduled, l("body").addClass("hide-pin-tweet"), g = !0
            }
            for (i in b.find("option[value=1]").attr("selected", !0), n.removeClass(o), a.addClass(o), t.find(".current").text(a.text()), S.filterKey = s + "1", T.pageNumber = 1, T.totalCount = 0, S.offset = 1, S.sortBy = 0, u.removeClass(d), k) k[i].orderBy = 0;
            P()
        }
    }

    function j() {
        setTimeout(function() {
            var e = l("body").hasClass("manage-content__save-order-enabled");
            l(".manage-content__list-item__dropdown .dropdown .dropdown-toggle").toggleClass("disabled", e), l(".js-display-content-list .dropdown-toggle").toggleClass("disabled", e), l(".js-pc-filter-subtype .nice-select").prop("disabled", e), l(".js-pc-filter-subtype .nice-select").niceSelect("update"), l(".js-manage-content-subfilter select").prop("disabled", e), n.prop("disabled", e), f.prop("disabled", e)
        }, 1e3)
    }

    function F(e) {
        var t = l(window).height(),
            i = l(".main-header").height(),
            s = l(".sub-header ").height(),
            n = l(".js-manage-content-header").height(),
            a = l(".js-pagination-display").height(),
            o = l(".top-header").height();
        e ? (c.removeAttr("style"), l("body").removeClass("manage-content__scroll-lock")) : (e = t - (i + s + n + o + a), window.scrollTo(0, 0), l("body").addClass("manage-content__scroll-lock"), c.css({
            "overflow-y": "scroll",
            "overflow-x": "hidden",
            height: e + "px"
        }))
    }

    function q() {
        var e, t = S.contentType === _.storeItems ? "Items" : "Vids",
            s = [];
        for (s.push({
                value: "0",
                text: t
            }), n.find("option").map(function() {
                "0" !== l(this).val() && (e = {
                    value: l(this).val(),
                    text: l(this).text()
                }, s.push(e))
            }), n.html(""), i = 0; i < s.length; i++) n.append(l("<option>", s[i]));
        n.niceSelect("update")
    }
    n.change(function() {
        M(l(this).find("option:selected").val())
    }), u.click(function() {
        var e, t;
        !0 !== L() && (e = l(this), u.removeClass(d), u.removeClass(o), (t = e.data("sortId")) !== v ? (v = t, y = 1, e.addClass(o), k[t].orderBy = 0, M(t)) : 0 === y ? (y++, e.addClass(o), M(t)) : 1 === y ? (y++, e.removeClass(o), e.addClass(d), M(t)) : 2 === y && (y = 0, e.removeClass(d), e.removeClass(o), k[t = 0].orderBy = 1, M(0)))
    }), c.on("click", ".js-manage-featured-vid", function() {
        var e = l(this),
            t = e.parents(".js-sorting-order"),
            e = {
                id: e.data("id"),
                featured: e.data("featured"),
                contentType: S.contentType,
                unpinEarliest: T.unpinEarliest,
                position: t.data("sortingPosition")
            };
        l.ajax({
            url: "/includes/ajax_repository/set_featured_item.php",
            data: e,
            dataType: "json",
            type: "POST",
            success: function(e) {
                e.error ? gritter(e.message, "Oops!") : P()
            }
        })
    }), c.on("click", ".js-manage-vid-tweet", function() {
        var e = l(this),
            e = {
                content_id: e.data("id"),
                image_url: e.data("imageUrl"),
                title: e.data("vidTitle"),
                contentType: S.contentType
            };
        l.ajax({
            url: "/includes/ajax_repository/manage_content_tweet.php",
            data: e,
            dataType: "json",
            type: "POST",
            success: function(e) {}
        })
    }), c.on("click", ".js-move-to-page", function() {
        var e = l(this),
            t = (e.data("moveToPage") - 1) * T.pageSize + 1,
            i = e.parents(".js-sorting-order");
        e.hasClass("disabled") || (A.url = "/includes/ajax_repository/content-sorting.php", A.data = {
            action: "move-to-page",
            content_id: i.data("contentId"),
            content_previous_position: i.data("sortingPosition"),
            content_position: t,
            content_type: S.contentType
        }, A.success = function() {
            P()
        }, D(!0))
    }), m.on("click", function() {
        window.MV.mvDialog.confirm("Are you sure you want to reset the order?", "Reset the order", "OK", "Cancel").promise.done(function(e) {
            e && (A.url = "/includes/ajax_repository/content-sorting.php", A.data = {
                action: "reset-sorting-order",
                content_type: S.contentType
            }, A.success = function() {
                P()
            }, D(!0), u.removeClass(d), u.removeClass(o), v = 0)
        })
    }), r.change(function() {
        var e, t = l(this).find("option:selected").val(),
            i = f.find("option:selected").val();
        for (e in x.updateStats = 1, x.pageNumber = 1, S.updatePendingVidsCount = 1, T.totalCount = 0, S.offset = 1, S.filterKey = S.contentType == _.vids ? String(E[i]) + String(t) : t, k) k[e].orderBy = 0;
        _showDragDrop = S.contentType === _.storeItems && "" === S.filterKey || S.contentType === _.vids && "11" === S.filterKey, I(), P()
    }), f.change(function() {
        t(l(this).find("option:selected").val())
    }), h.click(function(e) {
        var t, i, s, n, a, o, r;
        !0 !== L() && (t = l("body"), i = "manage-content-body--vids", s = "manage-content-body--store-items", n = "", a = l(".js-pc-filter-subtype.manage-content__header-filter__subtype--vids .nice-select .option.selected").data("value") || l("#mobile_advanced_vids_sub_type").children("option:selected").val(), o = l(".js-pc-filter-subtype.manage-content__header-filter__subtype--store-categories .nice-select .option.selected").data("value") || l("#store-categories").children("option:selected").val(), r = l('.js-pc-filter-category  #manage_content_pc_categories[style*="display: none"] option:selected').val() || l("#manage-content-mobile-category").children("option:selected").val(), h.removeClass("manage-content__tab__item--selected"), l(e.currentTarget).addClass("manage-content__tab__item--selected"), S.contentType = l(e.currentTarget).data("contentTab"), t.removeClass(i).removeClass(s), n = S.contentType == _.vids ? i : s, t.addClass(n), T.pageNumber = 1, S.offset = 1, S.sortBy = 0, S.filterKey = S.contentType == _.storeItems ? String(o) : String(E[r]) + String(a), S.updateStats = 1, u.removeClass(d), I(), P(), q())
    }), p.click(function() {
        var e, t = l("body"),
            i = l(".js-sorting-order"),
            s = [];
        if (t.toggleClass("manage-content__save-order-enabled"), m.parent(".manage-content__header-filter__dragdrop").toggleClass("is-hidden"), t.hasClass("manage-content__save-order-enabled")) {
            u.removeClass(d), u.removeClass(o), v = 0;
            var n = l("<span/>", {
                    text: "Cancel",
                    class: "manage-content__header-filter__dragdrop__label manage-content__header-filter__dragdrop__label--cancel"
                }),
                a = l("<button/>", {
                    class: "js-toggle-dragdrop manage-content__header-filter__dragdrop__btn manage-content__header-filter__dragdrop__btn-cancel",
                    click: function() {
                        l(".manage-content__header-filter__dragdrop__label--cancel").parent().remove(), c.removeClass("js-sorting-has-changed"), m.parent(".manage-content__header-filter__dragdrop").toggleClass("is-hidden"), t.toggleClass("manage-content__save-order-enabled"), P(), j()
                    }
                }),
                n = (a.append(n), p.after(a), F(!1), c.addClass("js-sorting-has-changed"), S.sortBy = 0, $(), P(), document.getElementById("content-items-sorting"));
            Sortable.create(n, {
                animation: 150,
                handle: ".js-dragdrop",
                draggable: ".js-sorting-order:not(.js-not-draggable)",
                onUpdate: function(e) {
                    var t = (T.pageNumber - 1) * T.pageSize;
                    l("li.js-sorting-order").each(function() {
                        l(this).attr("data-sorting-position", t++)
                    })
                }
            })
        } else {
            if (l(".manage-content__header-filter__dragdrop__label--cancel").parent().remove(), F(!0), !1 === c.hasClass("js-sorting-has-changed")) return;
            i.each(function() {
                e = {
                    content_id: l(this).data("contentId"),
                    content_type: S.contentType,
                    content_position: l(this).attr("data-sorting-position")
                }, s.push(e)
            }), A.url = "/includes/ajax_repository/content-sorting.php", A.data = {
                action: "update-position",
                content_list: s
            }, A.success = function() {}, D(!0), c.removeClass("js-sorting-has-changed")
        }
        j()
    }), l.fn.extend({
        mvManageVideosInit: function(e) {
            S = l.extend(S, e), l(".manage-content__list-item__pin--show-pin").length, P(), setTimeout(function() {
                l(".js-pc-filter-category .nice-select .option").click(function() {
                    t(l(this).data("value"))
                }), l(".js-pc-filter-subtype .nice-select .option").click(function() {
                    var e = L();
                    if (!0 !== e) {
                        var t, e = l(".js-pc-filter-category select option:selected").val(),
                            i = l(this);
                        for (t in S.updateStats = x.updateStats = 1, x.pageNumber = 1, S.updatePendingVidsCount = 1, T.totalCount = 0, S.offset = 1, S.filterKey = S.contentType == _.storeItems ? String(i.data("value")) : String(E[e]) + String(i.data("value")), S.contentType === _.storeItems && "" === S.filterKey || S.contentType === _.vids && S.filterKey, I(), u.removeClass(d), k) k[t].orderBy = 0;
                        P()
                    }
                })
            }, 200), l(".js-display-content-list").on("click touch", ".dropdown-toggle", function() {
                var t = l(this).parent(".dropdown"),
                    e = t.find(".js-mobile-move-to"),
                    i = t.find(".js-pc-move-to"),
                    s = t.find(".js-move-to-direction");
                e.removeClass("is-hovered"), e.click(function(e) {
                    e.stopPropagation(), l(this).parents(".move-to-group").toggleClass("is-hovered")
                }), i.click(function(e) {
                    e.stopPropagation(), l(this).parent().siblings(".js-pc-move-to-list").toggleClass("is-hidden"), 0 < t.find(".js-pc-move-to-list-display-list ul").length - 1 ? l(".js-move-to-direction[data-direction=next]").removeClass("disabled") : l(".js-move-to-direction[data-direction=next]").addClass("disabled")
                }), s.click(function(e) {
                    e.stopPropagation();
                    var t = l(this).parents(".manage-content__pc-move-to"),
                        i = t.find(".js-pc-move-to-list-display"),
                        s = t.find(".js-pc-move-to-list-display-list").outerWidth(),
                        t = t.find(".js-pc-move-to-list-display-list ul").length - 1,
                        s = t * s;
                    "previous" == l(e.currentTarget).data("direction") ? (i.scrollLeft(i.scrollLeft() - 30), 0 === i.scrollLeft() && (l(".js-move-to-direction[data-direction=previous]").addClass("disabled"), 0 < t ? l(".js-move-to-direction[data-direction=next]").removeClass("disabled") : l(".js-move-to-direction[data-direction=next]").addClass("disabled"))) : (i.scrollLeft(i.scrollLeft() + 30), i.scrollLeft() > s ? l(".js-move-to-direction[data-direction=next]").addClass("disabled") : l(".js-move-to-direction[data-direction=previous]").removeClass("disabled"))
                })
            }), l(".reorder-tooltip-init").hover(function() {
                l(this).next().toggleClass("is-hidden")
            }), q()
        }
    }), e.click(function() {
        !0 !== L() && (u.removeClass(d), S.sortBy = 0, $(), P())
    })
}(jQuery), ! function(i) {
    var s = i(".js-display-list"),
        t = i(".js-pagination-display"),
        e = i(".manage-video__empty-result"),
        n = {
            updateStats: 1,
            offset: 1,
            limit: 0,
            orderBy: 0
        },
        a = {
            pageNumber: 1,
            pageSize: 12,
            totalCount: 0,
            numberOfPages: 0
        };

    function o() {
        e.removeClass("manage-video__empty-result--hide"), i.ajax({
            url: "/includes/ajax_repository/mv_blog_articles.php",
            data: n,
            dataType: "json",
            success: function(t) {
                s.html(""), a.totalCount = t.total_count || a.totalCount, null !== t.video_list && 0 < t.video_list.length && jQuery.get("/views/mv-blog-card.mustache", function(e) {
                    e = Mustache.render(e, {
                        mv_blog_card: t.video_list
                    });
                    s.html(e), setTimeout(function() {
                        var e = i(".target-ctn-store-items").position().top,
                            e = i(".js-display-list").height() - e;
                        i(".mv-blog-page .js-side-slide, .mv-blog-page .scrollbar-mv").css("max-height", e)
                    }, 1e3)
                }), a.numberOfPages = Math.ceil(a.totalCount / a.pageSize)
            }
        })
    }
    i.fn.extend({
        mvPaginationInit: function(e) {
            n = i.extend(n, e), -1 !== window.location.pathname.indexOf("MV-Blog") ? n.limit = 12 : n.limit = 6, o(), t.html(""), setTimeout(function() {
                a.pageSize < a.totalCount && t.pagination({
                    items: a.totalCount,
                    itemsOnPage: a.pageSize,
                    currentPage: 1,
                    cssStyle: "",
                    onPageClick: function(e, t) {
                        a.pageNumber = n.offset = e, n.updateStats = 0, o(), i("html, body").animate({
                            scrollTop: 0
                        }, "slow")
                    }
                })
            }, 3e3)
        }
    })
}(jQuery), ! function(l) {
    var d = {
        init: function(e) {
            var t = l.extend({
                    items: 1,
                    itemsOnPage: 1,
                    pages: 0,
                    displayedPages: 5,
                    edges: 2,
                    currentPage: 0,
                    useAnchors: !0,
                    hrefTextPrefix: "#page-",
                    hrefTextSuffix: "",
                    prevText: "Prev",
                    nextText: "Next",
                    ellipseText: "&hellip;",
                    ellipsePageSet: !0,
                    cssStyle: "light-theme",
                    listStyle: "",
                    labelMap: [],
                    selectOnClick: !0,
                    nextAtFront: !1,
                    invertPageOrder: !1,
                    useStartEdge: !0,
                    useEndEdge: !0,
                    onPageClick: function(e, t) {},
                    onInit: function() {}
                }, e || {}),
                i = this;
            return t.pages = t.pages || (Math.ceil(t.items / t.itemsOnPage) ? Math.ceil(t.items / t.itemsOnPage) : 1), t.currentPage ? t.currentPage = t.currentPage - 1 : t.currentPage = t.invertPageOrder ? t.pages - 1 : 0, t.halfDisplayed = t.displayedPages / 2, this.each(function() {
                i.addClass(t.cssStyle + " simple-pagination").data("pagination", t), d._draw.call(i)
            }), t.onInit(), this
        },
        selectPage: function(e) {
            return d._selectPage.call(this, e - 1), this
        },
        prevPage: function() {
            var e = this.data("pagination");
            return e.invertPageOrder ? e.currentPage < e.pages - 1 && d._selectPage.call(this, e.currentPage + 1) : 0 < e.currentPage && d._selectPage.call(this, e.currentPage - 1), this
        },
        nextPage: function() {
            var e = this.data("pagination");
            return e.invertPageOrder ? 0 < e.currentPage && d._selectPage.call(this, e.currentPage - 1) : e.currentPage < e.pages - 1 && d._selectPage.call(this, e.currentPage + 1), this
        },
        getPagesCount: function() {
            return this.data("pagination").pages
        },
        setPagesCount: function(e) {
            this.data("pagination").pages = e
        },
        getCurrentPage: function() {
            return this.data("pagination").currentPage + 1
        },
        destroy: function() {
            return this.empty(), this
        },
        drawPage: function(e) {
            var t = this.data("pagination");
            return t.currentPage = e - 1, this.data("pagination", t), d._draw.call(this), this
        },
        redraw: function() {
            return d._draw.call(this), this
        },
        disable: function() {
            var e = this.data("pagination");
            return e.disabled = !0, this.data("pagination", e), d._draw.call(this), this
        },
        enable: function() {
            var e = this.data("pagination");
            return e.disabled = !1, this.data("pagination", e), d._draw.call(this), this
        },
        updateItems: function(e) {
            var t = this.data("pagination");
            t.items = e, t.pages = d._getPages(t), this.data("pagination", t), d._draw.call(this)
        },
        updateItemsOnPage: function(e) {
            var t = this.data("pagination");
            return t.itemsOnPage = e, t.pages = d._getPages(t), this.data("pagination", t), d._selectPage.call(this, 0), this
        },
        getItemsOnPage: function() {
            return this.data("pagination").itemsOnPage
        },
        _draw: function() {
            var e = this.data("pagination"),
                t = d._getInterval(e),
                i = (d.destroy.call(this), "UL" === ("function" == typeof this.prop ? this.prop("tagName") : this.attr("tagName")) ? this : l("<ul" + (e.listStyle ? ' class="' + e.listStyle + '"' : "") + "></ul>").appendTo(this));
            if (e.prevText && d._appendItem.call(this, e.invertPageOrder ? e.currentPage + 1 : e.currentPage - 1, {
                    text: e.prevText,
                    classes: "prev"
                }), e.nextText && e.nextAtFront && d._appendItem.call(this, e.invertPageOrder ? e.currentPage - 1 : e.currentPage + 1, {
                    text: e.nextText,
                    classes: "next"
                }), e.invertPageOrder) {
                if (t.end < e.pages && 0 < e.edges) {
                    if (e.useStartEdge) {
                        var s = Math.max(e.pages - e.edges, t.end);
                        for (a = e.pages - 1; s <= a; a--) d._appendItem.call(this, a)
                    }
                    e.pages - e.edges > t.end && e.pages - e.edges - t.end != 1 ? i.append('<li class="disabled"><span class="ellipse">' + e.ellipseText + "</span></li>") : e.pages - e.edges - t.end == 1 && d._appendItem.call(this, t.end)
                }
            } else if (0 < t.start && 0 < e.edges) {
                if (e.useStartEdge)
                    for (var n = Math.min(e.edges, t.start), a = 0; a < n; a++) d._appendItem.call(this, a);
                e.edges < t.start && t.start - e.edges != 1 ? i.append('<li class="disabled"><span class="ellipse">' + e.ellipseText + "</span></li>") : t.start - e.edges == 1 && d._appendItem.call(this, e.edges)
            }
            if (e.invertPageOrder)
                for (a = t.end - 1; a >= t.start; a--) d._appendItem.call(this, a);
            else
                for (a = t.start; a < t.end; a++) d._appendItem.call(this, a);
            if (e.invertPageOrder) {
                if (0 < t.start && 0 < e.edges && (e.edges < t.start && t.start - e.edges != 1 ? i.append('<li class="disabled"><span class="ellipse">' + e.ellipseText + "</span></li>") : t.start - e.edges == 1 && d._appendItem.call(this, e.edges), e.useEndEdge))
                    for (a = (n = Math.min(e.edges, t.start)) - 1; 0 <= a; a--) d._appendItem.call(this, a)
            } else if (t.end < e.pages && 0 < e.edges && (e.pages - e.edges > t.end && e.pages - e.edges - t.end != 1 ? i.append('<li class="disabled"><span class="ellipse">' + e.ellipseText + "</span></li>") : e.pages - e.edges - t.end == 1 && d._appendItem.call(this, t.end), e.useEndEdge))
                for (a = s = Math.max(e.pages - e.edges, t.end); a < e.pages; a++) d._appendItem.call(this, a);
            e.nextText && !e.nextAtFront && d._appendItem.call(this, e.invertPageOrder ? e.currentPage - 1 : e.currentPage + 1, {
                text: e.nextText,
                classes: "next"
            }), e.ellipsePageSet && !e.disabled && d._ellipseClick.call(this, i)
        },
        _getPages: function(e) {
            return Math.ceil(e.items / e.itemsOnPage) || 1
        },
        _getInterval: function(e) {
            return {
                start: Math.ceil(e.currentPage > e.halfDisplayed ? Math.max(Math.min(e.currentPage - e.halfDisplayed, e.pages - e.displayedPages), 0) : 0),
                end: Math.ceil(e.currentPage > e.halfDisplayed ? Math.min(e.currentPage + e.halfDisplayed, e.pages) : Math.min(e.displayedPages, e.pages))
            }
        },
        _appendItem: function(t, e) {
            var i, s = this,
                n = s.data("pagination"),
                a = l("<li></li>"),
                o = s.find("ul"),
                r = {
                    text: (t = t < 0 ? 0 : t < n.pages ? t : n.pages - 1) + 1,
                    classes: ""
                };
            n.labelMap.length && n.labelMap[t] && (r.text = n.labelMap[t]), r = l.extend(r, e || {}), t == n.currentPage || n.disabled ? (n.disabled || "prev" === r.classes || "next" === r.classes ? a.addClass("disabled") : a.addClass("active"), i = l('<span class="current">' + r.text + "</span>")) : (i = n.useAnchors ? l('<a href="' + n.hrefTextPrefix + (t + 1) + n.hrefTextSuffix + '" class="page-link">' + r.text + "</a>") : l("<span >" + r.text + "</span>")).click(function(e) {
                return d._selectPage.call(s, t, e)
            }), r.classes && i.addClass(r.classes), a.append(i), (o.length ? o : s).append(a)
        },
        _selectPage: function(e, t) {
            var i = this.data("pagination");
            return i.currentPage = e, i.selectOnClick && d._draw.call(this), i.onPageClick(e + 1, t)
        },
        _ellipseClick: function(e) {
            var s = this,
                n = this.data("pagination"),
                a = e.find(".ellipse");
            a.addClass("clickable").parent().removeClass("disabled"), a.click(function(e) {
                var t, i;
                return n.disable || (t = l(this), i = (parseInt(t.parent().prev().text(), 10) || 0) + 1, t.html('<input type="number" min="1" max="' + n.pages + '" step="1" value="' + i + '">').find("input").focus().click(function(e) {
                    e.stopPropagation()
                }).keyup(function(e) {
                    var t = l(this).val();
                    13 === e.which && "" !== t ? 0 < t && t <= n.pages && d._selectPage.call(s, t - 1) : 27 === e.which && a.empty().html(n.ellipseText)
                }).bind("blur", function(e) {
                    var t = l(this).val();
                    return "" !== t && d._selectPage.call(s, t - 1), a.empty().html(n.ellipseText), !1
                })), !1
            })
        }
    };
    l.fn.pagination = function(e) {
        return d[e] && "_" != e.charAt(0) ? d[e].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof e && e ? void l.error("Method " + e + " does not exist on jQuery.pagination") : d.init.apply(this, arguments)
    }
}(jQuery), ! function(e) {
    "use strict";
    "function" == typeof define && define.amd ? define(e) : "undefined" != typeof module && void 0 !== module.exports ? module.exports = e() : window.Sortable = e()
}(function() {
    "use strict";
    if ("undefined" == typeof window || !window.document) return function() {
        throw new Error("Sortable.js requires a window with a document")
    };

    function r(e) {
        function t(i, s) {
            return null !== i && !0 !== i || null !== (i = n.name) ? "function" == typeof i ? i : function(e, t) {
                t = t.options.group.name;
                return s ? i : i && (i.join ? -1 < i.indexOf(t) : t == i)
            } : X
        }
        var n = {},
            i = e.group;
        n.name = (i = i && "object" == typeof i ? i : {
            name: i
        }).name, n.checkPull = t(i.pull, !0), n.checkPut = t(i.put), n.revertClone = i.revertClone, e.group = n
    }
    var g, v, y, b, w, _, m, C, k, x, S, T, U, l, s, E, A, d, P, $, e, M = {},
        p = /\s+/g,
        V = /left|right|inline/,
        D = "Sortable" + (new Date).getTime(),
        I = window,
        h = I.document,
        f = I.parseInt,
        L = I.setTimeout,
        t = I.jQuery || I.Zepto,
        i = I.Polymer,
        H = !1,
        z = "draggable" in h.createElement("div"),
        W = !navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i) && ((e = h.createElement("x")).style.cssText = "pointer-events:auto", "auto" === e.style.pointerEvents),
        Y = !1,
        j = Math.abs,
        G = Math.min,
        F = [],
        a = [],
        X = function() {
            return !1
        },
        J = se(function(e, t, i) {
            if (i && t.scroll) {
                var s, n, a, o, r, l = i[D],
                    d = t.scrollSensitivity,
                    c = t.scrollSpeed,
                    u = e.clientX,
                    h = e.clientY,
                    p = window.innerWidth,
                    f = window.innerHeight;
                if (k !== i && (C = t.scroll, k = i, x = t.scrollFn, !0 === C)) {
                    C = i;
                    do {
                        if (C.offsetWidth < C.scrollWidth || C.offsetHeight < C.scrollHeight) break
                    } while (C = C.parentNode)
                }
                C && (t = (s = C).getBoundingClientRect(), n = (j(t.right - u) <= d) - (j(t.left - u) <= d), a = (j(t.bottom - h) <= d) - (j(t.top - h) <= d)), !n && !a && (a = (f - h <= d) - (h <= d), (n = (p - u <= d) - (u <= d)) || a) && (s = I), M.vx === n && M.vy === a && M.el === s || (M.el = s, M.vx = n, M.vy = a, clearInterval(M.pid), s && (M.pid = setInterval(function() {
                    r = a ? a * c : 0, o = n ? n * c : 0, "function" == typeof x && "continue" !== x.call(l, o, r, e, P, s) || (s === I ? I.scrollTo(I.pageXOffset + o, I.pageYOffset + r) : (s.scrollTop += r, s.scrollLeft += o))
                }, 24)))
            }
        }, 30);
    try {
        window.addEventListener("test", null, Object.defineProperty({}, "passive", {
            get: function() {
                H = {
                    capture: !1,
                    passive: !1
                }
            }
        }))
    } catch (e) {}

    function O(e, t) {
        if (!e || !e.nodeType || 1 !== e.nodeType) throw "Sortable: `el` must be HTMLElement, and not " + {}.toString.call(e);
        this.el = e, this.options = t = ne({}, t), e[D] = this;
        var i, s, n = {
            group: null,
            sort: !0,
            disabled: !1,
            store: null,
            handle: null,
            scroll: !0,
            scrollSensitivity: 30,
            scrollSpeed: 10,
            draggable: /[uo]l/i.test(e.nodeName) ? "li" : ">*",
            ghostClass: "sortable-ghost",
            chosenClass: "sortable-chosen",
            dragClass: "sortable-drag",
            ignore: "a, img",
            filter: null,
            preventOnFilter: !0,
            animation: 0,
            setData: function(e, t) {
                e.setData("Text", t.textContent)
            },
            dropBubble: !1,
            dragoverBubble: !1,
            dataIdAttr: "data-id",
            delay: 0,
            touchStartThreshold: f(window.devicePixelRatio, 10) || 1,
            forceFallback: !1,
            fallbackClass: "sortable-fallback",
            fallbackOnBody: !1,
            fallbackTolerance: 0,
            fallbackOffset: {
                x: 0,
                y: 0
            },
            supportPointer: !1 !== O.supportPointer
        };
        for (i in n) i in t || (t[i] = n[i]);
        for (s in r(t), this) "_" === s.charAt(0) && "function" == typeof this[s] && (this[s] = this[s].bind(this));
        this.nativeDraggable = !t.forceFallback && z, c(e, "mousedown", this._onTapStart), c(e, "touchstart", this._onTapStart), t.supportPointer && c(e, "pointerdown", this._onTapStart), this.nativeDraggable && (c(e, "dragover", this), c(e, "dragenter", this)), a.push(this._onDragOver), t.store && this.sort(t.store.get(this))
    }

    function K(e, t) {
        "clone" !== e.lastPullMode && (t = !0), b && b.state !== t && (N(b, "display", t ? "none" : ""), t || b.state && (e.options.group.revertClone ? (w.insertBefore(b, _), e._animate(g, b)) : w.insertBefore(b, g)), b.state = t)
    }

    function q(e, t, i) {
        if (e) {
            i = i || h;
            do {
                if (">*" === t && e.parentNode === i || ie(e, t)) return e
            } while (n = void 0, e = (n = (s = e).host) && n.nodeType ? n : s.parentNode)
        }
        var s, n;
        return null
    }

    function c(e, t, i) {
        e.addEventListener(t, i, H)
    }

    function n(e, t, i) {
        e.removeEventListener(t, i, H)
    }

    function u(e, t, i) {
        var s;
        e && (e.classList ? e.classList[i ? "add" : "remove"](t) : (s = (" " + e.className + " ").replace(p, " ").replace(" " + t + " ", " "), e.className = (s + (i ? " " + t : "")).replace(p, " ")))
    }

    function N(e, t, i) {
        var s = e && e.style;
        if (s) {
            if (void 0 === i) return h.defaultView && h.defaultView.getComputedStyle ? i = h.defaultView.getComputedStyle(e, "") : e.currentStyle && (i = e.currentStyle), void 0 === t ? i : i[t];
            s[t = t in s ? t : "-webkit-" + t] = i + ("string" == typeof i ? "" : "px")
        }
    }

    function Q(e, t, i) {
        if (e) {
            var s = e.getElementsByTagName(t),
                n = 0,
                a = s.length;
            if (i)
                for (; n < a; n++) i(s[n], n);
            return s
        }
        return []
    }

    function R(e, t, i, s, n, a, o, r, l) {
        e = e || t[D];
        var d = h.createEvent("Event"),
            c = e.options,
            u = "on" + i.charAt(0).toUpperCase() + i.substr(1);
        d.initEvent(i, !0, !0), d.to = n || t, d.from = a || t, d.item = s || t, d.clone = b, d.oldIndex = o, d.newIndex = r, d.originalEvent = l, t.dispatchEvent(d), c[u] && c[u].call(e, d)
    }

    function Z(e, t, i, s, n, a, o, r) {
        var l, d = e[D],
            c = d.options.onMove,
            u = h.createEvent("Event");
        return u.initEvent("move", !0, !0), u.to = t, u.from = e, u.dragged = i, u.draggedRect = s, u.related = n || t, u.relatedRect = a || t.getBoundingClientRect(), u.willInsertAfter = r, u.originalEvent = o, e.dispatchEvent(u), l = c ? c.call(d, u, o) : l
    }

    function ee(e) {
        e.draggable = !1
    }

    function te() {
        Y = !1
    }

    function B(e, t) {
        var i = 0;
        if (!e || !e.parentNode) return -1;
        for (; e = e && e.previousElementSibling;) "TEMPLATE" === e.nodeName.toUpperCase() || ">*" !== t && !ie(e, t) || i++;
        return i
    }

    function ie(e, t) {
        if (e) try {
            if (e.matches) return e.matches(t);
            if (e.msMatchesSelector) return e.msMatchesSelector(t)
        } catch (e) {
            return
        }
    }

    function se(e, t) {
        var i, s;
        return function() {
            void 0 === i && (i = arguments, s = this, L(function() {
                1 === i.length ? e.call(s, i[0]) : e.apply(s, i), i = void 0
            }, t))
        }
    }

    function ne(e, t) {
        if (e && t)
            for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
        return e
    }

    function ae(e) {
        return i && i.dom ? i.dom(e).cloneNode(!0) : t ? t(e).clone(!0)[0] : e.cloneNode(!0)
    }

    function o(e) {
        return L(e, 0)
    }

    function oe(e) {
        return clearTimeout(e)
    }
    return O.prototype = {
        constructor: O,
        _onTapStart: function(e) {
            for (var t, i = this, s = this.el, n = this.options, a = n.preventOnFilter, o = e.type, r = e.touches && e.touches[0], l = (r || e).target, d = e.target.shadowRoot && e.path && e.path[0] || l, c = n.filter, u = s, h = (F.length = 0, u.getElementsByTagName("input")), p = h.length; p--;) {
                var f = h[p];
                f.checked && F.push(f)
            }
            if (!g && !(/mousedown|pointerdown/.test(o) && 0 !== e.button || n.disabled) && !d.isContentEditable && (l = q(l, n.draggable, s)) && m !== l) {
                if (t = B(l, n.draggable), "function" == typeof c) {
                    if (c.call(this, e, l, this)) return R(i, d, "filter", l, s, s, t), void(a && e.preventDefault())
                } else if (c = c && c.split(",").some(function(e) {
                        if (e = q(d, e.trim(), s)) return R(i, e, "filter", l, s, s, t), !0
                    })) return void(a && e.preventDefault());
                n.handle && !q(d, n.handle, s) || this._prepareDragStart(e, r, l, t)
            }
        },
        _prepareDragStart: function(e, t, i, s) {
            var n = this,
                a = n.el,
                o = n.options,
                r = a.ownerDocument;
            i && !g && i.parentNode === a && (d = e, w = a, v = (g = i).parentNode, _ = g.nextSibling, m = i, E = o.group, l = s, this._lastX = (t || e).clientX, this._lastY = (t || e).clientY, g.style["will-change"] = "all", a = function() {
                n._disableDelayedDrag(), g.draggable = n.nativeDraggable, u(g, o.chosenClass, !0), n._triggerDragStart(e, t), R(n, w, "choose", g, w, w, l)
            }, o.ignore.split(",").forEach(function(e) {
                Q(g, e.trim(), ee)
            }), c(r, "mouseup", n._onDrop), c(r, "touchend", n._onDrop), c(r, "touchcancel", n._onDrop), c(r, "selectstart", n), o.supportPointer && c(r, "pointercancel", n._onDrop), o.delay ? (c(r, "mouseup", n._disableDelayedDrag), c(r, "touchend", n._disableDelayedDrag), c(r, "touchcancel", n._disableDelayedDrag), c(r, "mousemove", n._disableDelayedDrag), c(r, "touchmove", n._delayedDragTouchMoveHandler), o.supportPointer && c(r, "pointermove", n._delayedDragTouchMoveHandler), n._dragStartTimer = L(a, o.delay)) : a())
        },
        _delayedDragTouchMoveHandler: function(e) {
            G(j(e.clientX - this._lastX), j(e.clientY - this._lastY)) >= this.options.touchStartThreshold && this._disableDelayedDrag()
        },
        _disableDelayedDrag: function() {
            var e = this.el.ownerDocument;
            clearTimeout(this._dragStartTimer), n(e, "mouseup", this._disableDelayedDrag), n(e, "touchend", this._disableDelayedDrag), n(e, "touchcancel", this._disableDelayedDrag), n(e, "mousemove", this._disableDelayedDrag), n(e, "touchmove", this._disableDelayedDrag), n(e, "pointermove", this._disableDelayedDrag)
        },
        _triggerDragStart: function(e, t) {
            (t = t || ("touch" == e.pointerType ? e : null)) ? (d = {
                target: g,
                clientX: t.clientX,
                clientY: t.clientY
            }, this._onDragStart(d, "touch")) : this.nativeDraggable ? (c(g, "dragend", this), c(w, "dragstart", this._onDragStart)) : this._onDragStart(d, !0);
            try {
                h.selection ? o(function() {
                    h.selection.empty()
                }) : window.getSelection().removeAllRanges()
            } catch (e) {}
        },
        _dragStarted: function() {
            var e;
            w && g ? (e = this.options, u(g, e.ghostClass, !0), u(g, e.dragClass, !1), R(O.active = this, w, "start", g, w, w, l)) : this._nulling()
        },
        _emulateDragOver: function() {
            if (P && (this._lastX !== P.clientX || this._lastY !== P.clientY)) {
                this._lastX = P.clientX, this._lastY = P.clientY, W || N(y, "display", "none");
                for (var e = h.elementFromPoint(P.clientX, P.clientY), t = e, i = a.length; e && e.shadowRoot;) t = e = e.shadowRoot.elementFromPoint(P.clientX, P.clientY);
                if (t)
                    do {
                        if (t[D]) {
                            for (; i--;) a[i]({
                                clientX: P.clientX,
                                clientY: P.clientY,
                                target: e,
                                rootEl: t
                            });
                            break
                        }
                    } while (t = (e = t).parentNode);
                W || N(y, "display", "")
            }
        },
        _onTouchMove: function(e) {
            if (d) {
                var t = this.options,
                    i = t.fallbackTolerance,
                    t = t.fallbackOffset,
                    s = e.touches ? e.touches[0] : e,
                    n = s.clientX - d.clientX + t.x,
                    t = s.clientY - d.clientY + t.y,
                    n = e.touches ? "translate3d(" + n + "px," + t + "px,0)" : "translate(" + n + "px," + t + "px)";
                if (!O.active) {
                    if (i && G(j(s.clientX - this._lastX), j(s.clientY - this._lastY)) < i) return;
                    this._dragStarted()
                }
                this._appendGhost(), $ = !0, P = s, N(y, "webkitTransform", n), N(y, "mozTransform", n), N(y, "msTransform", n), N(y, "transform", n), e.preventDefault()
            }
        },
        _appendGhost: function() {
            var e, t, i;
            y || (e = g.getBoundingClientRect(), i = N(g), t = this.options, u(y = g.cloneNode(!0), t.ghostClass, !1), u(y, t.fallbackClass, !0), u(y, t.dragClass, !0), N(y, "top", e.top - f(i.marginTop, 10)), N(y, "left", e.left - f(i.marginLeft, 10)), N(y, "width", e.width), N(y, "height", e.height), N(y, "opacity", "0.8"), N(y, "position", "fixed"), N(y, "zIndex", "100000"), N(y, "pointerEvents", "none"), t.fallbackOnBody && h.body.appendChild(y) || w.appendChild(y), i = y.getBoundingClientRect(), N(y, "width", 2 * e.width - i.width), N(y, "height", 2 * e.height - i.height))
        },
        _onDragStart: function(e, t) {
            var i = this,
                s = e.dataTransfer,
                n = i.options;
            i._offUpEvents(), E.checkPull(i, i, g, e) && ((b = ae(g)).draggable = !1, b.style["will-change"] = "", N(b, "display", "none"), u(b, i.options.chosenClass, !1), i._cloneId = o(function() {
                w.insertBefore(b, g), R(i, w, "clone", g)
            })), u(g, n.dragClass, !0), t ? ("touch" === t ? (c(h, "touchmove", i._onTouchMove), c(h, "touchend", i._onDrop), c(h, "touchcancel", i._onDrop), n.supportPointer && (c(h, "pointermove", i._onTouchMove), c(h, "pointerup", i._onDrop))) : (c(h, "mousemove", i._onTouchMove), c(h, "mouseup", i._onDrop)), i._loopId = setInterval(i._emulateDragOver, 50)) : (s && (s.effectAllowed = "move", n.setData) && n.setData.call(i, s, g), c(h, "drop", i), i._dragStartId = o(i._dragStarted))
        },
        _onDragOver: function(e) {
            var t, i, s, n, a, o, r, l, d = this.el,
                c = this.options,
                u = c.group,
                h = O.active,
                p = E === u,
                f = !1,
                m = c.sort;
            if (void 0 !== e.preventDefault && (e.preventDefault(), c.dragoverBubble || e.stopPropagation()), !g.animated && ($ = !0, h) && !c.disabled && (p ? m || (s = !w.contains(g)) : A === this || (h.lastPullMode = E.checkPull(this, h, g, e)) && u.checkPut(this, h, g, e)) && (void 0 === e.rootEl || e.rootEl === this.el) && (J(e, c, this.el), !Y))
                if (u = q(e.target, c.draggable, d), c = g.getBoundingClientRect(), A !== this && (A = this, f = !0), s) K(h, !0), v = w, b || _ ? w.insertBefore(g, b || _) : m || w.appendChild(g);
                else if (0 === d.children.length || d.children[0] === y || d === e.target && function(e, t) {
                    e = e.lastElementChild.getBoundingClientRect();
                    return 5 < t.clientY - (e.top + e.height) || 5 < t.clientX - (e.left + e.width)
                }(d, e)) {
                if (u = 0 !== d.children.length && d.children[0] !== y && d === e.target ? d.lastElementChild : u) {
                    if (u.animated) return;
                    t = u.getBoundingClientRect()
                }
                K(h, p), !1 !== Z(w, d, g, c, u, t, e) && (g.contains(d) || (d.appendChild(g), v = d), this._animate(c, g), u) && this._animate(t, u)
            } else u && !u.animated && u !== g && void 0 !== u.parentNode[D] && (S !== u && (T = N(S = u), U = N(u.parentNode)), s = (t = u.getBoundingClientRect()).right - t.left, m = t.bottom - t.top, a = V.test(T.cssFloat + T.display) || "flex" == U.display && 0 === U["flex-direction"].indexOf("row"), l = u.offsetWidth > g.offsetWidth, i = u.offsetHeight > g.offsetHeight, s = .5 < (a ? (e.clientX - t.left) / s : (e.clientY - t.top) / m), n = u.nextElementSibling, r = !1, a ? r = (a = g.offsetTop) === (o = u.offsetTop) ? u.previousElementSibling === g && !l || s && l : u.previousElementSibling === g || g.previousElementSibling === u ? .5 < (e.clientY - t.top) / m : a < o : f || (r = n !== g && !i || s && i), !1 !== (l = Z(w, d, g, c, u, t, e, r))) && (1 !== l && -1 !== l || (r = 1 === l), Y = !0, L(te, 30), K(h, p), g.contains(d) || (r && !n ? d.appendChild(g) : u.parentNode.insertBefore(g, r ? n : u)), v = g.parentNode, this._animate(c, g), this._animate(t, u))
        },
        _animate: function(e, t) {
            var i, s = this.options.animation;
            s && (i = t.getBoundingClientRect(), 1 === e.nodeType && (e = e.getBoundingClientRect()), N(t, "transition", "none"), N(t, "transform", "translate3d(" + (e.left - i.left) + "px," + (e.top - i.top) + "px,0)"), t.offsetWidth, N(t, "transition", "all " + s + "ms"), N(t, "transform", "translate3d(0,0,0)"), clearTimeout(t.animated), t.animated = L(function() {
                N(t, "transition", ""), N(t, "transform", ""), t.animated = !1
            }, s))
        },
        _offUpEvents: function() {
            var e = this.el.ownerDocument;
            n(h, "touchmove", this._onTouchMove), n(h, "pointermove", this._onTouchMove), n(e, "mouseup", this._onDrop), n(e, "touchend", this._onDrop), n(e, "pointerup", this._onDrop), n(e, "touchcancel", this._onDrop), n(e, "pointercancel", this._onDrop), n(e, "selectstart", this)
        },
        _onDrop: function(e) {
            var t = this.el,
                i = this.options;
            clearInterval(this._loopId), clearInterval(M.pid), clearTimeout(this._dragStartTimer), oe(this._cloneId), oe(this._dragStartId), n(h, "mouseover", this), n(h, "mousemove", this._onTouchMove), this.nativeDraggable && (n(h, "drop", this), n(t, "dragstart", this._onDragStart)), this._offUpEvents(), e && ($ && (e.preventDefault(), i.dropBubble || e.stopPropagation()), y && y.parentNode && y.parentNode.removeChild(y), w !== v && "clone" === O.active.lastPullMode || b && b.parentNode && b.parentNode.removeChild(b), g) && (this.nativeDraggable && n(g, "dragend", this), ee(g), g.style["will-change"] = "", u(g, this.options.ghostClass, !1), u(g, this.options.chosenClass, !1), R(this, w, "unchoose", g, v, w, l, null, e), w !== v ? 0 <= (s = B(g, i.draggable)) && (R(null, v, "add", g, v, w, l, s, e), R(this, w, "remove", g, v, w, l, s, e), R(null, v, "sort", g, v, w, l, s, e), R(this, w, "sort", g, v, w, l, s, e)) : g.nextSibling !== _ && 0 <= (s = B(g, i.draggable)) && (R(this, w, "update", g, v, w, l, s, e), R(this, w, "sort", g, v, w, l, s, e)), O.active) && (R(this, w, "end", g, v, w, l, s = null != s && -1 !== s ? s : l, e), this.save()), this._nulling()
        },
        _nulling: function() {
            w = g = v = y = _ = b = m = C = k = d = P = $ = s = S = T = A = E = O.active = null, F.forEach(function(e) {
                e.checked = !0
            }), F.length = 0
        },
        handleEvent: function(e) {
            switch (e.type) {
                case "drop":
                case "dragend":
                    this._onDrop(e);
                    break;
                case "dragover":
                case "dragenter":
                    var t;
                    g && (this._onDragOver(e), (t = e).dataTransfer && (t.dataTransfer.dropEffect = "move"), t.preventDefault());
                    break;
                case "mouseover":
                    this._onDrop(e);
                    break;
                case "selectstart":
                    e.preventDefault()
            }
        },
        toArray: function() {
            for (var e, t = [], i = this.el.children, s = 0, n = i.length, a = this.options; s < n; s++) q(e = i[s], a.draggable, this.el) && t.push(e.getAttribute(a.dataIdAttr) || function(e) {
                var t = e.tagName + e.className + e.src + e.href + e.textContent,
                    i = t.length,
                    s = 0;
                for (; i--;) s += t.charCodeAt(i);
                return s.toString(36)
            }(e));
            return t
        },
        sort: function(e) {
            var i = {},
                s = this.el;
            this.toArray().forEach(function(e, t) {
                t = s.children[t];
                q(t, this.options.draggable, s) && (i[e] = t)
            }, this), e.forEach(function(e) {
                i[e] && (s.removeChild(i[e]), s.appendChild(i[e]))
            })
        },
        save: function() {
            var e = this.options.store;
            e && e.set(this)
        },
        closest: function(e, t) {
            return q(e, t || this.options.draggable, this.el)
        },
        option: function(e, t) {
            var i = this.options;
            if (void 0 === t) return i[e];
            i[e] = t, "group" === e && r(i)
        },
        destroy: function() {
            var e = this.el;
            e[D] = null, n(e, "mousedown", this._onTapStart), n(e, "touchstart", this._onTapStart), n(e, "pointerdown", this._onTapStart), this.nativeDraggable && (n(e, "dragover", this), n(e, "dragenter", this)), Array.prototype.forEach.call(e.querySelectorAll("[draggable]"), function(e) {
                e.removeAttribute("draggable")
            }), a.splice(a.indexOf(this._onDragOver), 1), this._onDrop(), this.el = e = null
        }
    }, c(h, "touchmove", function(e) {
        O.active && e.preventDefault()
    }), O.utils = {
        on: c,
        off: n,
        css: N,
        find: Q,
        is: function(e, t) {
            return !!q(e, t, e)
        },
        extend: ne,
        throttle: se,
        closest: q,
        toggleClass: u,
        clone: ae,
        index: B,
        nextTick: o,
        cancelNextTick: oe
    }, O.create = function(e, t) {
        return new O(e, t)
    }, O.version = "1.7.0", O
}), document.querySelector(".form-nmi-payment") && document.addEventListener("DOMContentLoaded", function() {
    CollectJS.configure({
        callback: function(e) {
            document.getElementById("card_number").value = e.card.number, document.getElementById("card_brand").value = e.card.type, document.getElementById("card_exp_date").value = e.card.exp, document.getElementById("payment_token").value = e.token, $("#payment_form").submit()
        },
        validationCallback: function(e, t) {
            NMIFormValidateCCField(e, t)
        },
        variant: "inline",
        placeholderCss: {
            color: "#BBBBBB"
        },
        invalidCss: {
            border: "solid 1px red"
        },
        focusCss: {
            border: "solid 1px black",
            outline: "none"
        },
        fields: {
            cvv: {
                placeholder: "XXX"
            },
            ccexp: {
                placeholder: "MM/YY"
            }
        }
    })
});
